{
  "HypertyConnector": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBIeXBlcnR5RGlzY292ZXJ5LmpzIAovLyB2ZXJzaW9uOiAwLjIuMAoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0Lkh5cGVydHlEaXNjb3Zlcnk9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJnUpcmV0dXJuIHUocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgYT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgYS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixhfXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjM4fV0sOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NjJ9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjYzLCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo2NCwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo2NSwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo2Nn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6MzF9XSwxNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjE1LCIuLyQud2tzIjo1OX1dLDE1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDE5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjoyMn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMX1dLDIxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGEsZixsPWUmYy5GLGQ9ZSZjLkcscD1lJmMuUywkPWUmYy5QLHY9ZSZjLkIseT1lJmMuVyxoPWQ/bzpvW3RdfHwob1t0XT17fSksYj1kP246cD9uW3RdOihuW3RdfHx7fSlbc107ZCYmKHI9dCk7Zm9yKHUgaW4gcilhPSFsJiZiJiZ1IGluIGIsYSYmdSBpbiBofHwoZj1hP2JbdV06clt1XSxoW3VdPWQmJiJmdW5jdGlvbiIhPXR5cGVvZiBiW3VdP3JbdV06diYmYT9pKGYsbik6eSYmYlt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShmKTokJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZiwkJiYoKGhbc118fChoW3NdPXt9KSlbdV09ZikpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLHQuZXhwb3J0cz1jfSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5nbG9iYWwiOjI0fV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYz1lKCIuLyQudG8tbGVuZ3RoIiksdT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixhKXt2YXIgZixsLGQscD11KGUpLCQ9bihyLGEsdD8yOjEpLHY9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgcCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHApKWZvcihmPWMoZS5sZW5ndGgpO2Y+djt2KyspdD8kKHMobD1lW3ZdKVswXSxsWzFdKTokKGVbdl0pO2Vsc2UgZm9yKGQ9cC5jYWxsKGUpOyEobD1kLm5leHQoKSkuZG9uZTspbyhkLCQsbC52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtYXJyYXktaXRlciI6MzAsIi4vJC5pdGVyLWNhbGwiOjMyLCIuLyQudG8tbGVuZ3RoIjo1NiwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjYwfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6MzgsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5wcm9wZXJ0eS1kZXNjIjo0Mn1dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjI0fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjoxNX1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDMxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6MTN9XSwzMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6MzgsIi4vJC5oaWRlIjoyNiwiLi8kLnByb3BlcnR5LWRlc2MiOjQyLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYz1lKCIuLyQuaGFzIiksdT1lKCIuLyQuaXRlcmF0b3JzIiksYT1lKCIuLyQuaXRlci1jcmVhdGUiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGw9ZSgiLi8kIikuZ2V0UHJvdG8sZD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSwkPSJAQGl0ZXJhdG9yIix2PSJrZXlzIix5PSJ2YWx1ZXMiLGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGIsbSxnLHgpe2Eocix0LGIpO3ZhciBqLHcsXz1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBQKXJldHVybiBQW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIsTz1tPT15LE09ITEsUD1lLnByb3RvdHlwZSxTPVBbZF18fFBbJF18fG0mJlBbbV0sRT1TfHxfKG0pO2lmKFMpe3ZhciBVPWwoRS5jYWxsKG5ldyBlKSk7ZihVLGssITApLCFuJiZjKFAsJCkmJnMoVSxkLGgpLE8mJlMubmFtZSE9PXkmJihNPSEwLEU9ZnVuY3Rpb24oKXtyZXR1cm4gUy5jYWxsKHRoaXMpfSl9aWYobiYmIXh8fCFwJiYhTSYmUFtkXXx8cyhQLGQsRSksdVt0XT1FLHVba109aCxtKWlmKGo9e3ZhbHVlczpPP0U6Xyh5KSxrZXlzOmc/RTpfKHYpLGVudHJpZXM6Tz9fKCJlbnRyaWVzIik6RX0seClmb3IodyBpbiBqKXcgaW4gUHx8aShQLHcsalt3XSk7ZWxzZSBvKG8uUCtvLkYqKHB8fE0pLHQsaik7cmV0dXJuIGp9fSx7Ii4vJCI6MzgsIi4vJC5leHBvcnQiOjIxLCIuLyQuaGFzIjoyNSwiLi8kLmhpZGUiOjI2LCIuLyQuaXRlci1jcmVhdGUiOjMzLCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLmxpYnJhcnkiOjM5LCIuLyQucmVkZWZpbmUiOjQ0LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuLyQud2tzIjo1OX1dLDM2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLnRhc2siKS5zZXQsdT1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixhPXMucHJvY2VzcyxmPXMuUHJvbWlzZSxsPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGEpLGQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGwmJihlPWEuZG9tYWluKSYmKGEuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihsKWk9ZnVuY3Rpb24oKXthLm5leHRUaWNrKGQpfTtlbHNlIGlmKHUpe3ZhciBwPTEsJD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IHUoZCkub2JzZXJ2ZSgkLHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpeyQuZGF0YT1wPS1wfX1lbHNlIGk9ZiYmZi5yZXNvbHZlP2Z1bmN0aW9uKCl7Zi5yZXNvbHZlKCkudGhlbihkKX06ZnVuY3Rpb24oKXtjLmNhbGwocyxkKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpsJiZhLmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjoxNSwiLi8kLmdsb2JhbCI6MjQsIi4vJC50YXNrIjo1M31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mYWlscyI6MjJ9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjQ0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6MjZ9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjozOCwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtb2JqZWN0IjozMX1dLDQ3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjozOCwiLi8kLmNvcmUiOjE2LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQud2tzIjo1OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjozOCwiLi8kLmhhcyI6MjUsIi4vJC53a3MiOjU5fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6MjR9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQud2tzIjo1OX1dLDUxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksdT1uKHIpLGE9Yy5sZW5ndGg7cmV0dXJuIDA+dXx8dT49YT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQodSksNTUyOTY+aXx8aT41NjMxOXx8dSsxPT09YXx8KHM9Yy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQodSk6aTplP2Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLnRvLWludGVnZXIiOjU0fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYz1lKCIuLyQuaW52b2tlIiksdT1lKCIuLyQuaHRtbCIpLGE9ZSgiLi8kLmRvbS1jcmVhdGUiKSxmPWUoIi4vJC5nbG9iYWwiKSxsPWYucHJvY2VzcyxkPWYuc2V0SW1tZWRpYXRlLHA9Zi5jbGVhckltbWVkaWF0ZSwkPWYuTWVzc2FnZUNoYW5uZWwsdj0wLHk9e30saD0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoeS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9eVtlXTtkZWxldGUgeVtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4geVsrK3ZdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIHlbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OiQ/KG89bmV3ICQsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPW0sbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49aCBpbiBhKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGEoInNjcmlwdCIpKVtoXT1mdW5jdGlvbigpe3UucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKGIsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6cH19LHsiLi8kLmNvZiI6MTUsIi4vJC5jdHgiOjE3LCIuLyQuZG9tLWNyZWF0ZSI6MjAsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaHRtbCI6MjcsIi4vJC5pbnZva2UiOjI4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLmlvYmplY3QiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo1NH1dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLnNoYXJlZCI6NDksIi4vJC51aWQiOjU4fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDYxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5pdGVyLXN0ZXAiOjM2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLnRvLWlvYmplY3QiOjU1fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo0MSwiLi8kLnRvLW9iamVjdCI6NTd9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe30se31dLDY0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLmN0eCIpLHU9ZSgiLi8kLmNsYXNzb2YiKSxhPWUoIi4vJC5leHBvcnQiKSxmPWUoIi4vJC5pcy1vYmplY3QiKSxsPWUoIi4vJC5hbi1vYmplY3QiKSxkPWUoIi4vJC5hLWZ1bmN0aW9uIikscD1lKCIuLyQuc3RyaWN0LW5ldyIpLCQ9ZSgiLi8kLmZvci1vZiIpLHY9ZSgiLi8kLnNldC1wcm90byIpLnNldCx5PWUoIi4vJC5zYW1lLXZhbHVlIiksaD1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxiPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksbT1lKCIuLyQubWljcm90YXNrIiksZz0iUHJvbWlzZSIseD1zLnByb2Nlc3Msaj0icHJvY2VzcyI9PXUoeCksdz1zW2ddLF89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gdihyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmXygpLHYodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOnkoZSx0KX0sTT1mdW5jdGlvbihlKXt2YXIgdD1sKGUpW2hdO3JldHVybiB2b2lkIDAhPXQ/dDplfSxQPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFM9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sRT1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFU9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO20oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxjPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLHU9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP3UoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVAocikpP2kuY2FsbChyLGMsdSk6YyhyKSk6dShuKX1jYXRjaChhKXt1KGEpfX07ci5sZW5ndGg+aTspYyhyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO1QobykmJihqP3guZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxUPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFUKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLFUodCwhMCkpfSxBPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVAoZSkpP20oZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxjKEEsbiwxKSxjKEQsbiwxKSl9Y2F0Y2gobyl7RC5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLFUociwhMSkpfWNhdGNoKG4pe0QuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe2QoZSk7dmFyIHQ9dGhpcy5fZD17cDpwKHRoaXMsdyxnKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYyhBLHQsMSksYyhELHQsMSkpfWNhdGNoKHIpe0QuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFMoYih0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJlUobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksYShhLkcrYS5XK2EuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxnKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShnKSxuPWUoIi4vJC5jb3JlIilbZ10sYShhLlMrYS5GKiFrLGcse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqKCFrfHxfKCEwKSksZyx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLGcse2FsbDpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IFModCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGM9RShmdW5jdGlvbigpeyQoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYz1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxjW29dPWUsLS1yfHxuKGMpKX0saSl9KTpuKGMpfSk7cmV0dXJuIGMmJmkoYy5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgUyh0KSxuPXIucmVqZWN0LG89RShmdW5jdGlvbigpeyQoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjM4LCIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5leHBvcnQiOjIxLCIuLyQuZm9yLW9mIjoyMywiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxLCIuLyQuaXRlci1kZXRlY3QiOjM1LCIuLyQubGlicmFyeSI6MzksIi4vJC5taWNyb3Rhc2siOjQwLCIuLyQucmVkZWZpbmUtYWxsIjo0MywiLi8kLnNhbWUtdmFsdWUiOjQ1LCIuLyQuc2V0LXByb3RvIjo0NiwiLi8kLnNldC1zcGVjaWVzIjo0NywiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjUwLCIuLyQuc3RyaWN0LW5ldyI6NTEsIi4vJC53a3MiOjU5fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5zdHJpbmctYXQiOjUyfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjYxfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiLi9oeXBlcnR5LWRpc2NvdmVyeS9IeXBlcnR5RGlzY292ZXJ5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1pWyJkZWZhdWx0Il0sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL2h5cGVydHktZGlzY292ZXJ5L0h5cGVydHlEaXNjb3ZlcnkiOjY4fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOiJkYXRhT2JqZWN0Oi8vIitlfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWUudXJsO24/ZShuKTp0KCJEYXRhT2JqZWN0IG5hbWUgZG9lcyBub3QgZXhpc3QiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxzPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm99fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2U6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxuKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygibWVzc2FnZSByZXBseSIscik7dmFyIG89dm9pZCAwLGk9dm9pZCAwLHM9dm9pZCAwLGM9ci5ib2R5LnZhbHVlO2ZvcihvIGluIGMpaWYodm9pZCAwIT09Y1tvXS5sYXN0TW9kaWZpZWQpaWYodm9pZCAwPT09aSlpPW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKSxzPW87ZWxzZXt2YXIgdT1uZXcgRGF0ZShjW29dLmxhc3RNb2RpZmllZCk7aS5nZXRUaW1lKCk8dS5nZXRUaW1lKCkmJihpPXUscz1vKX1jb25zb2xlLmxvZygiTGFzdCBIeXBlcnR5OiAiLHMsaSk7dmFyIGE9cztpZih2b2lkIDA9PT1hKXJldHVybiBuKCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIik7dmFyIGY9e2lkOmUsZGVzY3JpcHRvcjpjW2FdLmRlc2NyaXB0b3IsaHlwZXJ0eVVSTDphfTtjb25zb2xlLmxvZygiPT09PiBoeXBlcnR5RGlzY292ZXJ5IG1lc3NhZ2VCdW5kbGU6ICIsZiksdChmKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXI6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIHJlcGx5IixyKTt2YXIgbj1yLmJvZHkudmFsdWU7cmV0dXJuIG4/dm9pZCBlKG4pOnQoIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6NjksImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDY5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLCRbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIHUoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBsPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihsKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLCQ9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9dSxyLmdldFVzZXJFbWFpbEZyb21VUkw9YSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbNjddKSg2Nyl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgU3luY2hlci5qcyAKLy8gdmVyc2lvbjogMC4yLjAKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5TeW5jaGVyPWUoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG4pe2Z1bmN0aW9uIG8ocyxhKXtpZighcltzXSl7aWYoIXRbc10pe3ZhciBjPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZjKXJldHVybiBjKHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIHU9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IHUuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsdX12YXIgbD1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciByPXRbc11bMV1bZV07cmV0dXJuIG8ocj9yOmUpfSxsLGwuZXhwb3J0cyxlLHQscixuKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxuLmxlbmd0aDtzKyspbyhuW3NdKTtyZXR1cm4gb30oezE6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZSYmIUFycmF5Lm9ic2VydmUmJmZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciByPWUuZ2V0Tm90aWZpZXIsbj0icGVyZm9ybUNoYW5nZSIsbz0iX29yaWdpbmFsIixpPSJzcGxpY2UiLHM9e3B1c2g6ZnVuY3Rpb24gYyhlKXt2YXIgdD1hcmd1bWVudHMscz1jW29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDpzLXQubGVuZ3RoLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSx1bnNoaWZ0OmZ1bmN0aW9uIHUoZSl7dmFyIHQ9YXJndW1lbnRzLHM9dVtvXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30scG9wOmZ1bmN0aW9uIGwoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWxbb10uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6dGhpcy5sZW5ndGgsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc2hpZnQ6ZnVuY3Rpb24gZigpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9ZltvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNwbGljZTpmdW5jdGlvbiBkKGUsdCl7dmFyIHM9YXJndW1lbnRzLGE9ZFtvXS5hcHBseSh0aGlzLHMpO3JldHVybihhLmxlbmd0aHx8cy5sZW5ndGg+MikmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDplLGFkZGVkQ291bnQ6cy5sZW5ndGgtMixyZW1vdmVkOmF9fSx0aGlzKSxhfX07Zm9yKHZhciBhIGluIHMpc1thXVtvXT10LnByb3RvdHlwZVthXSx0LnByb3RvdHlwZVthXT1zW2FdO3Qub2JzZXJ2ZT1mdW5jdGlvbih0LHIpe3JldHVybiBlLm9ic2VydmUodCxyLFsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIixpXSl9LHQudW5vYnNlcnZlPWUudW5vYnNlcnZlfShPYmplY3QsQXJyYXkpfSx7fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6MTd9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSI6MTh9XSw0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6MTl9XSw1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6MjB9XSw2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjoyMX1dLDc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjIyfV0sODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6MjN9XSw5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6MjR9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIjoyNX1dLDExOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMCxyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LHt9XSwxMjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjR9XSwxMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89ITA7bzspe3ZhciBpPWUscz10LGE9cjtvPSExLG51bGw9PT1pJiYoaT1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBjPW4oaSxzKTtpZih2b2lkIDAhPT1jKXtpZigidmFsdWUiaW4gYylyZXR1cm4gYy52YWx1ZTt2YXIgdT1jLmdldDtpZih2b2lkIDA9PT11KXJldHVybjtyZXR1cm4gdS5jYWxsKGEpfXZhciBsPU9iamVjdC5nZXRQcm90b3R5cGVPZihpKTtpZihudWxsPT09bClyZXR1cm47ZT1sLHQ9cyxyPWEsbz0hMCxjPWw9dm9pZCAwfX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo1fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUiKVsiZGVmYXVsdCJdLG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1uKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYobz9vKGUsdCk6ZS5fX3Byb3RvX189dCl9LHIuX19lc01vZHVsZT0hMH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSI6MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjo4fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vaGVscGVycy90eXBlb2YiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLGlbImRlZmF1bHQiXSkodCkpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9lOnR9fSx7Ii4uL2hlbHBlcnMvdHlwZW9mIjoxNn1dLDE2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5jb25zdHJ1Y3Rvcj09PW4/InN5bWJvbCI6dHlwZW9mIGV9LHIuX19lc01vZHVsZT0hMH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sIjoxMH1dLDE3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuKG4uSlNPTiYmbi5KU09OLnN0cmluZ2lmeXx8SlNPTi5zdHJpbmdpZnkpLmFwcGx5KEpTT04sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jcmVhdGUoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy8kIjo1Nn1dLDE5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxyKX19LHsiLi4vLi4vbW9kdWxlcy8kIjo1Nn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmdldERlc2MoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy8kIjo1NiwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6ODF9XSwyMTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmdldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiOjgyfV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOjgzfV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5zZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIjo4NH1dLDI0OltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy8kLmNvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6ODUsIi4uL21vZHVsZXMvZXM2LnByb21pc2UiOjg2LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjg3LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjg5fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiKSxlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuU3ltYm9sfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6ODUsIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCI6ODh9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDI4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbihlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSx7Ii4vJC5pcy1vYmplY3QiOjQ5fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIiksbz1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLHM7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj0odD1PYmplY3QoZSkpW29dKT9yOmk/bih0KToiT2JqZWN0Ij09KHM9bih0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjpzfX0seyIuLyQuY29mIjozMCwiLi8kLndrcyI6Nzh9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDMxOltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIxLjIuNiJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYS1mdW5jdGlvbiIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixvKXtyZXR1cm4gZS5jYWxsKHQscixuLG8pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0seyIuLyQuYS1mdW5jdGlvbiI6MjZ9XSwzMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LHt9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi8kLmZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vJC5mYWlscyI6Mzh9XSwzNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKSxvPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuLyQuZ2xvYmFsIjo0MSwiLi8kLmlzLW9iamVjdCI6NDl9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uLmdldEtleXMoZSkscj1uLmdldFN5bWJvbHM7aWYocilmb3IodmFyIG8saT1yKGUpLHM9bi5pc0VudW0sYT0wO2kubGVuZ3RoPmE7KXMuY2FsbChlLG89aVthKytdKSYmdC5wdXNoKG8pO3JldHVybiB0fX0seyIuLyQiOjU2fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmN0eCIpLHM9InByb3RvdHlwZSIsYT1mdW5jdGlvbihlLHQscil7dmFyIGMsdSxsLGY9ZSZhLkYsZD1lJmEuRyxwPWUmYS5TLGI9ZSZhLlAsaD1lJmEuQix2PWUmYS5XLHk9ZD9vOm9bdF18fChvW3RdPXt9KSxfPWQ/bjpwP25bdF06KG5bdF18fHt9KVtzXTtkJiYocj10KTtmb3IoYyBpbiByKXU9IWYmJl8mJmMgaW4gXyx1JiZjIGluIHl8fChsPXU/X1tjXTpyW2NdLHlbY109ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIF9bY10/cltjXTpoJiZ1P2kobCxuKTp2JiZfW2NdPT1sP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZT9uZXcgZSh0KTplKHQpfTtyZXR1cm4gdFtzXT1lW3NdLHR9KGwpOmImJiJmdW5jdGlvbiI9PXR5cGVvZiBsP2koRnVuY3Rpb24uY2FsbCxsKTpsLGImJigoeVtzXXx8KHlbc109e30pKVtjXT1sKSl9O2EuRj0xLGEuRz0yLGEuUz00LGEuUD04LGEuQj0xNixhLlc9MzIsdC5leHBvcnRzPWF9LHsiLi8kLmNvcmUiOjMxLCIuLyQuY3R4IjozMiwiLi8kLmdsb2JhbCI6NDF9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmN0eCIpLG89ZSgiLi8kLml0ZXItY2FsbCIpLGk9ZSgiLi8kLmlzLWFycmF5LWl0ZXIiKSxzPWUoIi4vJC5hbi1vYmplY3QiKSxhPWUoIi4vJC50by1sZW5ndGgiKSxjPWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHUpe3ZhciBsLGYsZCxwPWMoZSksYj1uKHIsdSx0PzI6MSksaD0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBwKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkocCkpZm9yKGw9YShlLmxlbmd0aCk7bD5oO2grKyl0P2IocyhmPWVbaF0pWzBdLGZbMV0pOmIoZVtoXSk7ZWxzZSBmb3IoZD1wLmNhbGwoZSk7IShmPWQubmV4dCgpKS5kb25lOylvKGQsYixmLnZhbHVlLHQpfX0seyIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmN0eCI6MzIsIi4vJC5pcy1hcnJheS1pdGVyIjo0NywiLi8kLml0ZXItY2FsbCI6NTAsIi4vJC50by1sZW5ndGgiOjc1LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6Nzl9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pb2JqZWN0Iiksbz1lKCIuLyQiKS5nZXROYW1lcyxpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10sYT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIG8oZSl9Y2F0Y2godCl7cmV0dXJuIHMuc2xpY2UoKX19O3QuZXhwb3J0cy5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/YShlKTpvKG4oZSkpfX0seyIuLyQiOjU2LCIuLyQudG8taW9iamVjdCI6NzR9XSw0MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDQyOltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuLyQuZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQsbygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi8kIjo1NiwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLnByb3BlcnR5LWRlc2MiOjYxfV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi8kLmdsb2JhbCI6NDF9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vJC5jb2YiOjMwfV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC53a3MiOjc4fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIik7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PW4oZSl9fSx7Ii4vJC5jb2YiOjMwfV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDUwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuLyQuYW4tb2JqZWN0IjoyOH1dLDUxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxpPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi8kLmhpZGUiKShzLGUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uLmNyZWF0ZShzLHtuZXh0Om8oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi8kIjo1NiwiLi8kLmhpZGUiOjQzLCIuLyQucHJvcGVydHktZGVzYyI6NjEsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC53a3MiOjc4fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmxpYnJhcnkiKSxvPWUoIi4vJC5leHBvcnQiKSxpPWUoIi4vJC5yZWRlZmluZSIpLHM9ZSgiLi8kLmhpZGUiKSxhPWUoIi4vJC5oYXMiKSxjPWUoIi4vJC5pdGVyYXRvcnMiKSx1PWUoIi4vJC5pdGVyLWNyZWF0ZSIpLGw9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksZj1lKCIuLyQiKS5nZXRQcm90byxkPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxwPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLGI9IkBAaXRlcmF0b3IiLGg9ImtleXMiLHY9InZhbHVlcyIseT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsXyxnLG0sail7dShyLHQsXyk7dmFyICQsTyx3PWZ1bmN0aW9uKGUpe2lmKCFwJiZlIGluIEUpcmV0dXJuIEVbZV07c3dpdGNoKGUpe2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSB2OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LGs9dCsiIEl0ZXJhdG9yIix4PWc9PXYsQz0hMSxFPWUucHJvdG90eXBlLFM9RVtkXXx8RVtiXXx8ZyYmRVtnXSxUPVN8fHcoZyk7aWYoUyl7dmFyIFI9ZihULmNhbGwobmV3IGUpKTtsKFIsaywhMCksIW4mJmEoRSxiKSYmcyhSLGQseSkseCYmUy5uYW1lIT09diYmKEM9ITAsVD1mdW5jdGlvbigpe3JldHVybiBTLmNhbGwodGhpcyl9KX1pZihuJiYhanx8IXAmJiFDJiZFW2RdfHxzKEUsZCxUKSxjW3RdPVQsY1trXT15LGcpaWYoJD17dmFsdWVzOng/VDp3KHYpLGtleXM6bT9UOncoaCksZW50cmllczp4P3coImVudHJpZXMiKTpUfSxqKWZvcihPIGluICQpTyBpbiBFfHxpKEUsTywkW09dKTtlbHNlIG8oby5QK28uRioocHx8QyksdCwkKTtyZXR1cm4gJH19LHsiLi8kIjo1NiwiLi8kLmV4cG9ydCI6MzcsIi4vJC5oYXMiOjQyLCIuLyQuaGlkZSI6NDMsIi4vJC5pdGVyLWNyZWF0ZSI6NTEsIi4vJC5pdGVyYXRvcnMiOjU1LCIuLyQubGlicmFyeSI6NTgsIi4vJC5yZWRlZmluZSI6NjMsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC53a3MiOjc4fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3I9ITB9LGlbbl09ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChhKXt9cmV0dXJuIHJ9fSx7Ii4vJC53a3MiOjc4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU9iamVjdDt0LmV4cG9ydHM9e2NyZWF0ZTpuLmNyZWF0ZSxnZXRQcm90bzpuLmdldFByb3RvdHlwZU9mLGlzRW51bTp7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxnZXREZXNjOm4uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHNldERlc2M6bi5kZWZpbmVQcm9wZXJ0eSxzZXREZXNjczpuLmRlZmluZVByb3BlcnRpZXMsZ2V0S2V5czpuLmtleXMsZ2V0TmFtZXM6bi5nZXRPd25Qcm9wZXJ0eU5hbWVzLGdldFN5bWJvbHM6bi5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZWFjaDpbXS5mb3JFYWNofX0se31dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixpPW8oZSkscz1uLmdldEtleXMoaSksYT1zLmxlbmd0aCxjPTA7YT5jOylpZihpW3I9c1tjKytdXT09PXQpcmV0dXJuIHJ9fSx7Ii4vJCI6NTYsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDU4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuZ2xvYmFsIiksYT1lKCIuLyQudGFzayIpLnNldCxjPXMuTXV0YXRpb25PYnNlcnZlcnx8cy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLHU9cy5wcm9jZXNzLGw9cy5Qcm9taXNlLGY9InByb2Nlc3MiPT1lKCIuLyQuY29mIikodSksZD1mdW5jdGlvbigpe3ZhciBlLHQscjtmb3IoZiYmKGU9dS5kb21haW4pJiYodS5kb21haW49bnVsbCxlLmV4aXQoKSk7bjspdD1uLmRvbWFpbixyPW4uZm4sdCYmdC5lbnRlcigpLHIoKSx0JiZ0LmV4aXQoKSxuPW4ubmV4dDtvPXZvaWQgMCxlJiZlLmVudGVyKCl9O2lmKGYpaT1mdW5jdGlvbigpe3UubmV4dFRpY2soZCl9O2Vsc2UgaWYoYyl7dmFyIHA9MSxiPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgYyhkKS5vYnNlcnZlKGIse2NoYXJhY3RlckRhdGE6ITB9KSxpPWZ1bmN0aW9uKCl7Yi5kYXRhPXA9LXB9fWVsc2UgaT1sJiZsLnJlc29sdmU/ZnVuY3Rpb24oKXtsLnJlc29sdmUoKS50aGVuKGQpfTpmdW5jdGlvbigpe2EuY2FsbChzLGQpfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e2ZuOmUsbmV4dDp2b2lkIDAsZG9tYWluOmYmJnUuZG9tYWlufTtvJiYoby5uZXh0PXQpLG58fChuPXQsaSgpKSxvPXR9fSx7Ii4vJC5jb2YiOjMwLCIuLyQuZ2xvYmFsIjo0MSwiLi8kLnRhc2siOjcyfV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi8kLmNvcmUiOjMxLCIuLyQuZXhwb3J0IjozNywiLi8kLmZhaWxzIjozOH1dLDYxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDYyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnJlZGVmaW5lIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpbihlLHIsdFtyXSk7cmV0dXJuIGV9fSx7Ii4vJC5yZWRlZmluZSI6NjN9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuaGlkZSIpfSx7Ii4vJC5oaWRlIjo0M31dLDY0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPU9iamVjdC5pc3x8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09PTEvdDplIT1lJiZ0IT10fX0se31dLDY1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuZ2V0RGVzYyxvPWUoIi4vJC5pcy1vYmplY3QiKSxpPWUoIi4vJC5hbi1vYmplY3QiKSxzPWZ1bmN0aW9uKGUsdCl7aWYoaShlKSwhbyh0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixvKXt0cnl7bz1lKCIuLyQuY3R4IikoRnVuY3Rpb24uY2FsbCxuKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGkpe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpzfX0seyIuLyQiOjU2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmN0eCI6MzIsIi4vJC5pcy1vYmplY3QiOjQ5fV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmNvcmUiKSxvPWUoIi4vJCIpLGk9ZSgiLi8kLmRlc2NyaXB0b3JzIikscz1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtpJiZ0JiYhdFtzXSYmby5zZXREZXNjKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuLyQiOjU2LCIuLyQuY29yZSI6MzEsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC53a3MiOjc4fV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5zZXREZXNjLG89ZSgiLi8kLmhhcyIpLGk9ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuLyQiOjU2LCIuLyQuaGFzIjo0MiwiLi8kLndrcyI6Nzh9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPSJfX2NvcmUtanNfc2hhcmVkX18iLGk9bltvXXx8KG5bb109e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0seyIuLyQuZ2xvYmFsIjo0MX1dLDY5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpLG89ZSgiLi8kLmEtZnVuY3Rpb24iKSxpPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vJC5hLWZ1bmN0aW9uIjoyNiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC53a3MiOjc4fV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcihyKyI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhIik7cmV0dXJuIGV9fSx7fV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGkscyxhPVN0cmluZyhvKHQpKSxjPW4ociksdT1hLmxlbmd0aDtyZXR1cm4gMD5jfHxjPj11P2U/IiI6dm9pZCAwOihpPWEuY2hhckNvZGVBdChjKSw1NTI5Nj5pfHxpPjU2MzE5fHxjKzE9PT11fHwocz1hLmNoYXJDb2RlQXQoYysxKSk8NTYzMjB8fHM+NTczNDM/ZT9hLmNoYXJBdChjKTppOmU/YS5zbGljZShjLGMrMik6KGktNTUyOTY8PDEwKSsocy01NjMyMCkrNjU1MzYpfX19LHsiLi8kLmRlZmluZWQiOjMzLCIuLyQudG8taW50ZWdlciI6NzN9XSw3MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5jdHgiKSxhPWUoIi4vJC5pbnZva2UiKSxjPWUoIi4vJC5odG1sIiksdT1lKCIuLyQuZG9tLWNyZWF0ZSIpLGw9ZSgiLi8kLmdsb2JhbCIpLGY9bC5wcm9jZXNzLGQ9bC5zZXRJbW1lZGlhdGUscD1sLmNsZWFySW1tZWRpYXRlLGI9bC5NZXNzYWdlQ2hhbm5lbCxoPTAsdj17fSx5PSJvbnJlYWR5c3RhdGVjaGFuZ2UiLF89ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZih2Lmhhc093blByb3BlcnR5KGUpKXt2YXIgdD12W2VdO2RlbGV0ZSB2W2VdLHQoKX19LGc9ZnVuY3Rpb24oZSl7Xy5jYWxsKGUuZGF0YSl9O2QmJnB8fChkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB2WysraF09ZnVuY3Rpb24oKXthKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4oaCksaH0scD1mdW5jdGlvbihlKXtkZWxldGUgdltlXX0sInByb2Nlc3MiPT1lKCIuLyQuY29mIikoZik/bj1mdW5jdGlvbihlKXtmLm5leHRUaWNrKHMoXyxlLDEpKX06Yj8obz1uZXcgYixpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9ZyxuPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpsLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWwuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtsLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sbC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixnLCExKSk6bj15IGluIHUoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe2MuYXBwZW5kQ2hpbGQodSgic2NyaXB0IikpW3ldPWZ1bmN0aW9uKCl7Yy5yZW1vdmVDaGlsZCh0aGlzKSxfLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHMoXyxlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0seyIuLyQuY29mIjozMCwiLi8kLmN0eCI6MzIsIi4vJC5kb20tY3JlYXRlIjozNSwiLi8kLmdsb2JhbCI6NDEsIi4vJC5odG1sIjo0NCwiLi8kLmludm9rZSI6NDV9XSw3MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguY2VpbCxvPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bzpuKShlKX19LHt9XSw3NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pb2JqZWN0Iiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi8kLmRlZmluZWQiOjMzLCIuLyQuaW9iamVjdCI6NDZ9XSw3NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi8kLnRvLWludGVnZXIiOjczfV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuLyQuZGVmaW5lZCI6MzN9XSw3NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPTAsbz1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK24rbykudG9TdHJpbmcoMzYpKX19LHt9XSw3ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5zaGFyZWQiKSgid2tzIiksbz1lKCIuLyQudWlkIiksaT1lKCIuLyQuZ2xvYmFsIikuU3ltYm9sO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09aSYmaVtlXXx8KGl8fG8pKCJTeW1ib2wuIitlKSl9fSx7Ii4vJC5nbG9iYWwiOjQxLCIuLyQuc2hhcmVkIjo2OCwiLi8kLnVpZCI6Nzd9XSw3OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jbGFzc29mIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1lKCIuLyQuaXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vJC5jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZT9lW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV06dm9pZCAwfX0seyIuLyQuY2xhc3NvZiI6MjksIi4vJC5jb3JlIjozMSwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC53a3MiOjc4fV0sODA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmFkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi8kLml0ZXItc3RlcCIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpLHM9ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi8kLml0ZXItZGVmaW5lIikoQXJyYXksIkFycmF5IixmdW5jdGlvbihlLHQpe3RoaXMuX3Q9cyhlKSx0aGlzLl9pPTAsdGhpcy5faz10fSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3QsdD10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6ImtleXMiPT10P28oMCxyKToidmFsdWVzIj09dD9vKDAsZVtyXSk6bygwLFtyLGVbcl1dKX0sInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXksbigia2V5cyIpLG4oInZhbHVlcyIpLG4oImVudHJpZXMiKX0seyIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIjoyNywiLi8kLml0ZXItZGVmaW5lIjo1MiwiLi8kLml0ZXItc3RlcCI6NTQsIi4vJC5pdGVyYXRvcnMiOjU1LCIuLyQudG8taW9iamVjdCI6NzR9XSw4MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXtyZXR1cm4gZShuKHQpLHIpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLWlvYmplY3QiOjc0fV0sODI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZShuKHQpKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NjAsIi4vJC50by1vYmplY3QiOjc2fV0sODM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLW9iamVjdCI6NzZ9XSw4NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKTtuKG4uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6ZSgiLi8kLnNldC1wcm90byIpLnNldH0pfSx7Ii4vJC5leHBvcnQiOjM3LCIuLyQuc2V0LXByb3RvIjo2NX1dLDg1OltmdW5jdGlvbihlLHQscil7fSx7fV0sODY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbz1lKCIuLyQiKSxpPWUoIi4vJC5saWJyYXJ5Iikscz1lKCIuLyQuZ2xvYmFsIiksYT1lKCIuLyQuY3R4IiksYz1lKCIuLyQuY2xhc3NvZiIpLHU9ZSgiLi8kLmV4cG9ydCIpLGw9ZSgiLi8kLmlzLW9iamVjdCIpLGY9ZSgiLi8kLmFuLW9iamVjdCIpLGQ9ZSgiLi8kLmEtZnVuY3Rpb24iKSxwPWUoIi4vJC5zdHJpY3QtbmV3IiksYj1lKCIuLyQuZm9yLW9mIiksaD1lKCIuLyQuc2V0LXByb3RvIikuc2V0LHY9ZSgiLi8kLnNhbWUtdmFsdWUiKSx5PWUoIi4vJC53a3MiKSgic3BlY2llcyIpLF89ZSgiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiKSxnPWUoIi4vJC5taWNyb3Rhc2siKSxtPSJQcm9taXNlIixqPXMucHJvY2VzcywkPSJwcm9jZXNzIj09YyhqKSxPPXNbbV0sdz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgTyhmdW5jdGlvbigpe30pO3JldHVybiBlJiYodC5jb25zdHJ1Y3Rvcj1PYmplY3QpLE8ucmVzb2x2ZSh0KT09PXR9LGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPW5ldyBPKGUpO3JldHVybiBoKHIsdC5wcm90b3R5cGUpLHJ9dmFyIHI9ITE7dHJ5e2lmKHI9TyYmTy5yZXNvbHZlJiZ3KCksaCh0LE8pLHQucHJvdG90eXBlPW8uY3JlYXRlKE8ucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dH19KSx0LnJlc29sdmUoNSkudGhlbihmdW5jdGlvbigpe30paW5zdGFuY2VvZiB0fHwocj0hMSksciYmZSgiLi8kLmRlc2NyaXB0b3JzIikpe3ZhciBuPSExO08ucmVzb2x2ZShvLnNldERlc2Moe30sInRoZW4iLHtnZXQ6ZnVuY3Rpb24oKXtuPSEwfX0pKSxyPW59fWNhdGNoKGkpe3I9ITF9cmV0dXJuIHJ9KCkseD1mdW5jdGlvbihlLHQpe3JldHVybiBpJiZlPT09TyYmdD09PW4/ITA6dihlLHQpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0PWYoZSlbeV07cmV0dXJuIHZvaWQgMCE9dD90OmV9LEU9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGwoZSkmJiJmdW5jdGlvbiI9PXR5cGVvZih0PWUudGhlbik/dDohMX0sUz1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgVHlwZUVycm9yKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9ZCh0KSx0aGlzLnJlamVjdD1kKHIpfSxUPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sUj1mdW5jdGlvbihlLHQpe2lmKCFlLm4pe2Uubj0hMDt2YXIgcj1lLmM7ZyhmdW5jdGlvbigpe2Zvcih2YXIgbj1lLnYsbz0xPT1lLnMsaT0wLGE9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW8/dC5vazp0LmZhaWwsYT10LnJlc29sdmUsYz10LnJlamVjdDt0cnl7cz8ob3x8KGUuaD0hMCkscj1zPT09ITA/bjpzKG4pLHI9PT10LnByb21pc2U/YyhUeXBlRXJyb3IoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9RShyKSk/aS5jYWxsKHIsYSxjKTphKHIpKTpjKG4pfWNhdGNoKHUpe2ModSl9fTtyLmxlbmd0aD5pOylhKHJbaSsrXSk7ci5sZW5ndGg9MCxlLm49ITEsdCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0LHIsbz1lLnA7TShvKSYmKCQ/ai5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sbyk6KHQ9cy5vbnVuaGFuZGxlZHJlamVjdGlvbik/dCh7cHJvbWlzZTpvLHJlYXNvbjpufSk6KHI9cy5jb25zb2xlKSYmci5lcnJvciYmci5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKSksZS5hPXZvaWQgMH0sMSl9KX19LE09ZnVuY3Rpb24oZSl7dmFyIHQscj1lLl9kLG49ci5hfHxyLmMsbz0wO2lmKHIuaClyZXR1cm4hMTtmb3IoO24ubGVuZ3RoPm87KWlmKHQ9bltvKytdLHQuZmFpbHx8IU0odC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sTj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuZHx8KHQuZD0hMCx0PXQucnx8dCx0LnY9ZSx0LnM9Mix0LmE9dC5jLnNsaWNlKCksUih0LCEwKSl9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLmQpe3IuZD0hMCxyPXIucnx8cjt0cnl7aWYoci5wPT09ZSl0aHJvdyBUeXBlRXJyb3IoIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9RShlKSk/ZyhmdW5jdGlvbigpe3ZhciBuPXtyOnIsZDohMX07dHJ5e3QuY2FsbChlLGEoRCxuLDEpLGEoTixuLDEpKX1jYXRjaChvKXtOLmNhbGwobixvKX19KTooci52PWUsci5zPTEsUihyLCExKSl9Y2F0Y2gobil7Ti5jYWxsKHtyOnIsZDohMX0sbil9fX07a3x8KE89ZnVuY3Rpb24oZSl7ZChlKTt2YXIgdD10aGlzLl9kPXtwOnAodGhpcyxPLG0pLGM6W10sYTp2b2lkIDAsczowLGQ6ITEsdjp2b2lkIDAsaDohMSxuOiExfTt0cnl7ZShhKEQsdCwxKSxhKE4sdCwxKSl9Y2F0Y2gocil7Ti5jYWxsKHQscil9fSxlKCIuLyQucmVkZWZpbmUtYWxsIikoTy5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgUyhfKHRoaXMsTykpLG49ci5wcm9taXNlLG89dGhpcy5fZDtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxvLmMucHVzaChyKSxvLmEmJm8uYS5wdXNoKHIpLG8ucyYmUihvLCExKSxufSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pKSx1KHUuRyt1LlcrdS5GKiFrLHtQcm9taXNlOk99KSxlKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKShPLG0pLGUoIi4vJC5zZXQtc3BlY2llcyIpKG0pLG49ZSgiLi8kLmNvcmUiKVttXSx1KHUuUyt1LkYqIWssbSx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZWplY3Q7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLHUodS5TK3UuRiooIWt8fHcoITApKSxtLHtyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBPJiZ4KGUuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIGU7dmFyIHQ9bmV3IFModGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLHUodS5TK3UuRiohKGsmJmUoIi4vJC5pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe08uYWxsKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKCl7fSl9KSksbSx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PUModGhpcykscj1uZXcgUyh0KSxuPXIucmVzb2x2ZSxpPXIucmVqZWN0LHM9W10sYT1UKGZ1bmN0aW9uKCl7YihlLCExLHMucHVzaCxzKTt2YXIgcj1zLmxlbmd0aCxhPUFycmF5KHIpO3I/by5lYWNoLmNhbGwocyxmdW5jdGlvbihlLG8pe3ZhciBzPSExO3QucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3N8fChzPSEwLGFbb109ZSwtLXJ8fG4oYSkpfSxpKX0pOm4oYSl9KTtyZXR1cm4gYSYmaShhLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9Qyh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZWplY3Qsbz1UKGZ1bmN0aW9uKCl7YihlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vJCI6NTYsIi4vJC5hLWZ1bmN0aW9uIjoyNiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5jbGFzc29mIjoyOSwiLi8kLmNvcmUiOjMxLCIuLyQuY3R4IjozMiwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLmV4cG9ydCI6MzcsIi4vJC5mb3Itb2YiOjM5LCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmlzLW9iamVjdCI6NDksIi4vJC5pdGVyLWRldGVjdCI6NTMsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLm1pY3JvdGFzayI6NTksIi4vJC5yZWRlZmluZS1hbGwiOjYyLCIuLyQuc2FtZS12YWx1ZSI6NjQsIi4vJC5zZXQtcHJvdG8iOjY1LCIuLyQuc2V0LXNwZWNpZXMiOjY2LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciI6NjksIi4vJC5zdHJpY3QtbmV3Ijo3MCwiLi8kLndrcyI6Nzh9XSw4NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuc3RyaW5nLWF0IikoITApO2UoIi4vJC5pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi8kLml0ZXItZGVmaW5lIjo1MiwiLi8kLnN0cmluZy1hdCI6NzF9XSw4ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5nbG9iYWwiKSxpPWUoIi4vJC5oYXMiKSxzPWUoIi4vJC5kZXNjcmlwdG9ycyIpLGE9ZSgiLi8kLmV4cG9ydCIpLGM9ZSgiLi8kLnJlZGVmaW5lIiksdT1lKCIuLyQuZmFpbHMiKSxsPWUoIi4vJC5zaGFyZWQiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGQ9ZSgiLi8kLnVpZCIpLHA9ZSgiLi8kLndrcyIpLGI9ZSgiLi8kLmtleW9mIiksaD1lKCIuLyQuZ2V0LW5hbWVzIiksdj1lKCIuLyQuZW51bS1rZXlzIikseT1lKCIuLyQuaXMtYXJyYXkiKSxfPWUoIi4vJC5hbi1vYmplY3QiKSxnPWUoIi4vJC50by1pb2JqZWN0IiksbT1lKCIuLyQucHJvcGVydHktZGVzYyIpLGo9bi5nZXREZXNjLCQ9bi5zZXREZXNjLE89bi5jcmVhdGUsdz1oLmdldCxrPW8uU3ltYm9sLHg9by5KU09OLEM9eCYmeC5zdHJpbmdpZnksRT0hMSxTPXAoIl9oaWRkZW4iKSxUPW4uaXNFbnVtLFI9bCgic3ltYm9sLXJlZ2lzdHJ5IiksTT1sKCJzeW1ib2xzIiksTj0iZnVuY3Rpb24iPT10eXBlb2YgayxEPU9iamVjdC5wcm90b3R5cGUsUD1zJiZ1KGZ1bmN0aW9uKCl7cmV0dXJuIDchPU8oJCh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiAkKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1qKEQsdCk7biYmZGVsZXRlIERbdF0sJChlLHQsciksbiYmZSE9PUQmJiQoRCx0LG4pfTokLEw9ZnVuY3Rpb24oZSl7dmFyIHQ9TVtlXT1PKGsucHJvdG90eXBlKTtyZXR1cm4gdC5faz1lLHMmJkUmJlAoRCxlLHtjb25maWd1cmFibGU6ITAsc2V0OmZ1bmN0aW9uKHQpe2kodGhpcyxTKSYmaSh0aGlzW1NdLGUpJiYodGhpc1tTXVtlXT0hMSksUCh0aGlzLGUsbSgxLHQpKX19KSx0fSxBPWZ1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgZX0sRj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHImJmkoTSx0KT8oci5lbnVtZXJhYmxlPyhpKGUsUykmJmVbU11bdF0mJihlW1NdW3RdPSExKSxyPU8ocix7ZW51bWVyYWJsZTptKDAsITEpfSkpOihpKGUsUyl8fCQoZSxTLG0oMSx7fSkpLGVbU11bdF09ITApLFAoZSx0LHIpKTokKGUsdCxyKX0sST1mdW5jdGlvbihlLHQpe18oZSk7Zm9yKHZhciByLG49dih0PWcodCkpLG89MCxpPW4ubGVuZ3RoO2k+bzspRihlLHI9bltvKytdLHRbcl0pO3JldHVybiBlfSxVPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/TyhlKTpJKE8oZSksdCl9LFY9ZnVuY3Rpb24oZSl7dmFyIHQ9VC5jYWxsKHRoaXMsZSk7cmV0dXJuIHR8fCFpKHRoaXMsZSl8fCFpKE0sZSl8fGkodGhpcyxTKSYmdGhpc1tTXVtlXT90OiEwfSx6PWZ1bmN0aW9uKGUsdCl7dmFyIHI9aihlPWcoZSksdCk7cmV0dXJuIXJ8fCFpKE0sdCl8fGkoZSxTKSYmZVtTXVt0XXx8KHIuZW51bWVyYWJsZT0hMCkscn0sSD1mdW5jdGlvbihlKXtmb3IodmFyIHQscj13KGcoZSkpLG49W10sbz0wO3IubGVuZ3RoPm87KWkoTSx0PXJbbysrXSl8fHQ9PVN8fG4ucHVzaCh0KTtyZXR1cm4gbn0sQj1mdW5jdGlvbihlKXtmb3IodmFyIHQscj13KGcoZSkpLG49W10sbz0wO3IubGVuZ3RoPm87KWkoTSx0PXJbbysrXSkmJm4ucHVzaChNW3RdKTtyZXR1cm4gbn0sSj1mdW5jdGlvbihlKXtpZih2b2lkIDAhPT1lJiYhQShlKSl7Zm9yKHZhciB0LHIsbj1bZV0sbz0xLGk9YXJndW1lbnRzO2kubGVuZ3RoPm87KW4ucHVzaChpW28rK10pO3JldHVybiB0PW5bMV0sImZ1bmN0aW9uIj09dHlwZW9mIHQmJihyPXQpLCFyJiZ5KHQpfHwodD1mdW5jdGlvbihlLHQpe3JldHVybiByJiYodD1yLmNhbGwodGhpcyxlLHQpKSxBKHQpP3ZvaWQgMDp0fSksblsxXT10LEMuYXBwbHkoeCxuKX19LFc9dShmdW5jdGlvbigpe3ZhciBlPWsoKTtyZXR1cm4iW251bGxdIiE9QyhbZV0pfHwie30iIT1DKHthOmV9KXx8Int9IiE9QyhPYmplY3QoZSkpfSk7Tnx8KGs9ZnVuY3Rpb24oKXtpZihBKHRoaXMpKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIik7cmV0dXJuIEwoZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCkpfSxjKGsucHJvdG90eXBlLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pLEE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBrfSxuLmNyZWF0ZT1VLG4uaXNFbnVtPVYsbi5nZXREZXNjPXosbi5zZXREZXNjPUYsbi5zZXREZXNjcz1JLG4uZ2V0TmFtZXM9aC5nZXQ9SCxuLmdldFN5bWJvbHM9QixzJiYhZSgiLi8kLmxpYnJhcnkiKSYmYyhELCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsViwhMCkpO3ZhciBZPXsiZm9yIjpmdW5jdGlvbihlKXtyZXR1cm4gaShSLGUrPSIiKT9SW2VdOlJbZV09ayhlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe3JldHVybiBiKFIsZSl9LHVzZVNldHRlcjpmdW5jdGlvbigpe0U9ITB9LHVzZVNpbXBsZTpmdW5jdGlvbigpe0U9ITF9fTtuLmVhY2guY2FsbCgiaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7dmFyIHQ9cChlKTtZW2VdPU4/dDpMKHQpfSksRT0hMCxhKGEuRythLlcse1N5bWJvbDprfSksYShhLlMsIlN5bWJvbCIsWSksYShhLlMrYS5GKiFOLCJPYmplY3QiLHtjcmVhdGU6VSxkZWZpbmVQcm9wZXJ0eTpGLGRlZmluZVByb3BlcnRpZXM6SSxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6eixnZXRPd25Qcm9wZXJ0eU5hbWVzOkgsZ2V0T3duUHJvcGVydHlTeW1ib2xzOkJ9KSx4JiZhKGEuUythLkYqKCFOfHxXKSwiSlNPTiIse3N0cmluZ2lmeTpKfSksZihrLCJTeW1ib2wiKSxmKE1hdGgsIk1hdGgiLCEwKSxmKG8uSlNPTiwiSlNPTiIsITApfSx7Ii4vJCI6NTYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQuZW51bS1rZXlzIjozNiwiLi8kLmV4cG9ydCI6MzcsIi4vJC5mYWlscyI6MzgsIi4vJC5nZXQtbmFtZXMiOjQwLCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmhhcyI6NDIsIi4vJC5pcy1hcnJheSI6NDgsIi4vJC5rZXlvZiI6NTcsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLnByb3BlcnR5LWRlc2MiOjYxLCIuLyQucmVkZWZpbmUiOjYzLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQuc2hhcmVkIjo2OCwiLi8kLnRvLWlvYmplY3QiOjc0LCIuLyQudWlkIjo3NywiLi8kLndrcyI6Nzh9XSw4OTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpO24uTm9kZUxpc3Q9bi5IVE1MQ29sbGVjdGlvbj1uLkFycmF5fSx7Ii4vJC5pdGVyYXRvcnMiOjU1LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6ODB9XSw5MDpbZnVuY3Rpb24oZSx0LHIpe3dpbmRvdy5NdXRhdGlvbk9ic2VydmVyPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcnx8ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0aGlzLmc9W10sdGhpcy5rPWV9ZnVuY3Rpb24gcihlKXshZnVuY3Rpb24gcigpe3ZhciBuPWUudGFrZVJlY29yZHMoKTtuLmxlbmd0aCYmZS5rKG4sZSksZS5mPXNldFRpbWVvdXQocix0Ll9wZXJpb2QpfSgpfWZ1bmN0aW9uIG4odCl7dmFyIHIsbj17dHlwZTpudWxsLHRhcmdldDpudWxsLGFkZGVkTm9kZXM6W10scmVtb3ZlZE5vZGVzOltdLHByZXZpb3VzU2libGluZzpudWxsLG5leHRTaWJsaW5nOm51bGwsYXR0cmlidXRlTmFtZTpudWxsLGF0dHJpYnV0ZU5hbWVzcGFjZTpudWxsLG9sZFZhbHVlOm51bGx9O2ZvcihyIGluIHQpbltyXSE9PWUmJnRbcl0hPT1lJiYobltyXT10W3JdKTtyZXR1cm4gbn1mdW5jdGlvbiBvKGUsdCl7dmFyIHI9YShlLHQpO3JldHVybiBmdW5jdGlvbihuKXt2YXIgbyxjPW4ubGVuZ3RoO3QuYSYmci5hJiZpKG4sZSxyLmEsdC5kKSwodC5ifHx0LmUpJiYobz1zKG4sZSxyLHQpKSwob3x8bi5sZW5ndGghPT1jKSYmKHI9YShlLHQpKX19ZnVuY3Rpb24gaSh0LHIsbyxpKXtmb3IodmFyIHMsYSxjPXt9LHU9ci5hdHRyaWJ1dGVzLGw9dS5sZW5ndGg7bC0tOylzPXVbbF0sYT1zLm5hbWUsaSYmaVthXT09PWV8fChzLnZhbHVlIT09b1thXSYmdC5wdXNoKG4oe3R5cGU6ImF0dHJpYnV0ZXMiLHRhcmdldDpyLGF0dHJpYnV0ZU5hbWU6YSxvbGRWYWx1ZTpvW2FdLGF0dHJpYnV0ZU5hbWVzcGFjZTpzLm5hbWVzcGFjZVVSSX0pKSxjW2FdPSEwKTtmb3IoYSBpbiBvKWNbYV18fHQucHVzaChuKHt0YXJnZXQ6cix0eXBlOiJhdHRyaWJ1dGVzIixhdHRyaWJ1dGVOYW1lOmEsb2xkVmFsdWU6b1thXX0pKX1mdW5jdGlvbiBzKHQscixvLHMpe2Z1bmN0aW9uIGEoZSxyLG8sYSxjKXt2YXIgbD1lLmxlbmd0aC0xO2M9LX4oKGwtYykvMik7Zm9yKHZhciBmLGQscDtwPWUucG9wKCk7KWY9b1twLmhdLGQ9YVtwLmldLHMuYiYmYyYmTWF0aC5hYnMocC5oLXAuaSk+PWwmJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltmXSxyZW1vdmVkTm9kZXM6W2ZdLG5leHRTaWJsaW5nOmYubmV4dFNpYmxpbmcscHJldmlvdXNTaWJsaW5nOmYucHJldmlvdXNTaWJsaW5nfSkpLGMtLSkscy5hJiZkLmEmJmkodCxmLGQuYSxzLmQpLHMuYyYmMz09PWYubm9kZVR5cGUmJmYubm9kZVZhbHVlIT09ZC5jJiZ0LnB1c2gobih7dHlwZToiY2hhcmFjdGVyRGF0YSIsdGFyZ2V0OmZ9KSkscy5lJiZ1KGYsZCl9ZnVuY3Rpb24gdShyLG8pe2Zvcih2YXIgZCxwLGIsaCx2LHk9ci5jaGlsZE5vZGVzLF89by5iLGc9eS5sZW5ndGgsbT1fP18ubGVuZ3RoOjAsaj0wLCQ9MCxPPTA7Zz4kfHxtPk87KWg9eVskXSx2PShiPV9bT10pJiZiLmosaD09PXY/KHMuYSYmYi5hJiZpKHQsaCxiLmEscy5kKSxzLmMmJmIuYyE9PWUmJmgubm9kZVZhbHVlIT09Yi5jJiZ0LnB1c2gobih7dHlwZToiY2hhcmFjdGVyRGF0YSIsdGFyZ2V0Omh9KSkscCYmYShwLHIseSxfLGopLHMuZSYmKGguY2hpbGROb2Rlcy5sZW5ndGh8fGIuYiYmYi5iLmxlbmd0aCkmJnUoaCxiKSwkKyssTysrKToobD0hMCxkfHwoZD17fSxwPVtdKSxoJiYoZFtiPWMoaCldfHwoZFtiXT0hMCwtMT09PShiPWYoXyxoLE8sImoiKSk/cy5iJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0OnIsYWRkZWROb2RlczpbaF0sbmV4dFNpYmxpbmc6aC5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6aC5wcmV2aW91c1NpYmxpbmd9KSksaisrKTpwLnB1c2goe2g6JCxpOmJ9KSksJCsrKSx2JiZ2IT09eVskXSYmKGRbYj1jKHYpXXx8KGRbYl09ITAsLTE9PT0oYj1mKHksdiwkKSk/cy5iJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0Om8uaixyZW1vdmVkTm9kZXM6W3ZdLG5leHRTaWJsaW5nOl9bTysxXSxwcmV2aW91c1NpYmxpbmc6X1tPLTFdfSkpLGotLSk6cC5wdXNoKHtoOmIsaTpPfSkpLE8rKykpO3AmJmEocCxyLHksXyxqKX12YXIgbDtyZXR1cm4gdShyLG8pLGx9ZnVuY3Rpb24gYShlLHQpe3ZhciByPSEwO3JldHVybiBmdW5jdGlvbiBuKGUpe3ZhciBvPXtqOmV9O3JldHVybiF0LmN8fDMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZT8odC5hJiZyJiYxPT09ZS5ub2RlVHlwZSYmKG8uYT1sKGUuYXR0cmlidXRlcyxmdW5jdGlvbihlLHIpe3JldHVybiB0LmQmJiF0LmRbci5uYW1lXXx8KGVbci5uYW1lXT1yLnZhbHVlKSxlfSkpLHImJih0LmJ8fHQuY3x8dC5hJiZ0LmUpJiYoby5iPXUoZS5jaGlsZE5vZGVzLG4pKSxyPXQuZSk6by5jPWUubm9kZVZhbHVlLG99KGUpfWZ1bmN0aW9uIGMoZSl7dHJ5e3JldHVybiBlLmlkfHwoZS5tb19pZD1lLm1vX2lkfHxkKyspfWNhdGNoKHQpe3RyeXtyZXR1cm4gZS5ub2RlVmFsdWV9Y2F0Y2gocil7cmV0dXJuIGQrK319fWZ1bmN0aW9uIHUoZSx0KXtmb3IodmFyIHI9W10sbj0wO248ZS5sZW5ndGg7bisrKXJbbl09dChlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gbChlLHQpe2Zvcih2YXIgcj17fSxuPTA7bjxlLmxlbmd0aDtuKyspcj10KHIsZVtuXSxuLGUpO3JldHVybiByfWZ1bmN0aW9uIGYoZSx0LHIsbil7Zm9yKDtyPGUubGVuZ3RoO3IrKylpZigobj9lW3JdW25dOmVbcl0pPT09dClyZXR1cm4gcjtyZXR1cm4tMX10Ll9wZXJpb2Q9MzAsdC5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49e2E6ISEodC5hdHRyaWJ1dGVzfHx0LmF0dHJpYnV0ZUZpbHRlcnx8dC5hdHRyaWJ1dGVPbGRWYWx1ZSksYjohIXQuY2hpbGRMaXN0LGU6ISF0LnN1YnRyZWUsYzohKCF0LmNoYXJhY3RlckRhdGEmJiF0LmNoYXJhY3RlckRhdGFPbGRWYWx1ZSl9LGk9dGhpcy5nLHM9MDtzPGkubGVuZ3RoO3MrKylpW3NdLm09PT1lJiZpLnNwbGljZShzLDEpO3QuYXR0cmlidXRlRmlsdGVyJiYobi5kPWwodC5hdHRyaWJ1dGVGaWx0ZXIsZnVuY3Rpb24oZSx0KXsKcmV0dXJuIGVbdF09ITAsZX0pKSxpLnB1c2goe206ZSxsOm8oZSxuKX0pLHRoaXMuZnx8cih0aGlzKX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD10aGlzLmcscj0wO3I8dC5sZW5ndGg7cisrKXRbcl0ubChlKTtyZXR1cm4gZX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMuZz1bXSxjbGVhclRpbWVvdXQodGhpcy5mKSx0aGlzLmY9bnVsbH19O3ZhciBkPTE7cmV0dXJuIHR9KHZvaWQgMCl9LHt9XSw5MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlfHxmdW5jdGlvbihlLHQscixuKXsidXNlIHN0cmljdCI7dmFyIG8saSxzPVsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwicmVjb25maWd1cmUiLCJzZXRQcm90b3R5cGUiLCJwcmV2ZW50RXh0ZW5zaW9ucyJdLGE9dC5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWUuY2FsbCh0KX19KGUucHJvdG90eXBlLnRvU3RyaW5nKSxjPXQucHJvdG90eXBlLmluZGV4T2Y/dC5pbmRleE9mfHxmdW5jdGlvbihlLHIsbil7cmV0dXJuIHQucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHIsbil9OmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49cnx8MDtuPGUubGVuZ3RoO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sdT1yLk1hcCE9PW4mJk1hcC5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbigpe3JldHVybiBuZXcgTWFwfTpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9W107cmV0dXJue3NpemU6MCxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIGMoZSx0KT4tMX0sZ2V0OmZ1bmN0aW9uKHIpe3JldHVybiB0W2MoZSxyKV19LHNldDpmdW5jdGlvbihyLG4pe3ZhciBvPWMoZSxyKTstMT09PW8/KGUucHVzaChyKSx0LnB1c2gobiksdGhpcy5zaXplKyspOnRbb109bn0sImRlbGV0ZSI6ZnVuY3Rpb24ocil7dmFyIG49YyhlLHIpO24+LTEmJihlLnNwbGljZShuLDEpLHQuc3BsaWNlKG4sMSksdGhpcy5zaXplLS0pfSxmb3JFYWNoOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXIuY2FsbChhcmd1bWVudHNbMV0sdFtuXSxlW25dLHRoaXMpfX19LGw9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzO3RyeXthcmd1bWVudHMuY2FsbGVlfWNhdGNoKHIpe3ZhciBuPSh0KGMpLmpvaW4oIiAiKSsiICIpLnJlcGxhY2UoL3Byb3RvdHlwZSB8bGVuZ3RoIHxuYW1lIC9nLCIiKS5zbGljZSgwLC0xKS5zcGxpdCgiICIpO24ubGVuZ3RoJiYodD1mdW5jdGlvbih0KXt2YXIgcj1lLmdldE93blByb3BlcnR5TmFtZXModCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpZm9yKHZhciBvLGk9MDtpPG4ubGVuZ3RoOykobz1jKHIsbltpKytdKSk+LTEmJnIuc3BsaWNlKG8sMSk7cmV0dXJuIHJ9KX1yZXR1cm4gdH0oKTpmdW5jdGlvbih0KXt2YXIgcixuLG89W107aWYoImhhc093blByb3BlcnR5ImluIHQpZm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiZvLnB1c2gocik7ZWxzZXtuPWUuaGFzT3duUHJvcGVydHk7Zm9yKHIgaW4gdCluLmNhbGwodCxyKSYmby5wdXNoKHIpfXJldHVybiBhKHQpJiZvLnB1c2goImxlbmd0aCIpLG99LGY9ZS5nZXRQcm90b3R5cGVPZixkPWUuZGVmaW5lUHJvcGVydGllcyYmZS5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IscD1yLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ci53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKCl7dmFyIGU9K25ldyBEYXRlLHQ9ZTtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKCh0PStuZXcgRGF0ZSktZSl9LDE3KX19KCksYj1mdW5jdGlvbihlLHQscil7dmFyIG49by5nZXQoZSk7bj8odihuLGUpLG0oZSxuLHQscikpOihuPWgoZSksbShlLG4sdCxyKSwxPT09by5zaXplJiZwKHkpKX0saD1mdW5jdGlvbih0LHIpe3ZhciBuLGk9bCh0KSxzPVtdLGE9MCxyPXtoYW5kbGVyczp1KCksZnJvemVuOmUuaXNGcm96ZW4/ZS5pc0Zyb3plbih0KTohMSxleHRlbnNpYmxlOmUuaXNFeHRlbnNpYmxlP2UuaXNFeHRlbnNpYmxlKHQpOiEwLHByb3RvOmYmJmYodCkscHJvcGVydGllczppLHZhbHVlczpzLG5vdGlmaWVyOmcodCxyKX07aWYoZClmb3Iobj1yLmRlc2NyaXB0b3JzPVtdO2E8aS5sZW5ndGg7KW5bYV09ZCh0LGlbYV0pLHNbYV09dFtpW2ErK11dO2Vsc2UgZm9yKDthPGkubGVuZ3RoOylzW2FdPXRbaVthKytdXTtyZXR1cm4gby5zZXQodCxyKSxyfSx2PWZ1bmN0aW9uKCl7dmFyIHQ9ZD9mdW5jdGlvbihlLHQscixuLG8pe3ZhciBpPXQucHJvcGVydGllc1tyXSxzPWVbaV0sYT10LnZhbHVlc1tyXSxjPXQuZGVzY3JpcHRvcnNbcl07InZhbHVlImluIG8mJihhPT09cz8wPT09YSYmMS9hIT09MS9zOmE9PT1hfHxzPT09cykmJihqKGUsdCx7bmFtZTppLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6YX0sbiksdC52YWx1ZXNbcl09cyksIWMuY29uZmlndXJhYmxlfHxvLmNvbmZpZ3VyYWJsZSYmby53cml0YWJsZT09PWMud3JpdGFibGUmJm8uZW51bWVyYWJsZT09PWMuZW51bWVyYWJsZSYmby5nZXQ9PT1jLmdldCYmby5zZXQ9PT1jLnNldHx8KGooZSx0LHtuYW1lOmksdHlwZToicmVjb25maWd1cmUiLG9iamVjdDplLG9sZFZhbHVlOmF9LG4pLHQuZGVzY3JpcHRvcnNbcl09byl9OmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXQucHJvcGVydGllc1tyXSxpPWVbb10scz10LnZhbHVlc1tyXTsocz09PWk/MD09PXMmJjEvcyE9PTEvaTpzPT09c3x8aT09PWkpJiYoaihlLHQse25hbWU6byx0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOnN9LG4pLHQudmFsdWVzW3JdPWkpfSxyPWQ/ZnVuY3Rpb24oZSxyLG4sbyxpKXtmb3IodmFyIHMsYT1yLmxlbmd0aDtuJiZhLS07KW51bGwhPT1yW2FdJiYocz1kKGUsclthXSksbi0tLHM/dChlLG8sYSxpLHMpOihqKGUsbyx7bmFtZTpyW2FdLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6by52YWx1ZXNbYV19LGkpLG8ucHJvcGVydGllcy5zcGxpY2UoYSwxKSxvLnZhbHVlcy5zcGxpY2UoYSwxKSxvLmRlc2NyaXB0b3JzLnNwbGljZShhLDEpKSl9OmZ1bmN0aW9uKGUsdCxyLG4sbyl7Zm9yKHZhciBpPXQubGVuZ3RoO3ImJmktLTspbnVsbCE9PXRbaV0mJihqKGUsbix7bmFtZTp0W2ldLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6bi52YWx1ZXNbaV19LG8pLG4ucHJvcGVydGllcy5zcGxpY2UoaSwxKSxuLnZhbHVlcy5zcGxpY2UoaSwxKSxyLS0pfTtyZXR1cm4gZnVuY3Rpb24obixvLGkpe2lmKG4uaGFuZGxlcnMuc2l6ZSYmIW4uZnJvemVuKXt2YXIgcyxhLHUscCxiLGgsdix5LF89bi52YWx1ZXMsZz1uLmRlc2NyaXB0b3JzLG09MDtpZihuLmV4dGVuc2libGUpaWYocz1uLnByb3BlcnRpZXMuc2xpY2UoKSxhPXMubGVuZ3RoLHU9bChvKSxnKXtmb3IoO208dS5sZW5ndGg7KWI9dVttKytdLHA9YyhzLGIpLHk9ZChvLGIpLC0xPT09cD8oaihvLG4se25hbWU6Yix0eXBlOiJhZGQiLG9iamVjdDpvfSxpKSxuLnByb3BlcnRpZXMucHVzaChiKSxfLnB1c2gob1tiXSksZy5wdXNoKHkpKTooc1twXT1udWxsLGEtLSx0KG8sbixwLGkseSkpO3IobyxzLGEsbixpKSxlLmlzRXh0ZW5zaWJsZShvKXx8KG4uZXh0ZW5zaWJsZT0hMSxqKG8sbix7dHlwZToicHJldmVudEV4dGVuc2lvbnMiLG9iamVjdDpvfSxpKSxuLmZyb3plbj1lLmlzRnJvemVuKG8pKX1lbHNle2Zvcig7bTx1Lmxlbmd0aDspYj11W20rK10scD1jKHMsYiksaD1vW2JdLC0xPT09cD8oaihvLG4se25hbWU6Yix0eXBlOiJhZGQiLG9iamVjdDpvfSxpKSxuLnByb3BlcnRpZXMucHVzaChiKSxfLnB1c2goaCkpOihzW3BdPW51bGwsYS0tLHQobyxuLHAsaSkpO3IobyxzLGEsbixpKX1lbHNlIGlmKCFuLmZyb3plbil7Zm9yKDttPHMubGVuZ3RoO20rKyliPXNbbV0sdChvLG4sbSxpLGQobyxiKSk7ZS5pc0Zyb3plbihvKSYmKG4uZnJvemVuPSEwKX1mJiYodj1mKG8pLHYhPT1uLnByb3RvJiYoaihvLG4se3R5cGU6InNldFByb3RvdHlwZSIsbmFtZToiX19wcm90b19fIixvYmplY3Q6byxvbGRWYWx1ZTpuLnByb3RvfSksbi5wcm90bz12KSl9fX0oKSx5PWZ1bmN0aW9uKCl7by5zaXplJiYoby5mb3JFYWNoKHYpLGkuZm9yRWFjaChfKSxwKHkpKX0sXz1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2hhbmdlUmVjb3JkcztyLmxlbmd0aCYmKGUuY2hhbmdlUmVjb3Jkcz1bXSx0KHIpKX0sZz1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDImJih0PW8uZ2V0KGUpKSx0JiZ0Lm5vdGlmaWVyfHx7bm90aWZ5OmZ1bmN0aW9uKHQpe3QudHlwZTt2YXIgcj1vLmdldChlKTtpZihyKXt2YXIgbixpPXtvYmplY3Q6ZX07Zm9yKG4gaW4gdCkib2JqZWN0IiE9PW4mJihpW25dPXRbbl0pO2ooZSxyLGkpfX0scGVyZm9ybUNoYW5nZTpmdW5jdGlvbih0LHIpe2lmKCJzdHJpbmciIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIG5vbi1zdHJpbmcgY2hhbmdlVHlwZSIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBwZXJmb3JtIG5vbi1mdW5jdGlvbiIpO3ZhciBpLHMsYT1vLmdldChlKSxjPWFyZ3VtZW50c1syXSx1PWM9PT1uP3IoKTpyLmNhbGwoYyk7aWYoYSYmdihhLGUsdCksYSYmdSYmIm9iamVjdCI9PXR5cGVvZiB1KXtzPXtvYmplY3Q6ZSx0eXBlOnR9O2ZvcihpIGluIHUpIm9iamVjdCIhPT1pJiYidHlwZSIhPT1pJiYoc1tpXT11W2ldKTtqKGUsYSxzKX19fX0sbT1mdW5jdGlvbihlLHQscixuKXt2YXIgbz1pLmdldChyKTtvfHxpLnNldChyLG89e29ic2VydmVkOnUoKSxjaGFuZ2VSZWNvcmRzOltdfSksby5vYnNlcnZlZC5zZXQoZSx7YWNjZXB0TGlzdDpuLnNsaWNlKCksZGF0YTp0fSksdC5oYW5kbGVycy5zZXQocixvKX0saj1mdW5jdGlvbihlLHQscixuKXt0LmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG89dC5vYnNlcnZlZC5nZXQoZSkuYWNjZXB0TGlzdDsoInN0cmluZyIhPXR5cGVvZiBufHwtMT09PWMobyxuKSkmJmMobyxyLnR5cGUpPi0xJiZ0LmNoYW5nZVJlY29yZHMucHVzaChyKX0pfTtvPXUoKSxpPXUoKSxlLm9ic2VydmU9ZnVuY3Rpb24odCxyLG8pe2lmKCF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBvYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTtpZihlLmlzRnJvemVuJiZlLmlzRnJvemVuKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIGEgZnJvemVuIGZ1bmN0aW9uIG9iamVjdCIpO2lmKG89PT1uKW89cztlbHNlIGlmKCFvfHwib2JqZWN0IiE9dHlwZW9mIG8pdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhpcmQgYXJndW1lbnQgdG8gT2JqZWN0Lm9ic2VydmUgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLiIpO3JldHVybiBiKHQscixvKSx0fSxlLnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PT1lfHwib2JqZWN0IiE9dHlwZW9mIGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IHVub2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgcixuPWkuZ2V0KHQpO3JldHVybiBuJiYocj1uLm9ic2VydmVkLmdldChlKSkmJihuLm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2KGUuZGF0YSx0KX0pLHAoZnVuY3Rpb24oKXtfKG4sdCl9KSwxPT09bi5vYnNlcnZlZC5zaXplJiZuLm9ic2VydmVkLmhhcyhlKT9pWyJkZWxldGUiXSh0KTpuLm9ic2VydmVkWyJkZWxldGUiXShlKSwxPT09ci5kYXRhLmhhbmRsZXJzLnNpemU/b1siZGVsZXRlIl0oZSk6ci5kYXRhLmhhbmRsZXJzWyJkZWxldGUiXSh0KSksZX0sZS5nZXROb3RpZmllcj1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZ2V0Tm90aWZpZXIgY2Fubm90IGdldE5vdGlmaWVyIG5vbi1vYmplY3QiKTtyZXR1cm4gZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KT9udWxsOmcodCl9LGUuZGVsaXZlckNoYW5nZVJlY29yZHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciB0PWkuZ2V0KGUpO3QmJih0Lm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2KGUuZGF0YSx0KX0pLF8odCxlKSl9fShPYmplY3QsQXJyYXksdGhpcyl9LHt9XSw5MjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLkRhdGFPYmplY3RPYnNlcnZlcj1yLkRhdGFPYmplY3RSZXBvcnRlcj1yLlN5bmNoZXI9dm9pZCAwLGUoIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSIpLGUoIm9iamVjdC5vYnNlcnZlIiksZSgiYXJyYXkub2JzZXJ2ZSIpO3ZhciBvPWUoIi4vc3luY2hlci9TeW5jaGVyIiksaT1uKG8pLHM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciIpLGE9bihzKSxjPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSx1PW4oYyk7ci5TeW5jaGVyPWlbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RSZXBvcnRlcj1hWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0T2JzZXJ2ZXI9dVsiZGVmYXVsdCJdfSx7Ii4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjk1LCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIjo5NiwiLi9zeW5jaGVyL1N5bmNoZXIiOjk5LCJhcnJheS5vYnNlcnZlIjoxLCJtdXRhdGlvbm9ic2VydmVyLXNoaW0iOjkwLCJvYmplY3Qub2JzZXJ2ZSI6OTF9XSw5MzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihjKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoIi4vU3luY09iamVjdCIpLHA9bihkKSxiPWUoIi4vRGF0YU9iamVjdENoaWxkIiksaD1uKGIpLHY9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBhPXRoaXM7YS5fc3luY2hlcj10LGEuX3VybD1yLGEuX3NjaGVtYT1uLGEuX3N0YXR1cz1vLGEuX3N5bmNPYmo9bmV3IHBbImRlZmF1bHQiXShpKSxhLl9jaGlsZHJlbnM9cyxhLl92ZXJzaW9uPTAsYS5fY2hpbGRJZD0wLGEuX2NoaWxkcmVuT2JqZWN0cz17fSxhLl9jaGlsZHJlbkxpc3RlbmVycz1bXSxhLl9vd25lcj10Ll9vd25lcixhLl9idXM9dC5fYnVzfXJldHVybigwLGZbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLHI9dC5fdXJsKyIvY2hpbGRyZW4vIjt0Ll9jaGlsZHJlbnMmJnQuX2NoaWxkcmVucy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBvPXIrbixpPXQuX2J1cy5hZGRMaXN0ZW5lcihvLGZ1bmN0aW9uKHIpe2lmKHIuZnJvbSE9PWUuX293bmVyKXN3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC1DaGlsZHJlbi1SQ1Y6ICIsciksci50eXBlKXtjYXNlImNyZWF0ZSI6dC5fb25DaGlsZENyZWF0ZShyKTticmVhaztjYXNlImRlbGV0ZSI6Y29uc29sZS5sb2cocik7YnJlYWs7ZGVmYXVsdDp0Ll9jaGFuZ2VDaGlsZHJlbihyKX19KTt0Ll9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pLCgwLGFbImRlZmF1bHQiXSkoZS5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2NoaWxkcmVuT2JqZWN0c1t0XS5fcmVsZWFzZUxpc3RlbmVycygpfSl9fSx7a2V5OiJwYXVzZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToicmVzdW1lIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJzdG9wIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJhZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3IuX2NoaWxkSWQrKzt2YXIgbj1yLl9vd25lcisiIyIrci5fY2hpbGRJZCxvPXIuX3VybCsiL2NoaWxkcmVuLyIrZSxzPXt0eXBlOiJjcmVhdGUiLGZyb206ci5fb3duZXIsdG86byxib2R5OntyZXNvdXJjZTpuLHZhbHVlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlKXt2YXIgaT1yLl9idXMucG9zdE1lc3NhZ2Uocyk7Y29uc29sZS5sb2coImNyZWF0ZS1yZXBvcnRlci1jaGlsZCggIityLl9vd25lcisiICk6ICIscyk7dmFyIGE9bmV3IGhbImRlZmF1bHQiXShyLG4sdCxyLl9vd25lcixpKTthLm9uQ2hhbmdlKGZ1bmN0aW9uKGUpe3IuX29uQ2hhbmdlKGUse3BhdGg6byxjaGlsZElkOm59KX0pLHIuX2NoaWxkcmVuT2JqZWN0c1tuXT1hLGUoYSl9KX19LHtrZXk6Im9uQWRkQ2hpbGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uQWRkQ2hpbGRyZW5IYW5kbGVyPWV9fSx7a2V5OiJfb25DaGlsZENyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZTtjb25zb2xlLmxvZygiY3JlYXRlLW9ic2VydmVyLWNoaWxkKCAiK3QuX293bmVyKyIgKTogIixlKTt2YXIgbj1uZXcgaFsiZGVmYXVsdCJdKHQscixlLmJvZHkudmFsdWUpO3QuX2NoaWxkcmVuT2JqZWN0c1tyXT1uLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc291cmNlOnQuX293bmVyfX0pfSk7dmFyIG89e3R5cGU6ZS50eXBlLGZyb206ZS5mcm9tLHVybDplLnRvLHZhbHVlOmUuYm9keS52YWx1ZSxjaGlsZElkOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5fTt0Ll9vbkFkZENoaWxkcmVuSGFuZGxlciYmKGNvbnNvbGUubG9nKCJBREQtQ0hJTERSRU4tRVZFTlQ6ICIsbyksdC5fb25BZGRDaGlsZHJlbkhhbmRsZXIobykpfX0se2tleToiX29uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisrLCJvbiI9PT1yLl9zdGF0dXMpe3ZhciBuPXt0eXBlOiJ1cGRhdGUiLGZyb206ci5fdXJsLHRvOnIuX3VybCsiL2NoYW5nZXMiLGJvZHk6e3ZlcnNpb246ci5fdmVyc2lvbixzb3VyY2U6ci5fb3duZXIsYXR0cmlidXRlOmUuZmllbGR9fTtlLm9UeXBlPT09ZC5PYmplY3RUeXBlLk9CSkVDVD9lLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSYmKG4uYm9keS52YWx1ZT1lLmRhdGEpOihuLmJvZHkuYXR0cmlidXRlVHlwZT1lLm9UeXBlLG4uYm9keS52YWx1ZT1lLmRhdGEsZS5jVHlwZSE9PWQuQ2hhbmdlVHlwZS5VUERBVEUmJihuLmJvZHkub3BlcmF0aW9uPWUuY1R5cGUpKSx0JiYobi50bz10LnBhdGgsbi5ib2R5LnJlc291cmNlPXQuY2hpbGRJZCksci5fYnVzLnBvc3RNZXNzYWdlKG4pfX19LHtrZXk6Il9jaGFuZ2VPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKzE9PT10LmJvZHkudmVyc2lvbil7ci5fdmVyc2lvbisrO3ZhciBuPXQuYm9keS5hdHRyaWJ1dGUsbz0oMCx2LmRlZXBDbG9uZSkodC5ib2R5LnZhbHVlKSxpPWUuZmluZEJlZm9yZShuKTtpZih0LmJvZHkuYXR0cmlidXRlVHlwZT09PWQuT2JqZWN0VHlwZS5BUlJBWSlpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLkFERCl7dmFyIHM9aS5vYmosYT1pLmxhc3Q7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzLFthLDBdLmNvbmNhdChvKSl9ZWxzZSBpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSl7dmFyIGM9aS5vYmosdT1pLmxhc3Q7Yy5zcGxpY2UodSxvKX1lbHNlIGkub2JqW2kubGFzdF09bztlbHNlIHQuYm9keS52YWx1ZT9pLm9ialtpLmxhc3RdPW86ZGVsZXRlIGkub2JqW2kubGFzdF19ZWxzZSBjb25zb2xlLmxvZygiVU5TWU5DSFJPTklaRUQgVkVSU0lPTjogKGRhdGEgPT4gIityLl92ZXJzaW9uKyIsIG1zZyA9PiAiK3QuYm9keS52ZXJzaW9uKyIpIil9fSx7a2V5OiJfY2hhbmdlQ2hpbGRyZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Y29uc29sZS5sb2coIkNoYW5nZSBjaGlsZHJlbjogIix0Ll9vd25lcixlKTt2YXIgcj1lLmJvZHkucmVzb3VyY2Usbj10Ll9jaGlsZHJlbk9iamVjdHNbcl07bj90Ll9jaGFuZ2VPYmplY3Qobi5fc3luY09iaixlKTpjb25zb2xlLmxvZygiTm8gY2hpbGRyZW4gZm91bmQgZm9yOiAiLHIpfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NoZW1hfX0se2tleToic3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19LHtrZXk6ImNoaWxkcmVucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuT2JqZWN0c319XSksZX0oKTtyWyJkZWZhdWx0Il09eSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMDAsIi4vRGF0YU9iamVjdENoaWxkIjo5NCwiLi9TeW5jT2JqZWN0Ijo5OCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bihzKSxjPWUoIi4vU3luY09iamVjdCIpLHU9bihjKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvLHMpeygwLGlbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgYT10aGlzO2EuX3BhcmVudD10LGEuX2NoaWxkSWQ9cixhLl9vd25lcj1vLGEuX21zZ0lkPXMsYS5fc3luY09iaj1uZXcgdVsiZGVmYXVsdCJdKG4pLGEuX2J1cz10Ll9idXMsYS5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxhWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX293bmVyJiYoZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX293bmVyLGZ1bmN0aW9uKHQpeyJyZXNwb25zZSI9PT10LnR5cGUmJnQuaWQ9PT1lLl9tc2dJZCYmKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0Q2hpbGQub25SZXNwb25zZToiLHQpLGUuX29uUmVzcG9uc2UodCkpfSkpfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lciYmZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztkZWxldGUgZS5fcGFyZW50Ll9jaGlsZHJlbltlLl9jaGlsZElkXSxlLl9yZWxlYXNlTGlzdGVuZXJzKCl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKHQpe2UodCl9KX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5ib2R5LnNvdXJjZSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmdC5fb25SZXNwb25zZUhhbmRsZXIocil9fSx7a2V5OiJjaGlsZElkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRJZH19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL1N5bmNPYmplY3QiOjk4LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iKSxwPW4oZCksYj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IiksaD1uKGIpLHY9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikseT1uKHYpLF89ZSgiLi9EYXRhT2JqZWN0IiksZz1uKF8pLG09ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxqPW4obSksJD17QU5ZOiJhbnkiLFNUQVJUOiJzdGFydCIsRVhBQ1Q6ImV4YWN0In0sTz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLG8scyxjLGwpeygwLHVbImRlZmF1bHQiXSkodGhpcyx0KTt2YXIgZj0oMCxwWyJkZWZhdWx0Il0pKHRoaXMsKDAsYVsiZGVmYXVsdCJdKSh0KS5jYWxsKHRoaXMsZSxyLG4sbyxzLmRhdGEsYykpLGQ9ZjtyZXR1cm4gZC5fdmVyc2lvbj1sLGQuX2ZpbHRlcnM9e30sZC5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKGUpe2QuX29uRmlsdGVyKGUpfSksKDAsaVsiZGVmYXVsdCJdKShzLmNoaWxkcmVucykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1zLmNoaWxkcmVuc1tlXTtkLl9jaGlsZHJlbk9iamVjdHNbZV09bmV3IGpbImRlZmF1bHQiXShkLGUsdCl9KSxkLl9hbGxvY2F0ZUxpc3RlbmVycygpLGZ9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX2NoYW5nZUxpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwrIi9jaGFuZ2VzIixmdW5jdGlvbih0KXsidXBkYXRlIj09PXQudHlwZSYmKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0T2JzZXJ2ZXItIitlLl91cmwrIi1SQ1Y6ICIsdCksZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX2NoYW5nZUxpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXX19LHtrZXk6InVuc3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToidW5zdWJzY3JpYmUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0T2JzZXJ2ZXItVU5TVUJTQ1JJQkU6ICIsdCksMjAwPT09dC5ib2R5LmNvZGUmJihlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdKX0pfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSxuPXt0eXBlOiQuRVhBQ1QsY2FsbGJhY2s6dH0sbz1lLmluZGV4T2YoIioiKTtvPT09ZS5sZW5ndGgtMSYmKDA9PT1vP24udHlwZT0kLkFOWToobi50eXBlPSQuU1RBUlQscj1lLnN1YnN0cigwLGUubGVuZ3RoLTEpKSksdGhpcy5fZmlsdGVyc1tyXT1ufX0se2tleToiX29uRmlsdGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodC5fZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9maWx0ZXJzW3JdO24udHlwZT09PSQuQU5ZP24uY2FsbGJhY2soZSk6bi50eXBlPT09JC5TVEFSVD8wPT09ZS5maWVsZC5pbmRleE9mKHIpJiZuLmNhbGxiYWNrKGUpOm4udHlwZT09PSQuRVhBQ1QmJmUuZmllbGQ9PT1yJiZuLmNhbGxiYWNrKGUpfSl9fV0pLHR9KGdbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPU8sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0RhdGFPYmplY3QiOjkzLCIuL0RhdGFPYmplY3RDaGlsZCI6OTQsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE1fV0sOTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iKSxwPW4oZCksYj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IiksaD1uKGIpLHY9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikseT1uKHYpLF89ZSgiLi9EYXRhT2JqZWN0IiksZz1uKF8pLG09ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxqPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxpLHMpeygwLHVbImRlZmF1bHQiXSkodGhpcyx0KTt2YXIgYz0oMCxwWyJkZWZhdWx0Il0pKHRoaXMsKDAsYVsiZGVmYXVsdCJdKSh0KS5jYWxsKHRoaXMsZSxyLG4sbyxpLHMpKSxsPWM7cmV0dXJuIGwuX3N1YnNjcmlwdGlvbnM9e30sbC5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItIityKyItU0VORDogIixlKSxsLl9vbkNoYW5nZShlKX0pLGwuX2FsbG9jYXRlTGlzdGVuZXJzKCksY31yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fcmVzcG9uc2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpeyJyZXNwb25zZSI9PT10LnR5cGUmJmUuX29uUmVzcG9uc2UodCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fcmVzcG9uc2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6Imludml0ZU9ic2VydmVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJjcmVhdGUiLGZyb206dC5fc3luY2hlci5fb3duZXIsdG86dC5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOnQuX3VybCxzY2hlbWE6dC5fc2NoZW1hLHZhbHVlOnQuX3N5bmNPYmouZGF0YSxhdXRob3Jpc2U6ZX19O3QuX2J1cy5wb3N0TWVzc2FnZShyKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6ImRlbGV0ZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci1ERUxFVEU6ICIsdCksMjAwPT09dC5ib2R5LmNvZGUmJihlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX3JlcG9ydGVyc1tlLl91cmxdKX0pfX0se2tleToib25TdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uU3Vic2NyaXB0aW9uSGFuZGxlcj1lfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGFjY2VwdDpmdW5jdGlvbigpe3ZhciBuPXt1cmw6cixzdGF0dXM6Im9uIn07dC5fc3Vic2NyaXB0aW9uc1tyXT1uO3ZhciBvPXt9O3JldHVybigwLGlbImRlZmF1bHQiXSkodC5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuX2NoaWxkcmVuT2JqZWN0c1tlXS5kYXRhO29bZV09KDAsbS5kZWVwQ2xvbmUpKHIpfSksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNjaGVtYTp0Ll9zY2hlbWEsdmVyc2lvbjp0Ll92ZXJzaW9uLHZhbHVlOntkYXRhOigwLG0uZGVlcENsb25lKSh0LmRhdGEpLGNoaWxkcmVuczpvfX19KSxufSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAzLGRlc2M6cn19KX19O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJTVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj10Ll9zdWJzY3JpcHRpb25zW3JdO2RlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLG9iamVjdDpufTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiVU4tU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFU1BPTlNFLUVWRU5UOiAiLHIpLHQuX29uUmVzcG9uc2VIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShnWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1qLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Ijo5MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4ocyksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBzPXRoaXM7cy5fb3duZXI9dCxzLl91cmw9cixzLl9idXM9bixzLl9jaGlsZHJlbj1vLHMuX2NoYW5nZXM9W10scy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxhWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFQcm92aXNpb25hbC0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VzLnB1c2godCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCl9KX19LHtrZXk6ImNoaWxkcmVuIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59fV0pLGV9KCk7clsiZGVmYXVsdCJdPWMsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG4pO2Zvcih2YXIgbyBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W29dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG8pLHRbb10pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbik7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgcCh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG4gaW4gdCl7dmFyIG89dFtuXS5vYmplY3QsaT12b2lkIDA7aWYoby5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9aC5PQkpFQ1QpLG8uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9aC5BUlJBWSksInNwbGljZSI9PT10W25dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtuXS5pbmRleCxhPWVbIm5ldyJdKCIiK3MpLGM9YS50b1N0cmluZygpLHU9dFtuXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtuXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG4pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK24pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLlJFTU9WRSxvVHlwZTppLGZpZWxkOmMsZGF0YTp1fSl9dmFyIGQ9dFtuXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgaD1vLnNsaWNlKHMscytkKTtoLmZvckVhY2goZnVuY3Rpb24odCxuKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWVbIm5ldyJdKG5ldyBwKHQscytuKSk7ci5faW50ZXJuYWxPYnNlcnZlKG8sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoaCl9KX1zIT09by5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShvKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbbl0ubmFtZSksYT1zLnRvU3RyaW5nKCk7aWYoLTEhPT1hLmluZGV4T2YoIlN5bWJvbCIpKWNvbnRpbnVlO3ZhciBjPW9bdFtuXS5uYW1lXTsidXBkYXRlIj09PXRbbl0udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLlVQREFURSxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSwiYWRkIj09PXRbbl0udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGMpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5BREQsb1R5cGU6aSxmaWVsZDphLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGMpfSkpLCJkZWxldGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YX0pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fb2JzZXJ2YWJsZXNbcl0sbz1lLmluZGV4T2Yobi5vYmopO24uaWR4IT1vJiYobi5pZHg9byxkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbb109bil9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09cCYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLGI9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0saD1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5OTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLHU9bihjKSxsPWUoIi4vRGF0YU9iamVjdFJlcG9ydGVyIiksZj1uKGwpLGQ9ZSgiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSxwPW4oZCksYj1lKCIuL0RhdGFQcm92aXNpb25hbCIpLGg9bihiKSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBvPXRoaXM7by5fb3duZXI9dCxvLl9idXM9cixvLl9zdWJVUkw9bi5ydW50aW1lVVJMKyIvc20iLG8uX3JlcG9ydGVycz17fSxvLl9vYnNlcnZlcnM9e30sby5fcHJvdmlzaW9uYWxzPXt9LHIuYWRkTGlzdGVuZXIodCxmdW5jdGlvbihlKXtpZihlLmZyb20hPT10KXN3aXRjaChjb25zb2xlLmxvZygiU3luY2hlci1SQ1Y6ICIsZSksZS50eXBlKXtjYXNlImZvcndhcmQiOm8uX29uRm9yd2FyZChlKTticmVhaztjYXNlImNyZWF0ZSI6by5fb25SZW1vdGVDcmVhdGUoZSk7YnJlYWs7Y2FzZSJkZWxldGUiOm8uX29uUmVtb3RlRGVsZXRlKGUpfX0pfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyLnJlcG9ydGVyPW4uX293bmVyLHIuc2NoZW1hPWU7dmFyIG89e3R5cGU6ImNyZWF0ZSIsZnJvbTpuLl9vd25lcix0bzpuLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUsdmFsdWU6cixhdXRob3Jpc2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsaSl7bi5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7aWYoY29uc29sZS5sb2coImNyZWF0ZS1yZXNwb25zZTogIixvKSwyMDA9PT1vLmJvZHkuY29kZSl7dmFyIHM9by5ib2R5LnJlc291cmNlLGE9bmV3IGZbImRlZmF1bHQiXShuLHMsZSwib24iLHIsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKTtuLl9yZXBvcnRlcnNbc109YSx0KGEpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToic3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17dHlwZToic3Vic2NyaWJlIixmcm9tOnIuX293bmVyLHRvOnIuX3N1YlVSTCxib2R5OntzY2hlbWE6ZSxyZXNvdXJjZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24obyxpKXtyLl9idXMucG9zdE1lc3NhZ2UobixmdW5jdGlvbihuKXtjb25zb2xlLmxvZygic3Vic2NyaWJlLXJlc3BvbnNlOiAiLG4pO3ZhciBzPXIuX3Byb3Zpc2lvbmFsc1t0XTtpZihkZWxldGUgci5fcHJvdmlzaW9uYWxzW3RdLHMmJnMuX3JlbGVhc2VMaXN0ZW5lcnMoKSxuLmJvZHkuY29kZTwyMDApcz1uZXcgaFsiZGVmYXVsdCJdKHIuX293bmVyLHQsci5fYnVzLG4uYm9keS5jaGlsZHJlblJlc291cmNlcyksci5fcHJvdmlzaW9uYWxzW3RdPXM7ZWxzZSBpZigyMDA9PT1uLmJvZHkuY29kZSl7dmFyIGE9bmV3IHBbImRlZmF1bHQiXShyLHQsZSwib24iLG4uYm9keS52YWx1ZSxzLmNoaWxkcmVuLG4uYm9keS52ZXJzaW9uKTtyLl9vYnNlcnZlcnNbdF09YSxvKGEpLHMuYXBwbHkoYSl9ZWxzZSBpKG4uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxuPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm59fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj10Ll9vYnNlcnZlcnNbcl07aWYobil7dmFyIG89e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm5bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09dix0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjo5NSwiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL0RhdGFQcm92aXNpb25hbCI6OTcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sMTAwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLGJbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGMoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihmKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGI9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YSxyLmdldFVzZXJVUkxGcm9tRW1haWw9YyxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbOTJdKSg5Mil9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Ci8qCiAqICBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIFdlYlJUQyBwcm9qZWN0IGF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiAqCiAqICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIEJTRC1zdHlsZSBsaWNlbnNlCiAqICB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IG9mIHRoZSBzb3VyY2UKICogIHRyZWUuCiAqLwoKLyogTW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGVzZSBvcHRpb25zIGF0IGpzaGludC5jb20vZG9jcy9vcHRpb25zICovCi8qIGpzaGludCBicm93c2VyOiB0cnVlLCBjYW1lbGNhc2U6IHRydWUsIGN1cmx5OiB0cnVlLCBkZXZlbDogdHJ1ZSwKICAgZXFlcWVxOiB0cnVlLCBmb3JpbjogZmFsc2UsIGdsb2JhbHN0cmljdDogdHJ1ZSwgbm9kZTogdHJ1ZSwKICAgcXVvdG1hcms6IHNpbmdsZSwgdW5kZWY6IHRydWUsIHVudXNlZDogc3RyaWN0ICovCi8qIGdsb2JhbCBtb3pSVENJY2VDYW5kaWRhdGUsIG1velJUQ1BlZXJDb25uZWN0aW9uLCBQcm9taXNlLAptb3pSVENTZXNzaW9uRGVzY3JpcHRpb24sIHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLCBNZWRpYVN0cmVhbVRyYWNrLApNZWRpYVN0cmVhbSwgUlRDSWNlR2F0aGVyZXIsIFJUQ0ljZVRyYW5zcG9ydCwgUlRDRHRsc1RyYW5zcG9ydCwKUlRDUnRwU2VuZGVyLCBSVENSdHBSZWNlaXZlciovCi8qIGV4cG9ydGVkIHRyYWNlLHJlcXVlc3RVc2VyTWVkaWEgKi8KCid1c2Ugc3RyaWN0JzsKCnZhciBnZXRVc2VyTWVkaWEgPSBudWxsOwp2YXIgYXR0YWNoTWVkaWFTdHJlYW0gPSBudWxsOwp2YXIgcmVhdHRhY2hNZWRpYVN0cmVhbSA9IG51bGw7CnZhciB3ZWJydGNEZXRlY3RlZEJyb3dzZXIgPSBudWxsOwp2YXIgd2VicnRjRGV0ZWN0ZWRWZXJzaW9uID0gbnVsbDsKdmFyIHdlYnJ0Y01pbmltdW1WZXJzaW9uID0gbnVsbDsKdmFyIHdlYnJ0Y1V0aWxzID0gewogIGxvZzogZnVuY3Rpb24oKSB7CiAgICAvLyBzdXBwcmVzcyBjb25zb2xlLmxvZyBvdXRwdXQgd2hlbiBiZWluZyBpbmNsdWRlZCBhcyBhIG1vZHVsZS4KICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyB8fAogICAgICAgIHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTsKICB9LAogIGV4dHJhY3RWZXJzaW9uOiBmdW5jdGlvbih1YXN0cmluZywgZXhwciwgcG9zKSB7CiAgICB2YXIgbWF0Y2ggPSB1YXN0cmluZy5tYXRjaChleHByKTsKICAgIHJldHVybiBtYXRjaCAmJiBtYXRjaC5sZW5ndGggPj0gcG9zICYmIHBhcnNlSW50KG1hdGNoW3Bvc10sIDEwKTsKICB9Cn07CgpmdW5jdGlvbiB0cmFjZSh0ZXh0KSB7CiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGZvciBsb2dnaW5nLgogIGlmICh0ZXh0W3RleHQubGVuZ3RoIC0gMV0gPT09ICdcbicpIHsKICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCB0ZXh0Lmxlbmd0aCAtIDEpOwogIH0KICBpZiAod2luZG93LnBlcmZvcm1hbmNlKSB7CiAgICB2YXIgbm93ID0gKHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSAvIDEwMDApLnRvRml4ZWQoMyk7CiAgICB3ZWJydGNVdGlscy5sb2cobm93ICsgJzogJyArIHRleHQpOwogIH0gZWxzZSB7CiAgICB3ZWJydGNVdGlscy5sb2codGV4dCk7CiAgfQp9CgppZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHsKICBpZiAod2luZG93LkhUTUxNZWRpYUVsZW1lbnQgJiYKICAgICEoJ3NyY09iamVjdCcgaW4gd2luZG93LkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlKSkgewogICAgLy8gU2hpbSB0aGUgc3JjT2JqZWN0IHByb3BlcnR5LCBvbmNlLCB3aGVuIEhUTUxNZWRpYUVsZW1lbnQgaXMgZm91bmQuCiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLCAnc3JjT2JqZWN0JywgewogICAgICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIElmIHByZWZpeGVkIHNyY09iamVjdCBwcm9wZXJ0eSBleGlzdHMsIHJldHVybiBpdC4KICAgICAgICAvLyBPdGhlcndpc2UgdXNlIHRoZSBzaGltbWVkIHByb3BlcnR5LCBfc3JjT2JqZWN0CiAgICAgICAgcmV0dXJuICdtb3pTcmNPYmplY3QnIGluIHRoaXMgPyB0aGlzLm1velNyY09iamVjdCA6IHRoaXMuX3NyY09iamVjdDsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbihzdHJlYW0pIHsKICAgICAgICBpZiAoJ21velNyY09iamVjdCcgaW4gdGhpcykgewogICAgICAgICAgdGhpcy5tb3pTcmNPYmplY3QgPSBzdHJlYW07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIFVzZSBfc3JjT2JqZWN0IGFzIGEgcHJpdmF0ZSBwcm9wZXJ0eSBmb3IgdGhpcyBzaGltCiAgICAgICAgICB0aGlzLl9zcmNPYmplY3QgPSBzdHJlYW07CiAgICAgICAgICAvLyBUT0RPOiByZXZva2VPYmplY3RVcmwodGhpcy5zcmMpIHdoZW4gIXN0cmVhbSB0byByZWxlYXNlIHJlc291cmNlcz8KICAgICAgICAgIHRoaXMuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChzdHJlYW0pOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfQogIC8vIFByb3h5IGV4aXN0aW5nIGdsb2JhbHMKICBnZXRVc2VyTWVkaWEgPSB3aW5kb3cubmF2aWdhdG9yICYmIHdpbmRvdy5uYXZpZ2F0b3IuZ2V0VXNlck1lZGlhOwp9CgovLyBBdHRhY2ggYSBtZWRpYSBzdHJlYW0gdG8gYW4gZWxlbWVudC4KYXR0YWNoTWVkaWFTdHJlYW0gPSBmdW5jdGlvbihlbGVtZW50LCBzdHJlYW0pIHsKICBlbGVtZW50LnNyY09iamVjdCA9IHN0cmVhbTsKfTsKCnJlYXR0YWNoTWVkaWFTdHJlYW0gPSBmdW5jdGlvbih0bywgZnJvbSkgewogIHRvLnNyY09iamVjdCA9IGZyb20uc3JjT2JqZWN0Owp9OwoKaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICF3aW5kb3cubmF2aWdhdG9yKSB7CiAgd2VicnRjVXRpbHMubG9nKCdUaGlzIGRvZXMgbm90IGFwcGVhciB0byBiZSBhIGJyb3dzZXInKTsKICB3ZWJydGNEZXRlY3RlZEJyb3dzZXIgPSAnbm90IGEgYnJvd3Nlcic7Cn0gZWxzZSBpZiAobmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSkgewogIHdlYnJ0Y1V0aWxzLmxvZygnVGhpcyBhcHBlYXJzIHRvIGJlIEZpcmVmb3gnKTsKCiAgd2VicnRjRGV0ZWN0ZWRCcm93c2VyID0gJ2ZpcmVmb3gnOwoKICAvLyB0aGUgZGV0ZWN0ZWQgZmlyZWZveCB2ZXJzaW9uLgogIHdlYnJ0Y0RldGVjdGVkVmVyc2lvbiA9IHdlYnJ0Y1V0aWxzLmV4dHJhY3RWZXJzaW9uKG5hdmlnYXRvci51c2VyQWdlbnQsCiAgICAgIC9GaXJlZm94XC8oWzAtOV0rKVwuLywgMSk7CgogIC8vIHRoZSBtaW5pbXVtIGZpcmVmb3ggdmVyc2lvbiBzdGlsbCBzdXBwb3J0ZWQgYnkgYWRhcHRlci4KICB3ZWJydGNNaW5pbXVtVmVyc2lvbiA9IDMxOwoKICAvLyBTaGltIGZvciBSVENQZWVyQ29ubmVjdGlvbiBvbiBvbGRlciB2ZXJzaW9ucy4KICBpZiAoIXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbikgewogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uID0gZnVuY3Rpb24ocGNDb25maWcsIHBjQ29uc3RyYWludHMpIHsKICAgICAgaWYgKHdlYnJ0Y0RldGVjdGVkVmVyc2lvbiA8IDM4KSB7CiAgICAgICAgLy8gLnVybHMgaXMgbm90IHN1cHBvcnRlZCBpbiBGRiA8IDM4LgogICAgICAgIC8vIGNyZWF0ZSBSVENJY2VTZXJ2ZXJzIHdpdGggYSBzaW5nbGUgdXJsLgogICAgICAgIGlmIChwY0NvbmZpZyAmJiBwY0NvbmZpZy5pY2VTZXJ2ZXJzKSB7CiAgICAgICAgICB2YXIgbmV3SWNlU2VydmVycyA9IFtdOwogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwY0NvbmZpZy5pY2VTZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBzZXJ2ZXIgPSBwY0NvbmZpZy5pY2VTZXJ2ZXJzW2ldOwogICAgICAgICAgICBpZiAoc2VydmVyLmhhc093blByb3BlcnR5KCd1cmxzJykpIHsKICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNlcnZlci51cmxzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICB2YXIgbmV3U2VydmVyID0gewogICAgICAgICAgICAgICAgICB1cmw6IHNlcnZlci51cmxzW2pdCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgaWYgKHNlcnZlci51cmxzW2pdLmluZGV4T2YoJ3R1cm4nKSA9PT0gMCkgewogICAgICAgICAgICAgICAgICBuZXdTZXJ2ZXIudXNlcm5hbWUgPSBzZXJ2ZXIudXNlcm5hbWU7CiAgICAgICAgICAgICAgICAgIG5ld1NlcnZlci5jcmVkZW50aWFsID0gc2VydmVyLmNyZWRlbnRpYWw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBuZXdJY2VTZXJ2ZXJzLnB1c2gobmV3U2VydmVyKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbmV3SWNlU2VydmVycy5wdXNoKHBjQ29uZmlnLmljZVNlcnZlcnNbaV0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBwY0NvbmZpZy5pY2VTZXJ2ZXJzID0gbmV3SWNlU2VydmVyczsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG5ldyBtb3pSVENQZWVyQ29ubmVjdGlvbihwY0NvbmZpZywgcGNDb25zdHJhaW50cyk7IC8vIGpzY3M6aWdub3JlIHJlcXVpcmVDYXBpdGFsaXplZENvbnN0cnVjdG9ycwogICAgfTsKICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUgPSBtb3pSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGU7CgogICAgLy8gd3JhcCBzdGF0aWMgbWV0aG9kcy4gQ3VycmVudGx5IGp1c3QgZ2VuZXJhdGVDZXJ0aWZpY2F0ZS4KICAgIGlmIChtb3pSVENQZWVyQ29ubmVjdGlvbi5nZW5lcmF0ZUNlcnRpZmljYXRlKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24sICdnZW5lcmF0ZUNlcnRpZmljYXRlJywgewogICAgICAgIGdldDogZnVuY3Rpb24oKSB7CiAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkgewogICAgICAgICAgICByZXR1cm4gbW96UlRDUGVlckNvbm5lY3Rpb24uZ2VuZXJhdGVDZXJ0aWZpY2F0ZS5hcHBseShudWxsLAogICAgICAgICAgICAgICAgYXJndW1lbnRzKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBtb3pSVENQZWVyQ29ubmVjdGlvbi5nZW5lcmF0ZUNlcnRpZmljYXRlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgd2luZG93LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbiA9IG1velJUQ1Nlc3Npb25EZXNjcmlwdGlvbjsKICAgIHdpbmRvdy5SVENJY2VDYW5kaWRhdGUgPSBtb3pSVENJY2VDYW5kaWRhdGU7CiAgfQoKICAvLyBnZXRVc2VyTWVkaWEgY29uc3RyYWludHMgc2hpbS4KICBnZXRVc2VyTWVkaWEgPSBmdW5jdGlvbihjb25zdHJhaW50cywgb25TdWNjZXNzLCBvbkVycm9yKSB7CiAgICB2YXIgY29uc3RyYWludHNUb0ZGMzcgPSBmdW5jdGlvbihjKSB7CiAgICAgIGlmICh0eXBlb2YgYyAhPT0gJ29iamVjdCcgfHwgYy5yZXF1aXJlKSB7CiAgICAgICAgcmV0dXJuIGM7CiAgICAgIH0KICAgICAgdmFyIHJlcXVpcmUgPSBbXTsKICAgICAgT2JqZWN0LmtleXMoYykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHsKICAgICAgICBpZiAoa2V5ID09PSAncmVxdWlyZScgfHwga2V5ID09PSAnYWR2YW5jZWQnIHx8IGtleSA9PT0gJ21lZGlhU291cmNlJykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB2YXIgciA9IGNba2V5XSA9ICh0eXBlb2YgY1trZXldID09PSAnb2JqZWN0JykgPwogICAgICAgICAgICBjW2tleV0gOiB7aWRlYWw6IGNba2V5XX07CiAgICAgICAgaWYgKHIubWluICE9PSB1bmRlZmluZWQgfHwKICAgICAgICAgICAgci5tYXggIT09IHVuZGVmaW5lZCB8fCByLmV4YWN0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHJlcXVpcmUucHVzaChrZXkpOwogICAgICAgIH0KICAgICAgICBpZiAoci5leGFjdCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpZiAodHlwZW9mIHIuZXhhY3QgPT09ICdudW1iZXInKSB7CiAgICAgICAgICAgIHIubWluID0gci5tYXggPSByLmV4YWN0OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY1trZXldID0gci5leGFjdDsKICAgICAgICAgIH0KICAgICAgICAgIGRlbGV0ZSByLmV4YWN0OwogICAgICAgIH0KICAgICAgICBpZiAoci5pZGVhbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBjLmFkdmFuY2VkID0gYy5hZHZhbmNlZCB8fCBbXTsKICAgICAgICAgIHZhciBvYyA9IHt9OwogICAgICAgICAgaWYgKHR5cGVvZiByLmlkZWFsID09PSAnbnVtYmVyJykgewogICAgICAgICAgICBvY1trZXldID0ge21pbjogci5pZGVhbCwgbWF4OiByLmlkZWFsfTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG9jW2tleV0gPSByLmlkZWFsOwogICAgICAgICAgfQogICAgICAgICAgYy5hZHZhbmNlZC5wdXNoKG9jKTsKICAgICAgICAgIGRlbGV0ZSByLmlkZWFsOwogICAgICAgICAgaWYgKCFPYmplY3Qua2V5cyhyKS5sZW5ndGgpIHsKICAgICAgICAgICAgZGVsZXRlIGNba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAocmVxdWlyZS5sZW5ndGgpIHsKICAgICAgICBjLnJlcXVpcmUgPSByZXF1aXJlOwogICAgICB9CiAgICAgIHJldHVybiBjOwogICAgfTsKICAgIGlmICh3ZWJydGNEZXRlY3RlZFZlcnNpb24gPCAzOCkgewogICAgICB3ZWJydGNVdGlscy5sb2coJ3NwZWM6ICcgKyBKU09OLnN0cmluZ2lmeShjb25zdHJhaW50cykpOwogICAgICBpZiAoY29uc3RyYWludHMuYXVkaW8pIHsKICAgICAgICBjb25zdHJhaW50cy5hdWRpbyA9IGNvbnN0cmFpbnRzVG9GRjM3KGNvbnN0cmFpbnRzLmF1ZGlvKTsKICAgICAgfQogICAgICBpZiAoY29uc3RyYWludHMudmlkZW8pIHsKICAgICAgICBjb25zdHJhaW50cy52aWRlbyA9IGNvbnN0cmFpbnRzVG9GRjM3KGNvbnN0cmFpbnRzLnZpZGVvKTsKICAgICAgfQogICAgICB3ZWJydGNVdGlscy5sb2coJ2ZmMzc6ICcgKyBKU09OLnN0cmluZ2lmeShjb25zdHJhaW50cykpOwogICAgfQogICAgcmV0dXJuIG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEoY29uc3RyYWludHMsIG9uU3VjY2Vzcywgb25FcnJvcik7CiAgfTsKCiAgbmF2aWdhdG9yLmdldFVzZXJNZWRpYSA9IGdldFVzZXJNZWRpYTsKCiAgLy8gU2hpbSBmb3IgbWVkaWFEZXZpY2VzIG9uIG9sZGVyIHZlcnNpb25zLgogIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcykgewogICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyA9IHtnZXRVc2VyTWVkaWE6IHJlcXVlc3RVc2VyTWVkaWEsCiAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uKCkgeyB9LAogICAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbigpIHsgfQogICAgfTsKICB9CiAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzID0KICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzIHx8IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHsKICAgICAgdmFyIGluZm9zID0gWwogICAgICAgIHtraW5kOiAnYXVkaW9pbnB1dCcsIGRldmljZUlkOiAnZGVmYXVsdCcsIGxhYmVsOiAnJywgZ3JvdXBJZDogJyd9LAogICAgICAgIHtraW5kOiAndmlkZW9pbnB1dCcsIGRldmljZUlkOiAnZGVmYXVsdCcsIGxhYmVsOiAnJywgZ3JvdXBJZDogJyd9CiAgICAgIF07CiAgICAgIHJlc29sdmUoaW5mb3MpOwogICAgfSk7CiAgfTsKCiAgaWYgKHdlYnJ0Y0RldGVjdGVkVmVyc2lvbiA8IDQxKSB7CiAgICAvLyBXb3JrIGFyb3VuZCBodHRwOi8vYnVnemlsLmxhLzExNjk2NjUKICAgIHZhciBvcmdFbnVtZXJhdGVEZXZpY2VzID0KICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMuYmluZChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKTsKICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcyA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gb3JnRW51bWVyYXRlRGV2aWNlcygpLnRoZW4odW5kZWZpbmVkLCBmdW5jdGlvbihlKSB7CiAgICAgICAgaWYgKGUubmFtZSA9PT0gJ05vdEZvdW5kRXJyb3InKSB7CiAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfQogICAgICAgIHRocm93IGU7CiAgICAgIH0pOwogICAgfTsKICB9Cn0gZWxzZSBpZiAobmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSAmJiB3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb24pIHsKICB3ZWJydGNVdGlscy5sb2coJ1RoaXMgYXBwZWFycyB0byBiZSBDaHJvbWUnKTsKCiAgd2VicnRjRGV0ZWN0ZWRCcm93c2VyID0gJ2Nocm9tZSc7CgogIC8vIHRoZSBkZXRlY3RlZCBjaHJvbWUgdmVyc2lvbi4KICB3ZWJydGNEZXRlY3RlZFZlcnNpb24gPSB3ZWJydGNVdGlscy5leHRyYWN0VmVyc2lvbihuYXZpZ2F0b3IudXNlckFnZW50LAogICAgICAvQ2hyb20oZXxpdW0pXC8oWzAtOV0rKVwuLywgMik7CgogIC8vIHRoZSBtaW5pbXVtIGNocm9tZSB2ZXJzaW9uIHN0aWxsIHN1cHBvcnRlZCBieSBhZGFwdGVyLgogIHdlYnJ0Y01pbmltdW1WZXJzaW9uID0gMzg7CgogIC8vIFRoZSBSVENQZWVyQ29ubmVjdGlvbiBvYmplY3QuCiAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uID0gZnVuY3Rpb24ocGNDb25maWcsIHBjQ29uc3RyYWludHMpIHsKICAgIC8vIFRyYW5zbGF0ZSBpY2VUcmFuc3BvcnRQb2xpY3kgdG8gaWNlVHJhbnNwb3J0cywKICAgIC8vIHNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3dlYnJ0Yy9pc3N1ZXMvZGV0YWlsP2lkPTQ4NjkKICAgIGlmIChwY0NvbmZpZyAmJiBwY0NvbmZpZy5pY2VUcmFuc3BvcnRQb2xpY3kpIHsKICAgICAgcGNDb25maWcuaWNlVHJhbnNwb3J0cyA9IHBjQ29uZmlnLmljZVRyYW5zcG9ydFBvbGljeTsKICAgIH0KCiAgICB2YXIgcGMgPSBuZXcgd2Via2l0UlRDUGVlckNvbm5lY3Rpb24ocGNDb25maWcsIHBjQ29uc3RyYWludHMpOyAvLyBqc2NzOmlnbm9yZSByZXF1aXJlQ2FwaXRhbGl6ZWRDb25zdHJ1Y3RvcnMKICAgIHZhciBvcmlnR2V0U3RhdHMgPSBwYy5nZXRTdGF0cy5iaW5kKHBjKTsKICAgIHBjLmdldFN0YXRzID0gZnVuY3Rpb24oc2VsZWN0b3IsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykgeyAvLyBqc2hpbnQgaWdub3JlOiBsaW5lCiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7CgogICAgICAvLyBJZiBzZWxlY3RvciBpcyBhIGZ1bmN0aW9uIHRoZW4gd2UgYXJlIGluIHRoZSBvbGQgc3R5bGUgc3RhdHMgc28ganVzdAogICAgICAvLyBwYXNzIGJhY2sgdGhlIG9yaWdpbmFsIGdldFN0YXRzIGZvcm1hdCB0byBhdm9pZCBicmVha2luZyBvbGQgdXNlcnMuCiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICByZXR1cm4gb3JpZ0dldFN0YXRzKHNlbGVjdG9yLCBzdWNjZXNzQ2FsbGJhY2spOwogICAgICB9CgogICAgICB2YXIgZml4Q2hyb21lU3RhdHMgPSBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgIHZhciBzdGFuZGFyZFJlcG9ydCA9IHt9OwogICAgICAgIHZhciByZXBvcnRzID0gcmVzcG9uc2UucmVzdWx0KCk7CiAgICAgICAgcmVwb3J0cy5mb3JFYWNoKGZ1bmN0aW9uKHJlcG9ydCkgewogICAgICAgICAgdmFyIHN0YW5kYXJkU3RhdHMgPSB7CiAgICAgICAgICAgIGlkOiByZXBvcnQuaWQsCiAgICAgICAgICAgIHRpbWVzdGFtcDogcmVwb3J0LnRpbWVzdGFtcCwKICAgICAgICAgICAgdHlwZTogcmVwb3J0LnR5cGUKICAgICAgICAgIH07CiAgICAgICAgICByZXBvcnQubmFtZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHsKICAgICAgICAgICAgc3RhbmRhcmRTdGF0c1tuYW1lXSA9IHJlcG9ydC5zdGF0KG5hbWUpOwogICAgICAgICAgfSk7CiAgICAgICAgICBzdGFuZGFyZFJlcG9ydFtzdGFuZGFyZFN0YXRzLmlkXSA9IHN0YW5kYXJkU3RhdHM7CiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiBzdGFuZGFyZFJlcG9ydDsKICAgICAgfTsKCiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHsKICAgICAgICB2YXIgc3VjY2Vzc0NhbGxiYWNrV3JhcHBlciA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICBhcmdzWzFdKGZpeENocm9tZVN0YXRzKHJlc3BvbnNlKSk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9yaWdHZXRTdGF0cy5hcHBseSh0aGlzLCBbc3VjY2Vzc0NhbGxiYWNrV3JhcHBlciwgYXJndW1lbnRzWzBdXSk7CiAgICAgIH0KCiAgICAgIC8vIHByb21pc2Utc3VwcG9ydAogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIHNlbGVjdG9yID09PSBudWxsKSB7CiAgICAgICAgICBvcmlnR2V0U3RhdHMuYXBwbHkoc2VsZiwgWwogICAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICByZXNvbHZlLmFwcGx5KG51bGwsIFtmaXhDaHJvbWVTdGF0cyhyZXNwb25zZSldKTsKICAgICAgICAgICAgICB9LCByZWplY3RdKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb3JpZ0dldFN0YXRzLmFwcGx5KHNlbGYsIFtyZXNvbHZlLCByZWplY3RdKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gcGM7CiAgfTsKICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlID0gd2Via2l0UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlOwoKICAvLyB3cmFwIHN0YXRpYyBtZXRob2RzLiBDdXJyZW50bHkganVzdCBnZW5lcmF0ZUNlcnRpZmljYXRlLgogIGlmICh3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5nZW5lcmF0ZUNlcnRpZmljYXRlKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLCAnZ2VuZXJhdGVDZXJ0aWZpY2F0ZScsIHsKICAgICAgZ2V0OiBmdW5jdGlvbigpIHsKICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkgewogICAgICAgICAgcmV0dXJuIHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLmdlbmVyYXRlQ2VydGlmaWNhdGUuYXBwbHkobnVsbCwKICAgICAgICAgICAgICBhcmd1bWVudHMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gd2Via2l0UlRDUGVlckNvbm5lY3Rpb24uZ2VuZXJhdGVDZXJ0aWZpY2F0ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0KCiAgLy8gYWRkIHByb21pc2Ugc3VwcG9ydAogIFsnY3JlYXRlT2ZmZXInLCAnY3JlYXRlQW5zd2VyJ10uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHsKICAgIHZhciBuYXRpdmVNZXRob2QgPSB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbWV0aG9kXTsKICAgIHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxIHx8IChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmCiAgICAgICAgICB0eXBlb2YoYXJndW1lbnRzWzBdKSA9PT0gJ29iamVjdCcpKSB7CiAgICAgICAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID09PSAxID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkOwogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgIG5hdGl2ZU1ldGhvZC5hcHBseShzZWxmLCBbcmVzb2x2ZSwgcmVqZWN0LCBvcHRzXSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG5hdGl2ZU1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0pOwoKICBbJ3NldExvY2FsRGVzY3JpcHRpb24nLCAnc2V0UmVtb3RlRGVzY3JpcHRpb24nLAogICAgICAnYWRkSWNlQ2FuZGlkYXRlJ10uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHsKICAgIHZhciBuYXRpdmVNZXRob2QgPSB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbWV0aG9kXTsKICAgIHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBuYXRpdmVNZXRob2QuYXBwbHkoc2VsZiwgW2FyZ3NbMF0sCiAgICAgICAgICAgIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPj0gMikgewogICAgICAgICAgICAgICAgYXJnc1sxXS5hcHBseShudWxsLCBbXSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBmdW5jdGlvbihlcnIpIHsKICAgICAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPj0gMykgewogICAgICAgICAgICAgICAgYXJnc1syXS5hcHBseShudWxsLCBbZXJyXSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9XQogICAgICAgICAgKTsKICAgICAgfSk7CiAgICB9OwogIH0pOwoKICAvLyBnZXRVc2VyTWVkaWEgY29uc3RyYWludHMgc2hpbS4KICB2YXIgY29uc3RyYWludHNUb0Nocm9tZSA9IGZ1bmN0aW9uKGMpIHsKICAgIGlmICh0eXBlb2YgYyAhPT0gJ29iamVjdCcgfHwgYy5tYW5kYXRvcnkgfHwgYy5vcHRpb25hbCkgewogICAgICByZXR1cm4gYzsKICAgIH0KICAgIHZhciBjYyA9IHt9OwogICAgT2JqZWN0LmtleXMoYykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHsKICAgICAgaWYgKGtleSA9PT0gJ3JlcXVpcmUnIHx8IGtleSA9PT0gJ2FkdmFuY2VkJyB8fCBrZXkgPT09ICdtZWRpYVNvdXJjZScpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIHIgPSAodHlwZW9mIGNba2V5XSA9PT0gJ29iamVjdCcpID8gY1trZXldIDoge2lkZWFsOiBjW2tleV19OwogICAgICBpZiAoci5leGFjdCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiByLmV4YWN0ID09PSAnbnVtYmVyJykgewogICAgICAgIHIubWluID0gci5tYXggPSByLmV4YWN0OwogICAgICB9CiAgICAgIHZhciBvbGRuYW1lID0gZnVuY3Rpb24ocHJlZml4LCBuYW1lKSB7CiAgICAgICAgaWYgKHByZWZpeCkgewogICAgICAgICAgcmV0dXJuIHByZWZpeCArIG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gKG5hbWUgPT09ICdkZXZpY2VJZCcpID8gJ3NvdXJjZUlkJyA6IG5hbWU7CiAgICAgIH07CiAgICAgIGlmIChyLmlkZWFsICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBjYy5vcHRpb25hbCA9IGNjLm9wdGlvbmFsIHx8IFtdOwogICAgICAgIHZhciBvYyA9IHt9OwogICAgICAgIGlmICh0eXBlb2Ygci5pZGVhbCA9PT0gJ251bWJlcicpIHsKICAgICAgICAgIG9jW29sZG5hbWUoJ21pbicsIGtleSldID0gci5pZGVhbDsKICAgICAgICAgIGNjLm9wdGlvbmFsLnB1c2gob2MpOwogICAgICAgICAgb2MgPSB7fTsKICAgICAgICAgIG9jW29sZG5hbWUoJ21heCcsIGtleSldID0gci5pZGVhbDsKICAgICAgICAgIGNjLm9wdGlvbmFsLnB1c2gob2MpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBvY1tvbGRuYW1lKCcnLCBrZXkpXSA9IHIuaWRlYWw7CiAgICAgICAgICBjYy5vcHRpb25hbC5wdXNoKG9jKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHIuZXhhY3QgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygci5leGFjdCAhPT0gJ251bWJlcicpIHsKICAgICAgICBjYy5tYW5kYXRvcnkgPSBjYy5tYW5kYXRvcnkgfHwge307CiAgICAgICAgY2MubWFuZGF0b3J5W29sZG5hbWUoJycsIGtleSldID0gci5leGFjdDsKICAgICAgfSBlbHNlIHsKICAgICAgICBbJ21pbicsICdtYXgnXS5mb3JFYWNoKGZ1bmN0aW9uKG1peCkgewogICAgICAgICAgaWYgKHJbbWl4XSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGNjLm1hbmRhdG9yeSA9IGNjLm1hbmRhdG9yeSB8fCB7fTsKICAgICAgICAgICAgY2MubWFuZGF0b3J5W29sZG5hbWUobWl4LCBrZXkpXSA9IHJbbWl4XTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgICBpZiAoYy5hZHZhbmNlZCkgewogICAgICBjYy5vcHRpb25hbCA9IChjYy5vcHRpb25hbCB8fCBbXSkuY29uY2F0KGMuYWR2YW5jZWQpOwogICAgfQogICAgcmV0dXJuIGNjOwogIH07CgogIGdldFVzZXJNZWRpYSA9IGZ1bmN0aW9uKGNvbnN0cmFpbnRzLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHsKICAgIGlmIChjb25zdHJhaW50cy5hdWRpbykgewogICAgICBjb25zdHJhaW50cy5hdWRpbyA9IGNvbnN0cmFpbnRzVG9DaHJvbWUoY29uc3RyYWludHMuYXVkaW8pOwogICAgfQogICAgaWYgKGNvbnN0cmFpbnRzLnZpZGVvKSB7CiAgICAgIGNvbnN0cmFpbnRzLnZpZGVvID0gY29uc3RyYWludHNUb0Nocm9tZShjb25zdHJhaW50cy52aWRlbyk7CiAgICB9CiAgICB3ZWJydGNVdGlscy5sb2coJ2Nocm9tZTogJyArIEpTT04uc3RyaW5naWZ5KGNvbnN0cmFpbnRzKSk7CiAgICByZXR1cm4gbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYShjb25zdHJhaW50cywgb25TdWNjZXNzLCBvbkVycm9yKTsKICB9OwogIG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgPSBnZXRVc2VyTWVkaWE7CgogIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcykgewogICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyA9IHtnZXRVc2VyTWVkaWE6IHJlcXVlc3RVc2VyTWVkaWEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmF0ZURldmljZXM6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkgewogICAgICAgIHZhciBraW5kcyA9IHthdWRpbzogJ2F1ZGlvaW5wdXQnLCB2aWRlbzogJ3ZpZGVvaW5wdXQnfTsKICAgICAgICByZXR1cm4gTWVkaWFTdHJlYW1UcmFjay5nZXRTb3VyY2VzKGZ1bmN0aW9uKGRldmljZXMpIHsKICAgICAgICAgIHJlc29sdmUoZGV2aWNlcy5tYXAoZnVuY3Rpb24oZGV2aWNlKSB7CiAgICAgICAgICAgIHJldHVybiB7bGFiZWw6IGRldmljZS5sYWJlbCwKICAgICAgICAgICAgICAgICAgICBraW5kOiBraW5kc1tkZXZpY2Uua2luZF0sCiAgICAgICAgICAgICAgICAgICAgZGV2aWNlSWQ6IGRldmljZS5pZCwKICAgICAgICAgICAgICAgICAgICBncm91cElkOiAnJ307CiAgICAgICAgICB9KSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfX07CiAgfQoKICAvLyBBIHNoaW0gZm9yIGdldFVzZXJNZWRpYSBtZXRob2Qgb24gdGhlIG1lZGlhRGV2aWNlcyBvYmplY3QuCiAgLy8gVE9ETyhLYXB0ZW5KYW5zc29uKSByZW1vdmUgb25jZSBpbXBsZW1lbnRlZCBpbiBDaHJvbWUgc3RhYmxlLgogIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpIHsKICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhID0gZnVuY3Rpb24oY29uc3RyYWludHMpIHsKICAgICAgcmV0dXJuIHJlcXVlc3RVc2VyTWVkaWEoY29uc3RyYWludHMpOwogICAgfTsKICB9IGVsc2UgewogICAgLy8gRXZlbiB0aG91Z2ggQ2hyb21lIDQ1IGhhcyBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzIGFuZCBhIGdldFVzZXJNZWRpYQogICAgLy8gZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhIFByb21pc2UsIGl0IGRvZXMgbm90IGFjY2VwdCBzcGVjLXN0eWxlCiAgICAvLyBjb25zdHJhaW50cy4KICAgIHZhciBvcmlnR2V0VXNlck1lZGlhID0gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuCiAgICAgICAgYmluZChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKTsKICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhID0gZnVuY3Rpb24oYykgewogICAgICB3ZWJydGNVdGlscy5sb2coJ3NwZWM6ICAgJyArIEpTT04uc3RyaW5naWZ5KGMpKTsgLy8gd2hpdGVzcGFjZSBmb3IgYWxpZ25tZW50CiAgICAgIGMuYXVkaW8gPSBjb25zdHJhaW50c1RvQ2hyb21lKGMuYXVkaW8pOwogICAgICBjLnZpZGVvID0gY29uc3RyYWludHNUb0Nocm9tZShjLnZpZGVvKTsKICAgICAgd2VicnRjVXRpbHMubG9nKCdjaHJvbWU6ICcgKyBKU09OLnN0cmluZ2lmeShjKSk7CiAgICAgIHJldHVybiBvcmlnR2V0VXNlck1lZGlhKGMpOwogICAgfTsKICB9CgogIC8vIER1bW15IGRldmljZWNoYW5nZSBldmVudCBtZXRob2RzLgogIC8vIFRPRE8oS2FwdGVuSmFuc3NvbikgcmVtb3ZlIG9uY2UgaW1wbGVtZW50ZWQgaW4gQ2hyb21lIHN0YWJsZS4KICBpZiAodHlwZW9mIG5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKCkgewogICAgICB3ZWJydGNVdGlscy5sb2coJ0R1bW15IG1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyIGNhbGxlZC4nKTsKICAgIH07CiAgfQogIGlmICh0eXBlb2YgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5yZW1vdmVFdmVudExpc3RlbmVyID09PSAndW5kZWZpbmVkJykgewogICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oKSB7CiAgICAgIHdlYnJ0Y1V0aWxzLmxvZygnRHVtbXkgbWVkaWFEZXZpY2VzLnJlbW92ZUV2ZW50TGlzdGVuZXIgY2FsbGVkLicpOwogICAgfTsKICB9CgogIC8vIEF0dGFjaCBhIG1lZGlhIHN0cmVhbSB0byBhbiBlbGVtZW50LgogIGF0dGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24oZWxlbWVudCwgc3RyZWFtKSB7CiAgICBpZiAod2VicnRjRGV0ZWN0ZWRWZXJzaW9uID49IDQzKSB7CiAgICAgIGVsZW1lbnQuc3JjT2JqZWN0ID0gc3RyZWFtOwogICAgfSBlbHNlIGlmICh0eXBlb2YgZWxlbWVudC5zcmMgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgIGVsZW1lbnQuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChzdHJlYW0pOwogICAgfSBlbHNlIHsKICAgICAgd2VicnRjVXRpbHMubG9nKCdFcnJvciBhdHRhY2hpbmcgc3RyZWFtIHRvIGVsZW1lbnQuJyk7CiAgICB9CiAgfTsKICByZWF0dGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24odG8sIGZyb20pIHsKICAgIGlmICh3ZWJydGNEZXRlY3RlZFZlcnNpb24gPj0gNDMpIHsKICAgICAgdG8uc3JjT2JqZWN0ID0gZnJvbS5zcmNPYmplY3Q7CiAgICB9IGVsc2UgewogICAgICB0by5zcmMgPSBmcm9tLnNyYzsKICAgIH0KICB9OwoKfSBlbHNlIGlmIChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICYmIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goCiAgICAvRWRnZVwvKFxkKykuKFxkKykkLykpIHsKICB3ZWJydGNVdGlscy5sb2coJ1RoaXMgYXBwZWFycyB0byBiZSBFZGdlJyk7CiAgd2VicnRjRGV0ZWN0ZWRCcm93c2VyID0gJ2VkZ2UnOwoKICB3ZWJydGNEZXRlY3RlZFZlcnNpb24gPSB3ZWJydGNVdGlscy5leHRyYWN0VmVyc2lvbihuYXZpZ2F0b3IudXNlckFnZW50LAogICAgICAvRWRnZVwvKFxkKykuKFxkKykkLywgMik7CgogIC8vIFRoZSBtaW5pbXVtIHZlcnNpb24gc3RpbGwgc3VwcG9ydGVkIGJ5IGFkYXB0ZXIuCiAgLy8gVGhpcyBpcyB0aGUgYnVpbGQgbnVtYmVyIGZvciBFZGdlLgogIHdlYnJ0Y01pbmltdW1WZXJzaW9uID0gMTA1NDc7CgogIGlmICh3aW5kb3cuUlRDSWNlR2F0aGVyZXIpIHsKICAgIC8vIEdlbmVyYXRlIGFuIGFscGhhbnVtZXJpYyBpZGVudGlmaWVyIGZvciBjbmFtZSBvciBtaWRzLgogICAgLy8gVE9ETzogdXNlIFVVSURzIGluc3RlYWQ/IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2plZC85ODI4ODMKICAgIHZhciBnZW5lcmF0ZUlkZW50aWZpZXIgPSBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCAxMCk7CiAgICB9OwoKICAgIC8vIFRoZSBSVENQIENOQU1FIHVzZWQgYnkgYWxsIHBlZXJjb25uZWN0aW9ucyBmcm9tIHRoZSBzYW1lIEpTLgogICAgdmFyIGxvY2FsQ05hbWUgPSBnZW5lcmF0ZUlkZW50aWZpZXIoKTsKCiAgICAvLyBTRFAgaGVscGVycyAtIHRvIGJlIG1vdmVkIGludG8gc2VwYXJhdGUgbW9kdWxlLgogICAgdmFyIFNEUFV0aWxzID0ge307CgogICAgLy8gU3BsaXRzIFNEUCBpbnRvIGxpbmVzLCBkZWFsaW5nIHdpdGggYm90aCBDUkxGIGFuZCBMRi4KICAgIFNEUFV0aWxzLnNwbGl0TGluZXMgPSBmdW5jdGlvbihibG9iKSB7CiAgICAgIHJldHVybiBibG9iLnRyaW0oKS5zcGxpdCgnXG4nKS5tYXAoZnVuY3Rpb24obGluZSkgewogICAgICAgIHJldHVybiBsaW5lLnRyaW0oKTsKICAgICAgfSk7CiAgICB9OwoKICAgIC8vIFNwbGl0cyBTRFAgaW50byBzZXNzaW9ucGFydCBhbmQgbWVkaWFzZWN0aW9ucy4gRW5zdXJlcyBDUkxGLgogICAgU0RQVXRpbHMuc3BsaXRTZWN0aW9ucyA9IGZ1bmN0aW9uKGJsb2IpIHsKICAgICAgdmFyIHBhcnRzID0gYmxvYi5zcGxpdCgnXHJcbm09Jyk7CiAgICAgIHJldHVybiBwYXJ0cy5tYXAoZnVuY3Rpb24ocGFydCwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gKGluZGV4ID4gMCA/ICdtPScgKyBwYXJ0IDogcGFydCkudHJpbSgpICsgJ1xyXG4nOwogICAgICB9KTsKICAgIH07CgogICAgLy8gUmV0dXJucyBsaW5lcyB0aGF0IHN0YXJ0IHdpdGggYSBjZXJ0YWluIHByZWZpeC4KICAgIFNEUFV0aWxzLm1hdGNoUHJlZml4ID0gZnVuY3Rpb24oYmxvYiwgcHJlZml4KSB7CiAgICAgIHJldHVybiBTRFBVdGlscy5zcGxpdExpbmVzKGJsb2IpLmZpbHRlcihmdW5jdGlvbihsaW5lKSB7CiAgICAgICAgcmV0dXJuIGxpbmUuaW5kZXhPZihwcmVmaXgpID09PSAwOwogICAgICB9KTsKICAgIH07CgogICAgLy8gUGFyc2VzIGFuIElDRSBjYW5kaWRhdGUgbGluZS4gU2FtcGxlIGlucHV0OgogICAgLy8gY2FuZGlkYXRlOjcwMjc4NjM1MCAyIHVkcCA0MTgxOTkwMiA4LjguOC44IDYwNzY5IHR5cCByZWxheSByYWRkciA4LjguOC44IHJwb3J0IDU1OTk2IgogICAgU0RQVXRpbHMucGFyc2VDYW5kaWRhdGUgPSBmdW5jdGlvbihsaW5lKSB7CiAgICAgIHZhciBwYXJ0czsKICAgICAgLy8gUGFyc2UgYm90aCB2YXJpYW50cy4KICAgICAgaWYgKGxpbmUuaW5kZXhPZignYT1jYW5kaWRhdGU6JykgPT09IDApIHsKICAgICAgICBwYXJ0cyA9IGxpbmUuc3Vic3RyaW5nKDEyKS5zcGxpdCgnICcpOwogICAgICB9IGVsc2UgewogICAgICAgIHBhcnRzID0gbGluZS5zdWJzdHJpbmcoMTApLnNwbGl0KCcgJyk7CiAgICAgIH0KCiAgICAgIHZhciBjYW5kaWRhdGUgPSB7CiAgICAgICAgZm91bmRhdGlvbjogcGFydHNbMF0sCiAgICAgICAgY29tcG9uZW50OiBwYXJ0c1sxXSwKICAgICAgICBwcm90b2NvbDogcGFydHNbMl0udG9Mb3dlckNhc2UoKSwKICAgICAgICBwcmlvcml0eTogcGFyc2VJbnQocGFydHNbM10sIDEwKSwKICAgICAgICBpcDogcGFydHNbNF0sCiAgICAgICAgcG9ydDogcGFyc2VJbnQocGFydHNbNV0sIDEwKSwKICAgICAgICAvLyBza2lwIHBhcnRzWzZdID09ICd0eXAnCiAgICAgICAgdHlwZTogcGFydHNbN10KICAgICAgfTsKCiAgICAgIGZvciAodmFyIGkgPSA4OyBpIDwgcGFydHMubGVuZ3RoOyBpICs9IDIpIHsKICAgICAgICBzd2l0Y2ggKHBhcnRzW2ldKSB7CiAgICAgICAgICBjYXNlICdyYWRkcic6CiAgICAgICAgICAgIGNhbmRpZGF0ZS5yZWxhdGVkQWRkcmVzcyA9IHBhcnRzW2kgKyAxXTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdycG9ydCc6CiAgICAgICAgICAgIGNhbmRpZGF0ZS5yZWxhdGVkUG9ydCA9IHBhcnNlSW50KHBhcnRzW2kgKyAxXSwgMTApOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ3RjcHR5cGUnOgogICAgICAgICAgICBjYW5kaWRhdGUudGNwVHlwZSA9IHBhcnRzW2kgKyAxXTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBkZWZhdWx0OiAvLyBVbmtub3duIGV4dGVuc2lvbnMgYXJlIHNpbGVudGx5IGlnbm9yZWQuCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gY2FuZGlkYXRlOwogICAgfTsKCiAgICAvLyBUcmFuc2xhdGVzIGEgY2FuZGlkYXRlIG9iamVjdCBpbnRvIFNEUCBjYW5kaWRhdGUgYXR0cmlidXRlLgogICAgU0RQVXRpbHMud3JpdGVDYW5kaWRhdGUgPSBmdW5jdGlvbihjYW5kaWRhdGUpIHsKICAgICAgdmFyIHNkcCA9IFtdOwogICAgICBzZHAucHVzaChjYW5kaWRhdGUuZm91bmRhdGlvbik7CiAgICAgIHNkcC5wdXNoKGNhbmRpZGF0ZS5jb21wb25lbnQpOwogICAgICBzZHAucHVzaChjYW5kaWRhdGUucHJvdG9jb2wudG9VcHBlckNhc2UoKSk7CiAgICAgIHNkcC5wdXNoKGNhbmRpZGF0ZS5wcmlvcml0eSk7CiAgICAgIHNkcC5wdXNoKGNhbmRpZGF0ZS5pcCk7CiAgICAgIHNkcC5wdXNoKGNhbmRpZGF0ZS5wb3J0KTsKCiAgICAgIHZhciB0eXBlID0gY2FuZGlkYXRlLnR5cGU7CiAgICAgIHNkcC5wdXNoKCd0eXAnKTsKICAgICAgc2RwLnB1c2godHlwZSk7CiAgICAgIGlmICh0eXBlICE9PSAnaG9zdCcgJiYgY2FuZGlkYXRlLnJlbGF0ZWRBZGRyZXNzICYmCiAgICAgICAgICBjYW5kaWRhdGUucmVsYXRlZFBvcnQpIHsKICAgICAgICBzZHAucHVzaCgncmFkZHInKTsKICAgICAgICBzZHAucHVzaChjYW5kaWRhdGUucmVsYXRlZEFkZHJlc3MpOyAvLyB3YXM6IHJlbEFkZHIKICAgICAgICBzZHAucHVzaCgncnBvcnQnKTsKICAgICAgICBzZHAucHVzaChjYW5kaWRhdGUucmVsYXRlZFBvcnQpOyAvLyB3YXM6IHJlbFBvcnQKICAgICAgfQogICAgICBpZiAoY2FuZGlkYXRlLnRjcFR5cGUgJiYgY2FuZGlkYXRlLnByb3RvY29sLnRvTG93ZXJDYXNlKCkgPT09ICd0Y3AnKSB7CiAgICAgICAgc2RwLnB1c2goJ3RjcHR5cGUnKTsKICAgICAgICBzZHAucHVzaChjYW5kaWRhdGUudGNwVHlwZSk7CiAgICAgIH0KICAgICAgcmV0dXJuICdjYW5kaWRhdGU6JyArIHNkcC5qb2luKCcgJyk7CiAgICB9OwoKICAgIC8vIFBhcnNlcyBhbiBydHBtYXAgbGluZSwgcmV0dXJucyBSVENSdHBDb2RkZWNQYXJhbWV0ZXJzLiBTYW1wbGUgaW5wdXQ6CiAgICAvLyBhPXJ0cG1hcDoxMTEgb3B1cy80ODAwMC8yCiAgICBTRFBVdGlscy5wYXJzZVJ0cE1hcCA9IGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgdmFyIHBhcnRzID0gbGluZS5zdWJzdHIoOSkuc3BsaXQoJyAnKTsKICAgICAgdmFyIHBhcnNlZCA9IHsKICAgICAgICBwYXlsb2FkVHlwZTogcGFyc2VJbnQocGFydHMuc2hpZnQoKSwgMTApIC8vIHdhczogaWQKICAgICAgfTsKCiAgICAgIHBhcnRzID0gcGFydHNbMF0uc3BsaXQoJy8nKTsKCiAgICAgIHBhcnNlZC5uYW1lID0gcGFydHNbMF07CiAgICAgIHBhcnNlZC5jbG9ja1JhdGUgPSBwYXJzZUludChwYXJ0c1sxXSwgMTApOyAvLyB3YXM6IGNsb2NrcmF0ZQogICAgICBwYXJzZWQubnVtQ2hhbm5lbHMgPSBwYXJ0cy5sZW5ndGggPT09IDMgPyBwYXJzZUludChwYXJ0c1syXSwgMTApIDogMTsgLy8gd2FzOiBjaGFubmVscwogICAgICByZXR1cm4gcGFyc2VkOwogICAgfTsKCiAgICAvLyBHZW5lcmF0ZSBhbiBhPXJ0cG1hcCBsaW5lIGZyb20gUlRDUnRwQ29kZWNDYXBhYmlsaXR5IG9yIFJUQ1J0cENvZGVjUGFyYW1ldGVycy4KICAgIFNEUFV0aWxzLndyaXRlUnRwTWFwID0gZnVuY3Rpb24oY29kZWMpIHsKICAgICAgdmFyIHB0ID0gY29kZWMucGF5bG9hZFR5cGU7CiAgICAgIGlmIChjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcHQgPSBjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZTsKICAgICAgfQogICAgICByZXR1cm4gJ2E9cnRwbWFwOicgKyBwdCArICcgJyArIGNvZGVjLm5hbWUgKyAnLycgKyBjb2RlYy5jbG9ja1JhdGUgKwogICAgICAgICAgKGNvZGVjLm51bUNoYW5uZWxzICE9PSAxID8gJy8nICsgY29kZWMubnVtQ2hhbm5lbHMgOiAnJykgKyAnXHJcbic7CiAgICB9OwoKICAgIC8vIFBhcnNlcyBhbiBmdG1wIGxpbmUsIHJldHVybnMgZGljdGlvbmFyeS4gU2FtcGxlIGlucHV0OgogICAgLy8gYT1mbXRwOjk2IHZicj1vbjtjbmc9b24KICAgIC8vIEFsc28gZGVhbHMgd2l0aCB2YnI9b247IGNuZz1vbgogICAgU0RQVXRpbHMucGFyc2VGbXRwID0gZnVuY3Rpb24obGluZSkgewogICAgICB2YXIgcGFyc2VkID0ge307CiAgICAgIHZhciBrdjsKICAgICAgdmFyIHBhcnRzID0gbGluZS5zdWJzdHIobGluZS5pbmRleE9mKCcgJykgKyAxKS5zcGxpdCgnOycpOwogICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhcnRzLmxlbmd0aDsgaisrKSB7CiAgICAgICAga3YgPSBwYXJ0c1tqXS50cmltKCkuc3BsaXQoJz0nKTsKICAgICAgICBwYXJzZWRba3ZbMF0udHJpbSgpXSA9IGt2WzFdOwogICAgICB9CiAgICAgIHJldHVybiBwYXJzZWQ7CiAgICB9OwoKICAgIC8vIEdlbmVyYXRlcyBhbiBhPWZ0bXAgbGluZSBmcm9tIFJUQ1J0cENvZGVjQ2FwYWJpbGl0eSBvciBSVENSdHBDb2RlY1BhcmFtZXRlcnMuCiAgICBTRFBVdGlscy53cml0ZUZ0bXAgPSBmdW5jdGlvbihjb2RlYykgewogICAgICB2YXIgbGluZSA9ICcnOwogICAgICB2YXIgcHQgPSBjb2RlYy5wYXlsb2FkVHlwZTsKICAgICAgaWYgKGNvZGVjLnByZWZlcnJlZFBheWxvYWRUeXBlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBwdCA9IGNvZGVjLnByZWZlcnJlZFBheWxvYWRUeXBlOwogICAgICB9CiAgICAgIGlmIChjb2RlYy5wYXJhbWV0ZXJzICYmIGNvZGVjLnBhcmFtZXRlcnMubGVuZ3RoKSB7CiAgICAgICAgdmFyIHBhcmFtcyA9IFtdOwogICAgICAgIE9iamVjdC5rZXlzKGNvZGVjLnBhcmFtZXRlcnMpLmZvckVhY2goZnVuY3Rpb24ocGFyYW0pIHsKICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcmFtICsgJz0nICsgY29kZWMucGFyYW1ldGVyc1twYXJhbV0pOwogICAgICAgIH0pOwogICAgICAgIGxpbmUgKz0gJ2E9Zm10cDonICsgcHQgKyAnICcgKyBwYXJhbXMuam9pbignOycpICsgJ1xyXG4nOwogICAgICB9CiAgICAgIHJldHVybiBsaW5lOwogICAgfTsKCiAgICAvLyBQYXJzZXMgYW4gcnRjcC1mYiBsaW5lLCByZXR1cm5zIFJUQ1BSdGNwRmVlZGJhY2sgb2JqZWN0LiBTYW1wbGUgaW5wdXQ6CiAgICAvLyBhPXJ0Y3AtZmI6OTggbmFjayBycHNpCiAgICBTRFBVdGlscy5wYXJzZVJ0Y3BGYiA9IGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgdmFyIHBhcnRzID0gbGluZS5zdWJzdHIobGluZS5pbmRleE9mKCcgJykgKyAxKS5zcGxpdCgnICcpOwogICAgICByZXR1cm4gewogICAgICAgIHR5cGU6IHBhcnRzLnNoaWZ0KCksCiAgICAgICAgcGFyYW1ldGVyOiBwYXJ0cy5qb2luKCcgJykKICAgICAgfTsKICAgIH07CiAgICAvLyBHZW5lcmF0ZSBhPXJ0Y3AtZmIgbGluZXMgZnJvbSBSVENSdHBDb2RlY0NhcGFiaWxpdHkgb3IgUlRDUnRwQ29kZWNQYXJhbWV0ZXJzLgogICAgU0RQVXRpbHMud3JpdGVSdGNwRmIgPSBmdW5jdGlvbihjb2RlYykgewogICAgICB2YXIgbGluZXMgPSAnJzsKICAgICAgdmFyIHB0ID0gY29kZWMucGF5bG9hZFR5cGU7CiAgICAgIGlmIChjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcHQgPSBjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZTsKICAgICAgfQogICAgICBpZiAoY29kZWMucnRjcEZlZWRiYWNrICYmIGNvZGVjLnJ0Y3BGZWVkYmFjay5sZW5ndGgpIHsKICAgICAgICAvLyBGSVhNRTogc3BlY2lhbCBoYW5kbGluZyBmb3IgdHJyLWludD8KICAgICAgICBjb2RlYy5ydGNwRmVlZGJhY2suZm9yRWFjaChmdW5jdGlvbihmYikgewogICAgICAgICAgbGluZXMgKz0gJ2E9cnRjcC1mYjonICsgcHQgKyAnICcgKyBmYi50eXBlICsgJyAnICsgZmIucGFyYW1ldGVyICsKICAgICAgICAgICAgICAnXHJcbic7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGxpbmVzOwogICAgfTsKCiAgICAvLyBQYXJzZXMgYW4gUkZDIDU1NzYgc3NyYyBtZWRpYSBhdHRyaWJ1dGUuIFNhbXBsZSBpbnB1dDoKICAgIC8vIGE9c3NyYzozNzM1OTI4NTU5IGNuYW1lOnNvbWV0aGluZwogICAgU0RQVXRpbHMucGFyc2VTc3JjTWVkaWEgPSBmdW5jdGlvbihsaW5lKSB7CiAgICAgIHZhciBzcCA9IGxpbmUuaW5kZXhPZignICcpOwogICAgICB2YXIgcGFydHMgPSB7CiAgICAgICAgc3NyYzogbGluZS5zdWJzdHIoNywgc3AgLSA3KSwKICAgICAgfTsKICAgICAgdmFyIGNvbG9uID0gbGluZS5pbmRleE9mKCc6Jywgc3ApOwogICAgICBpZiAoY29sb24gPiAtMSkgewogICAgICAgIHBhcnRzLmF0dHJpYnV0ZSA9IGxpbmUuc3Vic3RyKHNwICsgMSwgY29sb24gLSBzcCAtIDEpOwogICAgICAgIHBhcnRzLnZhbHVlID0gbGluZS5zdWJzdHIoY29sb24gKyAxKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJ0cy5hdHRyaWJ1dGUgPSBsaW5lLnN1YnN0cihzcCArIDEpOwogICAgICB9CiAgICAgIHJldHVybiBwYXJ0czsKICAgIH07CgogICAgLy8gRXh0cmFjdHMgRFRMUyBwYXJhbWV0ZXJzIGZyb20gU0RQIG1lZGlhIHNlY3Rpb24gb3Igc2Vzc2lvbnBhcnQuCiAgICAvLyBGSVhNRTogZm9yIGNvbnNpc3RlbmN5IHdpdGggb3RoZXIgZnVuY3Rpb25zIHRoaXMgc2hvdWxkIG9ubHkKICAgIC8vICAgZ2V0IHRoZSBmaW5nZXJwcmludCBsaW5lIGFzIGlucHV0LiBTZWUgYWxzbyBnZXRJY2VQYXJhbWV0ZXJzLgogICAgU0RQVXRpbHMuZ2V0RHRsc1BhcmFtZXRlcnMgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24sIHNlc3Npb25wYXJ0KSB7CiAgICAgIHZhciBsaW5lcyA9IFNEUFV0aWxzLnNwbGl0TGluZXMobWVkaWFTZWN0aW9uKTsKICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoU0RQVXRpbHMuc3BsaXRMaW5lcyhzZXNzaW9ucGFydCkpOyAvLyBTZWFyY2ggaW4gc2Vzc2lvbiBwYXJ0LCB0b28uCiAgICAgIHZhciBmcExpbmUgPSBsaW5lcy5maWx0ZXIoZnVuY3Rpb24obGluZSkgewogICAgICAgIHJldHVybiBsaW5lLmluZGV4T2YoJ2E9ZmluZ2VycHJpbnQ6JykgPT09IDA7CiAgICAgIH0pWzBdLnN1YnN0cigxNCk7CiAgICAgIC8vIE5vdGU6IGE9c2V0dXAgbGluZSBpcyBpZ25vcmVkIHNpbmNlIHdlIHVzZSB0aGUgJ2F1dG8nIHJvbGUuCiAgICAgIHZhciBkdGxzUGFyYW1ldGVycyA9IHsKICAgICAgICByb2xlOiAnYXV0bycsCiAgICAgICAgZmluZ2VycHJpbnRzOiBbewogICAgICAgICAgYWxnb3JpdGhtOiBmcExpbmUuc3BsaXQoJyAnKVswXSwKICAgICAgICAgIHZhbHVlOiBmcExpbmUuc3BsaXQoJyAnKVsxXQogICAgICAgIH1dCiAgICAgIH07CiAgICAgIHJldHVybiBkdGxzUGFyYW1ldGVyczsKICAgIH07CgogICAgLy8gU2VyaWFsaXplcyBEVExTIHBhcmFtZXRlcnMgdG8gU0RQLgogICAgU0RQVXRpbHMud3JpdGVEdGxzUGFyYW1ldGVycyA9IGZ1bmN0aW9uKHBhcmFtcywgc2V0dXBUeXBlKSB7CiAgICAgIHZhciBzZHAgPSAnYT1zZXR1cDonICsgc2V0dXBUeXBlICsgJ1xyXG4nOwogICAgICBwYXJhbXMuZmluZ2VycHJpbnRzLmZvckVhY2goZnVuY3Rpb24oZnApIHsKICAgICAgICBzZHAgKz0gJ2E9ZmluZ2VycHJpbnQ6JyArIGZwLmFsZ29yaXRobSArICcgJyArIGZwLnZhbHVlICsgJ1xyXG4nOwogICAgICB9KTsKICAgICAgcmV0dXJuIHNkcDsKICAgIH07CiAgICAvLyBQYXJzZXMgSUNFIGluZm9ybWF0aW9uIGZyb20gU0RQIG1lZGlhIHNlY3Rpb24gb3Igc2Vzc2lvbnBhcnQuCiAgICAvLyBGSVhNRTogZm9yIGNvbnNpc3RlbmN5IHdpdGggb3RoZXIgZnVuY3Rpb25zIHRoaXMgc2hvdWxkIG9ubHkKICAgIC8vICAgZ2V0IHRoZSBpY2UtdWZyYWcgYW5kIGljZS1wd2QgbGluZXMgYXMgaW5wdXQuCiAgICBTRFBVdGlscy5nZXRJY2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24obWVkaWFTZWN0aW9uLCBzZXNzaW9ucGFydCkgewogICAgICB2YXIgbGluZXMgPSBTRFBVdGlscy5zcGxpdExpbmVzKG1lZGlhU2VjdGlvbik7CiAgICAgIGxpbmVzID0gbGluZXMuY29uY2F0KFNEUFV0aWxzLnNwbGl0TGluZXMoc2Vzc2lvbnBhcnQpKTsgLy8gU2VhcmNoIGluIHNlc3Npb24gcGFydCwgdG9vLgogICAgICB2YXIgaWNlUGFyYW1ldGVycyA9IHsKICAgICAgICB1c2VybmFtZUZyYWdtZW50OiBsaW5lcy5maWx0ZXIoZnVuY3Rpb24obGluZSkgewogICAgICAgICAgcmV0dXJuIGxpbmUuaW5kZXhPZignYT1pY2UtdWZyYWc6JykgPT09IDA7CiAgICAgICAgfSlbMF0uc3Vic3RyKDEyKSwKICAgICAgICBwYXNzd29yZDogbGluZXMuZmlsdGVyKGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgICAgIHJldHVybiBsaW5lLmluZGV4T2YoJ2E9aWNlLXB3ZDonKSA9PT0gMDsKICAgICAgICB9KVswXS5zdWJzdHIoMTApCiAgICAgIH07CiAgICAgIHJldHVybiBpY2VQYXJhbWV0ZXJzOwogICAgfTsKCiAgICAvLyBTZXJpYWxpemVzIElDRSBwYXJhbWV0ZXJzIHRvIFNEUC4KICAgIFNEUFV0aWxzLndyaXRlSWNlUGFyYW1ldGVycyA9IGZ1bmN0aW9uKHBhcmFtcykgewogICAgICByZXR1cm4gJ2E9aWNlLXVmcmFnOicgKyBwYXJhbXMudXNlcm5hbWVGcmFnbWVudCArICdcclxuJyArCiAgICAgICAgICAnYT1pY2UtcHdkOicgKyBwYXJhbXMucGFzc3dvcmQgKyAnXHJcbic7CiAgICB9OwoKICAgIC8vIFBhcnNlcyB0aGUgU0RQIG1lZGlhIHNlY3Rpb24gYW5kIHJldHVybnMgUlRDUnRwUGFyYW1ldGVycy4KICAgIFNEUFV0aWxzLnBhcnNlUnRwUGFyYW1ldGVycyA9IGZ1bmN0aW9uKG1lZGlhU2VjdGlvbikgewogICAgICB2YXIgZGVzY3JpcHRpb24gPSB7CiAgICAgICAgY29kZWNzOiBbXSwKICAgICAgICBoZWFkZXJFeHRlbnNpb25zOiBbXSwKICAgICAgICBmZWNNZWNoYW5pc21zOiBbXSwKICAgICAgICBydGNwOiBbXQogICAgICB9OwogICAgICB2YXIgbGluZXMgPSBTRFBVdGlscy5zcGxpdExpbmVzKG1lZGlhU2VjdGlvbik7CiAgICAgIHZhciBtbGluZSA9IGxpbmVzWzBdLnNwbGl0KCcgJyk7CiAgICAgIGZvciAodmFyIGkgPSAzOyBpIDwgbWxpbmUubGVuZ3RoOyBpKyspIHsgLy8gZmluZCBhbGwgY29kZWNzIGZyb20gbWxpbmVbMy4uXQogICAgICAgIHZhciBwdCA9IG1saW5lW2ldOwogICAgICAgIHZhciBydHBtYXBsaW5lID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgoCiAgICAgICAgICAgIG1lZGlhU2VjdGlvbiwgJ2E9cnRwbWFwOicgKyBwdCArICcgJylbMF07CiAgICAgICAgaWYgKHJ0cG1hcGxpbmUpIHsKICAgICAgICAgIHZhciBjb2RlYyA9IFNEUFV0aWxzLnBhcnNlUnRwTWFwKHJ0cG1hcGxpbmUpOwogICAgICAgICAgdmFyIGZtdHBzID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgoCiAgICAgICAgICAgICAgbWVkaWFTZWN0aW9uLCAnYT1mbXRwOicgKyBwdCArICcgJyk7CiAgICAgICAgICAvLyBPbmx5IHRoZSBmaXJzdCBhPWZtdHA6PHB0PiBpcyBjb25zaWRlcmVkLgogICAgICAgICAgY29kZWMucGFyYW1ldGVycyA9IGZtdHBzLmxlbmd0aCA/IFNEUFV0aWxzLnBhcnNlRm10cChmbXRwc1swXSkgOiB7fTsKICAgICAgICAgIGNvZGVjLnJ0Y3BGZWVkYmFjayA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KAogICAgICAgICAgICAgIG1lZGlhU2VjdGlvbiwgJ2E9cnRjcC1mYjonICsgcHQgKyAnICcpCiAgICAgICAgICAgIC5tYXAoU0RQVXRpbHMucGFyc2VSdGNwRmIpOwogICAgICAgICAgZGVzY3JpcHRpb24uY29kZWNzLnB1c2goY29kZWMpOwogICAgICAgIH0KICAgICAgfQogICAgICAvLyBGSVhNRTogcGFyc2UgaGVhZGVyRXh0ZW5zaW9ucywgZmVjTWVjaGFuaXNtcyBhbmQgcnRjcC4KICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uOwogICAgfTsKCiAgICAvLyBHZW5lcmF0ZXMgcGFydHMgb2YgdGhlIFNEUCBtZWRpYSBzZWN0aW9uIGRlc2NyaWJpbmcgdGhlIGNhcGFiaWxpdGllcyAvIHBhcmFtZXRlcnMuCiAgICBTRFBVdGlscy53cml0ZVJ0cERlc2NyaXB0aW9uID0gZnVuY3Rpb24oa2luZCwgY2FwcykgewogICAgICB2YXIgc2RwID0gJyc7CgogICAgICAvLyBCdWlsZCB0aGUgbWxpbmUuCiAgICAgIHNkcCArPSAnbT0nICsga2luZCArICcgJzsKICAgICAgc2RwICs9IGNhcHMuY29kZWNzLmxlbmd0aCA+IDAgPyAnOScgOiAnMCc7IC8vIHJlamVjdCBpZiBubyBjb2RlY3MuCiAgICAgIHNkcCArPSAnIFVEUC9UTFMvUlRQL1NBVlBGICc7CiAgICAgIHNkcCArPSBjYXBzLmNvZGVjcy5tYXAoZnVuY3Rpb24oY29kZWMpIHsKICAgICAgICBpZiAoY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcmV0dXJuIGNvZGVjLnByZWZlcnJlZFBheWxvYWRUeXBlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gY29kZWMucGF5bG9hZFR5cGU7CiAgICAgIH0pLmpvaW4oJyAnKSArICdcclxuJzsKCiAgICAgIHNkcCArPSAnYz1JTiBJUDQgMC4wLjAuMFxyXG4nOwogICAgICBzZHAgKz0gJ2E9cnRjcDo5IElOIElQNCAwLjAuMC4wXHJcbic7CgogICAgICAvLyBBZGQgYT1ydHBtYXAgbGluZXMgZm9yIGVhY2ggY29kZWMuIEFsc28gZm10cCBhbmQgcnRjcC1mYi4KICAgICAgY2Fwcy5jb2RlY3MuZm9yRWFjaChmdW5jdGlvbihjb2RlYykgewogICAgICAgIHNkcCArPSBTRFBVdGlscy53cml0ZVJ0cE1hcChjb2RlYyk7CiAgICAgICAgc2RwICs9IFNEUFV0aWxzLndyaXRlRnRtcChjb2RlYyk7CiAgICAgICAgc2RwICs9IFNEUFV0aWxzLndyaXRlUnRjcEZiKGNvZGVjKTsKICAgICAgfSk7CiAgICAgIC8vIEZJWE1FOiBhZGQgaGVhZGVyRXh0ZW5zaW9ucywgZmVjTWVjaGFuaXNtxZ8gYW5kIHJ0Y3AuCiAgICAgIHNkcCArPSAnYT1ydGNwLW11eFxyXG4nOwogICAgICByZXR1cm4gc2RwOwogICAgfTsKCiAgICBTRFBVdGlscy53cml0ZVNlc3Npb25Cb2lsZXJwbGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAvLyBGSVhNRTogc2Vzcy1pZCBzaG91bGQgYmUgYW4gTlRQIHRpbWVzdGFtcC4KICAgICAgcmV0dXJuICd2PTBcclxuJyArCiAgICAgICAgICAnbz10aGlzaXNhZGFwdGVyb3J0YyA4MTY5NjM5OTE1NjQ2OTQzMTM3IDIgSU4gSVA0IDEyNy4wLjAuMVxyXG4nICsKICAgICAgICAgICdzPS1cclxuJyArCiAgICAgICAgICAndD0wIDBcclxuJzsKICAgIH07CgogICAgU0RQVXRpbHMud3JpdGVNZWRpYVNlY3Rpb24gPSBmdW5jdGlvbih0cmFuc2NlaXZlciwgY2FwcywgdHlwZSwgc3RyZWFtKSB7CiAgICAgIHZhciBzZHAgPSBTRFBVdGlscy53cml0ZVJ0cERlc2NyaXB0aW9uKHRyYW5zY2VpdmVyLmtpbmQsIGNhcHMpOwoKICAgICAgLy8gTWFwIElDRSBwYXJhbWV0ZXJzICh1ZnJhZywgcHdkKSB0byBTRFAuCiAgICAgIHNkcCArPSBTRFBVdGlscy53cml0ZUljZVBhcmFtZXRlcnMoCiAgICAgICAgICB0cmFuc2NlaXZlci5pY2VHYXRoZXJlci5nZXRMb2NhbFBhcmFtZXRlcnMoKSk7CgogICAgICAvLyBNYXAgRFRMUyBwYXJhbWV0ZXJzIHRvIFNEUC4KICAgICAgc2RwICs9IFNEUFV0aWxzLndyaXRlRHRsc1BhcmFtZXRlcnMoCiAgICAgICAgICB0cmFuc2NlaXZlci5kdGxzVHJhbnNwb3J0LmdldExvY2FsUGFyYW1ldGVycygpLAogICAgICAgICAgdHlwZSA9PT0gJ29mZmVyJyA/ICdhY3RwYXNzJyA6ICdhY3RpdmUnKTsKCiAgICAgIHNkcCArPSAnYT1taWQ6JyArIHRyYW5zY2VpdmVyLm1pZCArICdcclxuJzsKCiAgICAgIGlmICh0cmFuc2NlaXZlci5ydHBTZW5kZXIgJiYgdHJhbnNjZWl2ZXIucnRwUmVjZWl2ZXIpIHsKICAgICAgICBzZHAgKz0gJ2E9c2VuZHJlY3ZcclxuJzsKICAgICAgfSBlbHNlIGlmICh0cmFuc2NlaXZlci5ydHBTZW5kZXIpIHsKICAgICAgICBzZHAgKz0gJ2E9c2VuZG9ubHlcclxuJzsKICAgICAgfSBlbHNlIGlmICh0cmFuc2NlaXZlci5ydHBSZWNlaXZlcikgewogICAgICAgIHNkcCArPSAnYT1yZWN2b25seVxyXG4nOwogICAgICB9IGVsc2UgewogICAgICAgIHNkcCArPSAnYT1pbmFjdGl2ZVxyXG4nOwogICAgICB9CgogICAgICAvLyBGSVhNRTogZm9yIFJUWCB0aGVyZSBtaWdodCBiZSBtdWx0aXBsZSBTU1JDcy4gTm90IGltcGxlbWVudGVkIGluIEVkZ2UgeWV0LgogICAgICBpZiAodHJhbnNjZWl2ZXIucnRwU2VuZGVyKSB7CiAgICAgICAgdmFyIG1zaWQgPSAnbXNpZDonICsgc3RyZWFtLmlkICsgJyAnICsKICAgICAgICAgICAgdHJhbnNjZWl2ZXIucnRwU2VuZGVyLnRyYWNrLmlkICsgJ1xyXG4nOwogICAgICAgIHNkcCArPSAnYT0nICsgbXNpZDsKICAgICAgICBzZHAgKz0gJ2E9c3NyYzonICsgdHJhbnNjZWl2ZXIuc2VuZFNzcmMgKyAnICcgKyBtc2lkOwogICAgICB9CiAgICAgIC8vIEZJWE1FOiB0aGlzIHNob3VsZCBiZSB3cml0dGVuIGJ5IHdyaXRlUnRwRGVzY3JpcHRpb24uCiAgICAgIHNkcCArPSAnYT1zc3JjOicgKyB0cmFuc2NlaXZlci5zZW5kU3NyYyArICcgY25hbWU6JyArCiAgICAgICAgICBsb2NhbENOYW1lICsgJ1xyXG4nOwogICAgICByZXR1cm4gc2RwOwogICAgfTsKCiAgICAvLyBHZXRzIHRoZSBkaXJlY3Rpb24gZnJvbSB0aGUgbWVkaWFTZWN0aW9uIG9yIHRoZSBzZXNzaW9ucGFydC4KICAgIFNEUFV0aWxzLmdldERpcmVjdGlvbiA9IGZ1bmN0aW9uKG1lZGlhU2VjdGlvbiwgc2Vzc2lvbnBhcnQpIHsKICAgICAgLy8gTG9vayBmb3Igc2VuZHJlY3YsIHNlbmRvbmx5LCByZWN2b25seSwgaW5hY3RpdmUsIGRlZmF1bHQgdG8gc2VuZHJlY3YuCiAgICAgIHZhciBsaW5lcyA9IFNEUFV0aWxzLnNwbGl0TGluZXMobWVkaWFTZWN0aW9uKTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykgewogICAgICAgIHN3aXRjaCAobGluZXNbaV0pIHsKICAgICAgICAgIGNhc2UgJ2E9c2VuZHJlY3YnOgogICAgICAgICAgY2FzZSAnYT1zZW5kb25seSc6CiAgICAgICAgICBjYXNlICdhPXJlY3Zvbmx5JzoKICAgICAgICAgIGNhc2UgJ2E9aW5hY3RpdmUnOgogICAgICAgICAgICByZXR1cm4gbGluZXNbaV0uc3Vic3RyKDIpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoc2Vzc2lvbnBhcnQpIHsKICAgICAgICByZXR1cm4gU0RQVXRpbHMuZ2V0RGlyZWN0aW9uKHNlc3Npb25wYXJ0KTsKICAgICAgfQogICAgICByZXR1cm4gJ3NlbmRyZWN2JzsKICAgIH07CgogICAgLy8gT1JUQyBkZWZpbmVzIGFuIFJUQ0ljZUNhbmRpZGF0ZSBvYmplY3QgYnV0IG5vIGNvbnN0cnVjdG9yLgogICAgLy8gTm90IGltcGxlbWVudGVkIGluIEVkZ2UuCiAgICBpZiAoIXdpbmRvdy5SVENJY2VDYW5kaWRhdGUpIHsKICAgICAgd2luZG93LlJUQ0ljZUNhbmRpZGF0ZSA9IGZ1bmN0aW9uKGFyZ3MpIHsKICAgICAgICByZXR1cm4gYXJnczsKICAgICAgfTsKICAgIH0KICAgIC8vIE9SVEMgZG9lcyBub3QgaGF2ZSBhIHNlc3Npb24gZGVzY3JpcHRpb24gb2JqZWN0IGJ1dAogICAgLy8gb3RoZXIgYnJvd3NlcnMgKGkuZS4gQ2hyb21lKSB0aGF0IHdpbGwgc3VwcG9ydCBib3RoIFBDIGFuZCBPUlRDCiAgICAvLyBpbiB0aGUgZnV0dXJlIG1pZ2h0IGhhdmUgdGhpcyBkZWZpbmVkIGFscmVhZHkuCiAgICBpZiAoIXdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24pIHsKICAgICAgd2luZG93LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKGFyZ3MpIHsKICAgICAgICByZXR1cm4gYXJnczsKICAgICAgfTsKICAgIH0KCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gPSBmdW5jdGlvbihjb25maWcpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwoKICAgICAgdGhpcy5vbmljZWNhbmRpZGF0ZSA9IG51bGw7CiAgICAgIHRoaXMub25hZGRzdHJlYW0gPSBudWxsOwogICAgICB0aGlzLm9ucmVtb3Zlc3RyZWFtID0gbnVsbDsKICAgICAgdGhpcy5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlID0gbnVsbDsKICAgICAgdGhpcy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSA9IG51bGw7CiAgICAgIHRoaXMub25uZWdvdGlhdGlvbm5lZWRlZCA9IG51bGw7CiAgICAgIHRoaXMub25kYXRhY2hhbm5lbCA9IG51bGw7CgogICAgICB0aGlzLmxvY2FsU3RyZWFtcyA9IFtdOwogICAgICB0aGlzLnJlbW90ZVN0cmVhbXMgPSBbXTsKICAgICAgdGhpcy5nZXRMb2NhbFN0cmVhbXMgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYubG9jYWxTdHJlYW1zOyB9OwogICAgICB0aGlzLmdldFJlbW90ZVN0cmVhbXMgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYucmVtb3RlU3RyZWFtczsgfTsKCiAgICAgIHRoaXMubG9jYWxEZXNjcmlwdGlvbiA9IG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oewogICAgICAgIHR5cGU6ICcnLAogICAgICAgIHNkcDogJycKICAgICAgfSk7CiAgICAgIHRoaXMucmVtb3RlRGVzY3JpcHRpb24gPSBuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHsKICAgICAgICB0eXBlOiAnJywKICAgICAgICBzZHA6ICcnCiAgICAgIH0pOwogICAgICB0aGlzLnNpZ25hbGluZ1N0YXRlID0gJ3N0YWJsZSc7CiAgICAgIHRoaXMuaWNlQ29ubmVjdGlvblN0YXRlID0gJ25ldyc7CgogICAgICB0aGlzLmljZU9wdGlvbnMgPSB7CiAgICAgICAgZ2F0aGVyUG9saWN5OiAnYWxsJywKICAgICAgICBpY2VTZXJ2ZXJzOiBbXQogICAgICB9OwogICAgICBpZiAoY29uZmlnICYmIGNvbmZpZy5pY2VUcmFuc3BvcnRQb2xpY3kpIHsKICAgICAgICBzd2l0Y2ggKGNvbmZpZy5pY2VUcmFuc3BvcnRQb2xpY3kpIHsKICAgICAgICAgIGNhc2UgJ2FsbCc6CiAgICAgICAgICBjYXNlICdyZWxheSc6CiAgICAgICAgICAgIHRoaXMuaWNlT3B0aW9ucy5nYXRoZXJQb2xpY3kgPSBjb25maWcuaWNlVHJhbnNwb3J0UG9saWN5OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ25vbmUnOgogICAgICAgICAgICAvLyBGSVhNRTogcmVtb3ZlIG9uY2UgaW1wbGVtZW50YXRpb24gYW5kIHNwZWMgaGF2ZSBhZGRlZCB0aGlzLgogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpY2VUcmFuc3BvcnRQb2xpY3kgIm5vbmUiIG5vdCBzdXBwb3J0ZWQnKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGNvbmZpZyAmJiBjb25maWcuaWNlU2VydmVycykgewogICAgICAgIC8vIEVkZ2UgZG9lcyBub3QgbGlrZQogICAgICAgIC8vIDEpIHN0dW46CiAgICAgICAgLy8gMikgdHVybjogdGhhdCBkb2VzIG5vdCBoYXZlIGFsbCBvZiB0dXJuOmhvc3Q6cG9ydD90cmFuc3BvcnQ9dWRwCiAgICAgICAgLy8gMykgYW4gYXJyYXkgb2YgdXJscwogICAgICAgIGNvbmZpZy5pY2VTZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24oc2VydmVyKSB7CiAgICAgICAgICBpZiAoc2VydmVyLnVybHMpIHsKICAgICAgICAgICAgdmFyIHVybDsKICAgICAgICAgICAgaWYgKHR5cGVvZihzZXJ2ZXIudXJscykgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgdXJsID0gc2VydmVyLnVybHM7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdXJsID0gc2VydmVyLnVybHNbMF07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCd0cmFuc3BvcnQ9dWRwJykgIT09IC0xKSB7CiAgICAgICAgICAgICAgc2VsZi5pY2VTZXJ2ZXJzLnB1c2goewogICAgICAgICAgICAgICAgdXNlcm5hbWU6IHNlcnZlci51c2VybmFtZSwKICAgICAgICAgICAgICAgIGNyZWRlbnRpYWw6IHNlcnZlci5jcmVkZW50aWFsLAogICAgICAgICAgICAgICAgdXJsczogdXJsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgLy8gcGVyLXRyYWNrIGljZUdhdGhlcnMsIGljZVRyYW5zcG9ydHMsIGR0bHNUcmFuc3BvcnRzLCBydHBTZW5kZXJzLCAuLi4KICAgICAgLy8gZXZlcnl0aGluZyB0aGF0IGlzIG5lZWRlZCB0byBkZXNjcmliZSBhIFNEUCBtLWxpbmUuCiAgICAgIHRoaXMudHJhbnNjZWl2ZXJzID0gW107CgogICAgICAvLyBzaW5jZSB0aGUgaWNlR2F0aGVyZXIgaXMgY3VycmVudGx5IGNyZWF0ZWQgaW4gY3JlYXRlT2ZmZXIgYnV0IHdlCiAgICAgIC8vIG11c3Qgbm90IGVtaXQgY2FuZGlkYXRlcyB1bnRpbCBhZnRlciBzZXRMb2NhbERlc2NyaXB0aW9uIHdlIGJ1ZmZlcgogICAgICAvLyB0aGVtIGluIHRoaXMgYXJyYXkuCiAgICAgIHRoaXMuX2xvY2FsSWNlQ2FuZGlkYXRlc0J1ZmZlciA9IFtdOwogICAgfTsKCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl9lbWl0QnVmZmVyZWRDYW5kaWRhdGVzID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgLy8gRklYTUU6IG5lZWQgdG8gYXBwbHkgaWNlIGNhbmRpZGF0ZXMgaW4gYSB3YXkgd2hpY2ggaXMgYXN5bmMgYnV0IGluLW9yZGVyCiAgICAgIHRoaXMuX2xvY2FsSWNlQ2FuZGlkYXRlc0J1ZmZlci5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgaWYgKHNlbGYub25pY2VjYW5kaWRhdGUgIT09IG51bGwpIHsKICAgICAgICAgIHNlbGYub25pY2VjYW5kaWRhdGUoZXZlbnQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuX2xvY2FsSWNlQ2FuZGlkYXRlc0J1ZmZlciA9IFtdOwogICAgfTsKCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbSA9IGZ1bmN0aW9uKHN0cmVhbSkgewogICAgICAvLyBDbG9uZSBpcyBuZWNlc3NhcnkgZm9yIGxvY2FsIGRlbW9zIG1vc3RseSwgYXR0YWNoaW5nIGRpcmVjdGx5CiAgICAgIC8vIHRvIHR3byBkaWZmZXJlbnQgc2VuZGVycyBkb2VzIG5vdCB3b3JrIChidWlsZCAxMDU0NykuCiAgICAgIHRoaXMubG9jYWxTdHJlYW1zLnB1c2goc3RyZWFtLmNsb25lKCkpOwogICAgICB0aGlzLl9tYXliZUZpcmVOZWdvdGlhdGlvbk5lZWRlZCgpOwogICAgfTsKCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbSA9IGZ1bmN0aW9uKHN0cmVhbSkgewogICAgICB2YXIgaWR4ID0gdGhpcy5sb2NhbFN0cmVhbXMuaW5kZXhPZihzdHJlYW0pOwogICAgICBpZiAoaWR4ID4gLTEpIHsKICAgICAgICB0aGlzLmxvY2FsU3RyZWFtcy5zcGxpY2UoaWR4LCAxKTsKICAgICAgICB0aGlzLl9tYXliZUZpcmVOZWdvdGlhdGlvbk5lZWRlZCgpOwogICAgICB9CiAgICB9OwoKICAgIC8vIERldGVybWluZXMgdGhlIGludGVyc2VjdGlvbiBvZiBsb2NhbCBhbmQgcmVtb3RlIGNhcGFiaWxpdGllcy4KICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuX2dldENvbW1vbkNhcGFiaWxpdGllcyA9CiAgICAgICAgZnVuY3Rpb24obG9jYWxDYXBhYmlsaXRpZXMsIHJlbW90ZUNhcGFiaWxpdGllcykgewogICAgICB2YXIgY29tbW9uQ2FwYWJpbGl0aWVzID0gewogICAgICAgIGNvZGVjczogW10sCiAgICAgICAgaGVhZGVyRXh0ZW5zaW9uczogW10sCiAgICAgICAgZmVjTWVjaGFuaXNtczogW10KICAgICAgfTsKICAgICAgbG9jYWxDYXBhYmlsaXRpZXMuY29kZWNzLmZvckVhY2goZnVuY3Rpb24obENvZGVjKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdGVDYXBhYmlsaXRpZXMuY29kZWNzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgckNvZGVjID0gcmVtb3RlQ2FwYWJpbGl0aWVzLmNvZGVjc1tpXTsKICAgICAgICAgIGlmIChsQ29kZWMubmFtZS50b0xvd2VyQ2FzZSgpID09PSByQ29kZWMubmFtZS50b0xvd2VyQ2FzZSgpICYmCiAgICAgICAgICAgICAgbENvZGVjLmNsb2NrUmF0ZSA9PT0gckNvZGVjLmNsb2NrUmF0ZSAmJgogICAgICAgICAgICAgIGxDb2RlYy5udW1DaGFubmVscyA9PT0gckNvZGVjLm51bUNoYW5uZWxzKSB7CiAgICAgICAgICAgIC8vIHB1c2ggckNvZGVjIHNvIHdlIHJlcGx5IHdpdGggb2ZmZXJlciBwYXlsb2FkIHR5cGUKICAgICAgICAgICAgY29tbW9uQ2FwYWJpbGl0aWVzLmNvZGVjcy5wdXNoKHJDb2RlYyk7CgogICAgICAgICAgICAvLyBGSVhNRTogYWxzbyBuZWVkIHRvIGRldGVybWluZSBpbnRlcnNlY3Rpb24gYmV0d2VlbgogICAgICAgICAgICAvLyAucnRjcEZlZWRiYWNrIGFuZCAucGFyYW1ldGVycwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgbG9jYWxDYXBhYmlsaXRpZXMuaGVhZGVyRXh0ZW5zaW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGxIZWFkZXJFeHRlbnNpb24pIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbW90ZUNhcGFiaWxpdGllcy5oZWFkZXJFeHRlbnNpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgckhlYWRlckV4dGVuc2lvbiA9IHJlbW90ZUNhcGFiaWxpdGllcy5oZWFkZXJFeHRlbnNpb25zW2ldOwogICAgICAgICAgaWYgKGxIZWFkZXJFeHRlbnNpb24udXJpID09PSBySGVhZGVyRXh0ZW5zaW9uLnVyaSkgewogICAgICAgICAgICBjb21tb25DYXBhYmlsaXRpZXMuaGVhZGVyRXh0ZW5zaW9ucy5wdXNoKHJIZWFkZXJFeHRlbnNpb24pOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgLy8gRklYTUU6IGZlY01lY2hhbmlzbXMKICAgICAgcmV0dXJuIGNvbW1vbkNhcGFiaWxpdGllczsKICAgIH07CgogICAgLy8gQ3JlYXRlIElDRSBnYXRoZXJlciwgSUNFIHRyYW5zcG9ydCBhbmQgRFRMUyB0cmFuc3BvcnQuCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl9jcmVhdGVJY2VBbmREdGxzVHJhbnNwb3J0cyA9CiAgICAgICAgZnVuY3Rpb24obWlkLCBzZHBNTGluZUluZGV4KSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIGljZUdhdGhlcmVyID0gbmV3IFJUQ0ljZUdhdGhlcmVyKHNlbGYuaWNlT3B0aW9ucyk7CiAgICAgIHZhciBpY2VUcmFuc3BvcnQgPSBuZXcgUlRDSWNlVHJhbnNwb3J0KGljZUdhdGhlcmVyKTsKICAgICAgaWNlR2F0aGVyZXIub25sb2NhbGNhbmRpZGF0ZSA9IGZ1bmN0aW9uKGV2dCkgewogICAgICAgIHZhciBldmVudCA9IHt9OwogICAgICAgIGV2ZW50LmNhbmRpZGF0ZSA9IHtzZHBNaWQ6IG1pZCwgc2RwTUxpbmVJbmRleDogc2RwTUxpbmVJbmRleH07CgogICAgICAgIHZhciBjYW5kID0gZXZ0LmNhbmRpZGF0ZTsKICAgICAgICAvLyBFZGdlIGVtaXRzIGFuIGVtcHR5IG9iamVjdCBmb3IgUlRDSWNlQ2FuZGlkYXRlQ29tcGxldGXigKUKICAgICAgICBpZiAoIWNhbmQgfHwgT2JqZWN0LmtleXMoY2FuZCkubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAvLyBwb2x5ZmlsbCBzaW5jZSBSVENJY2VHYXRoZXJlci5zdGF0ZSBpcyBub3QgaW1wbGVtZW50ZWQgaW4gRWRnZSAxMDU0NyB5ZXQuCiAgICAgICAgICBpZiAoaWNlR2F0aGVyZXIuc3RhdGUgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBpY2VHYXRoZXJlci5zdGF0ZSA9ICdjb21wbGV0ZWQnOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIEVtaXQgYSBjYW5kaWRhdGUgd2l0aCB0eXBlIGVuZE9mQ2FuZGlkYXRlcyB0byBtYWtlIHRoZSBzYW1wbGVzIHdvcmsuCiAgICAgICAgICAvLyBFZGdlIHJlcXVpcmVzIGFkZEljZUNhbmRpZGF0ZSB3aXRoIHRoaXMgZW1wdHkgY2FuZGlkYXRlIHRvIHN0YXJ0IGNoZWNraW5nLgogICAgICAgICAgLy8gVGhlIHJlYWwgc29sdXRpb24gaXMgdG8gc2lnbmFsIGVuZC1vZi1jYW5kaWRhdGVzIHRvIHRoZSBvdGhlciBzaWRlIHdoZW4KICAgICAgICAgIC8vIGdldHRpbmcgdGhlIG51bGwgY2FuZGlkYXRlIGJ1dCBzb21lIGFwcHMgKGxpa2UgdGhlIHNhbXBsZXMpIGRvbid0IGRvIHRoYXQuCiAgICAgICAgICBldmVudC5jYW5kaWRhdGUuY2FuZGlkYXRlID0KICAgICAgICAgICAgICAnY2FuZGlkYXRlOjEgMSB1ZHAgMSAwLjAuMC4wIDkgdHlwIGVuZE9mQ2FuZGlkYXRlcyc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIFJUQ0ljZUNhbmRpZGF0ZSBkb2Vzbid0IGhhdmUgYSBjb21wb25lbnQsIG5lZWRzIHRvIGJlIGFkZGVkCiAgICAgICAgICBjYW5kLmNvbXBvbmVudCA9IGljZVRyYW5zcG9ydC5jb21wb25lbnQgPT09ICdSVENQJyA/IDIgOiAxOwogICAgICAgICAgZXZlbnQuY2FuZGlkYXRlLmNhbmRpZGF0ZSA9IFNEUFV0aWxzLndyaXRlQ2FuZGlkYXRlKGNhbmQpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGNvbXBsZXRlID0gc2VsZi50cmFuc2NlaXZlcnMuZXZlcnkoZnVuY3Rpb24odHJhbnNjZWl2ZXIpIHsKICAgICAgICAgIHJldHVybiB0cmFuc2NlaXZlci5pY2VHYXRoZXJlciAmJgogICAgICAgICAgICAgIHRyYW5zY2VpdmVyLmljZUdhdGhlcmVyLnN0YXRlID09PSAnY29tcGxldGVkJzsKICAgICAgICB9KTsKICAgICAgICAvLyBGSVhNRTogdXBkYXRlIC5sb2NhbERlc2NyaXB0aW9uIHdpdGggY2FuZGlkYXRlIGFuZCAocG90ZW50aWFsbHkpIGVuZC1vZi1jYW5kaWRhdGVzLgogICAgICAgIC8vICAgICBUbyBtYWtlIHRoaXMgaGFyZGVyLCB0aGUgZ2F0aGVyZXIgbWlnaHQgZW1pdCBjYW5kaWRhdGVzIGJlZm9yZSBsb2NhbGRlc2NyaXB0aW9uCiAgICAgICAgLy8gICAgIGlzIHNldC4gVG8gbWFrZSB0aGluZ3Mgd29yc2UsIGdhdGhlci5nZXRMb2NhbENhbmRpZGF0ZXMgc3RpbGwgZXJyb3JzIGluCiAgICAgICAgLy8gICAgIEVkZ2UgMTA1NDcgd2hlbiBubyBjYW5kaWRhdGVzIGhhdmUgYmVlbiBnYXRoZXJlZCB5ZXQuCgogICAgICAgIGlmIChzZWxmLm9uaWNlY2FuZGlkYXRlICE9PSBudWxsKSB7CiAgICAgICAgICAvLyBFbWl0IGNhbmRpZGF0ZSBpZiBsb2NhbERlc2NyaXB0aW9uIGlzIHNldC4KICAgICAgICAgIC8vIEFsc28gZW1pdHMgbnVsbCBjYW5kaWRhdGUgd2hlbiBhbGwgZ2F0aGVyZXJzIGFyZSBjb21wbGV0ZS4KICAgICAgICAgIGlmIChzZWxmLmxvY2FsRGVzY3JpcHRpb24gJiYgc2VsZi5sb2NhbERlc2NyaXB0aW9uLnR5cGUgPT09ICcnKSB7CiAgICAgICAgICAgIHNlbGYuX2xvY2FsSWNlQ2FuZGlkYXRlc0J1ZmZlci5wdXNoKGV2ZW50KTsKICAgICAgICAgICAgaWYgKGNvbXBsZXRlKSB7CiAgICAgICAgICAgICAgc2VsZi5fbG9jYWxJY2VDYW5kaWRhdGVzQnVmZmVyLnB1c2goe30pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZWxmLm9uaWNlY2FuZGlkYXRlKGV2ZW50KTsKICAgICAgICAgICAgaWYgKGNvbXBsZXRlKSB7CiAgICAgICAgICAgICAgc2VsZi5vbmljZWNhbmRpZGF0ZSh7fSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICAgIGljZVRyYW5zcG9ydC5vbmljZXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgc2VsZi5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCk7CiAgICAgIH07CgogICAgICB2YXIgZHRsc1RyYW5zcG9ydCA9IG5ldyBSVENEdGxzVHJhbnNwb3J0KGljZVRyYW5zcG9ydCk7CiAgICAgIGR0bHNUcmFuc3BvcnQub25kdGxzc3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICBzZWxmLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoKTsKICAgICAgfTsKICAgICAgZHRsc1RyYW5zcG9ydC5vbmVycm9yID0gZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gb25lcnJvciBkb2VzIG5vdCBzZXQgc3RhdGUgdG8gZmFpbGVkIGJ5IGl0c2VsZi4KICAgICAgICBkdGxzVHJhbnNwb3J0LnN0YXRlID0gJ2ZhaWxlZCc7CiAgICAgICAgc2VsZi5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCk7CiAgICAgIH07CgogICAgICByZXR1cm4gewogICAgICAgIGljZUdhdGhlcmVyOiBpY2VHYXRoZXJlciwKICAgICAgICBpY2VUcmFuc3BvcnQ6IGljZVRyYW5zcG9ydCwKICAgICAgICBkdGxzVHJhbnNwb3J0OiBkdGxzVHJhbnNwb3J0CiAgICAgIH07CiAgICB9OwoKICAgIC8vIFN0YXJ0IHRoZSBSVFAgU2VuZGVyIGFuZCBSZWNlaXZlciBmb3IgYSB0cmFuc2NlaXZlci4KICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuX3RyYW5zY2VpdmUgPSBmdW5jdGlvbih0cmFuc2NlaXZlciwKICAgICAgICBzZW5kLCByZWN2KSB7CiAgICAgIHZhciBwYXJhbXMgPSB0aGlzLl9nZXRDb21tb25DYXBhYmlsaXRpZXModHJhbnNjZWl2ZXIubG9jYWxDYXBhYmlsaXRpZXMsCiAgICAgICAgICB0cmFuc2NlaXZlci5yZW1vdGVDYXBhYmlsaXRpZXMpOwogICAgICBpZiAoc2VuZCAmJiB0cmFuc2NlaXZlci5ydHBTZW5kZXIpIHsKICAgICAgICBwYXJhbXMuZW5jb2RpbmdzID0gW3sKICAgICAgICAgIHNzcmM6IHRyYW5zY2VpdmVyLnNlbmRTc3JjCiAgICAgICAgfV07CiAgICAgICAgcGFyYW1zLnJ0Y3AgPSB7CiAgICAgICAgICBjbmFtZTogbG9jYWxDTmFtZSwKICAgICAgICAgIHNzcmM6IHRyYW5zY2VpdmVyLnJlY3ZTc3JjCiAgICAgICAgfTsKICAgICAgICB0cmFuc2NlaXZlci5ydHBTZW5kZXIuc2VuZChwYXJhbXMpOwogICAgICB9CiAgICAgIGlmIChyZWN2ICYmIHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyKSB7CiAgICAgICAgcGFyYW1zLmVuY29kaW5ncyA9IFt7CiAgICAgICAgICBzc3JjOiB0cmFuc2NlaXZlci5yZWN2U3NyYwogICAgICAgIH1dOwogICAgICAgIHBhcmFtcy5ydGNwID0gewogICAgICAgICAgY25hbWU6IHRyYW5zY2VpdmVyLmNuYW1lLAogICAgICAgICAgc3NyYzogdHJhbnNjZWl2ZXIuc2VuZFNzcmMKICAgICAgICB9OwogICAgICAgIHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyLnJlY2VpdmUocGFyYW1zKTsKICAgICAgfQogICAgfTsKCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb24gPQogICAgICAgIGZ1bmN0aW9uKGRlc2NyaXB0aW9uKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgaWYgKGRlc2NyaXB0aW9uLnR5cGUgPT09ICdvZmZlcicpIHsKICAgICAgICBpZiAoIXRoaXMuX3BlbmRpbmdPZmZlcikgewogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnRyYW5zY2VpdmVycyA9IHRoaXMuX3BlbmRpbmdPZmZlcjsKICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wZW5kaW5nT2ZmZXI7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGRlc2NyaXB0aW9uLnR5cGUgPT09ICdhbnN3ZXInKSB7CiAgICAgICAgdmFyIHNlY3Rpb25zID0gU0RQVXRpbHMuc3BsaXRTZWN0aW9ucyhzZWxmLnJlbW90ZURlc2NyaXB0aW9uLnNkcCk7CiAgICAgICAgdmFyIHNlc3Npb25wYXJ0ID0gc2VjdGlvbnMuc2hpZnQoKTsKICAgICAgICBzZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKG1lZGlhU2VjdGlvbiwgc2RwTUxpbmVJbmRleCkgewogICAgICAgICAgdmFyIHRyYW5zY2VpdmVyID0gc2VsZi50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF07CiAgICAgICAgICB2YXIgaWNlR2F0aGVyZXIgPSB0cmFuc2NlaXZlci5pY2VHYXRoZXJlcjsKICAgICAgICAgIHZhciBpY2VUcmFuc3BvcnQgPSB0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQ7CiAgICAgICAgICB2YXIgZHRsc1RyYW5zcG9ydCA9IHRyYW5zY2VpdmVyLmR0bHNUcmFuc3BvcnQ7CiAgICAgICAgICB2YXIgbG9jYWxDYXBhYmlsaXRpZXMgPSB0cmFuc2NlaXZlci5sb2NhbENhcGFiaWxpdGllczsKICAgICAgICAgIHZhciByZW1vdGVDYXBhYmlsaXRpZXMgPSB0cmFuc2NlaXZlci5yZW1vdGVDYXBhYmlsaXRpZXM7CiAgICAgICAgICB2YXIgcmVqZWN0ZWQgPSBtZWRpYVNlY3Rpb24uc3BsaXQoJ1xuJywgMSlbMF0KICAgICAgICAgICAgICAuc3BsaXQoJyAnLCAyKVsxXSA9PT0gJzAnOwoKICAgICAgICAgIGlmICghcmVqZWN0ZWQpIHsKICAgICAgICAgICAgdmFyIHJlbW90ZUljZVBhcmFtZXRlcnMgPSBTRFBVdGlscy5nZXRJY2VQYXJhbWV0ZXJzKG1lZGlhU2VjdGlvbiwKICAgICAgICAgICAgICAgIHNlc3Npb25wYXJ0KTsKICAgICAgICAgICAgaWNlVHJhbnNwb3J0LnN0YXJ0KGljZUdhdGhlcmVyLCByZW1vdGVJY2VQYXJhbWV0ZXJzLCAnY29udHJvbGxlZCcpOwoKICAgICAgICAgICAgdmFyIHJlbW90ZUR0bHNQYXJhbWV0ZXJzID0gU0RQVXRpbHMuZ2V0RHRsc1BhcmFtZXRlcnMobWVkaWFTZWN0aW9uLAogICAgICAgICAgICAgIHNlc3Npb25wYXJ0KTsKICAgICAgICAgICAgZHRsc1RyYW5zcG9ydC5zdGFydChyZW1vdGVEdGxzUGFyYW1ldGVycyk7CgogICAgICAgICAgICAvLyBDYWxjdWxhdGUgaW50ZXJzZWN0aW9uIG9mIGNhcGFiaWxpdGllcy4KICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHNlbGYuX2dldENvbW1vbkNhcGFiaWxpdGllcyhsb2NhbENhcGFiaWxpdGllcywKICAgICAgICAgICAgICAgIHJlbW90ZUNhcGFiaWxpdGllcyk7CgogICAgICAgICAgICAvLyBTdGFydCB0aGUgUlRDUnRwU2VuZGVyLiBUaGUgUlRDUnRwUmVjZWl2ZXIgZm9yIHRoaXMgdHJhbnNjZWl2ZXIKICAgICAgICAgICAgLy8gaGFzIGFscmVhZHkgYmVlbiBzdGFydGVkIGluIHNldFJlbW90ZURlc2NyaXB0aW9uLgogICAgICAgICAgICBzZWxmLl90cmFuc2NlaXZlKHRyYW5zY2VpdmVyLAogICAgICAgICAgICAgICAgcGFyYW1zLmNvZGVjcy5sZW5ndGggPiAwLAogICAgICAgICAgICAgICAgZmFsc2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLmxvY2FsRGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjsKICAgICAgc3dpdGNoIChkZXNjcmlwdGlvbi50eXBlKSB7CiAgICAgICAgY2FzZSAnb2ZmZXInOgogICAgICAgICAgdGhpcy5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoJ2hhdmUtbG9jYWwtb2ZmZXInKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2Fuc3dlcic6CiAgICAgICAgICB0aGlzLl91cGRhdGVTaWduYWxpbmdTdGF0ZSgnc3RhYmxlJyk7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndW5zdXBwb3J0ZWQgdHlwZSAiJyArIGRlc2NyaXB0aW9uLnR5cGUgKyAnIicpOwogICAgICB9CgogICAgICAvLyBJZiBhIHN1Y2Nlc3MgY2FsbGJhY2sgd2FzIHByb3ZpZGVkLCBlbWl0IElDRSBjYW5kaWRhdGVzIGFmdGVyIGl0IGhhcyBiZWVuCiAgICAgIC8vIGV4ZWN1dGVkLiBPdGhlcndpc2UsIGVtaXQgY2FsbGJhY2sgYWZ0ZXIgdGhlIFByb21pc2UgaXMgcmVzb2x2ZWQuCiAgICAgIHZhciBoYXNDYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmCiAgICAgICAgdHlwZW9mIGFyZ3VtZW50c1sxXSA9PT0gJ2Z1bmN0aW9uJzsKICAgICAgaWYgKGhhc0NhbGxiYWNrKSB7CiAgICAgICAgdmFyIGNiID0gYXJndW1lbnRzWzFdOwogICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgY2IoKTsKICAgICAgICAgIHNlbGYuX2VtaXRCdWZmZXJlZENhbmRpZGF0ZXMoKTsKICAgICAgICB9LCAwKTsKICAgICAgfQogICAgICB2YXIgcCA9IFByb21pc2UucmVzb2x2ZSgpOwogICAgICBwLnRoZW4oZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKCFoYXNDYWxsYmFjaykgewogICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoc2VsZi5fZW1pdEJ1ZmZlcmVkQ2FuZGlkYXRlcy5iaW5kKHNlbGYpLCAwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gcDsKICAgIH07CgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbiA9CiAgICAgICAgZnVuY3Rpb24oZGVzY3JpcHRpb24pIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgc3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKCk7CiAgICAgIHZhciBzZWN0aW9ucyA9IFNEUFV0aWxzLnNwbGl0U2VjdGlvbnMoZGVzY3JpcHRpb24uc2RwKTsKICAgICAgdmFyIHNlc3Npb25wYXJ0ID0gc2VjdGlvbnMuc2hpZnQoKTsKICAgICAgc2VjdGlvbnMuZm9yRWFjaChmdW5jdGlvbihtZWRpYVNlY3Rpb24sIHNkcE1MaW5lSW5kZXgpIHsKICAgICAgICB2YXIgbGluZXMgPSBTRFBVdGlscy5zcGxpdExpbmVzKG1lZGlhU2VjdGlvbik7CiAgICAgICAgdmFyIG1saW5lID0gbGluZXNbMF0uc3Vic3RyKDIpLnNwbGl0KCcgJyk7CiAgICAgICAgdmFyIGtpbmQgPSBtbGluZVswXTsKICAgICAgICB2YXIgcmVqZWN0ZWQgPSBtbGluZVsxXSA9PT0gJzAnOwogICAgICAgIHZhciBkaXJlY3Rpb24gPSBTRFBVdGlscy5nZXREaXJlY3Rpb24obWVkaWFTZWN0aW9uLCBzZXNzaW9ucGFydCk7CgogICAgICAgIHZhciB0cmFuc2NlaXZlcjsKICAgICAgICB2YXIgaWNlR2F0aGVyZXI7CiAgICAgICAgdmFyIGljZVRyYW5zcG9ydDsKICAgICAgICB2YXIgZHRsc1RyYW5zcG9ydDsKICAgICAgICB2YXIgcnRwU2VuZGVyOwogICAgICAgIHZhciBydHBSZWNlaXZlcjsKICAgICAgICB2YXIgc2VuZFNzcmM7CiAgICAgICAgdmFyIHJlY3ZTc3JjOwogICAgICAgIHZhciBsb2NhbENhcGFiaWxpdGllczsKCiAgICAgICAgLy8gRklYTUU6IGVuc3VyZSB0aGUgbWVkaWFTZWN0aW9uIGhhcyBydGNwLW11eCBzZXQuCiAgICAgICAgdmFyIHJlbW90ZUNhcGFiaWxpdGllcyA9IFNEUFV0aWxzLnBhcnNlUnRwUGFyYW1ldGVycyhtZWRpYVNlY3Rpb24pOwogICAgICAgIHZhciByZW1vdGVJY2VQYXJhbWV0ZXJzOwogICAgICAgIHZhciByZW1vdGVEdGxzUGFyYW1ldGVyczsKICAgICAgICBpZiAoIXJlamVjdGVkKSB7CiAgICAgICAgICByZW1vdGVJY2VQYXJhbWV0ZXJzID0gU0RQVXRpbHMuZ2V0SWNlUGFyYW1ldGVycyhtZWRpYVNlY3Rpb24sCiAgICAgICAgICAgICAgc2Vzc2lvbnBhcnQpOwogICAgICAgICAgcmVtb3RlRHRsc1BhcmFtZXRlcnMgPSBTRFBVdGlscy5nZXREdGxzUGFyYW1ldGVycyhtZWRpYVNlY3Rpb24sCiAgICAgICAgICAgICAgc2Vzc2lvbnBhcnQpOwogICAgICAgIH0KICAgICAgICB2YXIgbWlkID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1taWQ6JylbMF0uc3Vic3RyKDYpOwoKICAgICAgICB2YXIgY25hbWU7CiAgICAgICAgLy8gR2V0cyB0aGUgZmlyc3QgU1NSQy4gTm90ZSB0aGF0IHdpdGggUlRYIHRoZXJlIG1pZ2h0IGJlIG11bHRpcGxlIFNTUkNzLgogICAgICAgIHZhciByZW1vdGVTc3JjID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1zc3JjOicpCiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24obGluZSkgewogICAgICAgICAgICAgIHJldHVybiBTRFBVdGlscy5wYXJzZVNzcmNNZWRpYShsaW5lKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihvYmopIHsKICAgICAgICAgICAgICByZXR1cm4gb2JqLmF0dHJpYnV0ZSA9PT0gJ2NuYW1lJzsKICAgICAgICAgICAgfSlbMF07CiAgICAgICAgaWYgKHJlbW90ZVNzcmMpIHsKICAgICAgICAgIHJlY3ZTc3JjID0gcGFyc2VJbnQocmVtb3RlU3NyYy5zc3JjLCAxMCk7CiAgICAgICAgICBjbmFtZSA9IHJlbW90ZVNzcmMudmFsdWU7CiAgICAgICAgfQoKICAgICAgICBpZiAoZGVzY3JpcHRpb24udHlwZSA9PT0gJ29mZmVyJykgewogICAgICAgICAgdmFyIHRyYW5zcG9ydHMgPSBzZWxmLl9jcmVhdGVJY2VBbmREdGxzVHJhbnNwb3J0cyhtaWQsIHNkcE1MaW5lSW5kZXgpOwoKICAgICAgICAgIGxvY2FsQ2FwYWJpbGl0aWVzID0gUlRDUnRwUmVjZWl2ZXIuZ2V0Q2FwYWJpbGl0aWVzKGtpbmQpOwogICAgICAgICAgc2VuZFNzcmMgPSAoMiAqIHNkcE1MaW5lSW5kZXggKyAyKSAqIDEwMDE7CgogICAgICAgICAgcnRwUmVjZWl2ZXIgPSBuZXcgUlRDUnRwUmVjZWl2ZXIodHJhbnNwb3J0cy5kdGxzVHJhbnNwb3J0LCBraW5kKTsKCiAgICAgICAgICAvLyBGSVhNRTogbm90IGNvcnJlY3Qgd2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgc3RyZWFtcyBidXQgdGhhdCBpcwogICAgICAgICAgLy8gbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgaW4gdGhpcyBzaGltLgogICAgICAgICAgc3RyZWFtLmFkZFRyYWNrKHJ0cFJlY2VpdmVyLnRyYWNrKTsKCiAgICAgICAgICAvLyBGSVhNRTogbG9vayBhdCBkaXJlY3Rpb24uCiAgICAgICAgICBpZiAoc2VsZi5sb2NhbFN0cmVhbXMubGVuZ3RoID4gMCAmJgogICAgICAgICAgICAgIHNlbGYubG9jYWxTdHJlYW1zWzBdLmdldFRyYWNrcygpLmxlbmd0aCA+PSBzZHBNTGluZUluZGV4KSB7CiAgICAgICAgICAgIC8vIEZJWE1FOiBhY3R1YWxseSBtb3JlIGNvbXBsaWNhdGVkLCBuZWVkcyB0byBtYXRjaCB0eXBlcyBldGMKICAgICAgICAgICAgdmFyIGxvY2FsdHJhY2sgPSBzZWxmLmxvY2FsU3RyZWFtc1swXS5nZXRUcmFja3MoKVtzZHBNTGluZUluZGV4XTsKICAgICAgICAgICAgcnRwU2VuZGVyID0gbmV3IFJUQ1J0cFNlbmRlcihsb2NhbHRyYWNrLCB0cmFuc3BvcnRzLmR0bHNUcmFuc3BvcnQpOwogICAgICAgICAgfQoKICAgICAgICAgIHNlbGYudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdID0gewogICAgICAgICAgICBpY2VHYXRoZXJlcjogdHJhbnNwb3J0cy5pY2VHYXRoZXJlciwKICAgICAgICAgICAgaWNlVHJhbnNwb3J0OiB0cmFuc3BvcnRzLmljZVRyYW5zcG9ydCwKICAgICAgICAgICAgZHRsc1RyYW5zcG9ydDogdHJhbnNwb3J0cy5kdGxzVHJhbnNwb3J0LAogICAgICAgICAgICBsb2NhbENhcGFiaWxpdGllczogbG9jYWxDYXBhYmlsaXRpZXMsCiAgICAgICAgICAgIHJlbW90ZUNhcGFiaWxpdGllczogcmVtb3RlQ2FwYWJpbGl0aWVzLAogICAgICAgICAgICBydHBTZW5kZXI6IHJ0cFNlbmRlciwKICAgICAgICAgICAgcnRwUmVjZWl2ZXI6IHJ0cFJlY2VpdmVyLAogICAgICAgICAgICBraW5kOiBraW5kLAogICAgICAgICAgICBtaWQ6IG1pZCwKICAgICAgICAgICAgY25hbWU6IGNuYW1lLAogICAgICAgICAgICBzZW5kU3NyYzogc2VuZFNzcmMsCiAgICAgICAgICAgIHJlY3ZTc3JjOiByZWN2U3NyYwogICAgICAgICAgfTsKICAgICAgICAgIC8vIFN0YXJ0IHRoZSBSVENSdHBSZWNlaXZlciBub3cuIFRoZSBSVFBTZW5kZXIgaXMgc3RhcnRlZCBpbiBzZXRMb2NhbERlc2NyaXB0aW9uLgogICAgICAgICAgc2VsZi5fdHJhbnNjZWl2ZShzZWxmLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XSwKICAgICAgICAgICAgICBmYWxzZSwKICAgICAgICAgICAgICBkaXJlY3Rpb24gPT09ICdzZW5kcmVjdicgfHwgZGlyZWN0aW9uID09PSAnc2VuZG9ubHknKTsKICAgICAgICB9IGVsc2UgaWYgKGRlc2NyaXB0aW9uLnR5cGUgPT09ICdhbnN3ZXInICYmICFyZWplY3RlZCkgewogICAgICAgICAgdHJhbnNjZWl2ZXIgPSBzZWxmLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XTsKICAgICAgICAgIGljZUdhdGhlcmVyID0gdHJhbnNjZWl2ZXIuaWNlR2F0aGVyZXI7CiAgICAgICAgICBpY2VUcmFuc3BvcnQgPSB0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQ7CiAgICAgICAgICBkdGxzVHJhbnNwb3J0ID0gdHJhbnNjZWl2ZXIuZHRsc1RyYW5zcG9ydDsKICAgICAgICAgIHJ0cFNlbmRlciA9IHRyYW5zY2VpdmVyLnJ0cFNlbmRlcjsKICAgICAgICAgIHJ0cFJlY2VpdmVyID0gdHJhbnNjZWl2ZXIucnRwUmVjZWl2ZXI7CiAgICAgICAgICBzZW5kU3NyYyA9IHRyYW5zY2VpdmVyLnNlbmRTc3JjOwogICAgICAgICAgLy9yZWN2U3NyYyA9IHRyYW5zY2VpdmVyLnJlY3ZTc3JjOwogICAgICAgICAgbG9jYWxDYXBhYmlsaXRpZXMgPSB0cmFuc2NlaXZlci5sb2NhbENhcGFiaWxpdGllczsKCiAgICAgICAgICBzZWxmLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5yZWN2U3NyYyA9IHJlY3ZTc3JjOwogICAgICAgICAgc2VsZi50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0ucmVtb3RlQ2FwYWJpbGl0aWVzID0KICAgICAgICAgICAgICByZW1vdGVDYXBhYmlsaXRpZXM7CiAgICAgICAgICBzZWxmLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5jbmFtZSA9IGNuYW1lOwoKICAgICAgICAgIGljZVRyYW5zcG9ydC5zdGFydChpY2VHYXRoZXJlciwgcmVtb3RlSWNlUGFyYW1ldGVycywgJ2NvbnRyb2xsaW5nJyk7CiAgICAgICAgICBkdGxzVHJhbnNwb3J0LnN0YXJ0KHJlbW90ZUR0bHNQYXJhbWV0ZXJzKTsKCiAgICAgICAgICBzZWxmLl90cmFuc2NlaXZlKHRyYW5zY2VpdmVyLAogICAgICAgICAgICAgIGRpcmVjdGlvbiA9PT0gJ3NlbmRyZWN2JyB8fCBkaXJlY3Rpb24gPT09ICdyZWN2b25seScsCiAgICAgICAgICAgICAgZGlyZWN0aW9uID09PSAnc2VuZHJlY3YnIHx8IGRpcmVjdGlvbiA9PT0gJ3NlbmRvbmx5Jyk7CgogICAgICAgICAgaWYgKHJ0cFJlY2VpdmVyICYmCiAgICAgICAgICAgICAgKGRpcmVjdGlvbiA9PT0gJ3NlbmRyZWN2JyB8fCBkaXJlY3Rpb24gPT09ICdzZW5kb25seScpKSB7CiAgICAgICAgICAgIHN0cmVhbS5hZGRUcmFjayhydHBSZWNlaXZlci50cmFjayk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBGSVhNRTogYWN0dWFsbHkgdGhlIHJlY2VpdmVyIHNob3VsZCBiZSBjcmVhdGVkIGxhdGVyLgogICAgICAgICAgICBkZWxldGUgdHJhbnNjZWl2ZXIucnRwUmVjZWl2ZXI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIHRoaXMucmVtb3RlRGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjsKICAgICAgc3dpdGNoIChkZXNjcmlwdGlvbi50eXBlKSB7CiAgICAgICAgY2FzZSAnb2ZmZXInOgogICAgICAgICAgdGhpcy5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoJ2hhdmUtcmVtb3RlLW9mZmVyJyk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdhbnN3ZXInOgogICAgICAgICAgdGhpcy5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoJ3N0YWJsZScpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Vuc3VwcG9ydGVkIHR5cGUgIicgKyBkZXNjcmlwdGlvbi50eXBlICsgJyInKTsKICAgICAgfQogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBpZiAoc2VsZi5vbmFkZHN0cmVhbSAhPT0gbnVsbCAmJiBzdHJlYW0uZ2V0VHJhY2tzKCkubGVuZ3RoKSB7CiAgICAgICAgICBzZWxmLnJlbW90ZVN0cmVhbXMucHVzaChzdHJlYW0pOwogICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHNlbGYub25hZGRzdHJlYW0oe3N0cmVhbTogc3RyZWFtfSk7CiAgICAgICAgICB9LCAwKTsKICAgICAgICB9CiAgICAgIH0sIDApOwogICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgdHlwZW9mIGFyZ3VtZW50c1sxXSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGFyZ3VtZW50c1sxXSwgMCk7CiAgICAgIH0KICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpOwogICAgfTsKCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24odHJhbnNjZWl2ZXIpIHsKICAgICAgICAvKiBub3QgeWV0CiAgICAgICAgaWYgKHRyYW5zY2VpdmVyLmljZUdhdGhlcmVyKSB7CiAgICAgICAgICB0cmFuc2NlaXZlci5pY2VHYXRoZXJlci5jbG9zZSgpOwogICAgICAgIH0KICAgICAgICAqLwogICAgICAgIGlmICh0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQpIHsKICAgICAgICAgIHRyYW5zY2VpdmVyLmljZVRyYW5zcG9ydC5zdG9wKCk7CiAgICAgICAgfQogICAgICAgIGlmICh0cmFuc2NlaXZlci5kdGxzVHJhbnNwb3J0KSB7CiAgICAgICAgICB0cmFuc2NlaXZlci5kdGxzVHJhbnNwb3J0LnN0b3AoKTsKICAgICAgICB9CiAgICAgICAgaWYgKHRyYW5zY2VpdmVyLnJ0cFNlbmRlcikgewogICAgICAgICAgdHJhbnNjZWl2ZXIucnRwU2VuZGVyLnN0b3AoKTsKICAgICAgICB9CiAgICAgICAgaWYgKHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyKSB7CiAgICAgICAgICB0cmFuc2NlaXZlci5ydHBSZWNlaXZlci5zdG9wKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgLy8gRklYTUU6IGNsZWFuIHVwIHRyYWNrcywgbG9jYWwgc3RyZWFtcywgcmVtb3RlIHN0cmVhbXMsIGV0YwogICAgICB0aGlzLl91cGRhdGVTaWduYWxpbmdTdGF0ZSgnY2xvc2VkJyk7CiAgICB9OwoKICAgIC8vIFVwZGF0ZSB0aGUgc2lnbmFsaW5nIHN0YXRlLgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5fdXBkYXRlU2lnbmFsaW5nU3RhdGUgPQogICAgICAgIGZ1bmN0aW9uKG5ld1N0YXRlKSB7CiAgICAgIHRoaXMuc2lnbmFsaW5nU3RhdGUgPSBuZXdTdGF0ZTsKICAgICAgaWYgKHRoaXMub25zaWduYWxpbmdzdGF0ZWNoYW5nZSAhPT0gbnVsbCkgewogICAgICAgIHRoaXMub25zaWduYWxpbmdzdGF0ZWNoYW5nZSgpOwogICAgICB9CiAgICB9OwoKICAgIC8vIERldGVybWluZSB3aGV0aGVyIHRvIGZpcmUgdGhlIG5lZ290aWF0aW9ubmVlZGVkIGV2ZW50LgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5fbWF5YmVGaXJlTmVnb3RpYXRpb25OZWVkZWQgPQogICAgICAgIGZ1bmN0aW9uKCkgewogICAgICAvLyBGaXJlIGF3YXkgKGZvciBub3cpLgogICAgICBpZiAodGhpcy5vbm5lZ290aWF0aW9ubmVlZGVkICE9PSBudWxsKSB7CiAgICAgICAgdGhpcy5vbm5lZ290aWF0aW9ubmVlZGVkKCk7CiAgICAgIH0KICAgIH07CgogICAgLy8gVXBkYXRlIHRoZSBjb25uZWN0aW9uIHN0YXRlLgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5fdXBkYXRlQ29ubmVjdGlvblN0YXRlID0KICAgICAgICBmdW5jdGlvbigpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgbmV3U3RhdGU7CiAgICAgIHZhciBzdGF0ZXMgPSB7CiAgICAgICAgJ25ldyc6IDAsCiAgICAgICAgY2xvc2VkOiAwLAogICAgICAgIGNvbm5lY3Rpbmc6IDAsCiAgICAgICAgY2hlY2tpbmc6IDAsCiAgICAgICAgY29ubmVjdGVkOiAwLAogICAgICAgIGNvbXBsZXRlZDogMCwKICAgICAgICBmYWlsZWQ6IDAKICAgICAgfTsKICAgICAgdGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbih0cmFuc2NlaXZlcikgewogICAgICAgIHN0YXRlc1t0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQuc3RhdGVdKys7CiAgICAgICAgc3RhdGVzW3RyYW5zY2VpdmVyLmR0bHNUcmFuc3BvcnQuc3RhdGVdKys7CiAgICAgIH0pOwogICAgICAvLyBJQ0VUcmFuc3BvcnQuY29tcGxldGVkIGFuZCBjb25uZWN0ZWQgYXJlIHRoZSBzYW1lIGZvciB0aGlzIHB1cnBvc2UuCiAgICAgIHN0YXRlcy5jb25uZWN0ZWQgKz0gc3RhdGVzLmNvbXBsZXRlZDsKCiAgICAgIG5ld1N0YXRlID0gJ25ldyc7CiAgICAgIGlmIChzdGF0ZXMuZmFpbGVkID4gMCkgewogICAgICAgIG5ld1N0YXRlID0gJ2ZhaWxlZCc7CiAgICAgIH0gZWxzZSBpZiAoc3RhdGVzLmNvbm5lY3RpbmcgPiAwIHx8IHN0YXRlcy5jaGVja2luZyA+IDApIHsKICAgICAgICBuZXdTdGF0ZSA9ICdjb25uZWN0aW5nJzsKICAgICAgfSBlbHNlIGlmIChzdGF0ZXMuZGlzY29ubmVjdGVkID4gMCkgewogICAgICAgIG5ld1N0YXRlID0gJ2Rpc2Nvbm5lY3RlZCc7CiAgICAgIH0gZWxzZSBpZiAoc3RhdGVzLm5ldyA+IDApIHsKICAgICAgICBuZXdTdGF0ZSA9ICduZXcnOwogICAgICB9IGVsc2UgaWYgKHN0YXRlcy5jb25uZWN0aW5nID4gMCB8fCBzdGF0ZXMuY29tcGxldGVkID4gMCkgewogICAgICAgIG5ld1N0YXRlID0gJ2Nvbm5lY3RlZCc7CiAgICAgIH0KCiAgICAgIGlmIChuZXdTdGF0ZSAhPT0gc2VsZi5pY2VDb25uZWN0aW9uU3RhdGUpIHsKICAgICAgICBzZWxmLmljZUNvbm5lY3Rpb25TdGF0ZSA9IG5ld1N0YXRlOwogICAgICAgIGlmICh0aGlzLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlICE9PSBudWxsKSB7CiAgICAgICAgICB0aGlzLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwoKICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlT2ZmZXIgPSBmdW5jdGlvbigpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBpZiAodGhpcy5fcGVuZGluZ09mZmVyKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcmVhdGVPZmZlciBjYWxsZWQgd2hpbGUgdGhlcmUgaXMgYSBwZW5kaW5nIG9mZmVyLicpOwogICAgICB9CiAgICAgIHZhciBvZmZlck9wdGlvbnM7CiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIHR5cGVvZiBhcmd1bWVudHNbMF0gIT09ICdmdW5jdGlvbicpIHsKICAgICAgICBvZmZlck9wdGlvbnMgPSBhcmd1bWVudHNbMF07CiAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgIG9mZmVyT3B0aW9ucyA9IGFyZ3VtZW50c1syXTsKICAgICAgfQoKICAgICAgdmFyIHRyYWNrcyA9IFtdOwogICAgICB2YXIgbnVtQXVkaW9UcmFja3MgPSAwOwogICAgICB2YXIgbnVtVmlkZW9UcmFja3MgPSAwOwogICAgICAvLyBEZWZhdWx0IHRvIHNlbmRyZWN2LgogICAgICBpZiAodGhpcy5sb2NhbFN0cmVhbXMubGVuZ3RoKSB7CiAgICAgICAgbnVtQXVkaW9UcmFja3MgPSB0aGlzLmxvY2FsU3RyZWFtc1swXS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aDsKICAgICAgICBudW1WaWRlb1RyYWNrcyA9IHRoaXMubG9jYWxTdHJlYW1zWzBdLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoOwogICAgICB9CiAgICAgIC8vIERldGVybWluZSBudW1iZXIgb2YgYXVkaW8gYW5kIHZpZGVvIHRyYWNrcyB3ZSBuZWVkIHRvIHNlbmQvcmVjdi4KICAgICAgaWYgKG9mZmVyT3B0aW9ucykgewogICAgICAgIC8vIFJlamVjdCBDaHJvbWUgbGVnYWN5IGNvbnN0cmFpbnRzLgogICAgICAgIGlmIChvZmZlck9wdGlvbnMubWFuZGF0b3J5IHx8IG9mZmVyT3B0aW9ucy5vcHRpb25hbCkgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigKICAgICAgICAgICAgICAnTGVnYWN5IG1hbmRhdG9yeS9vcHRpb25hbCBjb25zdHJhaW50cyBub3Qgc3VwcG9ydGVkLicpOwogICAgICAgIH0KICAgICAgICBpZiAob2ZmZXJPcHRpb25zLm9mZmVyVG9SZWNlaXZlQXVkaW8gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgbnVtQXVkaW9UcmFja3MgPSBvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVBdWRpbzsKICAgICAgICB9CiAgICAgICAgaWYgKG9mZmVyT3B0aW9ucy5vZmZlclRvUmVjZWl2ZVZpZGVvICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIG51bVZpZGVvVHJhY2tzID0gb2ZmZXJPcHRpb25zLm9mZmVyVG9SZWNlaXZlVmlkZW87CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLmxvY2FsU3RyZWFtcy5sZW5ndGgpIHsKICAgICAgICAvLyBQdXNoIGxvY2FsIHN0cmVhbXMuCiAgICAgICAgdGhpcy5sb2NhbFN0cmVhbXNbMF0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0cmFjaykgewogICAgICAgICAgdHJhY2tzLnB1c2goewogICAgICAgICAgICBraW5kOiB0cmFjay5raW5kLAogICAgICAgICAgICB0cmFjazogdHJhY2ssCiAgICAgICAgICAgIHdhbnRSZWNlaXZlOiB0cmFjay5raW5kID09PSAnYXVkaW8nID8KICAgICAgICAgICAgICAgIG51bUF1ZGlvVHJhY2tzID4gMCA6IG51bVZpZGVvVHJhY2tzID4gMAogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAodHJhY2sua2luZCA9PT0gJ2F1ZGlvJykgewogICAgICAgICAgICBudW1BdWRpb1RyYWNrcy0tOwogICAgICAgICAgfSBlbHNlIGlmICh0cmFjay5raW5kID09PSAndmlkZW8nKSB7CiAgICAgICAgICAgIG51bVZpZGVvVHJhY2tzLS07CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgLy8gQ3JlYXRlIE0tbGluZXMgZm9yIHJlY3Zvbmx5IHN0cmVhbXMuCiAgICAgIHdoaWxlIChudW1BdWRpb1RyYWNrcyA+IDAgfHwgbnVtVmlkZW9UcmFja3MgPiAwKSB7CiAgICAgICAgaWYgKG51bUF1ZGlvVHJhY2tzID4gMCkgewogICAgICAgICAgdHJhY2tzLnB1c2goewogICAgICAgICAgICBraW5kOiAnYXVkaW8nLAogICAgICAgICAgICB3YW50UmVjZWl2ZTogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgICBudW1BdWRpb1RyYWNrcy0tOwogICAgICAgIH0KICAgICAgICBpZiAobnVtVmlkZW9UcmFja3MgPiAwKSB7CiAgICAgICAgICB0cmFja3MucHVzaCh7CiAgICAgICAgICAgIGtpbmQ6ICd2aWRlbycsCiAgICAgICAgICAgIHdhbnRSZWNlaXZlOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICAgIG51bVZpZGVvVHJhY2tzLS07CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgc2RwID0gU0RQVXRpbHMud3JpdGVTZXNzaW9uQm9pbGVycGxhdGUoKTsKICAgICAgdmFyIHRyYW5zY2VpdmVycyA9IFtdOwogICAgICB0cmFja3MuZm9yRWFjaChmdW5jdGlvbihtbGluZSwgc2RwTUxpbmVJbmRleCkgewogICAgICAgIC8vIEZvciBlYWNoIHRyYWNrLCBjcmVhdGUgYW4gaWNlIGdhdGhlcmVyLCBpY2UgdHJhbnNwb3J0LCBkdGxzIHRyYW5zcG9ydCwKICAgICAgICAvLyBwb3RlbnRpYWxseSBydHBzZW5kZXIgYW5kIHJ0cHJlY2VpdmVyLgogICAgICAgIHZhciB0cmFjayA9IG1saW5lLnRyYWNrOwogICAgICAgIHZhciBraW5kID0gbWxpbmUua2luZDsKICAgICAgICB2YXIgbWlkID0gZ2VuZXJhdGVJZGVudGlmaWVyKCk7CgogICAgICAgIHZhciB0cmFuc3BvcnRzID0gc2VsZi5fY3JlYXRlSWNlQW5kRHRsc1RyYW5zcG9ydHMobWlkLCBzZHBNTGluZUluZGV4KTsKCiAgICAgICAgdmFyIGxvY2FsQ2FwYWJpbGl0aWVzID0gUlRDUnRwU2VuZGVyLmdldENhcGFiaWxpdGllcyhraW5kKTsKICAgICAgICB2YXIgcnRwU2VuZGVyOwogICAgICAgIHZhciBydHBSZWNlaXZlcjsKCiAgICAgICAgLy8gZ2VuZXJhdGUgYW4gc3NyYyBub3csIHRvIGJlIHVzZWQgbGF0ZXIgaW4gcnRwU2VuZGVyLnNlbmQKICAgICAgICB2YXIgc2VuZFNzcmMgPSAoMiAqIHNkcE1MaW5lSW5kZXggKyAxKSAqIDEwMDE7CiAgICAgICAgaWYgKHRyYWNrKSB7CiAgICAgICAgICBydHBTZW5kZXIgPSBuZXcgUlRDUnRwU2VuZGVyKHRyYWNrLCB0cmFuc3BvcnRzLmR0bHNUcmFuc3BvcnQpOwogICAgICAgIH0KCiAgICAgICAgaWYgKG1saW5lLndhbnRSZWNlaXZlKSB7CiAgICAgICAgICBydHBSZWNlaXZlciA9IG5ldyBSVENSdHBSZWNlaXZlcih0cmFuc3BvcnRzLmR0bHNUcmFuc3BvcnQsIGtpbmQpOwogICAgICAgIH0KCiAgICAgICAgdHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdID0gewogICAgICAgICAgaWNlR2F0aGVyZXI6IHRyYW5zcG9ydHMuaWNlR2F0aGVyZXIsCiAgICAgICAgICBpY2VUcmFuc3BvcnQ6IHRyYW5zcG9ydHMuaWNlVHJhbnNwb3J0LAogICAgICAgICAgZHRsc1RyYW5zcG9ydDogdHJhbnNwb3J0cy5kdGxzVHJhbnNwb3J0LAogICAgICAgICAgbG9jYWxDYXBhYmlsaXRpZXM6IGxvY2FsQ2FwYWJpbGl0aWVzLAogICAgICAgICAgcmVtb3RlQ2FwYWJpbGl0aWVzOiBudWxsLAogICAgICAgICAgcnRwU2VuZGVyOiBydHBTZW5kZXIsCiAgICAgICAgICBydHBSZWNlaXZlcjogcnRwUmVjZWl2ZXIsCiAgICAgICAgICBraW5kOiBraW5kLAogICAgICAgICAgbWlkOiBtaWQsCiAgICAgICAgICBzZW5kU3NyYzogc2VuZFNzcmMsCiAgICAgICAgICByZWN2U3NyYzogbnVsbAogICAgICAgIH07CiAgICAgICAgdmFyIHRyYW5zY2VpdmVyID0gdHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdOwogICAgICAgIHNkcCArPSBTRFBVdGlscy53cml0ZU1lZGlhU2VjdGlvbih0cmFuc2NlaXZlciwKICAgICAgICAgICAgdHJhbnNjZWl2ZXIubG9jYWxDYXBhYmlsaXRpZXMsICdvZmZlcicsIHNlbGYubG9jYWxTdHJlYW1zWzBdKTsKICAgICAgfSk7CgogICAgICB0aGlzLl9wZW5kaW5nT2ZmZXIgPSB0cmFuc2NlaXZlcnM7CiAgICAgIHZhciBkZXNjID0gbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7CiAgICAgICAgdHlwZTogJ29mZmVyJywKICAgICAgICBzZHA6IHNkcAogICAgICB9KTsKICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggJiYgdHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGFyZ3VtZW50c1swXSwgMCwgZGVzYyk7CiAgICAgIH0KICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkZXNjKTsKICAgIH07CgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVBbnN3ZXIgPSBmdW5jdGlvbigpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgYW5zd2VyT3B0aW9uczsKICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgdHlwZW9mIGFyZ3VtZW50c1swXSAhPT0gJ2Z1bmN0aW9uJykgewogICAgICAgIGFuc3dlck9wdGlvbnMgPSBhcmd1bWVudHNbMF07CiAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgIGFuc3dlck9wdGlvbnMgPSBhcmd1bWVudHNbMl07CiAgICAgIH0KCiAgICAgIHZhciBzZHAgPSBTRFBVdGlscy53cml0ZVNlc3Npb25Cb2lsZXJwbGF0ZSgpOwogICAgICB0aGlzLnRyYW5zY2VpdmVycy5mb3JFYWNoKGZ1bmN0aW9uKHRyYW5zY2VpdmVyKSB7CiAgICAgICAgLy8gQ2FsY3VsYXRlIGludGVyc2VjdGlvbiBvZiBjYXBhYmlsaXRpZXMuCiAgICAgICAgdmFyIGNvbW1vbkNhcGFiaWxpdGllcyA9IHNlbGYuX2dldENvbW1vbkNhcGFiaWxpdGllcygKICAgICAgICAgICAgdHJhbnNjZWl2ZXIubG9jYWxDYXBhYmlsaXRpZXMsCiAgICAgICAgICAgIHRyYW5zY2VpdmVyLnJlbW90ZUNhcGFiaWxpdGllcyk7CgogICAgICAgIHNkcCArPSBTRFBVdGlscy53cml0ZU1lZGlhU2VjdGlvbih0cmFuc2NlaXZlciwgY29tbW9uQ2FwYWJpbGl0aWVzLAogICAgICAgICAgICAnYW5zd2VyJywgc2VsZi5sb2NhbFN0cmVhbXNbMF0pOwogICAgICB9KTsKCiAgICAgIHZhciBkZXNjID0gbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7CiAgICAgICAgdHlwZTogJ2Fuc3dlcicsCiAgICAgICAgc2RwOiBzZHAKICAgICAgfSk7CiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICYmIHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB3aW5kb3cuc2V0VGltZW91dChhcmd1bWVudHNbMF0sIDAsIGRlc2MpOwogICAgICB9CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVzYyk7CiAgICB9OwoKICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlID0gZnVuY3Rpb24oY2FuZGlkYXRlKSB7CiAgICAgIHZhciBtTGluZUluZGV4ID0gY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXg7CiAgICAgIGlmIChjYW5kaWRhdGUuc2RwTWlkKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRyYW5zY2VpdmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKHRoaXMudHJhbnNjZWl2ZXJzW2ldLm1pZCA9PT0gY2FuZGlkYXRlLnNkcE1pZCkgewogICAgICAgICAgICBtTGluZUluZGV4ID0gaTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciB0cmFuc2NlaXZlciA9IHRoaXMudHJhbnNjZWl2ZXJzW21MaW5lSW5kZXhdOwogICAgICBpZiAodHJhbnNjZWl2ZXIpIHsKICAgICAgICB2YXIgY2FuZCA9IE9iamVjdC5rZXlzKGNhbmRpZGF0ZS5jYW5kaWRhdGUpLmxlbmd0aCA+IDAgPwogICAgICAgICAgICBTRFBVdGlscy5wYXJzZUNhbmRpZGF0ZShjYW5kaWRhdGUuY2FuZGlkYXRlKSA6IHt9OwogICAgICAgIC8vIElnbm9yZSBDaHJvbWUncyBpbnZhbGlkIGNhbmRpZGF0ZXMgc2luY2UgRWRnZSBkb2VzIG5vdCBsaWtlIHRoZW0uCiAgICAgICAgaWYgKGNhbmQucHJvdG9jb2wgPT09ICd0Y3AnICYmIGNhbmQucG9ydCA9PT0gMCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAvLyBJZ25vcmUgUlRDUCBjYW5kaWRhdGVzLCB3ZSBhc3N1bWUgUlRDUC1NVVguCiAgICAgICAgaWYgKGNhbmQuY29tcG9uZW50ICE9PSAnMScpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgLy8gQSBkaXJ0eSBoYWNrIHRvIG1ha2Ugc2FtcGxlcyB3b3JrLgogICAgICAgIGlmIChjYW5kLnR5cGUgPT09ICdlbmRPZkNhbmRpZGF0ZXMnKSB7CiAgICAgICAgICBjYW5kID0ge307CiAgICAgICAgfQogICAgICAgIHRyYW5zY2VpdmVyLmljZVRyYW5zcG9ydC5hZGRSZW1vdGVDYW5kaWRhdGUoY2FuZCk7CiAgICAgIH0KICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIHR5cGVvZiBhcmd1bWVudHNbMV0gPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB3aW5kb3cuc2V0VGltZW91dChhcmd1bWVudHNbMV0sIDApOwogICAgICB9CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKICAgIH07CgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgcHJvbWlzZXMgPSBbXTsKICAgICAgdGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbih0cmFuc2NlaXZlcikgewogICAgICAgIFsncnRwU2VuZGVyJywgJ3J0cFJlY2VpdmVyJywgJ2ljZUdhdGhlcmVyJywgJ2ljZVRyYW5zcG9ydCcsCiAgICAgICAgICAgICdkdGxzVHJhbnNwb3J0J10uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHsKICAgICAgICAgIGlmICh0cmFuc2NlaXZlclttZXRob2RdKSB7CiAgICAgICAgICAgIHByb21pc2VzLnB1c2godHJhbnNjZWl2ZXJbbWV0aG9kXS5nZXRTdGF0cygpKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHZhciBjYiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIHR5cGVvZiBhcmd1bWVudHNbMV0gPT09ICdmdW5jdGlvbicgJiYKICAgICAgICAgIGFyZ3VtZW50c1sxXTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHsKICAgICAgICB2YXIgcmVzdWx0cyA9IHt9OwogICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKHJlcykgewogICAgICAgICAgcmVzLmZvckVhY2goZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgICAgIE9iamVjdC5rZXlzKHJlc3VsdCkuZm9yRWFjaChmdW5jdGlvbihpZCkgewogICAgICAgICAgICAgIHJlc3VsdHNbaWRdID0gcmVzdWx0W2lkXTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChjYikgewogICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjYiwgMCwgcmVzdWx0cyk7CiAgICAgICAgICB9CiAgICAgICAgICByZXNvbHZlKHJlc3VsdHMpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH07CiAgfQp9IGVsc2UgewogIHdlYnJ0Y1V0aWxzLmxvZygnQnJvd3NlciBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgV2ViUlRDLWNhcGFibGUnKTsKfQoKLy8gUG9seWZpbGwgb250cmFjayBvbiBicm93c2VycyB0aGF0IGRvbid0IHlldCBoYXZlIGl0CmlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyAmJiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gJiYgISgnb250cmFjaycgaW4KICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsICdvbnRyYWNrJywgewogICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX29udHJhY2s7IH0sCiAgICBzZXQ6IGZ1bmN0aW9uKGYpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBpZiAodGhpcy5fb250cmFjaykgewogICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhY2snLCB0aGlzLl9vbnRyYWNrKTsKICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FkZHN0cmVhbScsIHRoaXMuX29udHJhY2twb2x5KTsKICAgICAgfQogICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYWNrJywgdGhpcy5fb250cmFjayA9IGYpOwogICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZHN0cmVhbScsIHRoaXMuX29udHJhY2twb2x5ID0gZnVuY3Rpb24oZSkgewogICAgICAgIGlmICh3ZWJydGNEZXRlY3RlZEJyb3dzZXIgPT09ICdjaHJvbWUnKSB7CiAgICAgICAgICAvLyBvbmFkZHN0cmVhbSBkb2VzIG5vdCBmaXJlIHdoZW4gYSB0cmFjayBpcyBhZGRlZCB0byBhbiBleGlzdGluZyBzdHJlYW0uCiAgICAgICAgICAvLyBidXQgc3RyZWFtLm9uYWRkdHJhY2sgaXMgaW1wbGVtZW50ZWQgc28gd2UgdXNlIHRo44GfdAogICAgICAgICAgZS5zdHJlYW0uYWRkRXZlbnRMaXN0ZW5lcignYWRkdHJhY2snLCBmdW5jdGlvbih0ZSkgewogICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ3RyYWNrJyk7CiAgICAgICAgICAgIGV2ZW50LnRyYWNrID0gdGUudHJhY2s7CiAgICAgICAgICAgIGV2ZW50LnJlY2VpdmVyID0ge3RyYWNrOiB0ZS50cmFja307CiAgICAgICAgICAgIGV2ZW50LnN0cmVhbXMgPSBbZS5zdHJlYW1dOwogICAgICAgICAgICBzZWxmLmRpc3BhdGNoRXZlbnQoZXZlbnQpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGUuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odHJhY2spIHsKICAgICAgICAgIHZhciBldmVudCA9IG5ldyBFdmVudCgndHJhY2snKTsKICAgICAgICAgIGV2ZW50LnRyYWNrID0gdHJhY2s7CiAgICAgICAgICBldmVudC5yZWNlaXZlciA9IHt0cmFjazogdHJhY2t9OwogICAgICAgICAgZXZlbnQuc3RyZWFtcyA9IFtlLnN0cmVhbV07CiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpOwogICAgICAgIH0uYmluZCh0aGlzKSk7CiAgICAgIH0uYmluZCh0aGlzKSk7CiAgICB9CiAgfSk7Cn0KCi8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBnZXRVc2VyTWVkaWEgYXMgYSBQcm9taXNlLgpmdW5jdGlvbiByZXF1ZXN0VXNlck1lZGlhKGNvbnN0cmFpbnRzKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewogICAgZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzLCByZXNvbHZlLCByZWplY3QpOwogIH0pOwp9Cgp2YXIgd2VicnRjVGVzdGluZyA9IHt9Owp0cnkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3ZWJydGNUZXN0aW5nLCAndmVyc2lvbicsIHsKICAgIHNldDogZnVuY3Rpb24odmVyc2lvbikgewogICAgICB3ZWJydGNEZXRlY3RlZFZlcnNpb24gPSB2ZXJzaW9uOwogICAgfQogIH0pOwp9IGNhdGNoIChlKSB7fQoKaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7CiAgdmFyIFJUQ1BlZXJDb25uZWN0aW9uOwogIHZhciBSVENJY2VDYW5kaWRhdGU7CiAgdmFyIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbjsKICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgIFJUQ1BlZXJDb25uZWN0aW9uID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uOwogICAgUlRDSWNlQ2FuZGlkYXRlID0gd2luZG93LlJUQ0ljZUNhbmRpZGF0ZTsKICAgIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiA9IHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb247CiAgfQogIG1vZHVsZS5leHBvcnRzID0gewogICAgUlRDUGVlckNvbm5lY3Rpb246IFJUQ1BlZXJDb25uZWN0aW9uLAogICAgUlRDSWNlQ2FuZGlkYXRlOiBSVENJY2VDYW5kaWRhdGUsCiAgICBSVENTZXNzaW9uRGVzY3JpcHRpb246IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiwKICAgIGdldFVzZXJNZWRpYTogZ2V0VXNlck1lZGlhLAogICAgYXR0YWNoTWVkaWFTdHJlYW06IGF0dGFjaE1lZGlhU3RyZWFtLAogICAgcmVhdHRhY2hNZWRpYVN0cmVhbTogcmVhdHRhY2hNZWRpYVN0cmVhbSwKICAgIHdlYnJ0Y0RldGVjdGVkQnJvd3Nlcjogd2VicnRjRGV0ZWN0ZWRCcm93c2VyLAogICAgd2VicnRjRGV0ZWN0ZWRWZXJzaW9uOiB3ZWJydGNEZXRlY3RlZFZlcnNpb24sCiAgICB3ZWJydGNNaW5pbXVtVmVyc2lvbjogd2VicnRjTWluaW11bVZlcnNpb24sCiAgICB3ZWJydGNUZXN0aW5nOiB3ZWJydGNUZXN0aW5nLAogICAgd2VicnRjVXRpbHM6IHdlYnJ0Y1V0aWxzCiAgICAvL3JlcXVlc3RVc2VyTWVkaWE6IG5vdCBleHBvc2VkIG9uIHB1cnBvc2UuCiAgICAvL3RyYWNlOiBub3QgZXhwb3NlZCBvbiBwdXJwb3NlLgogIH07Cn0gZWxzZSBpZiAoKHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nKSAmJiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJykpIHsKICAvLyBFeHBvc2Ugb2JqZWN0cyBhbmQgZnVuY3Rpb25zIHdoZW4gUmVxdWlyZUpTIGlzIGRvaW5nIHRoZSBsb2FkaW5nLgogIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBSVENQZWVyQ29ubmVjdGlvbjogd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLAogICAgICBSVENJY2VDYW5kaWRhdGU6IHdpbmRvdy5SVENJY2VDYW5kaWRhdGUsCiAgICAgIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbjogd2luZG93LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbiwKICAgICAgZ2V0VXNlck1lZGlhOiBnZXRVc2VyTWVkaWEsCiAgICAgIGF0dGFjaE1lZGlhU3RyZWFtOiBhdHRhY2hNZWRpYVN0cmVhbSwKICAgICAgcmVhdHRhY2hNZWRpYVN0cmVhbTogcmVhdHRhY2hNZWRpYVN0cmVhbSwKICAgICAgd2VicnRjRGV0ZWN0ZWRCcm93c2VyOiB3ZWJydGNEZXRlY3RlZEJyb3dzZXIsCiAgICAgIHdlYnJ0Y0RldGVjdGVkVmVyc2lvbjogd2VicnRjRGV0ZWN0ZWRWZXJzaW9uLAogICAgICB3ZWJydGNNaW5pbXVtVmVyc2lvbjogd2VicnRjTWluaW11bVZlcnNpb24sCiAgICAgIHdlYnJ0Y1Rlc3Rpbmc6IHdlYnJ0Y1Rlc3RpbmcsCiAgICAgIHdlYnJ0Y1V0aWxzOiB3ZWJydGNVdGlscwogICAgICAvL3JlcXVlc3RVc2VyTWVkaWE6IG5vdCBleHBvc2VkIG9uIHB1cnBvc2UuCiAgICAgIC8vdHJhY2U6IG5vdCBleHBvc2VkIG9uIHB1cnBvc2UuCiAgICB9OwogIH0pOwp9Cgp9LHt9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcilkZXNjcmlwdG9yLndyaXRhYmxlPXRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKTt9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtpZihwcm90b1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpO2lmKHN0YXRpY1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjt9O30oKTtyZXF1aXJlKCd3ZWJydGMtYWRhcHRlci10ZXN0Jyk7dmFyIF9FdmVudEVtaXR0ZXIyPXJlcXVpcmUoJy4uL3V0aWxzL0V2ZW50RW1pdHRlcicpO3ZhciBfRXZlbnRFbWl0dGVyMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudEVtaXR0ZXIyKTt2YXIgX2Nvbm5lY3Rpb249cmVxdWlyZSgnLi9jb25uZWN0aW9uJyk7dmFyIF9jb25uZWN0aW9uMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25uZWN0aW9uKTt2YXIgX3BlZXI9cmVxdWlyZSgnLi9wZWVyJyk7dmFyIF9wZWVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wZWVyKTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian07fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7fX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXt0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO31yZXR1cm4gY2FsbCYmKHR5cGVvZiBjYWxsPT09Im9iamVjdCJ8fHR5cGVvZiBjYWxsPT09ImZ1bmN0aW9uIik/Y2FsbDpzZWxmO31mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYodHlwZW9mIHN1cGVyQ2xhc3MhPT0iZnVuY3Rpb24iJiZzdXBlckNsYXNzIT09bnVsbCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiBzdXBlckNsYXNzKTt9c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOmZhbHNlLHdyaXRhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9fSk7aWYoc3VwZXJDbGFzcylPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzO30gLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovIC8qIGpzaGludCB1bmRlZjogdHJ1ZSAqLyAvKiBnbG9iYWxzIFJUQ1BlZXJDb25uZWN0aW9uICovIC8qIGdsb2JhbHMgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uICovIC8qIGdsb2JhbHMgUlRDSWNlQ2FuZGlkYXRlICovdmFyIENvbm5lY3Rpb25Db250cm9sbGVyPWZ1bmN0aW9uKF9FdmVudEVtaXR0ZXIpe19pbmhlcml0cyhDb25uZWN0aW9uQ29udHJvbGxlcixfRXZlbnRFbWl0dGVyKTtmdW5jdGlvbiBDb25uZWN0aW9uQ29udHJvbGxlcihzeW5jaGVyLGRvbWFpbixjb25maWd1cmF0aW9uKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxDb25uZWN0aW9uQ29udHJvbGxlcik7aWYoIXN5bmNoZXIpdGhyb3cgbmV3IEVycm9yKCdUaGUgc3luY2hlciBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTtpZighZG9tYWluKXRocm93IG5ldyBFcnJvcignVGhlIGRvbWFpbiBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTtpZighY29uZmlndXJhdGlvbil0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjb25maWd1cmF0aW9uIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO3ZhciBfdGhpczI9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ29ubmVjdGlvbkNvbnRyb2xsZXIpLmNhbGwodGhpcykpO3ZhciBfdGhpcz1fdGhpczI7X3RoaXMuc3luY2hlcj1zeW5jaGVyO190aGlzLm1vZGU9J29mZmVyJztfdGhpcy5fb2JqZWN0RGVzY1VSTD0naHlwZXJ0eS1jYXRhbG9ndWU6Ly8nK2RvbWFpbisnLy53ZWxsLWtub3duL2RhdGFzY2hlbWFzL0Zha2VEYXRhU2NoZW1hJztjb25zb2xlLmluZm8oY29uZmlndXJhdGlvbik7Y29uc29sZS5pbmZvKGNvbmZpZ3VyYXRpb24pO190aGlzLm1lZGlhQ29uc3RyYWludHM9Y29uZmlndXJhdGlvbi5tZWRpYUNvbnN0cmFpbnRzO190aGlzLmNvbmZpZ3VyYXRpb249Y29uZmlndXJhdGlvbi53ZWJydGM7IC8vIFByZXBhcmUgdGhlIFBlZXJDb25uZWN0aW9uCnZhciBwZWVyQ29ubmVjdGlvbj1uZXcgUlRDUGVlckNvbm5lY3Rpb24oX3RoaXMuY29uZmlndXJhdGlvbik7cGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLGZ1bmN0aW9uKGV2ZW50KXtjb25zb2xlLmluZm8oJ3NpZ25hbGluZ3N0YXRlY2hhbmdlJyxldmVudC5jdXJyZW50VGFyZ2V0LnNpZ25hbGluZ1N0YXRlKTtpZihldmVudC5jdXJyZW50VGFyZ2V0LnNpZ25hbGluZ1N0YXRlPT09J2hhdmUtbG9jYWwtb2ZmZXInKXtfdGhpcy50cmlnZ2VyKCdjb250cm9sbGVyOnN0YXRlOmNoYW5nZScsX3RoaXMubW9kZSk7fWlmKGV2ZW50LmN1cnJlbnRUYXJnZXQuc2lnbmFsaW5nU3RhdGU9PT0naGF2ZS1yZW1vdGUtb2ZmZXInKXtfdGhpcy5tb2RlPSdhbnN3ZXInO190aGlzLnRyaWdnZXIoJ2NvbnRyb2xsZXI6c3RhdGU6Y2hhbmdlJyxfdGhpcy5tb2RlKTt9fSk7cGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlJyxmdW5jdGlvbihldmVudCl7Y29uc29sZS5pbmZvKCdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLGV2ZW50LmN1cnJlbnRUYXJnZXQuaWNlQ29ubmVjdGlvblN0YXRlKTt2YXIgZGF0YT1fdGhpcy5fZGF0YU9iamVjdFJlcG9ydGVyLmRhdGE7aWYoZGF0YS5oYXNPd25Qcm9wZXJ0eSgnY29ubmVjdGlvbicpKXtkYXRhLmNvbm5lY3Rpb24uc3RhdHVzPWV2ZW50LmN1cnJlbnRUYXJnZXQuaWNlQ29ubmVjdGlvblN0YXRlO319KTtwZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLGZ1bmN0aW9uKGV2ZW50KXtpZighZXZlbnQuY2FuZGlkYXRlKXJldHVybjt2YXIgaWNlY2FuZGlkYXRlPXt0eXBlOidjYW5kaWRhdGUnLGNhbmRpZGF0ZTpldmVudC5jYW5kaWRhdGUuY2FuZGlkYXRlLHNkcE1pZDpldmVudC5jYW5kaWRhdGUuc2RwTWlkLHNkcE1MaW5lSW5kZXg6ZXZlbnQuY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXh9O3ZhciBkYXRhPV90aGlzLl9kYXRhT2JqZWN0UmVwb3J0ZXIuZGF0YTtpZihfdGhpcy5tb2RlPT09J29mZmVyJyl7ZGF0YS5jb25uZWN0aW9uLm93bmVyUGVlci5pY2VDYW5kaWRhdGVzLnB1c2goaWNlY2FuZGlkYXRlKTt9ZWxzZSB7ZGF0YS5wZWVyLmljZUNhbmRpZGF0ZXMucHVzaChpY2VjYW5kaWRhdGUpO319KTsgLy8gQWRkIHN0cmVhbSB0byBQZWVyQ29ubmVjdGlvbgpwZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdhZGRzdHJlYW0nLGZ1bmN0aW9uKGV2ZW50KXtjb25zb2xlLmluZm8oJ0FkZCBTdHJlYW06ICcsZXZlbnQpO190aGlzLnRyaWdnZXIoJ3N0cmVhbTphZGRlZCcsZXZlbnQpO30pO190aGlzLnBlZXJDb25uZWN0aW9uPXBlZXJDb25uZWN0aW9uO3JldHVybiBfdGhpczI7fV9jcmVhdGVDbGFzcyhDb25uZWN0aW9uQ29udHJvbGxlcixbe2tleTonY2hhbmdlUGVlckluZm9ybWF0aW9uJyx2YWx1ZTpmdW5jdGlvbiBjaGFuZ2VQZWVySW5mb3JtYXRpb24oZGF0YU9iamVjdE9ic2VydmVyKXt2YXIgX3RoaXM9dGhpczt2YXIgZGF0YT1kYXRhT2JqZWN0T2JzZXJ2ZXIuZGF0YTt2YXIgaXNPd25lcj1kYXRhLmhhc093blByb3BlcnR5KCdjb25uZWN0aW9uJyk7dmFyIHBlZXJEYXRhPWlzT3duZXI/ZGF0YS5jb25uZWN0aW9uLm93bmVyUGVlcjpkYXRhLnBlZXI7Y29uc29sZS5pbmZvKCdQZWVyIERhdGE6JyxKU09OLnN0cmluZ2lmeShwZWVyRGF0YSkpO2lmKHBlZXJEYXRhLmhhc093blByb3BlcnR5KCdjb25uZWN0aW9uRGVzY3JpcHRpb24nKSl7X3RoaXMucHJvY2Vzc1BlZXJJbmZvcm1hdGlvbihwZWVyRGF0YS5jb25uZWN0aW9uRGVzY3JpcHRpb24pO31pZihwZWVyRGF0YS5oYXNPd25Qcm9wZXJ0eSgnaWNlQ2FuZGlkYXRlcycpKXtwZWVyRGF0YS5pY2VDYW5kaWRhdGVzLmZvckVhY2goZnVuY3Rpb24oaWNlKXtfdGhpcy5wcm9jZXNzUGVlckluZm9ybWF0aW9uKGljZSk7fSk7fWRhdGFPYmplY3RPYnNlcnZlci5vbkNoYW5nZSgnKicsZnVuY3Rpb24oZXZlbnQpe2NvbnNvbGUuaW5mbygnT2JzZXJ2ZXIgb24gY2hhbmdlIG1lc3NhZ2U6ICcsZXZlbnQpO190aGlzLnByb2Nlc3NQZWVySW5mb3JtYXRpb24oZXZlbnQuZGF0YSk7fSk7fX0se2tleToncHJvY2Vzc1BlZXJJbmZvcm1hdGlvbicsdmFsdWU6ZnVuY3Rpb24gcHJvY2Vzc1BlZXJJbmZvcm1hdGlvbihkYXRhKXt2YXIgX3RoaXM9dGhpcztjb25zb2xlLmluZm8oSlNPTi5zdHJpbmdpZnkoZGF0YSkpO2lmKGRhdGEudHlwZT09PSdvZmZlcid8fGRhdGEudHlwZT09PSdhbnN3ZXInKXtjb25zb2xlLmluZm8oJ1Byb2Nlc3MgQ29ubmVjdGlvbiBEZXNjcmlwdGlvbjogJyxkYXRhLnNkcCk7X3RoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihkYXRhKSxfdGhpcy5yZW1vdGVEZXNjcmlwdGlvblN1Y2Nlc3MsX3RoaXMucmVtb3RlRGVzY3JpcHRpb25FcnJvcik7fWlmKGRhdGEudHlwZT09PSdjYW5kaWRhdGUnKXtjb25zb2xlLmluZm8oJ1Byb2Nlc3MgSWNlIENhbmRpZGF0ZTogJyxkYXRhKTtfdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUobmV3IFJUQ0ljZUNhbmRpZGF0ZSh7Y2FuZGlkYXRlOmRhdGEuY2FuZGlkYXRlfSksX3RoaXMucmVtb3RlRGVzY3JpcHRpb25TdWNjZXNzLF90aGlzLnJlbW90ZURlc2NyaXB0aW9uRXJyb3IpO319fSx7a2V5OidyZW1vdGVEZXNjcmlwdGlvblN1Y2Nlc3MnLHZhbHVlOmZ1bmN0aW9uIHJlbW90ZURlc2NyaXB0aW9uU3VjY2Vzcygpe2NvbnNvbGUuaW5mbygncmVtb3RlIHN1Y2Nlc3MnKTt9fSx7a2V5OidyZW1vdGVEZXNjcmlwdGlvbkVycm9yJyx2YWx1ZTpmdW5jdGlvbiByZW1vdGVEZXNjcmlwdGlvbkVycm9yKGVycm9yKXtjb25zb2xlLmVycm9yKCdlcnJvcjogJyxlcnJvcik7fX0se2tleTonY3JlYXRlT2ZmZXInLHZhbHVlOmZ1bmN0aW9uIGNyZWF0ZU9mZmVyKCl7dmFyIF90aGlzPXRoaXM7X3RoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoZnVuY3Rpb24oZGVzY3JpcHRpb24pe190aGlzLm9uTG9jYWxTZXNzaW9uQ3JlYXRlZChkZXNjcmlwdGlvbik7fSxfdGhpcy5pbmZvRXJyb3IsX3RoaXMubWVkaWFDb25zdHJhaW50cyk7fX0se2tleTonY3JlYXRlQW5zd2VyJyx2YWx1ZTpmdW5jdGlvbiBjcmVhdGVBbnN3ZXIoKXt2YXIgX3RoaXM9dGhpcztfdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoZnVuY3Rpb24oZGVzY3JpcHRpb24pe190aGlzLm9uTG9jYWxTZXNzaW9uQ3JlYXRlZChkZXNjcmlwdGlvbik7fSxfdGhpcy5pbmZvRXJyb3IpO319LHtrZXk6J29uTG9jYWxTZXNzaW9uQ3JlYXRlZCcsdmFsdWU6ZnVuY3Rpb24gb25Mb2NhbFNlc3Npb25DcmVhdGVkKGRlc2NyaXB0aW9uKXt2YXIgX3RoaXM9dGhpcztfdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGRlc2NyaXB0aW9uLGZ1bmN0aW9uKCl7dmFyIGRhdGE9X3RoaXMuX2RhdGFPYmplY3RSZXBvcnRlci5kYXRhO3ZhciBzZHBDb25uZWN0aW9uPXtzZHA6ZGVzY3JpcHRpb24uc2RwLHR5cGU6ZGVzY3JpcHRpb24udHlwZX07aWYoX3RoaXMubW9kZT09PSdvZmZlcicpe2RhdGEuY29ubmVjdGlvbi5vd25lclBlZXIuY29ubmVjdGlvbkRlc2NyaXB0aW9uPXNkcENvbm5lY3Rpb247fWVsc2Uge2RhdGEucGVlci5jb25uZWN0aW9uRGVzY3JpcHRpb249c2RwQ29ubmVjdGlvbjt9fSxfdGhpcy5pbmZvRXJyb3IpO319LHtrZXk6J2luZm9FcnJvcicsdmFsdWU6ZnVuY3Rpb24gaW5mb0Vycm9yKGVycil7Y29uc29sZS5lcnJvcihlcnIudG9TdHJpbmcoKSxlcnIpO30gLyoqCiAgICogVXNlZCB0byBhY2NlcHQgYW4gaW5jb21pbmcgY29ubmVjdGlvbiByZXF1ZXN0LgogICAqIEBtZXRob2QgYWNjZXB0CiAgICogQHJldHVybiB7UHJvbWlzZX0KICAgKi99LHtrZXk6J2FjY2VwdCcsdmFsdWU6ZnVuY3Rpb24gYWNjZXB0KHN0cmVhbSl7IC8vIFRPRE86IFBhc3MgYXJndW1lbnQgb3B0aW9ucyBhcyBhIHN0cmVhbSwgYmVjYXVzZSBpcyBzcGVjaWZpYyBvZiBpbXBsZW1lbnRhdGlvbjsKdmFyIF90aGlzPXRoaXM7dmFyIHN5bmNoZXI9X3RoaXMuc3luY2hlcjtjb25zb2xlLmxvZygnUmVtb3RlIFBlZXIgSW5mb3JtYXRpb246ICcsX3RoaXMuX3JlbW90ZVBlZXJJbmZvcm1hdGlvbik7dmFyIHJlbW90ZVBlZXI9X3RoaXMuX3JlbW90ZVBlZXJJbmZvcm1hdGlvbi5mcm9tO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dHJ5e2NvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFN5bmNoZXIgQ3JlYXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG4nKTtzeW5jaGVyLmNyZWF0ZShfdGhpcy5fb2JqZWN0RGVzY1VSTCxbcmVtb3RlUGVlcl0se30pLnRoZW4oZnVuY3Rpb24oZGF0YU9iamVjdFJlcG9ydGVyKXtjb25zb2xlLmluZm8oJzIuIFJldHVybiB0aGUgRGF0YSBPYmplY3QgUmVwb3J0ZXIgJyxkYXRhT2JqZWN0UmVwb3J0ZXIpO190aGlzLnN0cmVhbT1zdHJlYW07X3RoaXMuZGF0YU9iamVjdFJlcG9ydGVyPWRhdGFPYmplY3RSZXBvcnRlcjtyZXNvbHZlKCdhY2NlcHRlZCcpO30pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7cmVqZWN0KHJlYXNvbik7fSk7fWNhdGNoKGUpe3JlamVjdCgnZXJyb3IgYWNjZXB0aW5nIGNvbm5lY3Rpb24nKTt9fSk7fSAvKioKICAqIFVzZWQgdG8gZGVjbGluZSBhbiBpbmNvbWluZyBjb25uZWN0aW9uIHJlcXVlc3QuCiAgKiBAbWV0aG9kIGRlY2xpbmUKICAqIEByZXR1cm4ge1Byb21pc2V9CiAgKi99LHtrZXk6J2RlY2xpbmUnLHZhbHVlOmZ1bmN0aW9uIGRlY2xpbmUoKXt2YXIgX3RoaXM9dGhpczt2YXIgc3luY2hlcj1fdGhpcy5zeW5jaGVyO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dHJ5e2NvbnNvbGUubG9nKCdzeW5jaGVyOiAnLHN5bmNoZXIpO3Jlc29sdmUoJ0RlY2xpbmVkJyk7fWNhdGNoKGUpe3JlamVjdChlKTt9fSk7fSAvKioKICAgKiBVc2VkIHRvIGNsb3NlIGFuIGV4aXN0aW5nIGNvbm5lY3Rpb24gaW5zdGFuY2UuCiAgICogQG1ldGhvZCBkaXNjb25uZWN0CiAgICogQHJldHVybiB7UHJvbWlzZX0KICAgKi99LHtrZXk6J2Rpc2Nvbm5lY3QnLHZhbHVlOmZ1bmN0aW9uIGRpc2Nvbm5lY3QoKXsgLy8gVE9ETzogb3B0aW1pemUgdGhlIGRpc2Nvbm5lY3QgZnVuY3Rpb24KdmFyIF90aGlzPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt0cnl7X3RoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKTtyZXNvbHZlKHRydWUpO31jYXRjaChlKXtyZWplY3QoJ2Vycm9yIGRpc2Nvbm5lY3RpbmcgY29ubmVjdGlvbicpO319KTt9IC8qKgogICAqIFVzZWQgdG8gYWRkL2ludml0ZSBuZXcgcGVlcnMgb24gYW4gZXhpc3RpbmcgY29ubmVjdGlvbiBpbnN0YW5jZSAoZm9yIG11bHRpcGFydHkgY29ubmVjdGlvbnMpLgogICAqIEBtZXRob2QgYWRkUGVlcgogICAqIEByZXR1cm4ge1Byb21pc2V9CiAgICovfSx7a2V5OidhZGRQZWVyJyx2YWx1ZTpmdW5jdGlvbiBhZGRQZWVyKCl7fSAvKioKICAgKiBVc2VkIHRvIHJlbW92ZSBhIHBlZXIgZnJvbSBhbiBleGlzdGluZyBjb25uZWN0aW9uIGluc3RhbmNlLgogICAqIEBtZXRob2QgcmVtb3ZlUGVlcgogICAqIEByZXR1cm4ge1Byb21pc2V9CiAgICovfSx7a2V5OidyZW1vdmVQZWVyJyx2YWx1ZTpmdW5jdGlvbiByZW1vdmVQZWVyKCl7fSAvLyBQZWVyIEFjdGlvbnMKfSx7a2V5OidkaXNhYmxlTWljJyx2YWx1ZTpmdW5jdGlvbiBkaXNhYmxlTWljKCl7dmFyIF90aGlzPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt0cnl7dmFyIGxvY2FsU3RyZWFtPV90aGlzLnBlZXJDb25uZWN0aW9uLmdldExvY2FsU3RyZWFtcygpWzBdO3ZhciBhdWRpb1RyYWNrPWxvY2FsU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07YXVkaW9UcmFjay5lbmFibGVkPWF1ZGlvVHJhY2suZW5hYmxlZD9mYWxzZTp0cnVlO3Jlc29sdmUoYXVkaW9UcmFjay5lbmFibGVkKTt9Y2F0Y2goZSl7cmVqZWN0KGUpO319KTt9fSx7a2V5OidkaXNhYmxlQ2FtJyx2YWx1ZTpmdW5jdGlvbiBkaXNhYmxlQ2FtKCl7dmFyIF90aGlzPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt0cnl7dmFyIGxvY2FsU3RyZWFtPV90aGlzLnBlZXJDb25uZWN0aW9uLmdldExvY2FsU3RyZWFtcygpWzBdO3ZhciB2aWRlb1RyYWNrPWxvY2FsU3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07dmlkZW9UcmFjay5lbmFibGVkPXZpZGVvVHJhY2suZW5hYmxlZD9mYWxzZTp0cnVlO3Jlc29sdmUodmlkZW9UcmFjay5lbmFibGVkKTt9Y2F0Y2goZSl7cmVqZWN0KGUpO319KTt9fSx7a2V5OidtdXRlJyx2YWx1ZTpmdW5jdGlvbiBtdXRlKCl7dmFyIF90aGlzPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt0cnl7dmFyIHJlbW90ZVN0cmVhbT1fdGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRSZW1vdGVTdHJlYW1zKClbMF07dmFyIGF1ZGlvVHJhY2s9cmVtb3RlU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07YXVkaW9UcmFjay5lbmFibGVkPWF1ZGlvVHJhY2suZW5hYmxlZD9mYWxzZTp0cnVlO3Jlc29sdmUoYXVkaW9UcmFjay5lbmFibGVkKTt9Y2F0Y2goZSl7cmVqZWN0KGUpO319KTt9fSx7a2V5OidzdHJlYW0nLHNldDpmdW5jdGlvbiBzZXQobWVkaWFTdHJlYW0pe2lmKCFtZWRpYVN0cmVhbSl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBtZWRpYVN0cmVhbSBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTt2YXIgX3RoaXM9dGhpcztjb25zb2xlLmluZm8oJ3NldCBzdHJlYW06ICcsbWVkaWFTdHJlYW0pO190aGlzLnBlZXJDb25uZWN0aW9uLmFkZFN0cmVhbShtZWRpYVN0cmVhbSk7fX0se2tleTonZ2V0TG9jYWxTdHJlYW1zJyxnZXQ6ZnVuY3Rpb24gZ2V0KCl7dmFyIF90aGlzPXRoaXM7cmV0dXJuIF90aGlzLnBlZXJDb25uZWN0aW9uLmdldExvY2FsU3RyZWFtcygpO319LHtrZXk6J2dldFJlbW90ZVN0cmVhbXMnLGdldDpmdW5jdGlvbiBnZXQoKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gX3RoaXMucGVlckNvbm5lY3Rpb24uZ2V0UmVtb3RlU3RyZWFtcygpO30gLyoqCiAgICogU2V0IFJlbW90ZSBwZWVyIGluZm9ybWF0aW9uLCBsaWtlIEh5cGVydHkuCiAgICogQHBhcmFtICB7T2JqZWN0fSByZW1vdGVQZWVySW5mb3JtYXRpb24gaW5mb3JtYXRpb24gYWJvdXQgdGhlIHBlZXI7CiAgICovfSx7a2V5OidyZW1vdGVQZWVySW5mb3JtYXRpb24nLHNldDpmdW5jdGlvbiBzZXQocmVtb3RlUGVlckluZm9ybWF0aW9uKXt2YXIgX3RoaXM9dGhpcztfdGhpcy5fcmVtb3RlUGVlckluZm9ybWF0aW9uPXJlbW90ZVBlZXJJbmZvcm1hdGlvbjt9IC8qKgogICAqIEdldCBpbmZvcm1hdGlvbiByZWxhdGl2ZSB0byB0aGUgUmVtb3RlIFBlZXI7CiAgICogQHJldHVybiB7T2JqZWN0fSByZW1vdGVQZWVySW5mb3JtYXRpb247CiAgICovLGdldDpmdW5jdGlvbiBnZXQoKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gX3RoaXMuX3JlbW90ZVBlZXJJbmZvcm1hdGlvbjt9IC8qKgogICogU2V0IHRoZSBkYXRhT2JqZWN0IGluIHRoZSBjb250cm9sbGVyCiAgKiBAcGFyYW0ge0Nvbm5lY3Rpb25EYXRhT2JqZWN0fSBkYXRhT2JqZWN0IC0gaGF2ZSBhbGwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHN5bmNoZXIgb2JqZWN0OwogICovfSx7a2V5OidkYXRhT2JqZWN0UmVwb3J0ZXInLHNldDpmdW5jdGlvbiBzZXQoZGF0YU9iamVjdFJlcG9ydGVyKXtpZighZGF0YU9iamVjdFJlcG9ydGVyKXRocm93IG5ldyBFcnJvcignVGhlIERhdGEgT2JqZWN0IFJlcG9ydGVyIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO3ZhciBfdGhpcz10aGlzO190aGlzLl9kYXRhT2JqZWN0UmVwb3J0ZXI9ZGF0YU9iamVjdFJlcG9ydGVyO3ZhciBkYXRhPV90aGlzLl9kYXRhT2JqZWN0UmVwb3J0ZXIuZGF0YTtkYXRhT2JqZWN0UmVwb3J0ZXIub25TdWJzY3JpcHRpb24oZnVuY3Rpb24oZXZlbnQpe2V2ZW50LmFjY2VwdCgpO30pO2lmKF90aGlzLm1vZGU9PT0nb2ZmZXInKXtkYXRhLmNvbm5lY3Rpb249X2Nvbm5lY3Rpb24yLmRlZmF1bHQ7X3RoaXMuY3JlYXRlT2ZmZXIoKTt9ZWxzZSB7ZGF0YS5wZWVyPV9wZWVyMi5kZWZhdWx0O190aGlzLmNyZWF0ZUFuc3dlcigpO31jb25zb2xlLmRlYnVnKF90aGlzLl9kYXRhT2JqZWN0UmVwb3J0ZXIpO30gLyoqCiAgKiByZXR1cm4gdGhlIGRhdGFPYmplY3QgaW4gdGhlIGNvbnRyb2xsZXIKICAqIEByZXR1cm4ge0Nvbm5lY3Rpb25EYXRhT2JqZWN0fSBkYXRhT2JqZWN0CiAgKi8sZ2V0OmZ1bmN0aW9uIGdldCgpe3ZhciBfdGhpcz10aGlzO3JldHVybiBfdGhpcy5fZGF0YU9iamVjdFJlcG9ydGVyO30gLyoqCiAgKiBTZXQgdGhlIGRhdGFPYmplY3QgaW4gdGhlIGNvbnRyb2xsZXIKICAqIEBwYXJhbSB7Q29ubmVjdGlvbkRhdGFPYmplY3R9IGRhdGFPYmplY3QgLSBoYXZlIGFsbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc3luY2hlciBvYmplY3Q7CiAgKi99LHtrZXk6J2RhdGFPYmplY3RPYnNlcnZlcicsc2V0OmZ1bmN0aW9uIHNldChkYXRhT2JqZWN0T2JzZXJ2ZXIpe2lmKCFkYXRhT2JqZWN0T2JzZXJ2ZXIpdGhyb3cgbmV3IEVycm9yKCdUaGUgRGF0YSBPYmplY3QgT2JzZXJ2ZXIgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7dmFyIF90aGlzPXRoaXM7X3RoaXMuX2RhdGFPYmplY3RPYnNlcnZlcj1kYXRhT2JqZWN0T2JzZXJ2ZXI7X3RoaXMuY2hhbmdlUGVlckluZm9ybWF0aW9uKGRhdGFPYmplY3RPYnNlcnZlcik7fSAvKioKICAqIHJldHVybiB0aGUgZGF0YU9iamVjdCBpbiB0aGUgY29udHJvbGxlcgogICogQHJldHVybiB7Q29ubmVjdGlvbkRhdGFPYmplY3R9IGRhdGFPYmplY3QKICAqLyxnZXQ6ZnVuY3Rpb24gZ2V0KCl7dmFyIF90aGlzPXRoaXM7cmV0dXJuIF90aGlzLl9kYXRhT2JqZWN0T2JzZXJ2ZXI7fX1dKTtyZXR1cm4gQ29ubmVjdGlvbkNvbnRyb2xsZXI7fShfRXZlbnRFbWl0dGVyMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9Q29ubmVjdGlvbkNvbnRyb2xsZXI7bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4uL3V0aWxzL0V2ZW50RW1pdHRlciI6OCwiLi9jb25uZWN0aW9uIjo2LCIuL3BlZXIiOjcsIndlYnJ0Yy1hZGFwdGVyLXRlc3QiOjN9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcilkZXNjcmlwdG9yLndyaXRhYmxlPXRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKTt9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtpZihwcm90b1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpO2lmKHN0YXRpY1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjt9O30oKTtleHBvcnRzLmRlZmF1bHQ9YWN0aXZhdGU7dmFyIF9IeXBlcnR5RGlzY292ZXJ5PXJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSHlwZXJ0eURpc2NvdmVyeScpO3ZhciBfSHlwZXJ0eURpc2NvdmVyeTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSHlwZXJ0eURpc2NvdmVyeSk7dmFyIF9TeW5jaGVyPXJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlcicpO3ZhciBfRXZlbnRFbWl0dGVyMj1yZXF1aXJlKCcuLi91dGlscy9FdmVudEVtaXR0ZXInKTt2YXIgX0V2ZW50RW1pdHRlcjM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXZlbnRFbWl0dGVyMik7dmFyIF91dGlscz1yZXF1aXJlKCcuLi91dGlscy91dGlscycpO3ZhciBfQ29ubmVjdGlvbkNvbnRyb2xsZXI9cmVxdWlyZSgnLi9Db25uZWN0aW9uQ29udHJvbGxlcicpO3ZhciBfQ29ubmVjdGlvbkNvbnRyb2xsZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nvbm5lY3Rpb25Db250cm9sbGVyKTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian07fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7fX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXt0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO31yZXR1cm4gY2FsbCYmKHR5cGVvZiBjYWxsPT09Im9iamVjdCJ8fHR5cGVvZiBjYWxsPT09ImZ1bmN0aW9uIik/Y2FsbDpzZWxmO31mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYodHlwZW9mIHN1cGVyQ2xhc3MhPT0iZnVuY3Rpb24iJiZzdXBlckNsYXNzIT09bnVsbCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiBzdXBlckNsYXNzKTt9c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOmZhbHNlLHdyaXRhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9fSk7aWYoc3VwZXJDbGFzcylPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzO30gLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovIC8qIGpzaGludCB1bmRlZjogdHJ1ZSAqLyAvLyBTZXJ2aWNlIEZyYW1ld29yawovLyBVdGlscwovLyBJbnRlcm5hbHMKLyoqCiogSHlwZXJ0eSBDb25uZWN0b3I7CiogQGF1dGhvciBWaXRvciBTaWx2YSBbdml0b3ItdC1zaWx2YUB0ZWxlY29tLnB0XQoqIEB2ZXJzaW9uIDAuMS4wCiovdmFyIEh5cGVydHlDb25uZWN0b3I9ZnVuY3Rpb24oX0V2ZW50RW1pdHRlcil7X2luaGVyaXRzKEh5cGVydHlDb25uZWN0b3IsX0V2ZW50RW1pdHRlcik7IC8qKgogICogQ3JlYXRlIGEgbmV3IEh5cGVydHkgQ29ubmVjdG9yCiAgKiBAcGFyYW0gIHtTeW5jaGVyfSBzeW5jaGVyIC0gU3luY2hlciBwcm92aWRlZCBmcm9tIHRoZSBydW50aW1lIGNvcmUKICAqL2Z1bmN0aW9uIEh5cGVydHlDb25uZWN0b3IoaHlwZXJ0eVVSTCxidXMsY29uZmlndXJhdGlvbil7X2NsYXNzQ2FsbENoZWNrKHRoaXMsSHlwZXJ0eUNvbm5lY3Rvcik7aWYoIWh5cGVydHlVUkwpdGhyb3cgbmV3IEVycm9yKCdUaGUgaHlwZXJ0eVVSTCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTtpZighYnVzKXRocm93IG5ldyBFcnJvcignVGhlIE1pbmlCdXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7aWYoIWNvbmZpZ3VyYXRpb24pdGhyb3cgbmV3IEVycm9yKCdUaGUgY29uZmlndXJhdGlvbiBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTt2YXIgX3RoaXMyPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKEh5cGVydHlDb25uZWN0b3IpLmNhbGwodGhpcyxoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKSk7dmFyIF90aGlzPV90aGlzMjtfdGhpcy5faHlwZXJ0eVVSTD1oeXBlcnR5VVJMO190aGlzLl9idXM9YnVzO190aGlzLl9jb25maWd1cmF0aW9uPWNvbmZpZ3VyYXRpb247X3RoaXMuX2RvbWFpbj0oMCxfdXRpbHMuZGl2aWRlVVJMKShoeXBlcnR5VVJMKS5kb21haW47X3RoaXMuX29iamVjdERlc2NVUkw9J2h5cGVydHktY2F0YWxvZ3VlOi8vJytfdGhpcy5fZG9tYWluKycvLndlbGwta25vd24vZGF0YXNjaGVtYXMvRmFrZURhdGFTY2hlbWEnO190aGlzLl9jb250cm9sbGVycz17fTtfdGhpcy5oeXBlcnR5RGlzY292ZXJ5PW5ldyBfSHlwZXJ0eURpc2NvdmVyeTIuZGVmYXVsdChoeXBlcnR5VVJMLGJ1cyk7dmFyIHN5bmNoZXI9bmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCxidXMsY29uZmlndXJhdGlvbik7c3luY2hlci5vbk5vdGlmaWNhdGlvbihmdW5jdGlvbihldmVudCl7X3RoaXMuX29uTm90aWZpY2F0aW9uKGV2ZW50KTt9KTtfdGhpcy5fc3luY2hlcj1zeW5jaGVyO3JldHVybiBfdGhpczI7fV9jcmVhdGVDbGFzcyhIeXBlcnR5Q29ubmVjdG9yLFt7a2V5Oidfb25Ob3RpZmljYXRpb24nLHZhbHVlOmZ1bmN0aW9uIF9vbk5vdGlmaWNhdGlvbihldmVudCl7dmFyIF90aGlzPXRoaXM7Y29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0gQWNrbm93bGVkZ2VzIHRoZSBSZXBvcnRlciAtLS0tLS0tLS0tLS0gXG4nKTtldmVudC5hY2soKTtjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcbicpO2lmKF90aGlzLl9jb250cm9sbGVyc1tldmVudC5mcm9tXSl7X3RoaXMuX2F1dG9TdWJzY3JpYmUoZXZlbnQpO31lbHNlIHtfdGhpcy5fYXV0b0FjY2VwdChldmVudCk7fX19LHtrZXk6J19hdXRvU3Vic2NyaWJlJyx2YWx1ZTpmdW5jdGlvbiBfYXV0b1N1YnNjcmliZShldmVudCl7dmFyIF90aGlzPXRoaXM7dmFyIHN5bmNoZXI9X3RoaXMuX3N5bmNoZXI7Y29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tIFN5bmNoZXIgQXV0byBTdWJzY3JpYmUgLS0tLS0tLS0tLS0tLS0tLSBcbicpO2NvbnNvbGUuaW5mbygnU3Vic2NyaWJlIFVSTCBPYmplY3QgJyxldmVudCxzeW5jaGVyKTtzeW5jaGVyLnN1YnNjcmliZShfdGhpcy5fb2JqZWN0RGVzY1VSTCxldmVudC51cmwpLnRoZW4oZnVuY3Rpb24oZGF0YU9iamVjdE9ic2VydmVyKXtjb25zb2xlLmluZm8oJzEuIFJldHVybiBTdWJzY3JpYmUgRGF0YSBPYmplY3QgT2JzZXJ2ZXInLGRhdGFPYmplY3RPYnNlcnZlcik7Y29uc29sZS5sb2coX3RoaXMuX2NvbnRyb2xsZXJzKTtfdGhpcy5fY29udHJvbGxlcnNbZXZlbnQuZnJvbV0uZGF0YU9iamVjdE9ic2VydmVyPWRhdGFPYmplY3RPYnNlcnZlcjt9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe2NvbnNvbGUuZXJyb3IocmVhc29uKTt9KTt9fSx7a2V5OidfYXV0b0FjY2VwdCcsdmFsdWU6ZnVuY3Rpb24gX2F1dG9BY2NlcHQoZXZlbnQpe3ZhciBfdGhpcz10aGlzO3ZhciBzeW5jaGVyPV90aGlzLl9zeW5jaGVyO2NvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0gU3luY2hlciBTdWJzY3JpYmUgKEF1dG8gQWNjZXB0KSAtLS0tLS0tLS0tLS0tIFxuJyk7Y29uc29sZS5pbmZvKCdTdWJzY3JpYmUgVVJMIE9iamVjdCAnLGV2ZW50LHN5bmNoZXIpO3N5bmNoZXIuc3Vic2NyaWJlKF90aGlzLl9vYmplY3REZXNjVVJMLGV2ZW50LnVybCkudGhlbihmdW5jdGlvbihkYXRhT2JqZWN0T2JzZXJ2ZXIpe2NvbnNvbGUuaW5mbygnMS4gUmV0dXJuIFN1YnNjcmliZSBEYXRhIE9iamVjdCBPYnNlcnZlcicsZGF0YU9iamVjdE9ic2VydmVyKTt2YXIgY29ubmVjdGlvbkNvbnRyb2xsZXI9bmV3IF9Db25uZWN0aW9uQ29udHJvbGxlcjIuZGVmYXVsdChzeW5jaGVyLF90aGlzLl9kb21haW4sX3RoaXMuX2NvbmZpZ3VyYXRpb24pO2Nvbm5lY3Rpb25Db250cm9sbGVyLnJlbW90ZVBlZXJJbmZvcm1hdGlvbj1ldmVudDtjb25uZWN0aW9uQ29udHJvbGxlci5kYXRhT2JqZWN0T2JzZXJ2ZXI9ZGF0YU9iamVjdE9ic2VydmVyO190aGlzLnRyaWdnZXIoJ2Nvbm5lY3Rvcjpjb25uZWN0ZWQnLGNvbm5lY3Rpb25Db250cm9sbGVyKTtfdGhpcy50cmlnZ2VyKCdoYXZlOm5vdGlmaWNhdGlvbicsZXZlbnQpO2NvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuJyk7fSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtjb25zb2xlLmVycm9yKHJlYXNvbik7fSk7fSAvKioKICAqIEVzdGFibGlzaCBjb25uZWN0aW9uIHdpdGggb3RoZXIgY2xpZW50IGlkZW50aWZpZXIKICAqIEBwYXJhbSAge0h5cGVydHlVUkx9IEh5cGVydHlVUkwgLSBEZWZpbmUgdGhlIGlkZW50aWZpZXIgb2YgdGhlIG90aGVyIGNvbXBvbmVudAogICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIC0gT2JqZWN0IHdpdGggb3B0aW9ucyB0byBpbXByb3ZlIHRoZSBjb25uZWN0CiAgKi99LHtrZXk6J2Nvbm5lY3QnLHZhbHVlOmZ1bmN0aW9uIGNvbm5lY3QoaHlwZXJ0eVVSTCxzdHJlYW0peyAvLyBUT0RPOiBQYXNzIGFyZ3VtZW50IG9wdGlvbnMgYXMgYSBzdHJlYW0sIGJlY2F1c2UgaXMgc3BlY2lmaWMgb2YgaW1wbGVtZW50YXRpb247Ci8vIFRPRE86IENIYW5nZSB0aGUgaHlwZXJ0eVVSTCBmb3IgYSBsaXN0IG9mIFVSTFMKdmFyIF90aGlzPXRoaXM7dmFyIHN5bmNoZXI9X3RoaXMuX3N5bmNoZXI7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgY29ubmVjdGlvbkNvbnRyb2xsZXI9dm9pZCAwO2NvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFN5bmNoZXIgQ3JlYXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG4nKTtzeW5jaGVyLmNyZWF0ZShfdGhpcy5fb2JqZWN0RGVzY1VSTCxbaHlwZXJ0eVVSTF0se30pLnRoZW4oZnVuY3Rpb24oZGF0YU9iamVjdFJlcG9ydGVyKXtjb25zb2xlLmluZm8oJzEuIFJldHVybiBDcmVhdGUgRGF0YSBPYmplY3QgUmVwb3J0ZXInLGRhdGFPYmplY3RSZXBvcnRlcik7Y29ubmVjdGlvbkNvbnRyb2xsZXI9bmV3IF9Db25uZWN0aW9uQ29udHJvbGxlcjIuZGVmYXVsdChzeW5jaGVyLF90aGlzLl9kb21haW4sX3RoaXMuX2NvbmZpZ3VyYXRpb24pO2Nvbm5lY3Rpb25Db250cm9sbGVyLnN0cmVhbT1zdHJlYW07Y29ubmVjdGlvbkNvbnRyb2xsZXIuZGF0YU9iamVjdFJlcG9ydGVyPWRhdGFPYmplY3RSZXBvcnRlcjtfdGhpcy5fY29udHJvbGxlcnNbaHlwZXJ0eVVSTF09Y29ubmVjdGlvbkNvbnRyb2xsZXI7cmVzb2x2ZShjb25uZWN0aW9uQ29udHJvbGxlcik7Y29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRU5EIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcbicpO30pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7Y29uc29sZS5lcnJvcihyZWFzb24pO3JlamVjdChyZWFzb24pO30pO30pO319XSk7cmV0dXJuIEh5cGVydHlDb25uZWN0b3I7fShfRXZlbnRFbWl0dGVyMy5kZWZhdWx0KTtmdW5jdGlvbiBhY3RpdmF0ZShoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKXtyZXR1cm4ge25hbWU6J0h5cGVydHlDb25uZWN0b3InLGluc3RhbmNlOm5ldyBIeXBlcnR5Q29ubmVjdG9yKGh5cGVydHlVUkwsYnVzLGNvbmZpZ3VyYXRpb24pfTt9bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4uL3V0aWxzL0V2ZW50RW1pdHRlciI6OCwiLi4vdXRpbHMvdXRpbHMiOjksIi4vQ29ubmVjdGlvbkNvbnRyb2xsZXIiOjQsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSHlwZXJ0eURpc2NvdmVyeSI6MSwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyIjoyfV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTsgLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovIC8vIGRhdGFPYmplY3RSZXBvcnRlci5kYXRhID0gewovLyAgICBzdGF0dXMgOiAiY29ubmVjdGVkIiwKLy8gICAgb3duZXIgOiAiaHlwZXJ0eTovL2V4YW1wbGUuY29tL2FsaWNlaHkiLAovLyAgICBwZWVyIDogImNvbm5lY3Rpb246Ly9leGFtcGxlLmNvbS9hbGljZS9ib2IyNzAxMjAxNiIsCi8vICAgIG93bmVyUGVlciA6IHsKLy8gICAgICAgICAgY29ubmVjdGlvbkRlc2NyaXB0aW9uOiB7Ci8vICAgICAgICAgICAgIHNkcDogJ3M0ZGZhZjFzYTNmMWFzZDVmNHNkYWZhJywKLy8gICAgICAgICAgICAgdHlwZTogJ29mZmVyJwovLyAgICAgICAgICB9LAovLyAgICAgICAgICBpY2VDYW5kaWRhdGVzOiBbewovLyAgICAgICAgICAgICAgdHlwZTogJ2NhbmRpZGF0ZScsCi8vICAgICAgICAgICAgICBjYW5kaWRhdGU6IGV2ZW50LmNhbmRpZGF0ZS5jYW5kaWRhdGUsCi8vICAgICAgICAgICAgICBzZHBNaWQ6IGV2ZW50LmNhbmRpZGF0ZS5zZHBNaWQsCi8vICAgICAgICAgICAgICBzZHBNTGluZUluZGV4OiBldmVudC5jYW5kaWRhdGUuc2RwTUxpbmVJbmRleAovLyAgICAgICAgICAgIH0sCi8vICAgICAgICAgICAgewovLyAgICAgICAgICAgICAgdHlwZTogJ2NhbmRpZGF0ZScsCi8vICAgICAgICAgICAgICBjYW5kaWRhdGU6IGV2ZW50LmNhbmRpZGF0ZS5jYW5kaWRhdGUsCi8vICAgICAgICAgICAgICBzZHBNaWQ6IGV2ZW50LmNhbmRpZGF0ZS5zZHBNaWQsCi8vICAgICAgICAgICAgICBzZHBNTGluZUluZGV4OiBldmVudC5jYW5kaWRhdGUuc2RwTUxpbmVJbmRleAovLyAgICAgICAgICAgIH0sCi8vICAgICAgICAgICAgLi4uLi4KLy8gICAgICAgIF0KLy8gICAgICB9Ci8vICB9CnZhciBjb25uZWN0aW9uPXtuYW1lOicnLHN0YXR1czoiY29ubmVjdGVkIixvd25lcjoiaHlwZXJ0eTovL2V4YW1wbGUuY29tL2FsaWNlaHkiLHBlZXI6ImNvbm5lY3Rpb246Ly9leGFtcGxlLmNvbS9hbGljZS9ib2IyNzAxMjAxNiIsb3duZXJQZWVyOntjb25uZWN0aW9uRGVzY3JpcHRpb246e30saWNlQ2FuZGlkYXRlczpbXX19O2V4cG9ydHMuZGVmYXVsdD1jb25uZWN0aW9uO21vZHVsZS5leHBvcnRzPWV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTp0cnVlfSk7IC8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqL3ZhciBwZWVyPXtuYW1lOicnLGNvbm5lY3Rpb25EZXNjcmlwdGlvbjp7fSxpY2VDYW5kaWRhdGVzOltdfTtleHBvcnRzLmRlZmF1bHQ9cGVlcjttb2R1bGUuZXhwb3J0cz1leHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSw4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcilkZXNjcmlwdG9yLndyaXRhYmxlPXRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKTt9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtpZihwcm90b1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpO2lmKHN0YXRpY1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjt9O30oKTtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO319IC8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLyAvKioKICogRXZlbnRFbWl0dGVyCiAqIEFsbCBjbGFzc2VzIHdoaWNoIGV4dGVuZHMgdGhpcywgY2FuIGhhdmUgYWRkRXZlbnRMaXN0ZW5lciBhbmQgdHJpZ2dlciBldmVudHM7CiAqL3ZhciBFdmVudEVtaXR0ZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxFdmVudEVtaXR0ZXIpO31fY3JlYXRlQ2xhc3MoRXZlbnRFbWl0dGVyLFt7a2V5OiJhZGRFdmVudExpc3RlbmVyIiwgLyoqCiAgICogYWRkRXZlbnRMaXN0ZW5lciBsaXN0ZW4gZm9yIGFuIGV2ZW50VHlwZQogICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICBldmVudFR5cGUgLSBsaXN0ZW5pbmcgZm9yIHRoaXMgdHlwZSBvZiBldmVudAogICAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgICAgICBjYiAgICAgICAgLSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGV2ZW50IGl0IGlzIGludm9rZWQKICAgKi92YWx1ZTpmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSxjYil7dmFyIF90aGlzPXRoaXM7X3RoaXNbZXZlbnRUeXBlXT1jYjt9IC8qKgogICAqIEludm9rZSB0aGUgZXZlbnRUeXBlCiAgICogQHBhcmFtICB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB3aWxsIGJlIGludm9rZWQKICAgKiBAcGFyYW0gIHtvYmplY3R9IHBhcmFtcyAtIHBhcmFtZXRlcnMgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGFkZEV2ZW50TGlzdGVuZXIKICAgKi99LHtrZXk6InRyaWdnZXIiLHZhbHVlOmZ1bmN0aW9uIHRyaWdnZXIoZXZlbnRUeXBlLHBhcmFtcyl7dmFyIF90aGlzPXRoaXM7aWYoX3RoaXNbZXZlbnRUeXBlXSl7X3RoaXNbZXZlbnRUeXBlXShwYXJhbXMpO319fV0pO3JldHVybiBFdmVudEVtaXR0ZXI7fSgpO2V4cG9ydHMuZGVmYXVsdD1FdmVudEVtaXR0ZXI7bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV0sOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JztPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTtleHBvcnRzLmRpdmlkZVVSTD1kaXZpZGVVUkw7ZXhwb3J0cy5kZWVwQ2xvbmU9ZGVlcENsb25lO2V4cG9ydHMuZ2V0Q29uZmlnPWdldENvbmZpZztleHBvcnRzLmdldFVzZXJNZWRpYT1nZXRVc2VyTWVkaWE7ZXhwb3J0cy5zZXJpYWxpemU9c2VyaWFsaXplO2V4cG9ydHMuZ2V0VGVtcGxhdGU9Z2V0VGVtcGxhdGU7IC8qKgogKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoqLyAvLyBqc2hpbnQgYnJvd3Nlcjp0cnVlLCBqcXVlcnk6IHRydWUKLy8ganNoaW50IHZhcnN0bXQ6IHRydWUKLyogZ2xvYmFsIEhhbmRsZWJhcnMgKi8gLyoqCiAqIFN1cHBvcnQgbW9kdWxlIHdpdGggc29tZSBmdW5jdGlvbnMgd2lsbCBiZSB1c2VmdWwKICogQG1vZHVsZSB1dGlscwogKi8gLyoqCiAqIEB0eXBlZGVmIGRpdmlkZVVSTAogKiBAdHlwZSBPYmplY3QKICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGlkZW50aXR5IFRoZSBpZGVudGl0eSBvZiBVUkwKICovIC8qKgogKiBEaXZpZGUgYW4gdXJsIGluIHR5cGUsIGRvbWFpbiBhbmQgaWRlbnRpdHkKICogQHBhcmFtICB7VVJMLlVSTH0gdXJsIC0gdXJsIGFkZHJlc3MKICogQHJldHVybiB7ZGl2aWRlVVJMfSB0aGUgcmVzdWx0IG9mIGRpdmlkZVVSTAogKi9mdW5jdGlvbiBkaXZpZGVVUkwodXJsKXsgLy8gbGV0IHJlID0gLyhbYS16QS1aLV0qKT86XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn1cLlthLXpdezIsNn1cYikqKFwvW1wvXGRcd1wuLV0qKSooPzpbXD9dKSooLispKi9naTsKdmFyIHJlPS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpO3ZhciBzdWJzdD0nJDEsJDIsJDMnO3ZhciBwYXJ0cz11cmwucmVwbGFjZShyZSxzdWJzdCkuc3BsaXQoJywnKTsgLy8gSWYgdGhlIHVybCBoYXMgbm8gcHJvdG9jb2wsIHRoZSBkZWZhdWx0IHByb3RvY29sIHNldCBpcyBodHRwcwppZihwYXJ0c1swXT09PXVybCl7cGFydHNbMF09J2h0dHBzJztwYXJ0c1sxXT11cmw7fXZhciByZXN1bHQ9e3R5cGU6cGFydHNbMF0sZG9tYWluOnBhcnRzWzFdLGlkZW50aXR5OnBhcnRzWzJdfTtyZXR1cm4gcmVzdWx0O30gLyoqCiAqIE1ha2UgYSBDT1BZIG9mIHRoZSBvcmlnaW5hbCBkYXRhCiAqIEBwYXJhbSAge09iamVjdH0gIG9iaiAtIG9iamVjdCB0byBiZSBjbG9uZWQKICogQHJldHVybiB7T2JqZWN0fQogKi9mdW5jdGlvbiBkZWVwQ2xvbmUob2JqKXsgLy9UT0RPOiBzaW1wbGUgYnV0IGluZWZmaWNpZW50IEpTT04gZGVlcCBjbG9uZS4uLgppZihvYmopcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7fSAvKioKICogR2V0IHRoZSBjb25maWd1cmF0aW9uIGZyb20gYW4ganNvbiBmaWxlOwogKiBAcGFyYW0gIHtKU09OT2JqZWN0fSBqc29uRmlsZQogKiBAcmV0dXJuIHtvYmplY3R9CiAqL2Z1bmN0aW9uIGdldENvbmZpZyhKU09OT2JqZWN0KXtjb25zb2xlLmxvZygncHJvZHVjdGlvbicpO3JldHVybiBKU09OT2JqZWN0Wydwcm9kdWN0aW9uJ107fSAvKioKICogR2V0IFdlYlJUQyBBUEkgcmVzb3VyY2VzCiAqIEBwYXJhbSAge09iamVjdH0gICAgIG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVzb3VyY2VzIHdpbGwgYmUgdXNlZCAoY2FtZXJhLCBtaWMsIHJlc29sdXRpb24sIGV0Yyk7CiAqIEByZXR1cm4ge1Byb21pc2V9CiAqL2Z1bmN0aW9uIGdldFVzZXJNZWRpYShjb25zdHJhaW50cyl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbihmdW5jdGlvbihtZWRpYVN0cmVhbSl7cmVzb2x2ZShtZWRpYVN0cmVhbSk7fSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtyZWplY3QocmVhc29uKTt9KTt9KTt9ZnVuY3Rpb24gc2VyaWFsaXplKCl7JC5mbi5zZXJpYWxpemVPYmplY3Q9ZnVuY3Rpb24oKXt2YXIgbz17fTt2YXIgYT10aGlzLnNlcmlhbGl6ZUFycmF5KCk7JC5lYWNoKGEsZnVuY3Rpb24oKXtpZihvW3RoaXMubmFtZV0hPT11bmRlZmluZWQpe2lmKCFvW3RoaXMubmFtZV0ucHVzaCl7b1t0aGlzLm5hbWVdPVtvW3RoaXMubmFtZV1dO31vW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlfHwnJyk7fWVsc2Uge29bdGhpcy5uYW1lXT10aGlzLnZhbHVlfHwnJzt9fSk7cmV0dXJuIG87fTskLmZuLnNlcmlhbGl6ZU9iamVjdEFycmF5PWZ1bmN0aW9uKCl7dmFyIG89e307dmFyIGE9dGhpcy5zZXJpYWxpemVBcnJheSgpOyQuZWFjaChhLGZ1bmN0aW9uKCl7aWYob1t0aGlzLm5hbWVdIT09dW5kZWZpbmVkKXtpZighb1t0aGlzLm5hbWVdLnB1c2gpe29bdGhpcy5uYW1lXT1bb1t0aGlzLm5hbWVdXTt9b1t0aGlzLm5hbWVdLnB1c2godGhpcy52YWx1ZXx8JycpO31lbHNlIHtpZighb1t0aGlzLm5hbWVdKW9bdGhpcy5uYW1lXT1bXTtvW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlfHwnJyk7fX0pO3JldHVybiBvO307fWZ1bmN0aW9uIGdldFRlbXBsYXRlKHBhdGgsc2NyaXB0KXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2lmKEhhbmRsZWJhcnMudGVtcGxhdGVzPT09dW5kZWZpbmVkfHxIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXT09PXVuZGVmaW5lZCl7SGFuZGxlYmFycy50ZW1wbGF0ZXM9e307fWVsc2Uge3Jlc29sdmUoSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0pO312YXIgdGVtcGxhdGVGaWxlPSQuYWpheCh7dXJsOnBhdGgrJy5oYnMnLHN1Y2Nlc3M6ZnVuY3Rpb24gc3VjY2VzcyhkYXRhKXtIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXT1IYW5kbGViYXJzLmNvbXBpbGUoZGF0YSk7fSxmYWlsOmZ1bmN0aW9uIGZhaWwocmVhc29uKXtyZXR1cm4gcmVhc29uO319KTt2YXIgc2NyaXB0RmlsZT0kLmdldFNjcmlwdChzY3JpcHQpO3ZhciByZXF1ZXN0cz1bXTtpZihwYXRoKXJlcXVlc3RzLnB1c2godGVtcGxhdGVGaWxlKTtpZihzY3JpcHQpcmVxdWVzdHMucHVzaChzY3JpcHRGaWxlKTtQcm9taXNlLmFsbChyZXF1ZXN0cykudGhlbihmdW5jdGlvbihyZXN1bHQpe3Jlc29sdmUoSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0pO30pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7cmVqZWN0KHJlYXNvbik7fSk7fSk7fQoKfSx7fV19LHt9LFs1XSkoNSkKfSk7",
      "sourceCodeClassname": "HypertyConnector",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10001,
    "type": "Hyperties",
    "version": "0.1",
    "description": "Description of HypertyConnector",
    "objectName": "HypertyConnector",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "HelloWorldObserver": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjIuMAoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlN5bmNoZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGEpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGM9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJmMpcmV0dXJuIGMocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBsPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGwsbC5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlJiYhQXJyYXkub2JzZXJ2ZSYmZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ZS5nZXROb3RpZmllcixuPSJwZXJmb3JtQ2hhbmdlIixvPSJfb3JpZ2luYWwiLGk9InNwbGljZSIscz17cHVzaDpmdW5jdGlvbiBjKGUpe3ZhciB0PWFyZ3VtZW50cyxzPWNbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnMtdC5sZW5ndGgsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHVuc2hpZnQ6ZnVuY3Rpb24gdShlKXt2YXIgdD1hcmd1bWVudHMscz11W29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSxwb3A6ZnVuY3Rpb24gbCgpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9bFtvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDp0aGlzLmxlbmd0aCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzaGlmdDpmdW5jdGlvbiBmKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1mW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc3BsaWNlOmZ1bmN0aW9uIGQoZSx0KXt2YXIgcz1hcmd1bWVudHMsYT1kW29dLmFwcGx5KHRoaXMscyk7cmV0dXJuKGEubGVuZ3RofHxzLmxlbmd0aD4yKSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OmUsYWRkZWRDb3VudDpzLmxlbmd0aC0yLHJlbW92ZWQ6YX19LHRoaXMpLGF9fTtmb3IodmFyIGEgaW4gcylzW2FdW29dPXQucHJvdG90eXBlW2FdLHQucHJvdG90eXBlW2FdPXNbYV07dC5vYnNlcnZlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUub2JzZXJ2ZSh0LHIsWyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLGldKX0sdC51bm9ic2VydmU9ZS51bm9ic2VydmV9KE9iamVjdCxBcnJheSl9LHt9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IjoxN31dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIjoxOH1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoxOX1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoyMH1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjIxfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6MjJ9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjoyM31dLDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoyNH1dLDEwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiOjI1fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIGk9ZSxzPXQsYT1yO289ITEsbnVsbD09PWkmJihpPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGM9bihpLHMpO2lmKHZvaWQgMCE9PWMpe2lmKCJ2YWx1ZSJpbiBjKXJldHVybiBjLnZhbHVlO3ZhciB1PWMuZ2V0O2lmKHZvaWQgMD09PXUpcmV0dXJuO3JldHVybiB1LmNhbGwoYSl9dmFyIGw9T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpO2lmKG51bGw9PT1sKXJldHVybjtlPWwsdD1zLHI9YSxvPSEwLGM9bD12b2lkIDB9fSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjV9XSwxNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPW4odCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihvP28oZSx0KTplLl9fcHJvdG9fXz10KX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjh9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE2fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmNvbnN0cnVjdG9yPT09bj8ic3ltYm9sIjp0eXBlb2YgZX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjEwfV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4obi5KU09OJiZuLkpTT04uc3RyaW5naWZ5fHxKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZ2V0RGVzYyhlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo4MX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiI6ODJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6ODN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjg0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzLyQuY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6ODYsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6ODcsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6ODl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjo4OH1dLDI2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6NDl9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjMwLCIuLyQud2tzIjo3OH1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoyNn1dLDMzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDM0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjozOH1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDM2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0S2V5cyhlKSxyPW4uZ2V0U3ltYm9scztpZihyKWZvcih2YXIgbyxpPXIoZSkscz1uLmlzRW51bSxhPTA7aS5sZW5ndGg+YTspcy5jYWxsKGUsbz1pW2ErK10pJiZ0LnB1c2gobyk7cmV0dXJuIHR9fSx7Ii4vJCI6NTZ9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuY3R4Iikscz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyx1LGwsZj1lJmEuRixkPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHY9ZSZhLlcseT1kP286b1t0XXx8KG9bdF09e30pLF89ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihjIGluIHIpdT0hZiYmXyYmYyBpbiBfLHUmJmMgaW4geXx8KGw9dT9fW2NdOnJbY10seVtjXT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgX1tjXT9yW2NdOmgmJnU/aShsLG4pOnYmJl9bY109PWw/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlP25ldyBlKHQpOmUodCl9O3JldHVybiB0W3NdPWVbc10sdH0obCk6YiYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsYiYmKCh5W3NdfHwoeVtzXT17fSkpW2NdPWwpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMix0LmV4cG9ydHM9YX0seyIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZ2xvYmFsIjo0MX1dLDM4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY3R4Iiksbz1lKCIuLyQuaXRlci1jYWxsIiksaT1lKCIuLyQuaXMtYXJyYXktaXRlciIpLHM9ZSgiLi8kLmFuLW9iamVjdCIpLGE9ZSgiLi8kLnRvLWxlbmd0aCIpLGM9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dmFyIGwsZixkLHA9YyhlKSxiPW4ocix1LHQ/MjoxKSxoPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHApdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShwKSlmb3IobD1hKGUubGVuZ3RoKTtsPmg7aCsrKXQ/YihzKGY9ZVtoXSlbMF0sZlsxXSk6YihlW2hdKTtlbHNlIGZvcihkPXAuY2FsbChlKTshKGY9ZC5uZXh0KCkpLmRvbmU7KW8oZCxiLGYudmFsdWUsdCl9fSx7Ii4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLWFycmF5LWl0ZXIiOjQ3LCIuLyQuaXRlci1jYWxsIjo1MCwiLi8kLnRvLWxlbmd0aCI6NzUsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo3OX1dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKSxvPWUoIi4vJCIpLmdldE5hbWVzLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbChlKT9hKGUpOm8obihlKSl9fSx7Ii4vJCI6NTYsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vJC5kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuLyQiOjU2LCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQucHJvcGVydHktZGVzYyI6NjF9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuLyQuZ2xvYmFsIjo0MX1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi8kLmNvZiI6MzB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LHsiLi8kLmNvZiI6MzB9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3RyeXtyZXR1cm4gbz90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZuKHMuY2FsbChlKSksaX19fSx7Ii4vJC5hbi1vYmplY3QiOjI4fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpLGk9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuLyQuaGlkZSIpKHMsZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4uY3JlYXRlKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuLyQiOjU2LCIuLyQuaGlkZSI6NDMsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQubGlicmFyeSIpLG89ZSgiLi8kLmV4cG9ydCIpLGk9ZSgiLi8kLnJlZGVmaW5lIikscz1lKCIuLyQuaGlkZSIpLGE9ZSgiLi8kLmhhcyIpLGM9ZSgiLi8kLml0ZXJhdG9ycyIpLHU9ZSgiLi8kLml0ZXItY3JlYXRlIiksbD1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vJCIpLmdldFByb3RvLGQ9ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksYj0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGcsbSxqKXt1KHIsdCxfKTt2YXIgJCxPLHc9ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gRSlyZXR1cm4gRVtlXTtzd2l0Y2goZSl7Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0saz10KyIgSXRlcmF0b3IiLHg9Zz09dixDPSExLEU9ZS5wcm90b3R5cGUsUz1FW2RdfHxFW2JdfHxnJiZFW2ddLFQ9U3x8dyhnKTtpZihTKXt2YXIgUj1mKFQuY2FsbChuZXcgZSkpO2woUixrLCEwKSwhbiYmYShFLGIpJiZzKFIsZCx5KSx4JiZTLm5hbWUhPT12JiYoQz0hMCxUPWZ1bmN0aW9uKCl7cmV0dXJuIFMuY2FsbCh0aGlzKX0pfWlmKG4mJiFqfHwhcCYmIUMmJkVbZF18fHMoRSxkLFQpLGNbdF09VCxjW2tdPXksZylpZigkPXt2YWx1ZXM6eD9UOncodiksa2V5czptP1Q6dyhoKSxlbnRyaWVzOng/dygiZW50cmllcyIpOlR9LGopZm9yKE8gaW4gJClPIGluIEV8fGkoRSxPLCRbT10pO2Vsc2UgbyhvLlArby5GKihwfHxDKSx0LCQpO3JldHVybiAkfX0seyIuLyQiOjU2LCIuLyQuZXhwb3J0IjozNywiLi8kLmhhcyI6NDIsIi4vJC5oaWRlIjo0MywiLi8kLml0ZXItY3JlYXRlIjo1MSwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cj0hMH0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGEpe31yZXR1cm4gcn19LHsiLi8kLndrcyI6Nzh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDU2OltmdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0O3QuZXhwb3J0cz17Y3JlYXRlOm4uY3JlYXRlLGdldFByb3RvOm4uZ2V0UHJvdG90eXBlT2YsaXNFbnVtOnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGdldERlc2M6bi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isc2V0RGVzYzpuLmRlZmluZVByb3BlcnR5LHNldERlc2NzOm4uZGVmaW5lUHJvcGVydGllcyxnZXRLZXlzOm4ua2V5cyxnZXROYW1lczpuLmdldE93blByb3BlcnR5TmFtZXMsZ2V0U3ltYm9sczpuLmdldE93blByb3BlcnR5U3ltYm9scyxlYWNoOltdLmZvckVhY2h9fSx7fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9byhlKSxzPW4uZ2V0S2V5cyhpKSxhPXMubGVuZ3RoLGM9MDthPmM7KWlmKGlbcj1zW2MrK11dPT09dClyZXR1cm4gcn19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC50YXNrIikuc2V0LGM9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsdT1zLnByb2Nlc3MsbD1zLlByb21pc2UsZj0icHJvY2VzcyI9PWUoIi4vJC5jb2YiKSh1KSxkPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO2ZvcihmJiYoZT11LmRvbWFpbikmJih1LmRvbWFpbj1udWxsLGUuZXhpdCgpKTtuOyl0PW4uZG9tYWluLHI9bi5mbix0JiZ0LmVudGVyKCkscigpLHQmJnQuZXhpdCgpLG49bi5uZXh0O289dm9pZCAwLGUmJmUuZW50ZXIoKX07aWYoZilpPWZ1bmN0aW9uKCl7dS5uZXh0VGljayhkKX07ZWxzZSBpZihjKXt2YXIgcD0xLGI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBjKGQpLm9ic2VydmUoYix7Y2hhcmFjdGVyRGF0YTohMH0pLGk9ZnVuY3Rpb24oKXtiLmRhdGE9cD0tcH19ZWxzZSBpPWwmJmwucmVzb2x2ZT9mdW5jdGlvbigpe2wucmVzb2x2ZSgpLnRoZW4oZCl9OmZ1bmN0aW9uKCl7YS5jYWxsKHMsZCl9O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMCxkb21haW46ZiYmdS5kb21haW59O28mJihvLm5leHQ9dCksbnx8KG49dCxpKCkpLG89dH19LHsiLi8kLmNvZiI6MzAsIi4vJC5nbG9iYWwiOjQxLCIuLyQudGFzayI6NzJ9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuLyQuY29yZSI6MzEsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQucmVkZWZpbmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCluKGUscix0W3JdKTtyZXR1cm4gZX19LHsiLi8kLnJlZGVmaW5lIjo2M31dLDYzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5oaWRlIil9LHsiLi8kLmhpZGUiOjQzfV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9T2JqZWN0LmlzfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OmUhPWUmJnQhPXR9fSx7fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5nZXREZXNjLG89ZSgiLi8kLmlzLW9iamVjdCIpLGk9ZSgiLi8kLmFuLW9iamVjdCIpLHM9ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vJC5jdHgiKShGdW5jdGlvbi5jYWxsLG4oT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG8odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goaSl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhlLHQpLHI/ZS5fX3Byb3RvX189dDpvKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOnN9fSx7Ii4vJCI6NTYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLW9iamVjdCI6NDl9XSw2NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuY29yZSIpLG89ZSgiLi8kIiksaT1lKCIuLyQuZGVzY3JpcHRvcnMiKSxzPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W3NdJiZvLnNldERlc2ModCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vJCI6NTYsIi4vJC5jb3JlIjozMSwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLndrcyI6Nzh9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLnNldERlc2Msbz1lKCIuLyQuaGFzIiksaT1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vJCI6NTYsIi4vJC5oYXMiOjQyLCIuLyQud2tzIjo3OH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iiksbz1lKCIuLyQuYS1mdW5jdGlvbiIpLGk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbaV0pP3Q6byhyKX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLndrcyI6Nzh9XSw3MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKHIrIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciEiKTtyZXR1cm4gZX19LHt9XSw3MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGE9U3RyaW5nKG8odCkpLGM9bihyKSx1PWEubGVuZ3RoO3JldHVybiAwPmN8fGM+PXU/ZT8iIjp2b2lkIDA6KGk9YS5jaGFyQ29kZUF0KGMpLDU1Mjk2Pml8fGk+NTYzMTl8fGMrMT09PXV8fChzPWEuY2hhckNvZGVBdChjKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2EuY2hhckF0KGMpOmk6ZT9hLnNsaWNlKGMsYysyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC50by1pbnRlZ2VyIjo3M31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmN0eCIpLGE9ZSgiLi8kLmludm9rZSIpLGM9ZSgiLi8kLmh0bWwiKSx1PWUoIi4vJC5kb20tY3JlYXRlIiksbD1lKCIuLyQuZ2xvYmFsIiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxwPWwuY2xlYXJJbW1lZGlhdGUsYj1sLk1lc3NhZ2VDaGFubmVsLGg9MCx2PXt9LHk9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsXz1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKHYuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PXZbZV07ZGVsZXRlIHZbZV0sdCgpfX0sZz1mdW5jdGlvbihlKXtfLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIHZbKytoXT1mdW5jdGlvbigpe2EoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbihoKSxofSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSB2W2VdfSwicHJvY2VzcyI9PWUoIi4vJC5jb2YiKShmKT9uPWZ1bmN0aW9uKGUpe2YubmV4dFRpY2socyhfLGUsMSkpfTpiPyhvPW5ldyBiLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1nLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmwuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhbC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2wucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGcsITEpKTpuPXkgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7Yy5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbeV09ZnVuY3Rpb24oKXtjLnJlbW92ZUNoaWxkKHRoaXMpLF8uY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhfLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vJC5jb2YiOjMwLCIuLyQuY3R4IjozMiwiLi8kLmRvbS1jcmVhdGUiOjM1LCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmh0bWwiOjQ0LCIuLyQuaW52b2tlIjo0NX1dLDczOltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlvYmplY3QiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC5pb2JqZWN0Ijo0Nn1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuLyQudG8taW50ZWdlciI6NzN9XSw3NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSx7Ii4vJC5kZWZpbmVkIjozM31dLDc3OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnNoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vJC51aWQiKSxpPWUoIi4vJC5nbG9iYWwiKS5TeW1ib2w7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1pJiZpW2VdfHwoaXx8bykoIlN5bWJvbC4iK2UpKX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5zaGFyZWQiOjY4LCIuLyQudWlkIjo3N31dLDc5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNsYXNzb2YiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi8kLmNvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vJC5jbGFzc29mIjoyOSwiLi8kLmNvcmUiOjMxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw4MDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuLyQuaXRlci1zdGVwIiksaT1lKCIuLyQuaXRlcmF0b3JzIikscz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuLyQuaXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vJC5hZGQtdG8tdW5zY29wYWJsZXMiOjI3LCIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuaXRlci1zdGVwIjo1NCwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBlKG4odCkscil9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8taW9iamVjdCI6NzR9XSw4MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLW9iamVjdCI6NzZ9XSw4MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDg0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpO24obi5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjplKCIuLyQuc2V0LXByb3RvIikuc2V0fSl9LHsiLi8kLmV4cG9ydCI6MzcsIi4vJC5zZXQtcHJvdG8iOjY1fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw4NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvPWUoIi4vJCIpLGk9ZSgiLi8kLmxpYnJhcnkiKSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5jbGFzc29mIiksdT1lKCIuLyQuZXhwb3J0IiksbD1lKCIuLyQuaXMtb2JqZWN0IiksZj1lKCIuLyQuYW4tb2JqZWN0IiksZD1lKCIuLyQuYS1mdW5jdGlvbiIpLHA9ZSgiLi8kLnN0cmljdC1uZXciKSxiPWUoIi4vJC5mb3Itb2YiKSxoPWUoIi4vJC5zZXQtcHJvdG8iKS5zZXQsdj1lKCIuLyQuc2FtZS12YWx1ZSIpLHk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIiksXz1lKCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciIpLGc9ZSgiLi8kLm1pY3JvdGFzayIpLG09IlByb21pc2UiLGo9cy5wcm9jZXNzLCQ9InByb2Nlc3MiPT1jKGopLE89c1ttXSx3PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBPKGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGUmJih0LmNvbnN0cnVjdG9yPU9iamVjdCksTy5yZXNvbHZlKHQpPT09dH0saz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9bmV3IE8oZSk7cmV0dXJuIGgocix0LnByb3RvdHlwZSkscn12YXIgcj0hMTt0cnl7aWYocj1PJiZPLnJlc29sdmUmJncoKSxoKHQsTyksdC5wcm90b3R5cGU9by5jcmVhdGUoTy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0fX0pLHQucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCl7fSlpbnN0YW5jZW9mIHR8fChyPSExKSxyJiZlKCIuLyQuZGVzY3JpcHRvcnMiKSl7dmFyIG49ITE7Ty5yZXNvbHZlKG8uc2V0RGVzYyh7fSwidGhlbiIse2dldDpmdW5jdGlvbigpe249ITB9fSkpLHI9bn19Y2F0Y2goaSl7cj0hMX1yZXR1cm4gcn0oKSx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkmJmU9PT1PJiZ0PT09bj8hMDp2KGUsdCl9LEM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZihlKVt5XTtyZXR1cm4gdm9pZCAwIT10P3Q6ZX0sRT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbChlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxTPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFQ9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxSPWZ1bmN0aW9uKGUsdCl7aWYoIWUubil7ZS5uPSEwO3ZhciByPWUuYztnKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUudixvPTE9PWUucyxpPTAsYT1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxhPXQucmVzb2x2ZSxjPXQucmVqZWN0O3RyeXtzPyhvfHwoZS5oPSEwKSxyPXM9PT0hMD9uOnMobikscj09PXQucHJvbWlzZT9jKFR5cGVFcnJvcigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1FKHIpKT9pLmNhbGwocixhLGMpOmEocikpOmMobil9Y2F0Y2godSl7Yyh1KX19O3IubGVuZ3RoPmk7KWEocltpKytdKTtyLmxlbmd0aD0wLGUubj0hMSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQscixvPWUucDtNKG8pJiYoJD9qLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbixvKToodD1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT90KHtwcm9taXNlOm8scmVhc29uOm59KToocj1zLmNvbnNvbGUpJiZyLmVycm9yJiZyLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG4pKSxlLmE9dm9pZCAwfSwxKX0pfX0sTT1mdW5jdGlvbihlKXt2YXIgdCxyPWUuX2Qsbj1yLmF8fHIuYyxvPTA7aWYoci5oKXJldHVybiExO2Zvcig7bi5sZW5ndGg+bzspaWYodD1uW28rK10sdC5mYWlsfHwhTSh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxOPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5kfHwodC5kPSEwLHQ9dC5yfHx0LHQudj1lLHQucz0yLHQuYT10LmMuc2xpY2UoKSxSKHQsITApKX0sRD1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuZCl7ci5kPSEwLHI9ci5yfHxyO3RyeXtpZihyLnA9PT1lKXRocm93IFR5cGVFcnJvcigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1FKGUpKT9nKGZ1bmN0aW9uKCl7dmFyIG49e3I6cixkOiExfTt0cnl7dC5jYWxsKGUsYShELG4sMSksYShOLG4sMSkpfWNhdGNoKG8pe04uY2FsbChuLG8pfX0pOihyLnY9ZSxyLnM9MSxSKHIsITEpKX1jYXRjaChuKXtOLmNhbGwoe3I6cixkOiExfSxuKX19fTtrfHwoTz1mdW5jdGlvbihlKXtkKGUpO3ZhciB0PXRoaXMuX2Q9e3A6cCh0aGlzLE8sbSksYzpbXSxhOnZvaWQgMCxzOjAsZDohMSx2OnZvaWQgMCxoOiExLG46ITF9O3RyeXtlKGEoRCx0LDEpLGEoTix0LDEpKX1jYXRjaChyKXtOLmNhbGwodCxyKX19LGUoIi4vJC5yZWRlZmluZS1hbGwiKShPLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBTKF8odGhpcyxPKSksbj1yLnByb21pc2Usbz10aGlzLl9kO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LG8uYy5wdXNoKHIpLG8uYSYmby5hLnB1c2gociksby5zJiZSKG8sITEpLG59LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSkpLHUodS5HK3UuVyt1LkYqIWsse1Byb21pc2U6T30pLGUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpKE8sbSksZSgiLi8kLnNldC1zcGVjaWVzIikobSksbj1lKCIuLyQuY29yZSIpW21dLHUodS5TK3UuRiohayxtLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFModGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKigha3x8dyghMCkpLG0se3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIE8mJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKiEoayYmZSgiLi8kLml0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7Ty5hbGwoZSlbImNhdGNoIl0oZnVuY3Rpb24oKXt9KX0pKSxtLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9Qyh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qscz1bXSxhPVQoZnVuY3Rpb24oKXtiKGUsITEscy5wdXNoLHMpO3ZhciByPXMubGVuZ3RoLGE9QXJyYXkocik7cj9vLmVhY2guY2FsbChzLGZ1bmN0aW9uKGUsbyl7dmFyIHM9ITE7dC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7c3x8KHM9ITAsYVtvXT1lLC0tcnx8bihhKSl9LGkpfSk6bihhKX0pO3JldHVybiBhJiZpKGEuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlamVjdCxvPVQoZnVuY3Rpb24oKXtiKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi8kIjo1NiwiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQuZXhwb3J0IjozNywiLi8kLmZvci1vZiI6MzksIi4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OSwiLi8kLml0ZXItZGV0ZWN0Ijo1MywiLi8kLmxpYnJhcnkiOjU4LCIuLyQubWljcm90YXNrIjo1OSwiLi8kLnJlZGVmaW5lLWFsbCI6NjIsIi4vJC5zYW1lLXZhbHVlIjo2NCwiLi8kLnNldC1wcm90byI6NjUsIi4vJC5zZXQtc3BlY2llcyI6NjYsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIjo2OSwiLi8kLnN0cmljdC1uZXciOjcwLCIuLyQud2tzIjo3OH1dLDg3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5zdHJpbmctYXQiKSghMCk7ZSgiLi8kLml0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuc3RyaW5nLWF0Ijo3MX1dLDg4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLmdsb2JhbCIpLGk9ZSgiLi8kLmhhcyIpLHM9ZSgiLi8kLmRlc2NyaXB0b3JzIiksYT1lKCIuLyQuZXhwb3J0IiksYz1lKCIuLyQucmVkZWZpbmUiKSx1PWUoIi4vJC5mYWlscyIpLGw9ZSgiLi8kLnNoYXJlZCIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksZD1lKCIuLyQudWlkIikscD1lKCIuLyQud2tzIiksYj1lKCIuLyQua2V5b2YiKSxoPWUoIi4vJC5nZXQtbmFtZXMiKSx2PWUoIi4vJC5lbnVtLWtleXMiKSx5PWUoIi4vJC5pcy1hcnJheSIpLF89ZSgiLi8kLmFuLW9iamVjdCIpLGc9ZSgiLi8kLnRvLWlvYmplY3QiKSxtPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaj1uLmdldERlc2MsJD1uLnNldERlc2MsTz1uLmNyZWF0ZSx3PWguZ2V0LGs9by5TeW1ib2wseD1vLkpTT04sQz14JiZ4LnN0cmluZ2lmeSxFPSExLFM9cCgiX2hpZGRlbiIpLFQ9bi5pc0VudW0sUj1sKCJzeW1ib2wtcmVnaXN0cnkiKSxNPWwoInN5bWJvbHMiKSxOPSJmdW5jdGlvbiI9PXR5cGVvZiBrLEQ9T2JqZWN0LnByb3RvdHlwZSxQPXMmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9TygkKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuICQodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWooRCx0KTtuJiZkZWxldGUgRFt0XSwkKGUsdCxyKSxuJiZlIT09RCYmJChELHQsbil9OiQsTD1mdW5jdGlvbihlKXt2YXIgdD1NW2VdPU8oay5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUscyYmRSYmUChELGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZnVuY3Rpb24odCl7aSh0aGlzLFMpJiZpKHRoaXNbU10sZSkmJih0aGlzW1NdW2VdPSExKSxQKHRoaXMsZSxtKDEsdCkpfX0pLHR9LEE9ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfSxGPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gciYmaShNLHQpPyhyLmVudW1lcmFibGU/KGkoZSxTKSYmZVtTXVt0XSYmKGVbU11bdF09ITEpLHI9TyhyLHtlbnVtZXJhYmxlOm0oMCwhMSl9KSk6KGkoZSxTKXx8JChlLFMsbSgxLHt9KSksZVtTXVt0XT0hMCksUChlLHQscikpOiQoZSx0LHIpfSxJPWZ1bmN0aW9uKGUsdCl7XyhlKTtmb3IodmFyIHIsbj12KHQ9Zyh0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylGKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LFU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9PKGUpOkkoTyhlKSx0KX0sVj1mdW5jdGlvbihlKXt2YXIgdD1ULmNhbGwodGhpcyxlKTtyZXR1cm4gdHx8IWkodGhpcyxlKXx8IWkoTSxlKXx8aSh0aGlzLFMpJiZ0aGlzW1NdW2VdP3Q6ITB9LHo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1qKGU9ZyhlKSx0KTtyZXR1cm4hcnx8IWkoTSx0KXx8aShlLFMpJiZlW1NdW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfSxIPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPXcoZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKXx8dD09U3x8bi5wdXNoKHQpO3JldHVybiBufSxCPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPXcoZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKSYmbi5wdXNoKE1bdF0pO3JldHVybiBufSxKPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUmJiFBKGUpKXtmb3IodmFyIHQscixuPVtlXSxvPTEsaT1hcmd1bWVudHM7aS5sZW5ndGg+bzspbi5wdXNoKGlbbysrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnkodCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLEEodCk/dm9pZCAwOnR9KSxuWzFdPXQsQy5hcHBseSh4LG4pfX0sVz11KGZ1bmN0aW9uKCl7dmFyIGU9aygpO3JldHVybiJbbnVsbF0iIT1DKFtlXSl8fCJ7fSIhPUMoe2E6ZX0pfHwie30iIT1DKE9iamVjdChlKSl9KTtOfHwoaz1mdW5jdGlvbigpe2lmKEEodGhpcykpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTtyZXR1cm4gTChkKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSl9LGMoay5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksQT1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGt9LG4uY3JlYXRlPVUsbi5pc0VudW09VixuLmdldERlc2M9eixuLnNldERlc2M9RixuLnNldERlc2NzPUksbi5nZXROYW1lcz1oLmdldD1ILG4uZ2V0U3ltYm9scz1CLHMmJiFlKCIuLyQubGlicmFyeSIpJiZjKEQsInByb3BlcnR5SXNFbnVtZXJhYmxlIixWLCEwKSk7dmFyIFk9eyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBpKFIsZSs9IiIpP1JbZV06UltlXT1rKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGIoUixlKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7RT0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7RT0hMX19O24uZWFjaC5jYWxsKCJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD1wKGUpO1lbZV09Tj90OkwodCl9KSxFPSEwLGEoYS5HK2EuVyx7U3ltYm9sOmt9KSxhKGEuUywiU3ltYm9sIixZKSxhKGEuUythLkYqIU4sIk9iamVjdCIse2NyZWF0ZTpVLGRlZmluZVByb3BlcnR5OkYsZGVmaW5lUHJvcGVydGllczpJLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjp6LGdldE93blByb3BlcnR5TmFtZXM6SCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Qn0pLHgmJmEoYS5TK2EuRiooIU58fFcpLCJKU09OIix7c3RyaW5naWZ5Okp9KSxmKGssIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5lbnVtLWtleXMiOjM2LCIuLyQuZXhwb3J0IjozNywiLi8kLmZhaWxzIjozOCwiLi8kLmdldC1uYW1lcyI6NDAsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaGFzIjo0MiwiLi8kLmlzLWFycmF5Ijo0OCwiLi8kLmtleW9mIjo1NywiLi8kLmxpYnJhcnkiOjU4LCIuLyQucHJvcGVydHktZGVzYyI6NjEsIi4vJC5yZWRlZmluZSI6NjMsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zaGFyZWQiOjY4LCIuLyQudG8taW9iamVjdCI6NzQsIi4vJC51aWQiOjc3LCIuLyQud2tzIjo3OH1dLDg5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIik7bi5Ob2RlTGlzdD1uLkhUTUxDb2xsZWN0aW9uPW4uQXJyYXl9LHsiLi8kLml0ZXJhdG9ycyI6NTUsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo4MH1dLDkwOltmdW5jdGlvbihlLHQscil7d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuZz1bXSx0aGlzLms9ZX1mdW5jdGlvbiByKGUpeyFmdW5jdGlvbiByKCl7dmFyIG49ZS50YWtlUmVjb3JkcygpO24ubGVuZ3RoJiZlLmsobixlKSxlLmY9c2V0VGltZW91dChyLHQuX3BlcmlvZCl9KCl9ZnVuY3Rpb24gbih0KXt2YXIgcixuPXt0eXBlOm51bGwsdGFyZ2V0Om51bGwsYWRkZWROb2RlczpbXSxyZW1vdmVkTm9kZXM6W10scHJldmlvdXNTaWJsaW5nOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxhdHRyaWJ1dGVOYW1lOm51bGwsYXR0cmlidXRlTmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6bnVsbH07Zm9yKHIgaW4gdCluW3JdIT09ZSYmdFtyXSE9PWUmJihuW3JdPXRbcl0pO3JldHVybiBufWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj1hKGUsdCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvLGM9bi5sZW5ndGg7dC5hJiZyLmEmJmkobixlLHIuYSx0LmQpLCh0LmJ8fHQuZSkmJihvPXMobixlLHIsdCkpLChvfHxuLmxlbmd0aCE9PWMpJiYocj1hKGUsdCkpfX1mdW5jdGlvbiBpKHQscixvLGkpe2Zvcih2YXIgcyxhLGM9e30sdT1yLmF0dHJpYnV0ZXMsbD11Lmxlbmd0aDtsLS07KXM9dVtsXSxhPXMubmFtZSxpJiZpW2FdPT09ZXx8KHMudmFsdWUhPT1vW2FdJiZ0LnB1c2gobih7dHlwZToiYXR0cmlidXRlcyIsdGFyZ2V0OnIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV0sYXR0cmlidXRlTmFtZXNwYWNlOnMubmFtZXNwYWNlVVJJfSkpLGNbYV09ITApO2ZvcihhIGluIG8pY1thXXx8dC5wdXNoKG4oe3RhcmdldDpyLHR5cGU6ImF0dHJpYnV0ZXMiLGF0dHJpYnV0ZU5hbWU6YSxvbGRWYWx1ZTpvW2FdfSkpfWZ1bmN0aW9uIHModCxyLG8scyl7ZnVuY3Rpb24gYShlLHIsbyxhLGMpe3ZhciBsPWUubGVuZ3RoLTE7Yz0tfigobC1jKS8yKTtmb3IodmFyIGYsZCxwO3A9ZS5wb3AoKTspZj1vW3AuaF0sZD1hW3AuaV0scy5iJiZjJiZNYXRoLmFicyhwLmgtcC5pKT49bCYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2ZdLHJlbW92ZWROb2RlczpbZl0sbmV4dFNpYmxpbmc6Zi5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6Zi5wcmV2aW91c1NpYmxpbmd9KSksYy0tKSxzLmEmJmQuYSYmaSh0LGYsZC5hLHMuZCkscy5jJiYzPT09Zi5ub2RlVHlwZSYmZi5ub2RlVmFsdWUhPT1kLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6Zn0pKSxzLmUmJnUoZixkKX1mdW5jdGlvbiB1KHIsbyl7Zm9yKHZhciBkLHAsYixoLHYseT1yLmNoaWxkTm9kZXMsXz1vLmIsZz15Lmxlbmd0aCxtPV8/Xy5sZW5ndGg6MCxqPTAsJD0wLE89MDtnPiR8fG0+TzspaD15WyRdLHY9KGI9X1tPXSkmJmIuaixoPT09dj8ocy5hJiZiLmEmJmkodCxoLGIuYSxzLmQpLHMuYyYmYi5jIT09ZSYmaC5ub2RlVmFsdWUhPT1iLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6aH0pKSxwJiZhKHAscix5LF8saikscy5lJiYoaC5jaGlsZE5vZGVzLmxlbmd0aHx8Yi5iJiZiLmIubGVuZ3RoKSYmdShoLGIpLCQrKyxPKyspOihsPSEwLGR8fChkPXt9LHA9W10pLGgmJihkW2I9YyhoKV18fChkW2JdPSEwLC0xPT09KGI9ZihfLGgsTywiaiIpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltoXSxuZXh0U2libGluZzpoLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpoLnByZXZpb3VzU2libGluZ30pKSxqKyspOnAucHVzaCh7aDokLGk6Yn0pKSwkKyspLHYmJnYhPT15WyRdJiYoZFtiPWModildfHwoZFtiXT0hMCwtMT09PShiPWYoeSx2LCQpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6by5qLHJlbW92ZWROb2Rlczpbdl0sbmV4dFNpYmxpbmc6X1tPKzFdLHByZXZpb3VzU2libGluZzpfW08tMV19KSksai0tKTpwLnB1c2goe2g6YixpOk99KSksTysrKSk7cCYmYShwLHIseSxfLGopfXZhciBsO3JldHVybiB1KHIsbyksbH1mdW5jdGlvbiBhKGUsdCl7dmFyIHI9ITA7cmV0dXJuIGZ1bmN0aW9uIG4oZSl7dmFyIG89e2o6ZX07cmV0dXJuIXQuY3x8MyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlPyh0LmEmJnImJjE9PT1lLm5vZGVUeXBlJiYoby5hPWwoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuZCYmIXQuZFtyLm5hbWVdfHwoZVtyLm5hbWVdPXIudmFsdWUpLGV9KSksciYmKHQuYnx8dC5jfHx0LmEmJnQuZSkmJihvLmI9dShlLmNoaWxkTm9kZXMsbikpLHI9dC5lKTpvLmM9ZS5ub2RlVmFsdWUsb30oZSl9ZnVuY3Rpb24gYyhlKXt0cnl7cmV0dXJuIGUuaWR8fChlLm1vX2lkPWUubW9faWR8fGQrKyl9Y2F0Y2godCl7dHJ5e3JldHVybiBlLm5vZGVWYWx1ZX1jYXRjaChyKXtyZXR1cm4gZCsrfX19ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgcj1bXSxuPTA7bjxlLmxlbmd0aDtuKyspcltuXT10KGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciByPXt9LG49MDtuPGUubGVuZ3RoO24rKylyPXQocixlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gZihlLHQscixuKXtmb3IoO3I8ZS5sZW5ndGg7cisrKWlmKChuP2Vbcl1bbl06ZVtyXSk9PT10KXJldHVybiByO3JldHVybi0xfXQuX3BlcmlvZD0zMCx0LnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17YTohISh0LmF0dHJpYnV0ZXN8fHQuYXR0cmlidXRlRmlsdGVyfHx0LmF0dHJpYnV0ZU9sZFZhbHVlKSxiOiEhdC5jaGlsZExpc3QsZTohIXQuc3VidHJlZSxjOiEoIXQuY2hhcmFjdGVyRGF0YSYmIXQuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKX0saT10aGlzLmcscz0wO3M8aS5sZW5ndGg7cysrKWlbc10ubT09PWUmJmkuc3BsaWNlKHMsMSk7dC5hdHRyaWJ1dGVGaWx0ZXImJihuLmQ9bCh0LmF0dHJpYnV0ZUZpbHRlcixmdW5jdGlvbihlLHQpewpyZXR1cm4gZVt0XT0hMCxlfSkpLGkucHVzaCh7bTplLGw6byhlLG4pfSksdGhpcy5mfHxyKHRoaXMpfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZyxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXS5sKGUpO3JldHVybiBlfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5nPVtdLGNsZWFyVGltZW91dCh0aGlzLmYpLHRoaXMuZj1udWxsfX07dmFyIGQ9MTtyZXR1cm4gdH0odm9pZCAwKX0se31dLDkxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmV8fGZ1bmN0aW9uKGUsdCxyLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxpLHM9WyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLCJyZWNvbmZpZ3VyZSIsInNldFByb3RvdHlwZSIsInByZXZlbnRFeHRlbnNpb25zIl0sYT10LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09ZS5jYWxsKHQpfX0oZS5wcm90b3R5cGUudG9TdHJpbmcpLGM9dC5wcm90b3R5cGUuaW5kZXhPZj90LmluZGV4T2Z8fGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gdC5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUscixuKX06ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1yfHwwO248ZS5sZW5ndGg7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSx1PXIuTWFwIT09biYmTWFwLnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKCl7cmV0dXJuIG5ldyBNYXB9OmZ1bmN0aW9uKCl7dmFyIGU9W10sdD1bXTtyZXR1cm57c2l6ZTowLGhhczpmdW5jdGlvbih0KXtyZXR1cm4gYyhlLHQpPi0xfSxnZXQ6ZnVuY3Rpb24ocil7cmV0dXJuIHRbYyhlLHIpXX0sc2V0OmZ1bmN0aW9uKHIsbil7dmFyIG89YyhlLHIpOy0xPT09bz8oZS5wdXNoKHIpLHQucHVzaChuKSx0aGlzLnNpemUrKyk6dFtvXT1ufSwiZGVsZXRlIjpmdW5jdGlvbihyKXt2YXIgbj1jKGUscik7bj4tMSYmKGUuc3BsaWNlKG4sMSksdC5zcGxpY2UobiwxKSx0aGlzLnNpemUtLSl9LGZvckVhY2g6ZnVuY3Rpb24ocil7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspci5jYWxsKGFyZ3VtZW50c1sxXSx0W25dLGVbbl0sdGhpcyl9fX0sbD1lLmdldE93blByb3BlcnR5TmFtZXM/ZnVuY3Rpb24oKXt2YXIgdD1lLmdldE93blByb3BlcnR5TmFtZXM7dHJ5e2FyZ3VtZW50cy5jYWxsZWV9Y2F0Y2gocil7dmFyIG49KHQoYykuam9pbigiICIpKyIgIikucmVwbGFjZSgvcHJvdG90eXBlIHxsZW5ndGggfG5hbWUgL2csIiIpLnNsaWNlKDAsLTEpLnNwbGl0KCIgIik7bi5sZW5ndGgmJih0PWZ1bmN0aW9uKHQpe3ZhciByPWUuZ2V0T3duUHJvcGVydHlOYW1lcyh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClmb3IodmFyIG8saT0wO2k8bi5sZW5ndGg7KShvPWMocixuW2krK10pKT4tMSYmci5zcGxpY2UobywxKTtyZXR1cm4gcn0pfXJldHVybiB0fSgpOmZ1bmN0aW9uKHQpe3ZhciByLG4sbz1bXTtpZigiaGFzT3duUHJvcGVydHkiaW4gdClmb3IociBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJm8ucHVzaChyKTtlbHNle249ZS5oYXNPd25Qcm9wZXJ0eTtmb3IociBpbiB0KW4uY2FsbCh0LHIpJiZvLnB1c2gocil9cmV0dXJuIGEodCkmJm8ucHVzaCgibGVuZ3RoIiksb30sZj1lLmdldFByb3RvdHlwZU9mLGQ9ZS5kZWZpbmVQcm9wZXJ0aWVzJiZlLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixwPXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxyLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oKXt2YXIgZT0rbmV3IERhdGUsdD1lO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3IoKHQ9K25ldyBEYXRlKS1lKX0sMTcpfX0oKSxiPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1vLmdldChlKTtuPyh2KG4sZSksbShlLG4sdCxyKSk6KG49aChlKSxtKGUsbix0LHIpLDE9PT1vLnNpemUmJnAoeSkpfSxoPWZ1bmN0aW9uKHQscil7dmFyIG4saT1sKHQpLHM9W10sYT0wLHI9e2hhbmRsZXJzOnUoKSxmcm96ZW46ZS5pc0Zyb3plbj9lLmlzRnJvemVuKHQpOiExLGV4dGVuc2libGU6ZS5pc0V4dGVuc2libGU/ZS5pc0V4dGVuc2libGUodCk6ITAscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6Zyh0LHIpfTtpZihkKWZvcihuPXIuZGVzY3JpcHRvcnM9W107YTxpLmxlbmd0aDspblthXT1kKHQsaVthXSksc1thXT10W2lbYSsrXV07ZWxzZSBmb3IoO2E8aS5sZW5ndGg7KXNbYV09dFtpW2ErK11dO3JldHVybiBvLnNldCh0LHIpLHJ9LHY9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxhPXQudmFsdWVzW3JdLGM9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbyYmKGE9PT1zPzA9PT1hJiYxL2EhPT0xL3M6YT09PWF8fHM9PT1zKSYmKGooZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LnZhbHVlc1tyXT1zKSwhYy5jb25maWd1cmFibGV8fG8uY29uZmlndXJhYmxlJiZvLndyaXRhYmxlPT09Yy53cml0YWJsZSYmby5lbnVtZXJhYmxlPT09Yy5lbnVtZXJhYmxlJiZvLmdldD09PWMuZ2V0JiZvLnNldD09PWMuc2V0fHwoaihlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6YX0sbiksdC5kZXNjcmlwdG9yc1tyXT1vKX06ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dC5wcm9wZXJ0aWVzW3JdLGk9ZVtvXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihqKGUsdCx7bmFtZTpvLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbiksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbixvLGkpe2Zvcih2YXIgcyxhPXIubGVuZ3RoO24mJmEtLTspbnVsbCE9PXJbYV0mJihzPWQoZSxyW2FdKSxuLS0scz90KGUsbyxhLGkscyk6KGooZSxvLHtuYW1lOnJbYV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1thXX0saSksby5wcm9wZXJ0aWVzLnNwbGljZShhLDEpLG8udmFsdWVzLnNwbGljZShhLDEpLG8uZGVzY3JpcHRvcnMuc3BsaWNlKGEsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbixvKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGooZSxuLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tpXX0sbyksbi5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG4udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihuLG8saSl7aWYobi5oYW5kbGVycy5zaXplJiYhbi5mcm96ZW4pe3ZhciBzLGEsdSxwLGIsaCx2LHksXz1uLnZhbHVlcyxnPW4uZGVzY3JpcHRvcnMsbT0wO2lmKG4uZXh0ZW5zaWJsZSlpZihzPW4ucHJvcGVydGllcy5zbGljZSgpLGE9cy5sZW5ndGgsdT1sKG8pLGcpe2Zvcig7bTx1Lmxlbmd0aDspYj11W20rK10scD1jKHMsYikseT1kKG8sYiksLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChvW2JdKSxnLnB1c2goeSkpOihzW3BdPW51bGwsYS0tLHQobyxuLHAsaSx5KSk7cihvLHMsYSxuLGkpLGUuaXNFeHRlbnNpYmxlKG8pfHwobi5leHRlbnNpYmxlPSExLGoobyxuLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om99LGkpLG4uZnJvemVuPWUuaXNGcm96ZW4obykpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSxoPW9bYl0sLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChoKSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpKSk7cihvLHMsYSxuLGkpfWVsc2UgaWYoIW4uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKWI9c1ttXSx0KG8sbixtLGksZChvLGIpKTtlLmlzRnJvemVuKG8pJiYobi5mcm96ZW49ITApfWYmJih2PWYobyksdiE9PW4ucHJvdG8mJihqKG8sbix7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpvLG9sZFZhbHVlOm4ucHJvdG99KSxuLnByb3RvPXYpKX19fSgpLHk9ZnVuY3Rpb24oKXtvLnNpemUmJihvLmZvckVhY2godiksaS5mb3JFYWNoKF8pLHAoeSkpfSxfPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9by5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW8uZ2V0KGUpO2lmKHIpe3ZhciBuLGk9e29iamVjdDplfTtmb3IobiBpbiB0KSJvYmplY3QiIT09biYmKGlbbl09dFtuXSk7aihlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxhPW8uZ2V0KGUpLGM9YXJndW1lbnRzWzJdLHU9Yz09PW4/cigpOnIuY2FsbChjKTtpZihhJiZ2KGEsZSx0KSxhJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2ooZSxhLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWkuZ2V0KHIpO298fGkuc2V0KHIsbz17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxvLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om4uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG8pfSxqPWZ1bmN0aW9uKGUsdCxyLG4pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbz10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG58fC0xPT09YyhvLG4pKSYmYyhvLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O289dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbyl7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobz09PW4pbz1zO2Vsc2UgaWYoIW98fCJvYmplY3QiIT10eXBlb2Ygbyl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIGIodCxyLG8pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG49aS5nZXQodCk7cmV0dXJuIG4mJihyPW4ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG4ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSkscChmdW5jdGlvbigpe18obix0KX0pLDE9PT1uLm9ic2VydmVkLnNpemUmJm4ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm4ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9vWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6Zyh0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSksXyh0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDkyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuRGF0YU9iamVjdE9ic2VydmVyPXIuRGF0YU9iamVjdFJlcG9ydGVyPXIuU3luY2hlcj12b2lkIDAsZSgibXV0YXRpb25vYnNlcnZlci1zaGltIiksZSgib2JqZWN0Lm9ic2VydmUiKSxlKCJhcnJheS5vYnNlcnZlIik7dmFyIG89ZSgiLi9zeW5jaGVyL1N5bmNoZXIiKSxpPW4obykscz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIiksYT1uKHMpLGM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciIpLHU9bihjKTtyLlN5bmNoZXI9aVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdFJlcG9ydGVyPWFbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RPYnNlcnZlcj11WyJkZWZhdWx0Il19LHsiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL3N5bmNoZXIvU3luY2hlciI6OTksImFycmF5Lm9ic2VydmUiOjEsIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSI6OTAsIm9iamVjdC5vYnNlcnZlIjo5MX1dLDkzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IikscD1uKGQpLGI9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxoPW4oYiksdj1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9zeW5jaGVyPXQsYS5fdXJsPXIsYS5fc2NoZW1hPW4sYS5fc3RhdHVzPW8sYS5fc3luY09iaj1uZXcgcFsiZGVmYXVsdCJdKGkpLGEuX2NoaWxkcmVucz1zLGEuX3ZlcnNpb249MCxhLl9jaGlsZElkPTAsYS5fY2hpbGRyZW5PYmplY3RzPXt9LGEuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGEuX293bmVyPXQuX293bmVyLGEuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG89cituLGk9dC5fYnVzLmFkZExpc3RlbmVyKG8sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsYVsiZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBuPXIuX293bmVyKyIjIityLl9jaGlsZElkLG89ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpvLGJvZHk6e3Jlc291cmNlOm4sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYT1uZXcgaFsiZGVmYXVsdCJdKHIsbix0LHIuX293bmVyLGkpO2Eub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpvLGNoaWxkSWQ6bn0pfSksci5fY2hpbGRyZW5PYmplY3RzW25dPWEsZShhKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBuPW5ldyBoWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW4sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbz17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixvKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihvKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG49e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYobi5ib2R5LnZhbHVlPWUuZGF0YSk6KG4uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsbi5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG4uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihuLnRvPXQucGF0aCxuLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobil9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG49dC5ib2R5LmF0dHJpYnV0ZSxvPSgwLHYuZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixhPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2EsMF0uY29uY2F0KG8pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYz1pLm9iaix1PWkubGFzdDtjLnNwbGljZSh1LG8pfWVsc2UgaS5vYmpbaS5sYXN0XT1vO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bzpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxuPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtuP3QuX2NoYW5nZU9iamVjdChuLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCIuL1N5bmNPYmplY3QiOjk4LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYT1uKHMpLGM9ZSgiLi9TeW5jT2JqZWN0IiksdT1uKGMpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBhPXRoaXM7YS5fcGFyZW50PXQsYS5fY2hpbGRJZD1yLGEuX293bmVyPW8sYS5fbXNnSWQ9cyxhLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obiksYS5fYnVzPXQuX2J1cyxhLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGo9bihtKSwkPXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSxPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxzLGMsbCl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBmPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLHMuZGF0YSxjKSksZD1mO3JldHVybiBkLl92ZXJzaW9uPWwsZC5fZmlsdGVycz17fSxkLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ZC5fb25GaWx0ZXIoZSl9KSwoMCxpWyJkZWZhdWx0Il0pKHMuY2hpbGRyZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXMuY2hpbGRyZW5zW2VdO2QuX2NoaWxkcmVuT2JqZWN0c1tlXT1uZXcgalsiZGVmYXVsdCJdKGQsZSx0KX0pLGQuX2FsbG9jYXRlTGlzdGVuZXJzKCksZn1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG49e3R5cGU6JC5FWEFDVCxjYWxsYmFjazp0fSxvPWUuaW5kZXhPZigiKiIpO289PT1lLmxlbmd0aC0xJiYoMD09PW8/bi50eXBlPSQuQU5ZOihuLnR5cGU9JC5TVEFSVCxyPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpKSx0aGlzLl9maWx0ZXJzW3JdPW59fSx7a2V5OiJfb25GaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0Ll9maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXQuX2ZpbHRlcnNbcl07bi50eXBlPT09JC5BTlk/bi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLlNUQVJUPzA9PT1lLmZpZWxkLmluZGV4T2YocikmJm4uY2FsbGJhY2soZSk6bi50eXBlPT09JC5FWEFDVCYmZS5maWVsZD09PXImJm4uY2FsbGJhY2soZSl9KX19XSksdH0oZ1siZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09Tyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdCI6OTMsIi4vRGF0YU9iamVjdENoaWxkIjo5NCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuLi91dGlscy91dGlscy5qcyIpLGo9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBjPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLGkscykpLGw9YztyZXR1cm4gbC5fc3Vic2NyaXB0aW9ucz17fSxsLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGwuX29uQ2hhbmdlKGUpfSksbC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxjfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9yZXNwb25zZUxpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmZS5fb25SZXNwb25zZSh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9yZXNwb25zZUxpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiaW52aXRlT2JzZXJ2ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImNyZWF0ZSIsZnJvbTp0Ll9zeW5jaGVyLl9vd25lcix0bzp0Ll9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6dC5fdXJsLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6dC5fc3luY09iai5kYXRhLGF1dGhvcmlzZTplfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci1SQ1Y6ICIsZSksZS5ib2R5LnR5cGUpe2Nhc2Uic3Vic2NyaWJlIjp0Ll9vblN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjp0Ll9vblVuU3Vic2NyaWJlKGUpfX19LHtrZXk6Il9vblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsYWNjZXB0OmZ1bmN0aW9uKCl7dmFyIG49e3VybDpyLHN0YXR1czoib24ifTt0Ll9zdWJzY3JpcHRpb25zW3JdPW47dmFyIG89e307cmV0dXJuKDAsaVsiZGVmYXVsdCJdKSh0Ll9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dC5fY2hpbGRyZW5PYmplY3RzW2VdLmRhdGE7b1tlXT0oMCxtLmRlZXBDbG9uZSkocil9KSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc2NoZW1hOnQuX3NjaGVtYSx2ZXJzaW9uOnQuX3ZlcnNpb24sdmFsdWU6e2RhdGE6KDAsbS5kZWVwQ2xvbmUpKHQuZGF0YSksY2hpbGRyZW5zOm99fX0pLG59LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDMsZGVzYzpyfX0pfX07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlNVQlNDUklQVElPTi1FVkVOVDogIixuKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uVW5TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXQuX3N1YnNjcmlwdGlvbnNbcl07ZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl07dmFyIG89e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsb2JqZWN0Om59O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJVTi1TVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbyksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG8pKX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJihjb25zb2xlLmxvZygiUkVTUE9OU0UtRVZFTlQ6ICIsciksdC5fb25SZXNwb25zZUhhbmRsZXIocikpfX0se2tleToic3Vic2NyaXB0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnN9fV0pLHR9KGdbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPWosdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3QiOjkzLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bihzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1uLHMuX2NoaWxkcmVuPW8scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09Yyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLk9iamVjdFR5cGU9ci5DaGFuZ2VUeXBlPXZvaWQgMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYyksbD1lKCIuLi91dGlscy91dGlscy5qcyIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgcj10aGlzO3IuX29ic2VydmVycz1bXSxyLl9maWx0ZXJzPXt9LHQ/ci5fZGF0YT0oMCxsLmRlZXBDbG9uZSkodCk6ci5fZGF0YT17fSxyLl9pbnRlcm5hbE9ic2VydmUobmV3IGQsci5fZGF0YSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMucHVzaChlKX19LHtrZXk6ImZpbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi4iKTtyZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdCh0KX19LHtrZXk6ImZpbmRCZWZvcmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZS5zcGxpdCgiLiIpO3JldHVybiB0Lmxhc3Q9ci5wb3AoKSx0Lm9iaj10aGlzLl9maW5kV2l0aFNwbGl0KHIpLHR9fSx7a2V5OiJfZmluZFdpdGhTcGxpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dFtlXX0pLHR9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0KGUpfSl9fSx7a2V5OiJfaXNPYnNlcnZhYmxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8ZS5jb25zdHJ1Y3Rvcj09PUFycmF5fX0se2tleToiX2ludGVybmFsT2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG49ZnVuY3Rpb24odCl7ci5fb25DaGFuZ2VzKGUsdCl9O2lmKHQuY29uc3RydWN0b3I9PT1PYmplY3Qpe09iamVjdC5vYnNlcnZlKHQsbik7Zm9yKHZhciBvIGluIHQpci5faXNPYnNlcnZhYmxlKHRbb10pJiZyLl9pbnRlcm5hbE9ic2VydmUoZVsibmV3Il0obyksdFtvXSl9ZWxzZSBpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkpe0FycmF5Lm9ic2VydmUodCxuKTtmb3IodmFyIGkgaW4gdClpZihyLl9pc09ic2VydmFibGUodFtpXSkpe3ZhciBzPWVbIm5ldyJdKG5ldyBwKHRbaV0saSkpO3IuX2ludGVybmFsT2JzZXJ2ZShzLHRbaV0pfX19fX0se2tleToiX29uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiB0KXt2YXIgbz10W25dLm9iamVjdCxpPXZvaWQgMDtpZihvLmNvbnN0cnVjdG9yPT09T2JqZWN0JiYoaT1oLk9CSkVDVCksby5jb25zdHJ1Y3Rvcj09PUFycmF5JiYoaT1oLkFSUkFZKSwic3BsaWNlIj09PXRbbl0udHlwZSkhZnVuY3Rpb24oKXt2YXIgcz10W25dLmluZGV4LGE9ZVsibmV3Il0oIiIrcyksYz1hLnRvU3RyaW5nKCksdT10W25dLnJlbW92ZWQubGVuZ3RoO2lmKDAhPT11KXt2YXIgZj10W25dLnJlbW92ZWQ7Zi5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7ci5faXNPYnNlcnZhYmxlKHQpJiZlLnJlbW92ZUluZGV4KHMrbil9KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YyxkYXRhOnV9KX12YXIgZD10W25dLmFkZGVkQ291bnQ7aWYoMCE9PWQpe3ZhciBoPW8uc2xpY2UocyxzK2QpO2guZm9yRWFjaChmdW5jdGlvbih0LG4pe2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG89ZVsibmV3Il0obmV3IHAodCxzK24pKTtyLl9pbnRlcm5hbE9ic2VydmUobyx0KX19KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShoKX0pfXMhPT1vLmxlbmd0aC0xJiZlLnJlSW5kZXhGcm9tKG8pfSgpO2Vsc2V7dmFyIHM9ZVsibmV3Il0odFtuXS5uYW1lKSxhPXMudG9TdHJpbmcoKTtpZigtMSE9PWEuaW5kZXhPZigiU3ltYm9sIikpY29udGludWU7dmFyIGM9b1t0W25dLm5hbWVdOyJ1cGRhdGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuVVBEQVRFLG9UeXBlOmksZmllbGQ6YSxkYXRhOigwLGwuZGVlcENsb25lKShjKX0pLCJhZGQiPT09dFtuXS50eXBlJiYodGhpcy5faW50ZXJuYWxPYnNlcnZlKHMsYyksdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSksImRlbGV0ZSI9PT10W25dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5SRU1PVkUsb1R5cGU6aSxmaWVsZDphfSl9fX19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfX1dKSxlfSgpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMuX3BhdGg9W10sdGhpcy5fb2JzZXJ2YWJsZXM9e319cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJyZW1vdmVJbmRleCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX29ic2VydmFibGVzW2VdfX0se2tleToicmVJbmRleEZyb20iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLl9vYnNlcnZhYmxlcykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9vYnNlcnZhYmxlc1tyXSxvPWUuaW5kZXhPZihuLm9iaik7bi5pZHghPW8mJihuLmlkeD1vLGRlbGV0ZSB0Ll9vYnNlcnZhYmxlc1tyXSx0Ll9vYnNlcnZhYmxlc1tvXT1uKX0pfX0se2tleToibmV3Iix2YWx1ZTpmdW5jdGlvbihlKXtlLmNvbnN0cnVjdG9yPT1wJiYodGhpcy5fb2JzZXJ2YWJsZXNbZS5pZHhdPWUpO3ZhciB0PXRoaXMuY2xvbmUoKTtyZXR1cm4gdC5fcGF0aC5wdXNoKGUpLHR9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZTtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX3BhdGgucHVzaChlKX0pLHR9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7MD09PXI/ZT10LnRvU3RyaW5nKCk6ZSs9Ii4iK3QudG9TdHJpbmcoKX0pLGV9fV0pLGV9KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5vYmo9dCx0aGlzLmlkeD1yfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR4LnRvU3RyaW5nKCl9fV0pLGV9KCksYj1yLkNoYW5nZVR5cGU9e1VQREFURToidXBkYXRlIixBREQ6ImFkZCIsUkVNT1ZFOiJyZW1vdmUifSxoPXIuT2JqZWN0VHlwZT17T0JKRUNUOiJvYmplY3QiLEFSUkFZOiJhcnJheSJ9O3JbImRlZmF1bHQiXT1mfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMDAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW4obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLHA9bihkKSxiPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksaD1uKGIpLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLl9vd25lcj10LG8uX2J1cz1yLG8uX3N1YlVSTD1uLnJ1bnRpbWVVUkwrIi9zbSIsby5fcmVwb3J0ZXJzPXt9LG8uX29ic2VydmVycz17fSxvLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6by5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpvLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6by5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3IucmVwb3J0ZXI9bi5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4uX293bmVyLHRvOm4uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtuLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihvKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG8pLDIwMD09PW8uYm9keS5jb2RlKXt2YXIgcz1vLmJvZHkucmVzb3VyY2UsYT1uZXcgZlsiZGVmYXVsdCJdKG4scyxlLCJvbiIscixvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO24uX3JlcG9ydGVyc1tzXT1hLHQoYSl9ZWxzZSBpKG8uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihvLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbik7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG4uYm9keS5jb2RlPDIwMClzPW5ldyBoWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsbi5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW4uYm9keS5jb2RlKXt2YXIgYT1uZXcgcFsiZGVmYXVsdCJdKHIsdCxlLCJvbiIsbi5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sbi5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1hLG8oYSkscy5hcHBseShhKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6Im9uTm90aWZpY2F0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbk5vdGlmaWNhdGlvbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10Ll9yZXBvcnRlcnNbZS5ib2R5LnRvXTtyLl9vbkZvcndhcmQoZSl9fSx7a2V5OiJfb25SZW1vdGVDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb20uc2xpY2UoMCwtMTMpLG49e3R5cGU6ZS50eXBlLGZyb206ZS5ib2R5LnNvdXJjZSx1cmw6cixzY2hlbWE6ZS5ib2R5LnNjaGVtYSx2YWx1ZTplLmJvZHkudmFsdWUsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbj0yMDA7ciYmKG49ciksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbiksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblJlbW90ZURlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZSxuPXQuX29ic2VydmVyc1tyXTtpZihuKXt2YXIgbz17dHlwZTplLnR5cGUsdXJsOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbz0yMDA7ciYmKG89ciksMjAwPT09byYmblsiZGVsZXRlIl0oKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpvLHNvdXJjZTp0Ll9vd25lcn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbyksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG8pKX1lbHNlIHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwNCxzb3VyY2U6dC5fb3duZXJ9fSl9fSx7a2V5OiJvd25lciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX293bmVyfX0se2tleToicmVwb3J0ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVwb3J0ZXJzfX0se2tleToib2JzZXJ2ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT12LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjk1LCIuL0RhdGFPYmplY3RSZXBvcnRlciI6OTYsIi4vRGF0YVByb3Zpc2lvbmFsIjo5NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSwxMDA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsYlsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiBjKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGwoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYyhlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGY9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGYpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYj1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1hLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1jLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1sfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3fV19LHt9LFs5Ml0pKDkyKX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcilkZXNjcmlwdG9yLndyaXRhYmxlPXRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKTt9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtpZihwcm90b1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpO2lmKHN0YXRpY1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjt9O30oKTtleHBvcnRzLmRlZmF1bHQ9YWN0aXZhdGU7dmFyIF9TeW5jaGVyPXJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlcicpO3ZhciBfdXRpbHM9cmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMnKTt2YXIgX0V2ZW50RW1pdHRlcjI9cmVxdWlyZSgnLi4vdXRpbHMvRXZlbnRFbWl0dGVyJyk7dmFyIF9FdmVudEVtaXR0ZXIzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50RW1pdHRlcjIpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfTt9ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTt9fWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpe3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7fXJldHVybiBjYWxsJiYodHlwZW9mIGNhbGw9PT0ib2JqZWN0Inx8dHlwZW9mIGNhbGw9PT0iZnVuY3Rpb24iKT9jYWxsOnNlbGY7fWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZih0eXBlb2Ygc3VwZXJDbGFzcyE9PSJmdW5jdGlvbiImJnN1cGVyQ2xhc3MhPT1udWxsKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHN1cGVyQ2xhc3MpO31zdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ZmFsc2Usd3JpdGFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX19KTtpZihzdXBlckNsYXNzKU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3M7fSAvKiBqc2hpbnQgdW5kZWY6IHRydWUgKi8gLyoqCiogSGVsbG8gV29ybGQgT2JzZXJ2ZXIKKiBAYXV0aG9yIFBhdWxvIENoYWluaG8gW3BhdWxvLWctY2hhaW5ob0B0ZWxlY29tLnB0XQoqIEB2ZXJzaW9uIDAuMS4wCiovdmFyIEhlbGxvV29ybGRPYnNlcnZlcj1mdW5jdGlvbihfRXZlbnRFbWl0dGVyKXtfaW5oZXJpdHMoSGVsbG9Xb3JsZE9ic2VydmVyLF9FdmVudEVtaXR0ZXIpOyAvKioKICAqIENyZWF0ZSBhIG5ldyBIZWxsb1dvcmxkT2JzZXJ2ZXIKICAqIEBwYXJhbSAge1N5bmNoZXJ9IHN5bmNoZXIgLSBTeW5jaGVyIHByb3ZpZGVkIGZyb20gdGhlIHJ1bnRpbWUgY29yZQogICovZnVuY3Rpb24gSGVsbG9Xb3JsZE9ic2VydmVyKGh5cGVydHlVUkwsYnVzLGNvbmZpZ3VyYXRpb24pe19jbGFzc0NhbGxDaGVjayh0aGlzLEhlbGxvV29ybGRPYnNlcnZlcik7aWYoIWh5cGVydHlVUkwpdGhyb3cgbmV3IEVycm9yKCdUaGUgaHlwZXJ0eVVSTCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTtpZighYnVzKXRocm93IG5ldyBFcnJvcignVGhlIE1pbmlCdXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7aWYoIWNvbmZpZ3VyYXRpb24pdGhyb3cgbmV3IEVycm9yKCdUaGUgY29uZmlndXJhdGlvbiBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTt2YXIgX3RoaXMyPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKEhlbGxvV29ybGRPYnNlcnZlcikuY2FsbCh0aGlzKSk7dmFyIF90aGlzPV90aGlzMjtfdGhpcy5fZG9tYWluPSgwLF91dGlscy5kaXZpZGVVUkwpKGh5cGVydHlVUkwpLmRvbWFpbjtfdGhpcy5fb2JqZWN0RGVzY1VSTD0naHlwZXJ0eS1jYXRhbG9ndWU6Ly8nK190aGlzLl9kb21haW4rJy8ud2VsbC1rbm93bi9kYXRhc2NoZW1hcy9IZWxsb1dvcmxkRGF0YVNjaGVtYSc7dmFyIGRvbWFpbj0oMCxfdXRpbHMuZGl2aWRlVVJMKShoeXBlcnR5VVJMKS5kb21haW47dmFyIHN5bmNoZXI9bmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCxidXMsY29uZmlndXJhdGlvbik7c3luY2hlci5vbk5vdGlmaWNhdGlvbihmdW5jdGlvbihldmVudCl7X3RoaXMuX29uTm90aWZpY2F0aW9uKGV2ZW50KTt9KTtfdGhpcy5fc3luY2hlcj1zeW5jaGVyO3JldHVybiBfdGhpczI7fV9jcmVhdGVDbGFzcyhIZWxsb1dvcmxkT2JzZXJ2ZXIsW3trZXk6J19vbk5vdGlmaWNhdGlvbicsdmFsdWU6ZnVuY3Rpb24gX29uTm90aWZpY2F0aW9uKGV2ZW50KXt2YXIgX3RoaXM9dGhpcztjb25zb2xlLmluZm8oJ0V2ZW50IFJlY2VpdmVkOiAnLGV2ZW50KTtfdGhpcy50cmlnZ2VyKCdpbnZpdGF0aW9uJyxldmVudC5pZGVudGl0eSk7IC8vIEFja25vd2xlZGdlIHJlcG9ydGVyIGFib3V0IHRoZSBJbnZpdGF0aW9uIHdhcyByZWNlaXZlZApldmVudC5hY2soKTsgLy8gU3Vic2NyaWJlIEhlbGxvIFdvcmxkIE9iamVjdApfdGhpcy5fc3luY2hlci5zdWJzY3JpYmUoX3RoaXMuX29iamVjdERlc2NVUkwsZXZlbnQudXJsKS50aGVuKGZ1bmN0aW9uKGhlbGxvT2JqdE9ic2VydmVyKXsgLy8gSGVsbG8gV29ybGQgT2JqZWN0IHdhcyBzdWJzY3JpYmVkCmNvbnNvbGUuaW5mbyhoZWxsb09ianRPYnNlcnZlcik7IC8vIGxldHMgbm90aWZ5IHRoZSBBcHAgdGhlIHN1YnNjcmlwdGlvbiB3YXMgYWNjZXB0ZWQgd2l0aCB0aGUgbW5vc3QgdXBkYXRlZCB2ZXJzaW9uIG9mIEhlbGxvIFdvcmxkIE9iamVjdApfdGhpcy50cmlnZ2VyKCdoZWxsbycsaGVsbG9PYmp0T2JzZXJ2ZXIuZGF0YSk7IC8vIGxldHMgbm93IG9ic2VydmUgYW55IGNoYW5nZXMgZG9uZSBpbiBIZWxsbyBXb3JsZCBPYmplY3QKaGVsbG9PYmp0T2JzZXJ2ZXIub25DaGFuZ2UoJyonLGZ1bmN0aW9uKGV2ZW50KXsgLy8gSGVsbG8gV29ybGQgT2JqZWN0IHdhcyBjaGFuZ2VkCmNvbnNvbGUuaW5mbygnbWVzc2FnZSByZWNlaXZlZDonLGV2ZW50KTsgLy8gbGV0cyBub3RpZnkgdGhlIEFwcCBhYm91dCB0aGUgY2hhbmdlCl90aGlzLnRyaWdnZXIoJ2hlbGxvJyxoZWxsb09ianRPYnNlcnZlci5kYXRhKTt9KTt9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe2NvbnNvbGUuZXJyb3IocmVhc29uKTt9KTt9fV0pO3JldHVybiBIZWxsb1dvcmxkT2JzZXJ2ZXI7fShfRXZlbnRFbWl0dGVyMy5kZWZhdWx0KTtmdW5jdGlvbiBhY3RpdmF0ZShoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKXtyZXR1cm4ge25hbWU6J0hlbGxvV29ybGRPYnNlcnZlcicsaW5zdGFuY2U6bmV3IEhlbGxvV29ybGRPYnNlcnZlcihoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKX07fW1vZHVsZS5leHBvcnRzPWV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuLi91dGlscy9FdmVudEVtaXR0ZXIiOjMsIi4uL3V0aWxzL3V0aWxzIjo0LCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXIiOjF9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcilkZXNjcmlwdG9yLndyaXRhYmxlPXRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKTt9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtpZihwcm90b1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpO2lmKHN0YXRpY1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjt9O30oKTtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO319IC8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLyAvKioKICogRXZlbnRFbWl0dGVyCiAqIEFsbCBjbGFzc2VzIHdoaWNoIGV4dGVuZHMgdGhpcywgY2FuIGhhdmUgYWRkRXZlbnRMaXN0ZW5lciBhbmQgdHJpZ2dlciBldmVudHM7CiAqL3ZhciBFdmVudEVtaXR0ZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxFdmVudEVtaXR0ZXIpO31fY3JlYXRlQ2xhc3MoRXZlbnRFbWl0dGVyLFt7a2V5OiJhZGRFdmVudExpc3RlbmVyIiwgLyoqCiAgICogYWRkRXZlbnRMaXN0ZW5lciBsaXN0ZW4gZm9yIGFuIGV2ZW50VHlwZQogICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICBldmVudFR5cGUgLSBsaXN0ZW5pbmcgZm9yIHRoaXMgdHlwZSBvZiBldmVudAogICAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgICAgICBjYiAgICAgICAgLSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGV2ZW50IGl0IGlzIGludm9rZWQKICAgKi92YWx1ZTpmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSxjYil7dmFyIF90aGlzPXRoaXM7X3RoaXNbZXZlbnRUeXBlXT1jYjt9IC8qKgogICAqIEludm9rZSB0aGUgZXZlbnRUeXBlCiAgICogQHBhcmFtICB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB3aWxsIGJlIGludm9rZWQKICAgKiBAcGFyYW0gIHtvYmplY3R9IHBhcmFtcyAtIHBhcmFtZXRlcnMgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGFkZEV2ZW50TGlzdGVuZXIKICAgKi99LHtrZXk6InRyaWdnZXIiLHZhbHVlOmZ1bmN0aW9uIHRyaWdnZXIoZXZlbnRUeXBlLHBhcmFtcyl7dmFyIF90aGlzPXRoaXM7aWYoX3RoaXNbZXZlbnRUeXBlXSl7X3RoaXNbZXZlbnRUeXBlXShwYXJhbXMpO319fV0pO3JldHVybiBFdmVudEVtaXR0ZXI7fSgpO2V4cG9ydHMuZGVmYXVsdD1FdmVudEVtaXR0ZXI7bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JztPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTtleHBvcnRzLmRpdmlkZVVSTD1kaXZpZGVVUkw7ZXhwb3J0cy5kZWVwQ2xvbmU9ZGVlcENsb25lO2V4cG9ydHMuZ2V0Q29uZmlnPWdldENvbmZpZztleHBvcnRzLmdldFVzZXJNZWRpYT1nZXRVc2VyTWVkaWE7ZXhwb3J0cy5zZXJpYWxpemU9c2VyaWFsaXplO2V4cG9ydHMuZ2V0VGVtcGxhdGU9Z2V0VGVtcGxhdGU7IC8qKgogKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoqLyAvLyBqc2hpbnQgYnJvd3Nlcjp0cnVlLCBqcXVlcnk6IHRydWUKLy8ganNoaW50IHZhcnN0bXQ6IHRydWUKLyogZ2xvYmFsIEhhbmRsZWJhcnMgKi8gLyoqCiAqIFN1cHBvcnQgbW9kdWxlIHdpdGggc29tZSBmdW5jdGlvbnMgd2lsbCBiZSB1c2VmdWwKICogQG1vZHVsZSB1dGlscwogKi8gLyoqCiAqIEB0eXBlZGVmIGRpdmlkZVVSTAogKiBAdHlwZSBPYmplY3QKICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGlkZW50aXR5IFRoZSBpZGVudGl0eSBvZiBVUkwKICovIC8qKgogKiBEaXZpZGUgYW4gdXJsIGluIHR5cGUsIGRvbWFpbiBhbmQgaWRlbnRpdHkKICogQHBhcmFtICB7VVJMLlVSTH0gdXJsIC0gdXJsIGFkZHJlc3MKICogQHJldHVybiB7ZGl2aWRlVVJMfSB0aGUgcmVzdWx0IG9mIGRpdmlkZVVSTAogKi9mdW5jdGlvbiBkaXZpZGVVUkwodXJsKXsgLy8gbGV0IHJlID0gLyhbYS16QS1aLV0qKT86XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn1cLlthLXpdezIsNn1cYikqKFwvW1wvXGRcd1wuLV0qKSooPzpbXD9dKSooLispKi9naTsKdmFyIHJlPS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpO3ZhciBzdWJzdD0nJDEsJDIsJDMnO3ZhciBwYXJ0cz11cmwucmVwbGFjZShyZSxzdWJzdCkuc3BsaXQoJywnKTsgLy8gSWYgdGhlIHVybCBoYXMgbm8gcHJvdG9jb2wsIHRoZSBkZWZhdWx0IHByb3RvY29sIHNldCBpcyBodHRwcwppZihwYXJ0c1swXT09PXVybCl7cGFydHNbMF09J2h0dHBzJztwYXJ0c1sxXT11cmw7fXZhciByZXN1bHQ9e3R5cGU6cGFydHNbMF0sZG9tYWluOnBhcnRzWzFdLGlkZW50aXR5OnBhcnRzWzJdfTtyZXR1cm4gcmVzdWx0O30gLyoqCiAqIE1ha2UgYSBDT1BZIG9mIHRoZSBvcmlnaW5hbCBkYXRhCiAqIEBwYXJhbSAge09iamVjdH0gIG9iaiAtIG9iamVjdCB0byBiZSBjbG9uZWQKICogQHJldHVybiB7T2JqZWN0fQogKi9mdW5jdGlvbiBkZWVwQ2xvbmUob2JqKXsgLy9UT0RPOiBzaW1wbGUgYnV0IGluZWZmaWNpZW50IEpTT04gZGVlcCBjbG9uZS4uLgppZihvYmopcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7fSAvKioKICogR2V0IHRoZSBjb25maWd1cmF0aW9uIGZyb20gYW4ganNvbiBmaWxlOwogKiBAcGFyYW0gIHtKU09OT2JqZWN0fSBqc29uRmlsZQogKiBAcmV0dXJuIHtvYmplY3R9CiAqL2Z1bmN0aW9uIGdldENvbmZpZyhKU09OT2JqZWN0KXtjb25zb2xlLmxvZygncHJvZHVjdGlvbicpO3JldHVybiBKU09OT2JqZWN0Wydwcm9kdWN0aW9uJ107fSAvKioKICogR2V0IFdlYlJUQyBBUEkgcmVzb3VyY2VzCiAqIEBwYXJhbSAge09iamVjdH0gICAgIG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVzb3VyY2VzIHdpbGwgYmUgdXNlZCAoY2FtZXJhLCBtaWMsIHJlc29sdXRpb24sIGV0Yyk7CiAqIEByZXR1cm4ge1Byb21pc2V9CiAqL2Z1bmN0aW9uIGdldFVzZXJNZWRpYShjb25zdHJhaW50cyl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbihmdW5jdGlvbihtZWRpYVN0cmVhbSl7cmVzb2x2ZShtZWRpYVN0cmVhbSk7fSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtyZWplY3QocmVhc29uKTt9KTt9KTt9ZnVuY3Rpb24gc2VyaWFsaXplKCl7JC5mbi5zZXJpYWxpemVPYmplY3Q9ZnVuY3Rpb24oKXt2YXIgbz17fTt2YXIgYT10aGlzLnNlcmlhbGl6ZUFycmF5KCk7JC5lYWNoKGEsZnVuY3Rpb24oKXtpZihvW3RoaXMubmFtZV0hPT11bmRlZmluZWQpe2lmKCFvW3RoaXMubmFtZV0ucHVzaCl7b1t0aGlzLm5hbWVdPVtvW3RoaXMubmFtZV1dO31vW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlfHwnJyk7fWVsc2Uge29bdGhpcy5uYW1lXT10aGlzLnZhbHVlfHwnJzt9fSk7cmV0dXJuIG87fTskLmZuLnNlcmlhbGl6ZU9iamVjdEFycmF5PWZ1bmN0aW9uKCl7dmFyIG89e307dmFyIGE9dGhpcy5zZXJpYWxpemVBcnJheSgpOyQuZWFjaChhLGZ1bmN0aW9uKCl7aWYob1t0aGlzLm5hbWVdIT09dW5kZWZpbmVkKXtpZighb1t0aGlzLm5hbWVdLnB1c2gpe29bdGhpcy5uYW1lXT1bb1t0aGlzLm5hbWVdXTt9b1t0aGlzLm5hbWVdLnB1c2godGhpcy52YWx1ZXx8JycpO31lbHNlIHtpZighb1t0aGlzLm5hbWVdKW9bdGhpcy5uYW1lXT1bXTtvW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlfHwnJyk7fX0pO3JldHVybiBvO307fWZ1bmN0aW9uIGdldFRlbXBsYXRlKHBhdGgsc2NyaXB0KXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2lmKEhhbmRsZWJhcnMudGVtcGxhdGVzPT09dW5kZWZpbmVkfHxIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXT09PXVuZGVmaW5lZCl7SGFuZGxlYmFycy50ZW1wbGF0ZXM9e307fWVsc2Uge3Jlc29sdmUoSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0pO312YXIgdGVtcGxhdGVGaWxlPSQuYWpheCh7dXJsOnBhdGgrJy5oYnMnLHN1Y2Nlc3M6ZnVuY3Rpb24gc3VjY2VzcyhkYXRhKXtIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXT1IYW5kbGViYXJzLmNvbXBpbGUoZGF0YSk7fSxmYWlsOmZ1bmN0aW9uIGZhaWwocmVhc29uKXtyZXR1cm4gcmVhc29uO319KTt2YXIgc2NyaXB0RmlsZT0kLmdldFNjcmlwdChzY3JpcHQpO3ZhciByZXF1ZXN0cz1bXTtpZihwYXRoKXJlcXVlc3RzLnB1c2godGVtcGxhdGVGaWxlKTtpZihzY3JpcHQpcmVxdWVzdHMucHVzaChzY3JpcHRGaWxlKTtQcm9taXNlLmFsbChyZXF1ZXN0cykudGhlbihmdW5jdGlvbihyZXN1bHQpe3Jlc29sdmUoSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0pO30pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7cmVqZWN0KHJlYXNvbik7fSk7fSk7fQoKfSx7fV19LHt9LFsyXSkoMikKfSk7",
      "sourceCodeClassname": "HelloWorldObserver",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10002,
    "type": "Hyperties",
    "version": "0.1",
    "description": "Description of HelloWorldObserver",
    "objectName": "HelloWorldObserver",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "HelloWorldReporter": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjIuMAoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlN5bmNoZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGEpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGM9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJmMpcmV0dXJuIGMocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBsPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGwsbC5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlJiYhQXJyYXkub2JzZXJ2ZSYmZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ZS5nZXROb3RpZmllcixuPSJwZXJmb3JtQ2hhbmdlIixvPSJfb3JpZ2luYWwiLGk9InNwbGljZSIscz17cHVzaDpmdW5jdGlvbiBjKGUpe3ZhciB0PWFyZ3VtZW50cyxzPWNbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnMtdC5sZW5ndGgsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHVuc2hpZnQ6ZnVuY3Rpb24gdShlKXt2YXIgdD1hcmd1bWVudHMscz11W29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSxwb3A6ZnVuY3Rpb24gbCgpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9bFtvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDp0aGlzLmxlbmd0aCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzaGlmdDpmdW5jdGlvbiBmKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1mW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc3BsaWNlOmZ1bmN0aW9uIGQoZSx0KXt2YXIgcz1hcmd1bWVudHMsYT1kW29dLmFwcGx5KHRoaXMscyk7cmV0dXJuKGEubGVuZ3RofHxzLmxlbmd0aD4yKSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OmUsYWRkZWRDb3VudDpzLmxlbmd0aC0yLHJlbW92ZWQ6YX19LHRoaXMpLGF9fTtmb3IodmFyIGEgaW4gcylzW2FdW29dPXQucHJvdG90eXBlW2FdLHQucHJvdG90eXBlW2FdPXNbYV07dC5vYnNlcnZlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUub2JzZXJ2ZSh0LHIsWyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLGldKX0sdC51bm9ic2VydmU9ZS51bm9ic2VydmV9KE9iamVjdCxBcnJheSl9LHt9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IjoxN31dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIjoxOH1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoxOX1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoyMH1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjIxfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6MjJ9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjoyM31dLDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoyNH1dLDEwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiOjI1fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIGk9ZSxzPXQsYT1yO289ITEsbnVsbD09PWkmJihpPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGM9bihpLHMpO2lmKHZvaWQgMCE9PWMpe2lmKCJ2YWx1ZSJpbiBjKXJldHVybiBjLnZhbHVlO3ZhciB1PWMuZ2V0O2lmKHZvaWQgMD09PXUpcmV0dXJuO3JldHVybiB1LmNhbGwoYSl9dmFyIGw9T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpO2lmKG51bGw9PT1sKXJldHVybjtlPWwsdD1zLHI9YSxvPSEwLGM9bD12b2lkIDB9fSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjV9XSwxNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPW4odCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihvP28oZSx0KTplLl9fcHJvdG9fXz10KX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjh9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE2fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmNvbnN0cnVjdG9yPT09bj8ic3ltYm9sIjp0eXBlb2YgZX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjEwfV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4obi5KU09OJiZuLkpTT04uc3RyaW5naWZ5fHxKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZ2V0RGVzYyhlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo4MX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiI6ODJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6ODN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjg0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzLyQuY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6ODYsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6ODcsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6ODl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjo4OH1dLDI2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6NDl9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjMwLCIuLyQud2tzIjo3OH1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoyNn1dLDMzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDM0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjozOH1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDM2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0S2V5cyhlKSxyPW4uZ2V0U3ltYm9scztpZihyKWZvcih2YXIgbyxpPXIoZSkscz1uLmlzRW51bSxhPTA7aS5sZW5ndGg+YTspcy5jYWxsKGUsbz1pW2ErK10pJiZ0LnB1c2gobyk7cmV0dXJuIHR9fSx7Ii4vJCI6NTZ9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuY3R4Iikscz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyx1LGwsZj1lJmEuRixkPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHY9ZSZhLlcseT1kP286b1t0XXx8KG9bdF09e30pLF89ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihjIGluIHIpdT0hZiYmXyYmYyBpbiBfLHUmJmMgaW4geXx8KGw9dT9fW2NdOnJbY10seVtjXT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgX1tjXT9yW2NdOmgmJnU/aShsLG4pOnYmJl9bY109PWw/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlP25ldyBlKHQpOmUodCl9O3JldHVybiB0W3NdPWVbc10sdH0obCk6YiYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsYiYmKCh5W3NdfHwoeVtzXT17fSkpW2NdPWwpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMix0LmV4cG9ydHM9YX0seyIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZ2xvYmFsIjo0MX1dLDM4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY3R4Iiksbz1lKCIuLyQuaXRlci1jYWxsIiksaT1lKCIuLyQuaXMtYXJyYXktaXRlciIpLHM9ZSgiLi8kLmFuLW9iamVjdCIpLGE9ZSgiLi8kLnRvLWxlbmd0aCIpLGM9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dmFyIGwsZixkLHA9YyhlKSxiPW4ocix1LHQ/MjoxKSxoPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHApdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShwKSlmb3IobD1hKGUubGVuZ3RoKTtsPmg7aCsrKXQ/YihzKGY9ZVtoXSlbMF0sZlsxXSk6YihlW2hdKTtlbHNlIGZvcihkPXAuY2FsbChlKTshKGY9ZC5uZXh0KCkpLmRvbmU7KW8oZCxiLGYudmFsdWUsdCl9fSx7Ii4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLWFycmF5LWl0ZXIiOjQ3LCIuLyQuaXRlci1jYWxsIjo1MCwiLi8kLnRvLWxlbmd0aCI6NzUsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo3OX1dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKSxvPWUoIi4vJCIpLmdldE5hbWVzLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbChlKT9hKGUpOm8obihlKSl9fSx7Ii4vJCI6NTYsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vJC5kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuLyQiOjU2LCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQucHJvcGVydHktZGVzYyI6NjF9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuLyQuZ2xvYmFsIjo0MX1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi8kLmNvZiI6MzB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LHsiLi8kLmNvZiI6MzB9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3RyeXtyZXR1cm4gbz90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZuKHMuY2FsbChlKSksaX19fSx7Ii4vJC5hbi1vYmplY3QiOjI4fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpLGk9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuLyQuaGlkZSIpKHMsZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4uY3JlYXRlKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuLyQiOjU2LCIuLyQuaGlkZSI6NDMsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQubGlicmFyeSIpLG89ZSgiLi8kLmV4cG9ydCIpLGk9ZSgiLi8kLnJlZGVmaW5lIikscz1lKCIuLyQuaGlkZSIpLGE9ZSgiLi8kLmhhcyIpLGM9ZSgiLi8kLml0ZXJhdG9ycyIpLHU9ZSgiLi8kLml0ZXItY3JlYXRlIiksbD1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vJCIpLmdldFByb3RvLGQ9ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksYj0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGcsbSxqKXt1KHIsdCxfKTt2YXIgJCxPLHc9ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gRSlyZXR1cm4gRVtlXTtzd2l0Y2goZSl7Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0saz10KyIgSXRlcmF0b3IiLHg9Zz09dixDPSExLEU9ZS5wcm90b3R5cGUsUz1FW2RdfHxFW2JdfHxnJiZFW2ddLFQ9U3x8dyhnKTtpZihTKXt2YXIgUj1mKFQuY2FsbChuZXcgZSkpO2woUixrLCEwKSwhbiYmYShFLGIpJiZzKFIsZCx5KSx4JiZTLm5hbWUhPT12JiYoQz0hMCxUPWZ1bmN0aW9uKCl7cmV0dXJuIFMuY2FsbCh0aGlzKX0pfWlmKG4mJiFqfHwhcCYmIUMmJkVbZF18fHMoRSxkLFQpLGNbdF09VCxjW2tdPXksZylpZigkPXt2YWx1ZXM6eD9UOncodiksa2V5czptP1Q6dyhoKSxlbnRyaWVzOng/dygiZW50cmllcyIpOlR9LGopZm9yKE8gaW4gJClPIGluIEV8fGkoRSxPLCRbT10pO2Vsc2UgbyhvLlArby5GKihwfHxDKSx0LCQpO3JldHVybiAkfX0seyIuLyQiOjU2LCIuLyQuZXhwb3J0IjozNywiLi8kLmhhcyI6NDIsIi4vJC5oaWRlIjo0MywiLi8kLml0ZXItY3JlYXRlIjo1MSwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cj0hMH0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGEpe31yZXR1cm4gcn19LHsiLi8kLndrcyI6Nzh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDU2OltmdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0O3QuZXhwb3J0cz17Y3JlYXRlOm4uY3JlYXRlLGdldFByb3RvOm4uZ2V0UHJvdG90eXBlT2YsaXNFbnVtOnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGdldERlc2M6bi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isc2V0RGVzYzpuLmRlZmluZVByb3BlcnR5LHNldERlc2NzOm4uZGVmaW5lUHJvcGVydGllcyxnZXRLZXlzOm4ua2V5cyxnZXROYW1lczpuLmdldE93blByb3BlcnR5TmFtZXMsZ2V0U3ltYm9sczpuLmdldE93blByb3BlcnR5U3ltYm9scyxlYWNoOltdLmZvckVhY2h9fSx7fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9byhlKSxzPW4uZ2V0S2V5cyhpKSxhPXMubGVuZ3RoLGM9MDthPmM7KWlmKGlbcj1zW2MrK11dPT09dClyZXR1cm4gcn19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC50YXNrIikuc2V0LGM9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsdT1zLnByb2Nlc3MsbD1zLlByb21pc2UsZj0icHJvY2VzcyI9PWUoIi4vJC5jb2YiKSh1KSxkPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO2ZvcihmJiYoZT11LmRvbWFpbikmJih1LmRvbWFpbj1udWxsLGUuZXhpdCgpKTtuOyl0PW4uZG9tYWluLHI9bi5mbix0JiZ0LmVudGVyKCkscigpLHQmJnQuZXhpdCgpLG49bi5uZXh0O289dm9pZCAwLGUmJmUuZW50ZXIoKX07aWYoZilpPWZ1bmN0aW9uKCl7dS5uZXh0VGljayhkKX07ZWxzZSBpZihjKXt2YXIgcD0xLGI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBjKGQpLm9ic2VydmUoYix7Y2hhcmFjdGVyRGF0YTohMH0pLGk9ZnVuY3Rpb24oKXtiLmRhdGE9cD0tcH19ZWxzZSBpPWwmJmwucmVzb2x2ZT9mdW5jdGlvbigpe2wucmVzb2x2ZSgpLnRoZW4oZCl9OmZ1bmN0aW9uKCl7YS5jYWxsKHMsZCl9O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMCxkb21haW46ZiYmdS5kb21haW59O28mJihvLm5leHQ9dCksbnx8KG49dCxpKCkpLG89dH19LHsiLi8kLmNvZiI6MzAsIi4vJC5nbG9iYWwiOjQxLCIuLyQudGFzayI6NzJ9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuLyQuY29yZSI6MzEsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQucmVkZWZpbmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCluKGUscix0W3JdKTtyZXR1cm4gZX19LHsiLi8kLnJlZGVmaW5lIjo2M31dLDYzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5oaWRlIil9LHsiLi8kLmhpZGUiOjQzfV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9T2JqZWN0LmlzfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OmUhPWUmJnQhPXR9fSx7fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5nZXREZXNjLG89ZSgiLi8kLmlzLW9iamVjdCIpLGk9ZSgiLi8kLmFuLW9iamVjdCIpLHM9ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vJC5jdHgiKShGdW5jdGlvbi5jYWxsLG4oT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG8odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goaSl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhlLHQpLHI/ZS5fX3Byb3RvX189dDpvKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOnN9fSx7Ii4vJCI6NTYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLW9iamVjdCI6NDl9XSw2NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuY29yZSIpLG89ZSgiLi8kIiksaT1lKCIuLyQuZGVzY3JpcHRvcnMiKSxzPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W3NdJiZvLnNldERlc2ModCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vJCI6NTYsIi4vJC5jb3JlIjozMSwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLndrcyI6Nzh9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLnNldERlc2Msbz1lKCIuLyQuaGFzIiksaT1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vJCI6NTYsIi4vJC5oYXMiOjQyLCIuLyQud2tzIjo3OH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iiksbz1lKCIuLyQuYS1mdW5jdGlvbiIpLGk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbaV0pP3Q6byhyKX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLndrcyI6Nzh9XSw3MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKHIrIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciEiKTtyZXR1cm4gZX19LHt9XSw3MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGE9U3RyaW5nKG8odCkpLGM9bihyKSx1PWEubGVuZ3RoO3JldHVybiAwPmN8fGM+PXU/ZT8iIjp2b2lkIDA6KGk9YS5jaGFyQ29kZUF0KGMpLDU1Mjk2Pml8fGk+NTYzMTl8fGMrMT09PXV8fChzPWEuY2hhckNvZGVBdChjKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2EuY2hhckF0KGMpOmk6ZT9hLnNsaWNlKGMsYysyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC50by1pbnRlZ2VyIjo3M31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmN0eCIpLGE9ZSgiLi8kLmludm9rZSIpLGM9ZSgiLi8kLmh0bWwiKSx1PWUoIi4vJC5kb20tY3JlYXRlIiksbD1lKCIuLyQuZ2xvYmFsIiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxwPWwuY2xlYXJJbW1lZGlhdGUsYj1sLk1lc3NhZ2VDaGFubmVsLGg9MCx2PXt9LHk9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsXz1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKHYuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PXZbZV07ZGVsZXRlIHZbZV0sdCgpfX0sZz1mdW5jdGlvbihlKXtfLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIHZbKytoXT1mdW5jdGlvbigpe2EoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbihoKSxofSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSB2W2VdfSwicHJvY2VzcyI9PWUoIi4vJC5jb2YiKShmKT9uPWZ1bmN0aW9uKGUpe2YubmV4dFRpY2socyhfLGUsMSkpfTpiPyhvPW5ldyBiLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1nLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmwuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhbC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2wucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGcsITEpKTpuPXkgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7Yy5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbeV09ZnVuY3Rpb24oKXtjLnJlbW92ZUNoaWxkKHRoaXMpLF8uY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhfLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vJC5jb2YiOjMwLCIuLyQuY3R4IjozMiwiLi8kLmRvbS1jcmVhdGUiOjM1LCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmh0bWwiOjQ0LCIuLyQuaW52b2tlIjo0NX1dLDczOltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlvYmplY3QiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC5pb2JqZWN0Ijo0Nn1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuLyQudG8taW50ZWdlciI6NzN9XSw3NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSx7Ii4vJC5kZWZpbmVkIjozM31dLDc3OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnNoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vJC51aWQiKSxpPWUoIi4vJC5nbG9iYWwiKS5TeW1ib2w7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1pJiZpW2VdfHwoaXx8bykoIlN5bWJvbC4iK2UpKX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5zaGFyZWQiOjY4LCIuLyQudWlkIjo3N31dLDc5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNsYXNzb2YiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi8kLmNvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vJC5jbGFzc29mIjoyOSwiLi8kLmNvcmUiOjMxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw4MDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuLyQuaXRlci1zdGVwIiksaT1lKCIuLyQuaXRlcmF0b3JzIikscz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuLyQuaXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vJC5hZGQtdG8tdW5zY29wYWJsZXMiOjI3LCIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuaXRlci1zdGVwIjo1NCwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBlKG4odCkscil9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8taW9iamVjdCI6NzR9XSw4MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLW9iamVjdCI6NzZ9XSw4MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDg0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpO24obi5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjplKCIuLyQuc2V0LXByb3RvIikuc2V0fSl9LHsiLi8kLmV4cG9ydCI6MzcsIi4vJC5zZXQtcHJvdG8iOjY1fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw4NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvPWUoIi4vJCIpLGk9ZSgiLi8kLmxpYnJhcnkiKSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5jbGFzc29mIiksdT1lKCIuLyQuZXhwb3J0IiksbD1lKCIuLyQuaXMtb2JqZWN0IiksZj1lKCIuLyQuYW4tb2JqZWN0IiksZD1lKCIuLyQuYS1mdW5jdGlvbiIpLHA9ZSgiLi8kLnN0cmljdC1uZXciKSxiPWUoIi4vJC5mb3Itb2YiKSxoPWUoIi4vJC5zZXQtcHJvdG8iKS5zZXQsdj1lKCIuLyQuc2FtZS12YWx1ZSIpLHk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIiksXz1lKCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciIpLGc9ZSgiLi8kLm1pY3JvdGFzayIpLG09IlByb21pc2UiLGo9cy5wcm9jZXNzLCQ9InByb2Nlc3MiPT1jKGopLE89c1ttXSx3PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBPKGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGUmJih0LmNvbnN0cnVjdG9yPU9iamVjdCksTy5yZXNvbHZlKHQpPT09dH0saz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9bmV3IE8oZSk7cmV0dXJuIGgocix0LnByb3RvdHlwZSkscn12YXIgcj0hMTt0cnl7aWYocj1PJiZPLnJlc29sdmUmJncoKSxoKHQsTyksdC5wcm90b3R5cGU9by5jcmVhdGUoTy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0fX0pLHQucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCl7fSlpbnN0YW5jZW9mIHR8fChyPSExKSxyJiZlKCIuLyQuZGVzY3JpcHRvcnMiKSl7dmFyIG49ITE7Ty5yZXNvbHZlKG8uc2V0RGVzYyh7fSwidGhlbiIse2dldDpmdW5jdGlvbigpe249ITB9fSkpLHI9bn19Y2F0Y2goaSl7cj0hMX1yZXR1cm4gcn0oKSx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkmJmU9PT1PJiZ0PT09bj8hMDp2KGUsdCl9LEM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZihlKVt5XTtyZXR1cm4gdm9pZCAwIT10P3Q6ZX0sRT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbChlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxTPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFQ9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxSPWZ1bmN0aW9uKGUsdCl7aWYoIWUubil7ZS5uPSEwO3ZhciByPWUuYztnKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUudixvPTE9PWUucyxpPTAsYT1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxhPXQucmVzb2x2ZSxjPXQucmVqZWN0O3RyeXtzPyhvfHwoZS5oPSEwKSxyPXM9PT0hMD9uOnMobikscj09PXQucHJvbWlzZT9jKFR5cGVFcnJvcigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1FKHIpKT9pLmNhbGwocixhLGMpOmEocikpOmMobil9Y2F0Y2godSl7Yyh1KX19O3IubGVuZ3RoPmk7KWEocltpKytdKTtyLmxlbmd0aD0wLGUubj0hMSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQscixvPWUucDtNKG8pJiYoJD9qLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbixvKToodD1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT90KHtwcm9taXNlOm8scmVhc29uOm59KToocj1zLmNvbnNvbGUpJiZyLmVycm9yJiZyLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG4pKSxlLmE9dm9pZCAwfSwxKX0pfX0sTT1mdW5jdGlvbihlKXt2YXIgdCxyPWUuX2Qsbj1yLmF8fHIuYyxvPTA7aWYoci5oKXJldHVybiExO2Zvcig7bi5sZW5ndGg+bzspaWYodD1uW28rK10sdC5mYWlsfHwhTSh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxOPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5kfHwodC5kPSEwLHQ9dC5yfHx0LHQudj1lLHQucz0yLHQuYT10LmMuc2xpY2UoKSxSKHQsITApKX0sRD1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuZCl7ci5kPSEwLHI9ci5yfHxyO3RyeXtpZihyLnA9PT1lKXRocm93IFR5cGVFcnJvcigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1FKGUpKT9nKGZ1bmN0aW9uKCl7dmFyIG49e3I6cixkOiExfTt0cnl7dC5jYWxsKGUsYShELG4sMSksYShOLG4sMSkpfWNhdGNoKG8pe04uY2FsbChuLG8pfX0pOihyLnY9ZSxyLnM9MSxSKHIsITEpKX1jYXRjaChuKXtOLmNhbGwoe3I6cixkOiExfSxuKX19fTtrfHwoTz1mdW5jdGlvbihlKXtkKGUpO3ZhciB0PXRoaXMuX2Q9e3A6cCh0aGlzLE8sbSksYzpbXSxhOnZvaWQgMCxzOjAsZDohMSx2OnZvaWQgMCxoOiExLG46ITF9O3RyeXtlKGEoRCx0LDEpLGEoTix0LDEpKX1jYXRjaChyKXtOLmNhbGwodCxyKX19LGUoIi4vJC5yZWRlZmluZS1hbGwiKShPLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBTKF8odGhpcyxPKSksbj1yLnByb21pc2Usbz10aGlzLl9kO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LG8uYy5wdXNoKHIpLG8uYSYmby5hLnB1c2gociksby5zJiZSKG8sITEpLG59LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSkpLHUodS5HK3UuVyt1LkYqIWsse1Byb21pc2U6T30pLGUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpKE8sbSksZSgiLi8kLnNldC1zcGVjaWVzIikobSksbj1lKCIuLyQuY29yZSIpW21dLHUodS5TK3UuRiohayxtLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFModGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKigha3x8dyghMCkpLG0se3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIE8mJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKiEoayYmZSgiLi8kLml0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7Ty5hbGwoZSlbImNhdGNoIl0oZnVuY3Rpb24oKXt9KX0pKSxtLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9Qyh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qscz1bXSxhPVQoZnVuY3Rpb24oKXtiKGUsITEscy5wdXNoLHMpO3ZhciByPXMubGVuZ3RoLGE9QXJyYXkocik7cj9vLmVhY2guY2FsbChzLGZ1bmN0aW9uKGUsbyl7dmFyIHM9ITE7dC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7c3x8KHM9ITAsYVtvXT1lLC0tcnx8bihhKSl9LGkpfSk6bihhKX0pO3JldHVybiBhJiZpKGEuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlamVjdCxvPVQoZnVuY3Rpb24oKXtiKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi8kIjo1NiwiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQuZXhwb3J0IjozNywiLi8kLmZvci1vZiI6MzksIi4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OSwiLi8kLml0ZXItZGV0ZWN0Ijo1MywiLi8kLmxpYnJhcnkiOjU4LCIuLyQubWljcm90YXNrIjo1OSwiLi8kLnJlZGVmaW5lLWFsbCI6NjIsIi4vJC5zYW1lLXZhbHVlIjo2NCwiLi8kLnNldC1wcm90byI6NjUsIi4vJC5zZXQtc3BlY2llcyI6NjYsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIjo2OSwiLi8kLnN0cmljdC1uZXciOjcwLCIuLyQud2tzIjo3OH1dLDg3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5zdHJpbmctYXQiKSghMCk7ZSgiLi8kLml0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuc3RyaW5nLWF0Ijo3MX1dLDg4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLmdsb2JhbCIpLGk9ZSgiLi8kLmhhcyIpLHM9ZSgiLi8kLmRlc2NyaXB0b3JzIiksYT1lKCIuLyQuZXhwb3J0IiksYz1lKCIuLyQucmVkZWZpbmUiKSx1PWUoIi4vJC5mYWlscyIpLGw9ZSgiLi8kLnNoYXJlZCIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksZD1lKCIuLyQudWlkIikscD1lKCIuLyQud2tzIiksYj1lKCIuLyQua2V5b2YiKSxoPWUoIi4vJC5nZXQtbmFtZXMiKSx2PWUoIi4vJC5lbnVtLWtleXMiKSx5PWUoIi4vJC5pcy1hcnJheSIpLF89ZSgiLi8kLmFuLW9iamVjdCIpLGc9ZSgiLi8kLnRvLWlvYmplY3QiKSxtPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaj1uLmdldERlc2MsJD1uLnNldERlc2MsTz1uLmNyZWF0ZSx3PWguZ2V0LGs9by5TeW1ib2wseD1vLkpTT04sQz14JiZ4LnN0cmluZ2lmeSxFPSExLFM9cCgiX2hpZGRlbiIpLFQ9bi5pc0VudW0sUj1sKCJzeW1ib2wtcmVnaXN0cnkiKSxNPWwoInN5bWJvbHMiKSxOPSJmdW5jdGlvbiI9PXR5cGVvZiBrLEQ9T2JqZWN0LnByb3RvdHlwZSxQPXMmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9TygkKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuICQodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWooRCx0KTtuJiZkZWxldGUgRFt0XSwkKGUsdCxyKSxuJiZlIT09RCYmJChELHQsbil9OiQsTD1mdW5jdGlvbihlKXt2YXIgdD1NW2VdPU8oay5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUscyYmRSYmUChELGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZnVuY3Rpb24odCl7aSh0aGlzLFMpJiZpKHRoaXNbU10sZSkmJih0aGlzW1NdW2VdPSExKSxQKHRoaXMsZSxtKDEsdCkpfX0pLHR9LEE9ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfSxGPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gciYmaShNLHQpPyhyLmVudW1lcmFibGU/KGkoZSxTKSYmZVtTXVt0XSYmKGVbU11bdF09ITEpLHI9TyhyLHtlbnVtZXJhYmxlOm0oMCwhMSl9KSk6KGkoZSxTKXx8JChlLFMsbSgxLHt9KSksZVtTXVt0XT0hMCksUChlLHQscikpOiQoZSx0LHIpfSxJPWZ1bmN0aW9uKGUsdCl7XyhlKTtmb3IodmFyIHIsbj12KHQ9Zyh0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylGKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LFU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9PKGUpOkkoTyhlKSx0KX0sVj1mdW5jdGlvbihlKXt2YXIgdD1ULmNhbGwodGhpcyxlKTtyZXR1cm4gdHx8IWkodGhpcyxlKXx8IWkoTSxlKXx8aSh0aGlzLFMpJiZ0aGlzW1NdW2VdP3Q6ITB9LHo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1qKGU9ZyhlKSx0KTtyZXR1cm4hcnx8IWkoTSx0KXx8aShlLFMpJiZlW1NdW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfSxIPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPXcoZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKXx8dD09U3x8bi5wdXNoKHQpO3JldHVybiBufSxCPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPXcoZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKSYmbi5wdXNoKE1bdF0pO3JldHVybiBufSxKPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUmJiFBKGUpKXtmb3IodmFyIHQscixuPVtlXSxvPTEsaT1hcmd1bWVudHM7aS5sZW5ndGg+bzspbi5wdXNoKGlbbysrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnkodCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLEEodCk/dm9pZCAwOnR9KSxuWzFdPXQsQy5hcHBseSh4LG4pfX0sVz11KGZ1bmN0aW9uKCl7dmFyIGU9aygpO3JldHVybiJbbnVsbF0iIT1DKFtlXSl8fCJ7fSIhPUMoe2E6ZX0pfHwie30iIT1DKE9iamVjdChlKSl9KTtOfHwoaz1mdW5jdGlvbigpe2lmKEEodGhpcykpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTtyZXR1cm4gTChkKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSl9LGMoay5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksQT1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGt9LG4uY3JlYXRlPVUsbi5pc0VudW09VixuLmdldERlc2M9eixuLnNldERlc2M9RixuLnNldERlc2NzPUksbi5nZXROYW1lcz1oLmdldD1ILG4uZ2V0U3ltYm9scz1CLHMmJiFlKCIuLyQubGlicmFyeSIpJiZjKEQsInByb3BlcnR5SXNFbnVtZXJhYmxlIixWLCEwKSk7dmFyIFk9eyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBpKFIsZSs9IiIpP1JbZV06UltlXT1rKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGIoUixlKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7RT0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7RT0hMX19O24uZWFjaC5jYWxsKCJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD1wKGUpO1lbZV09Tj90OkwodCl9KSxFPSEwLGEoYS5HK2EuVyx7U3ltYm9sOmt9KSxhKGEuUywiU3ltYm9sIixZKSxhKGEuUythLkYqIU4sIk9iamVjdCIse2NyZWF0ZTpVLGRlZmluZVByb3BlcnR5OkYsZGVmaW5lUHJvcGVydGllczpJLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjp6LGdldE93blByb3BlcnR5TmFtZXM6SCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Qn0pLHgmJmEoYS5TK2EuRiooIU58fFcpLCJKU09OIix7c3RyaW5naWZ5Okp9KSxmKGssIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5lbnVtLWtleXMiOjM2LCIuLyQuZXhwb3J0IjozNywiLi8kLmZhaWxzIjozOCwiLi8kLmdldC1uYW1lcyI6NDAsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaGFzIjo0MiwiLi8kLmlzLWFycmF5Ijo0OCwiLi8kLmtleW9mIjo1NywiLi8kLmxpYnJhcnkiOjU4LCIuLyQucHJvcGVydHktZGVzYyI6NjEsIi4vJC5yZWRlZmluZSI6NjMsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zaGFyZWQiOjY4LCIuLyQudG8taW9iamVjdCI6NzQsIi4vJC51aWQiOjc3LCIuLyQud2tzIjo3OH1dLDg5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIik7bi5Ob2RlTGlzdD1uLkhUTUxDb2xsZWN0aW9uPW4uQXJyYXl9LHsiLi8kLml0ZXJhdG9ycyI6NTUsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo4MH1dLDkwOltmdW5jdGlvbihlLHQscil7d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuZz1bXSx0aGlzLms9ZX1mdW5jdGlvbiByKGUpeyFmdW5jdGlvbiByKCl7dmFyIG49ZS50YWtlUmVjb3JkcygpO24ubGVuZ3RoJiZlLmsobixlKSxlLmY9c2V0VGltZW91dChyLHQuX3BlcmlvZCl9KCl9ZnVuY3Rpb24gbih0KXt2YXIgcixuPXt0eXBlOm51bGwsdGFyZ2V0Om51bGwsYWRkZWROb2RlczpbXSxyZW1vdmVkTm9kZXM6W10scHJldmlvdXNTaWJsaW5nOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxhdHRyaWJ1dGVOYW1lOm51bGwsYXR0cmlidXRlTmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6bnVsbH07Zm9yKHIgaW4gdCluW3JdIT09ZSYmdFtyXSE9PWUmJihuW3JdPXRbcl0pO3JldHVybiBufWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj1hKGUsdCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvLGM9bi5sZW5ndGg7dC5hJiZyLmEmJmkobixlLHIuYSx0LmQpLCh0LmJ8fHQuZSkmJihvPXMobixlLHIsdCkpLChvfHxuLmxlbmd0aCE9PWMpJiYocj1hKGUsdCkpfX1mdW5jdGlvbiBpKHQscixvLGkpe2Zvcih2YXIgcyxhLGM9e30sdT1yLmF0dHJpYnV0ZXMsbD11Lmxlbmd0aDtsLS07KXM9dVtsXSxhPXMubmFtZSxpJiZpW2FdPT09ZXx8KHMudmFsdWUhPT1vW2FdJiZ0LnB1c2gobih7dHlwZToiYXR0cmlidXRlcyIsdGFyZ2V0OnIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV0sYXR0cmlidXRlTmFtZXNwYWNlOnMubmFtZXNwYWNlVVJJfSkpLGNbYV09ITApO2ZvcihhIGluIG8pY1thXXx8dC5wdXNoKG4oe3RhcmdldDpyLHR5cGU6ImF0dHJpYnV0ZXMiLGF0dHJpYnV0ZU5hbWU6YSxvbGRWYWx1ZTpvW2FdfSkpfWZ1bmN0aW9uIHModCxyLG8scyl7ZnVuY3Rpb24gYShlLHIsbyxhLGMpe3ZhciBsPWUubGVuZ3RoLTE7Yz0tfigobC1jKS8yKTtmb3IodmFyIGYsZCxwO3A9ZS5wb3AoKTspZj1vW3AuaF0sZD1hW3AuaV0scy5iJiZjJiZNYXRoLmFicyhwLmgtcC5pKT49bCYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2ZdLHJlbW92ZWROb2RlczpbZl0sbmV4dFNpYmxpbmc6Zi5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6Zi5wcmV2aW91c1NpYmxpbmd9KSksYy0tKSxzLmEmJmQuYSYmaSh0LGYsZC5hLHMuZCkscy5jJiYzPT09Zi5ub2RlVHlwZSYmZi5ub2RlVmFsdWUhPT1kLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6Zn0pKSxzLmUmJnUoZixkKX1mdW5jdGlvbiB1KHIsbyl7Zm9yKHZhciBkLHAsYixoLHYseT1yLmNoaWxkTm9kZXMsXz1vLmIsZz15Lmxlbmd0aCxtPV8/Xy5sZW5ndGg6MCxqPTAsJD0wLE89MDtnPiR8fG0+TzspaD15WyRdLHY9KGI9X1tPXSkmJmIuaixoPT09dj8ocy5hJiZiLmEmJmkodCxoLGIuYSxzLmQpLHMuYyYmYi5jIT09ZSYmaC5ub2RlVmFsdWUhPT1iLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6aH0pKSxwJiZhKHAscix5LF8saikscy5lJiYoaC5jaGlsZE5vZGVzLmxlbmd0aHx8Yi5iJiZiLmIubGVuZ3RoKSYmdShoLGIpLCQrKyxPKyspOihsPSEwLGR8fChkPXt9LHA9W10pLGgmJihkW2I9YyhoKV18fChkW2JdPSEwLC0xPT09KGI9ZihfLGgsTywiaiIpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltoXSxuZXh0U2libGluZzpoLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpoLnByZXZpb3VzU2libGluZ30pKSxqKyspOnAucHVzaCh7aDokLGk6Yn0pKSwkKyspLHYmJnYhPT15WyRdJiYoZFtiPWModildfHwoZFtiXT0hMCwtMT09PShiPWYoeSx2LCQpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6by5qLHJlbW92ZWROb2Rlczpbdl0sbmV4dFNpYmxpbmc6X1tPKzFdLHByZXZpb3VzU2libGluZzpfW08tMV19KSksai0tKTpwLnB1c2goe2g6YixpOk99KSksTysrKSk7cCYmYShwLHIseSxfLGopfXZhciBsO3JldHVybiB1KHIsbyksbH1mdW5jdGlvbiBhKGUsdCl7dmFyIHI9ITA7cmV0dXJuIGZ1bmN0aW9uIG4oZSl7dmFyIG89e2o6ZX07cmV0dXJuIXQuY3x8MyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlPyh0LmEmJnImJjE9PT1lLm5vZGVUeXBlJiYoby5hPWwoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuZCYmIXQuZFtyLm5hbWVdfHwoZVtyLm5hbWVdPXIudmFsdWUpLGV9KSksciYmKHQuYnx8dC5jfHx0LmEmJnQuZSkmJihvLmI9dShlLmNoaWxkTm9kZXMsbikpLHI9dC5lKTpvLmM9ZS5ub2RlVmFsdWUsb30oZSl9ZnVuY3Rpb24gYyhlKXt0cnl7cmV0dXJuIGUuaWR8fChlLm1vX2lkPWUubW9faWR8fGQrKyl9Y2F0Y2godCl7dHJ5e3JldHVybiBlLm5vZGVWYWx1ZX1jYXRjaChyKXtyZXR1cm4gZCsrfX19ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgcj1bXSxuPTA7bjxlLmxlbmd0aDtuKyspcltuXT10KGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciByPXt9LG49MDtuPGUubGVuZ3RoO24rKylyPXQocixlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gZihlLHQscixuKXtmb3IoO3I8ZS5sZW5ndGg7cisrKWlmKChuP2Vbcl1bbl06ZVtyXSk9PT10KXJldHVybiByO3JldHVybi0xfXQuX3BlcmlvZD0zMCx0LnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17YTohISh0LmF0dHJpYnV0ZXN8fHQuYXR0cmlidXRlRmlsdGVyfHx0LmF0dHJpYnV0ZU9sZFZhbHVlKSxiOiEhdC5jaGlsZExpc3QsZTohIXQuc3VidHJlZSxjOiEoIXQuY2hhcmFjdGVyRGF0YSYmIXQuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKX0saT10aGlzLmcscz0wO3M8aS5sZW5ndGg7cysrKWlbc10ubT09PWUmJmkuc3BsaWNlKHMsMSk7dC5hdHRyaWJ1dGVGaWx0ZXImJihuLmQ9bCh0LmF0dHJpYnV0ZUZpbHRlcixmdW5jdGlvbihlLHQpewpyZXR1cm4gZVt0XT0hMCxlfSkpLGkucHVzaCh7bTplLGw6byhlLG4pfSksdGhpcy5mfHxyKHRoaXMpfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZyxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXS5sKGUpO3JldHVybiBlfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5nPVtdLGNsZWFyVGltZW91dCh0aGlzLmYpLHRoaXMuZj1udWxsfX07dmFyIGQ9MTtyZXR1cm4gdH0odm9pZCAwKX0se31dLDkxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmV8fGZ1bmN0aW9uKGUsdCxyLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxpLHM9WyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLCJyZWNvbmZpZ3VyZSIsInNldFByb3RvdHlwZSIsInByZXZlbnRFeHRlbnNpb25zIl0sYT10LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09ZS5jYWxsKHQpfX0oZS5wcm90b3R5cGUudG9TdHJpbmcpLGM9dC5wcm90b3R5cGUuaW5kZXhPZj90LmluZGV4T2Z8fGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gdC5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUscixuKX06ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1yfHwwO248ZS5sZW5ndGg7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSx1PXIuTWFwIT09biYmTWFwLnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKCl7cmV0dXJuIG5ldyBNYXB9OmZ1bmN0aW9uKCl7dmFyIGU9W10sdD1bXTtyZXR1cm57c2l6ZTowLGhhczpmdW5jdGlvbih0KXtyZXR1cm4gYyhlLHQpPi0xfSxnZXQ6ZnVuY3Rpb24ocil7cmV0dXJuIHRbYyhlLHIpXX0sc2V0OmZ1bmN0aW9uKHIsbil7dmFyIG89YyhlLHIpOy0xPT09bz8oZS5wdXNoKHIpLHQucHVzaChuKSx0aGlzLnNpemUrKyk6dFtvXT1ufSwiZGVsZXRlIjpmdW5jdGlvbihyKXt2YXIgbj1jKGUscik7bj4tMSYmKGUuc3BsaWNlKG4sMSksdC5zcGxpY2UobiwxKSx0aGlzLnNpemUtLSl9LGZvckVhY2g6ZnVuY3Rpb24ocil7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspci5jYWxsKGFyZ3VtZW50c1sxXSx0W25dLGVbbl0sdGhpcyl9fX0sbD1lLmdldE93blByb3BlcnR5TmFtZXM/ZnVuY3Rpb24oKXt2YXIgdD1lLmdldE93blByb3BlcnR5TmFtZXM7dHJ5e2FyZ3VtZW50cy5jYWxsZWV9Y2F0Y2gocil7dmFyIG49KHQoYykuam9pbigiICIpKyIgIikucmVwbGFjZSgvcHJvdG90eXBlIHxsZW5ndGggfG5hbWUgL2csIiIpLnNsaWNlKDAsLTEpLnNwbGl0KCIgIik7bi5sZW5ndGgmJih0PWZ1bmN0aW9uKHQpe3ZhciByPWUuZ2V0T3duUHJvcGVydHlOYW1lcyh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClmb3IodmFyIG8saT0wO2k8bi5sZW5ndGg7KShvPWMocixuW2krK10pKT4tMSYmci5zcGxpY2UobywxKTtyZXR1cm4gcn0pfXJldHVybiB0fSgpOmZ1bmN0aW9uKHQpe3ZhciByLG4sbz1bXTtpZigiaGFzT3duUHJvcGVydHkiaW4gdClmb3IociBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJm8ucHVzaChyKTtlbHNle249ZS5oYXNPd25Qcm9wZXJ0eTtmb3IociBpbiB0KW4uY2FsbCh0LHIpJiZvLnB1c2gocil9cmV0dXJuIGEodCkmJm8ucHVzaCgibGVuZ3RoIiksb30sZj1lLmdldFByb3RvdHlwZU9mLGQ9ZS5kZWZpbmVQcm9wZXJ0aWVzJiZlLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixwPXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxyLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oKXt2YXIgZT0rbmV3IERhdGUsdD1lO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3IoKHQ9K25ldyBEYXRlKS1lKX0sMTcpfX0oKSxiPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1vLmdldChlKTtuPyh2KG4sZSksbShlLG4sdCxyKSk6KG49aChlKSxtKGUsbix0LHIpLDE9PT1vLnNpemUmJnAoeSkpfSxoPWZ1bmN0aW9uKHQscil7dmFyIG4saT1sKHQpLHM9W10sYT0wLHI9e2hhbmRsZXJzOnUoKSxmcm96ZW46ZS5pc0Zyb3plbj9lLmlzRnJvemVuKHQpOiExLGV4dGVuc2libGU6ZS5pc0V4dGVuc2libGU/ZS5pc0V4dGVuc2libGUodCk6ITAscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6Zyh0LHIpfTtpZihkKWZvcihuPXIuZGVzY3JpcHRvcnM9W107YTxpLmxlbmd0aDspblthXT1kKHQsaVthXSksc1thXT10W2lbYSsrXV07ZWxzZSBmb3IoO2E8aS5sZW5ndGg7KXNbYV09dFtpW2ErK11dO3JldHVybiBvLnNldCh0LHIpLHJ9LHY9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxhPXQudmFsdWVzW3JdLGM9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbyYmKGE9PT1zPzA9PT1hJiYxL2EhPT0xL3M6YT09PWF8fHM9PT1zKSYmKGooZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LnZhbHVlc1tyXT1zKSwhYy5jb25maWd1cmFibGV8fG8uY29uZmlndXJhYmxlJiZvLndyaXRhYmxlPT09Yy53cml0YWJsZSYmby5lbnVtZXJhYmxlPT09Yy5lbnVtZXJhYmxlJiZvLmdldD09PWMuZ2V0JiZvLnNldD09PWMuc2V0fHwoaihlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6YX0sbiksdC5kZXNjcmlwdG9yc1tyXT1vKX06ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dC5wcm9wZXJ0aWVzW3JdLGk9ZVtvXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihqKGUsdCx7bmFtZTpvLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbiksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbixvLGkpe2Zvcih2YXIgcyxhPXIubGVuZ3RoO24mJmEtLTspbnVsbCE9PXJbYV0mJihzPWQoZSxyW2FdKSxuLS0scz90KGUsbyxhLGkscyk6KGooZSxvLHtuYW1lOnJbYV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1thXX0saSksby5wcm9wZXJ0aWVzLnNwbGljZShhLDEpLG8udmFsdWVzLnNwbGljZShhLDEpLG8uZGVzY3JpcHRvcnMuc3BsaWNlKGEsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbixvKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGooZSxuLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tpXX0sbyksbi5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG4udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihuLG8saSl7aWYobi5oYW5kbGVycy5zaXplJiYhbi5mcm96ZW4pe3ZhciBzLGEsdSxwLGIsaCx2LHksXz1uLnZhbHVlcyxnPW4uZGVzY3JpcHRvcnMsbT0wO2lmKG4uZXh0ZW5zaWJsZSlpZihzPW4ucHJvcGVydGllcy5zbGljZSgpLGE9cy5sZW5ndGgsdT1sKG8pLGcpe2Zvcig7bTx1Lmxlbmd0aDspYj11W20rK10scD1jKHMsYikseT1kKG8sYiksLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChvW2JdKSxnLnB1c2goeSkpOihzW3BdPW51bGwsYS0tLHQobyxuLHAsaSx5KSk7cihvLHMsYSxuLGkpLGUuaXNFeHRlbnNpYmxlKG8pfHwobi5leHRlbnNpYmxlPSExLGoobyxuLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om99LGkpLG4uZnJvemVuPWUuaXNGcm96ZW4obykpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSxoPW9bYl0sLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChoKSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpKSk7cihvLHMsYSxuLGkpfWVsc2UgaWYoIW4uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKWI9c1ttXSx0KG8sbixtLGksZChvLGIpKTtlLmlzRnJvemVuKG8pJiYobi5mcm96ZW49ITApfWYmJih2PWYobyksdiE9PW4ucHJvdG8mJihqKG8sbix7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpvLG9sZFZhbHVlOm4ucHJvdG99KSxuLnByb3RvPXYpKX19fSgpLHk9ZnVuY3Rpb24oKXtvLnNpemUmJihvLmZvckVhY2godiksaS5mb3JFYWNoKF8pLHAoeSkpfSxfPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9by5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW8uZ2V0KGUpO2lmKHIpe3ZhciBuLGk9e29iamVjdDplfTtmb3IobiBpbiB0KSJvYmplY3QiIT09biYmKGlbbl09dFtuXSk7aihlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxhPW8uZ2V0KGUpLGM9YXJndW1lbnRzWzJdLHU9Yz09PW4/cigpOnIuY2FsbChjKTtpZihhJiZ2KGEsZSx0KSxhJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2ooZSxhLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWkuZ2V0KHIpO298fGkuc2V0KHIsbz17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxvLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om4uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG8pfSxqPWZ1bmN0aW9uKGUsdCxyLG4pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbz10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG58fC0xPT09YyhvLG4pKSYmYyhvLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O289dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbyl7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobz09PW4pbz1zO2Vsc2UgaWYoIW98fCJvYmplY3QiIT10eXBlb2Ygbyl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIGIodCxyLG8pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG49aS5nZXQodCk7cmV0dXJuIG4mJihyPW4ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG4ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSkscChmdW5jdGlvbigpe18obix0KX0pLDE9PT1uLm9ic2VydmVkLnNpemUmJm4ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm4ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9vWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6Zyh0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSksXyh0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDkyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuRGF0YU9iamVjdE9ic2VydmVyPXIuRGF0YU9iamVjdFJlcG9ydGVyPXIuU3luY2hlcj12b2lkIDAsZSgibXV0YXRpb25vYnNlcnZlci1zaGltIiksZSgib2JqZWN0Lm9ic2VydmUiKSxlKCJhcnJheS5vYnNlcnZlIik7dmFyIG89ZSgiLi9zeW5jaGVyL1N5bmNoZXIiKSxpPW4obykscz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIiksYT1uKHMpLGM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciIpLHU9bihjKTtyLlN5bmNoZXI9aVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdFJlcG9ydGVyPWFbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RPYnNlcnZlcj11WyJkZWZhdWx0Il19LHsiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL3N5bmNoZXIvU3luY2hlciI6OTksImFycmF5Lm9ic2VydmUiOjEsIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSI6OTAsIm9iamVjdC5vYnNlcnZlIjo5MX1dLDkzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IikscD1uKGQpLGI9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxoPW4oYiksdj1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9zeW5jaGVyPXQsYS5fdXJsPXIsYS5fc2NoZW1hPW4sYS5fc3RhdHVzPW8sYS5fc3luY09iaj1uZXcgcFsiZGVmYXVsdCJdKGkpLGEuX2NoaWxkcmVucz1zLGEuX3ZlcnNpb249MCxhLl9jaGlsZElkPTAsYS5fY2hpbGRyZW5PYmplY3RzPXt9LGEuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGEuX293bmVyPXQuX293bmVyLGEuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG89cituLGk9dC5fYnVzLmFkZExpc3RlbmVyKG8sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsYVsiZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBuPXIuX293bmVyKyIjIityLl9jaGlsZElkLG89ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpvLGJvZHk6e3Jlc291cmNlOm4sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYT1uZXcgaFsiZGVmYXVsdCJdKHIsbix0LHIuX293bmVyLGkpO2Eub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpvLGNoaWxkSWQ6bn0pfSksci5fY2hpbGRyZW5PYmplY3RzW25dPWEsZShhKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBuPW5ldyBoWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW4sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbz17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixvKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihvKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG49e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYobi5ib2R5LnZhbHVlPWUuZGF0YSk6KG4uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsbi5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG4uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihuLnRvPXQucGF0aCxuLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobil9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG49dC5ib2R5LmF0dHJpYnV0ZSxvPSgwLHYuZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixhPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2EsMF0uY29uY2F0KG8pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYz1pLm9iaix1PWkubGFzdDtjLnNwbGljZSh1LG8pfWVsc2UgaS5vYmpbaS5sYXN0XT1vO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bzpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxuPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtuP3QuX2NoYW5nZU9iamVjdChuLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCIuL1N5bmNPYmplY3QiOjk4LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYT1uKHMpLGM9ZSgiLi9TeW5jT2JqZWN0IiksdT1uKGMpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBhPXRoaXM7YS5fcGFyZW50PXQsYS5fY2hpbGRJZD1yLGEuX293bmVyPW8sYS5fbXNnSWQ9cyxhLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obiksYS5fYnVzPXQuX2J1cyxhLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGo9bihtKSwkPXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSxPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxzLGMsbCl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBmPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLHMuZGF0YSxjKSksZD1mO3JldHVybiBkLl92ZXJzaW9uPWwsZC5fZmlsdGVycz17fSxkLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ZC5fb25GaWx0ZXIoZSl9KSwoMCxpWyJkZWZhdWx0Il0pKHMuY2hpbGRyZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXMuY2hpbGRyZW5zW2VdO2QuX2NoaWxkcmVuT2JqZWN0c1tlXT1uZXcgalsiZGVmYXVsdCJdKGQsZSx0KX0pLGQuX2FsbG9jYXRlTGlzdGVuZXJzKCksZn1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG49e3R5cGU6JC5FWEFDVCxjYWxsYmFjazp0fSxvPWUuaW5kZXhPZigiKiIpO289PT1lLmxlbmd0aC0xJiYoMD09PW8/bi50eXBlPSQuQU5ZOihuLnR5cGU9JC5TVEFSVCxyPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpKSx0aGlzLl9maWx0ZXJzW3JdPW59fSx7a2V5OiJfb25GaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0Ll9maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXQuX2ZpbHRlcnNbcl07bi50eXBlPT09JC5BTlk/bi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLlNUQVJUPzA9PT1lLmZpZWxkLmluZGV4T2YocikmJm4uY2FsbGJhY2soZSk6bi50eXBlPT09JC5FWEFDVCYmZS5maWVsZD09PXImJm4uY2FsbGJhY2soZSl9KX19XSksdH0oZ1siZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09Tyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdCI6OTMsIi4vRGF0YU9iamVjdENoaWxkIjo5NCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuLi91dGlscy91dGlscy5qcyIpLGo9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBjPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLGkscykpLGw9YztyZXR1cm4gbC5fc3Vic2NyaXB0aW9ucz17fSxsLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGwuX29uQ2hhbmdlKGUpfSksbC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxjfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9yZXNwb25zZUxpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmZS5fb25SZXNwb25zZSh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9yZXNwb25zZUxpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiaW52aXRlT2JzZXJ2ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImNyZWF0ZSIsZnJvbTp0Ll9zeW5jaGVyLl9vd25lcix0bzp0Ll9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6dC5fdXJsLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6dC5fc3luY09iai5kYXRhLGF1dGhvcmlzZTplfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci1SQ1Y6ICIsZSksZS5ib2R5LnR5cGUpe2Nhc2Uic3Vic2NyaWJlIjp0Ll9vblN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjp0Ll9vblVuU3Vic2NyaWJlKGUpfX19LHtrZXk6Il9vblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsYWNjZXB0OmZ1bmN0aW9uKCl7dmFyIG49e3VybDpyLHN0YXR1czoib24ifTt0Ll9zdWJzY3JpcHRpb25zW3JdPW47dmFyIG89e307cmV0dXJuKDAsaVsiZGVmYXVsdCJdKSh0Ll9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dC5fY2hpbGRyZW5PYmplY3RzW2VdLmRhdGE7b1tlXT0oMCxtLmRlZXBDbG9uZSkocil9KSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc2NoZW1hOnQuX3NjaGVtYSx2ZXJzaW9uOnQuX3ZlcnNpb24sdmFsdWU6e2RhdGE6KDAsbS5kZWVwQ2xvbmUpKHQuZGF0YSksY2hpbGRyZW5zOm99fX0pLG59LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDMsZGVzYzpyfX0pfX07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlNVQlNDUklQVElPTi1FVkVOVDogIixuKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uVW5TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXQuX3N1YnNjcmlwdGlvbnNbcl07ZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl07dmFyIG89e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsb2JqZWN0Om59O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJVTi1TVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbyksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG8pKX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJihjb25zb2xlLmxvZygiUkVTUE9OU0UtRVZFTlQ6ICIsciksdC5fb25SZXNwb25zZUhhbmRsZXIocikpfX0se2tleToic3Vic2NyaXB0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnN9fV0pLHR9KGdbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPWosdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3QiOjkzLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bihzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1uLHMuX2NoaWxkcmVuPW8scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09Yyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLk9iamVjdFR5cGU9ci5DaGFuZ2VUeXBlPXZvaWQgMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYyksbD1lKCIuLi91dGlscy91dGlscy5qcyIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgcj10aGlzO3IuX29ic2VydmVycz1bXSxyLl9maWx0ZXJzPXt9LHQ/ci5fZGF0YT0oMCxsLmRlZXBDbG9uZSkodCk6ci5fZGF0YT17fSxyLl9pbnRlcm5hbE9ic2VydmUobmV3IGQsci5fZGF0YSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMucHVzaChlKX19LHtrZXk6ImZpbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi4iKTtyZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdCh0KX19LHtrZXk6ImZpbmRCZWZvcmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZS5zcGxpdCgiLiIpO3JldHVybiB0Lmxhc3Q9ci5wb3AoKSx0Lm9iaj10aGlzLl9maW5kV2l0aFNwbGl0KHIpLHR9fSx7a2V5OiJfZmluZFdpdGhTcGxpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dFtlXX0pLHR9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0KGUpfSl9fSx7a2V5OiJfaXNPYnNlcnZhYmxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8ZS5jb25zdHJ1Y3Rvcj09PUFycmF5fX0se2tleToiX2ludGVybmFsT2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG49ZnVuY3Rpb24odCl7ci5fb25DaGFuZ2VzKGUsdCl9O2lmKHQuY29uc3RydWN0b3I9PT1PYmplY3Qpe09iamVjdC5vYnNlcnZlKHQsbik7Zm9yKHZhciBvIGluIHQpci5faXNPYnNlcnZhYmxlKHRbb10pJiZyLl9pbnRlcm5hbE9ic2VydmUoZVsibmV3Il0obyksdFtvXSl9ZWxzZSBpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkpe0FycmF5Lm9ic2VydmUodCxuKTtmb3IodmFyIGkgaW4gdClpZihyLl9pc09ic2VydmFibGUodFtpXSkpe3ZhciBzPWVbIm5ldyJdKG5ldyBwKHRbaV0saSkpO3IuX2ludGVybmFsT2JzZXJ2ZShzLHRbaV0pfX19fX0se2tleToiX29uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiB0KXt2YXIgbz10W25dLm9iamVjdCxpPXZvaWQgMDtpZihvLmNvbnN0cnVjdG9yPT09T2JqZWN0JiYoaT1oLk9CSkVDVCksby5jb25zdHJ1Y3Rvcj09PUFycmF5JiYoaT1oLkFSUkFZKSwic3BsaWNlIj09PXRbbl0udHlwZSkhZnVuY3Rpb24oKXt2YXIgcz10W25dLmluZGV4LGE9ZVsibmV3Il0oIiIrcyksYz1hLnRvU3RyaW5nKCksdT10W25dLnJlbW92ZWQubGVuZ3RoO2lmKDAhPT11KXt2YXIgZj10W25dLnJlbW92ZWQ7Zi5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7ci5faXNPYnNlcnZhYmxlKHQpJiZlLnJlbW92ZUluZGV4KHMrbil9KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YyxkYXRhOnV9KX12YXIgZD10W25dLmFkZGVkQ291bnQ7aWYoMCE9PWQpe3ZhciBoPW8uc2xpY2UocyxzK2QpO2guZm9yRWFjaChmdW5jdGlvbih0LG4pe2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG89ZVsibmV3Il0obmV3IHAodCxzK24pKTtyLl9pbnRlcm5hbE9ic2VydmUobyx0KX19KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShoKX0pfXMhPT1vLmxlbmd0aC0xJiZlLnJlSW5kZXhGcm9tKG8pfSgpO2Vsc2V7dmFyIHM9ZVsibmV3Il0odFtuXS5uYW1lKSxhPXMudG9TdHJpbmcoKTtpZigtMSE9PWEuaW5kZXhPZigiU3ltYm9sIikpY29udGludWU7dmFyIGM9b1t0W25dLm5hbWVdOyJ1cGRhdGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuVVBEQVRFLG9UeXBlOmksZmllbGQ6YSxkYXRhOigwLGwuZGVlcENsb25lKShjKX0pLCJhZGQiPT09dFtuXS50eXBlJiYodGhpcy5faW50ZXJuYWxPYnNlcnZlKHMsYyksdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSksImRlbGV0ZSI9PT10W25dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5SRU1PVkUsb1R5cGU6aSxmaWVsZDphfSl9fX19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfX1dKSxlfSgpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMuX3BhdGg9W10sdGhpcy5fb2JzZXJ2YWJsZXM9e319cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJyZW1vdmVJbmRleCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX29ic2VydmFibGVzW2VdfX0se2tleToicmVJbmRleEZyb20iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLl9vYnNlcnZhYmxlcykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9vYnNlcnZhYmxlc1tyXSxvPWUuaW5kZXhPZihuLm9iaik7bi5pZHghPW8mJihuLmlkeD1vLGRlbGV0ZSB0Ll9vYnNlcnZhYmxlc1tyXSx0Ll9vYnNlcnZhYmxlc1tvXT1uKX0pfX0se2tleToibmV3Iix2YWx1ZTpmdW5jdGlvbihlKXtlLmNvbnN0cnVjdG9yPT1wJiYodGhpcy5fb2JzZXJ2YWJsZXNbZS5pZHhdPWUpO3ZhciB0PXRoaXMuY2xvbmUoKTtyZXR1cm4gdC5fcGF0aC5wdXNoKGUpLHR9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZTtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX3BhdGgucHVzaChlKX0pLHR9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7MD09PXI/ZT10LnRvU3RyaW5nKCk6ZSs9Ii4iK3QudG9TdHJpbmcoKX0pLGV9fV0pLGV9KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5vYmo9dCx0aGlzLmlkeD1yfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR4LnRvU3RyaW5nKCl9fV0pLGV9KCksYj1yLkNoYW5nZVR5cGU9e1VQREFURToidXBkYXRlIixBREQ6ImFkZCIsUkVNT1ZFOiJyZW1vdmUifSxoPXIuT2JqZWN0VHlwZT17T0JKRUNUOiJvYmplY3QiLEFSUkFZOiJhcnJheSJ9O3JbImRlZmF1bHQiXT1mfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMDAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW4obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLHA9bihkKSxiPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksaD1uKGIpLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLl9vd25lcj10LG8uX2J1cz1yLG8uX3N1YlVSTD1uLnJ1bnRpbWVVUkwrIi9zbSIsby5fcmVwb3J0ZXJzPXt9LG8uX29ic2VydmVycz17fSxvLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6by5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpvLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6by5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3IucmVwb3J0ZXI9bi5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4uX293bmVyLHRvOm4uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtuLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihvKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG8pLDIwMD09PW8uYm9keS5jb2RlKXt2YXIgcz1vLmJvZHkucmVzb3VyY2UsYT1uZXcgZlsiZGVmYXVsdCJdKG4scyxlLCJvbiIscixvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO24uX3JlcG9ydGVyc1tzXT1hLHQoYSl9ZWxzZSBpKG8uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihvLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbik7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG4uYm9keS5jb2RlPDIwMClzPW5ldyBoWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsbi5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW4uYm9keS5jb2RlKXt2YXIgYT1uZXcgcFsiZGVmYXVsdCJdKHIsdCxlLCJvbiIsbi5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sbi5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1hLG8oYSkscy5hcHBseShhKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6Im9uTm90aWZpY2F0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbk5vdGlmaWNhdGlvbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10Ll9yZXBvcnRlcnNbZS5ib2R5LnRvXTtyLl9vbkZvcndhcmQoZSl9fSx7a2V5OiJfb25SZW1vdGVDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb20uc2xpY2UoMCwtMTMpLG49e3R5cGU6ZS50eXBlLGZyb206ZS5ib2R5LnNvdXJjZSx1cmw6cixzY2hlbWE6ZS5ib2R5LnNjaGVtYSx2YWx1ZTplLmJvZHkudmFsdWUsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbj0yMDA7ciYmKG49ciksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbiksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblJlbW90ZURlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZSxuPXQuX29ic2VydmVyc1tyXTtpZihuKXt2YXIgbz17dHlwZTplLnR5cGUsdXJsOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbz0yMDA7ciYmKG89ciksMjAwPT09byYmblsiZGVsZXRlIl0oKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpvLHNvdXJjZTp0Ll9vd25lcn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbyksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG8pKX1lbHNlIHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwNCxzb3VyY2U6dC5fb3duZXJ9fSl9fSx7a2V5OiJvd25lciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX293bmVyfX0se2tleToicmVwb3J0ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVwb3J0ZXJzfX0se2tleToib2JzZXJ2ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT12LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjk1LCIuL0RhdGFPYmplY3RSZXBvcnRlciI6OTYsIi4vRGF0YVByb3Zpc2lvbmFsIjo5NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSwxMDA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsYlsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiBjKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGwoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYyhlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGY9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGYpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYj1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1hLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1jLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1sfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3fV19LHt9LFs5Ml0pKDkyKX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcilkZXNjcmlwdG9yLndyaXRhYmxlPXRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKTt9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtpZihwcm90b1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpO2lmKHN0YXRpY1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjt9O30oKTsgLyoganNoaW50IHVuZGVmOiB0cnVlICovZXhwb3J0cy5kZWZhdWx0PWFjdGl2YXRlO3ZhciBfU3luY2hlcj1yZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXInKTt2YXIgX3V0aWxzPXJlcXVpcmUoJy4uL3V0aWxzL3V0aWxzJyk7dmFyIF9oZWxsbzI9cmVxdWlyZSgnLi9oZWxsbycpO3ZhciBfaGVsbG8zPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hlbGxvMik7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9O31mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO319IC8qKgoqIEh5cGVydHkgQ29ubmVjdG9yOwoqIEBhdXRob3IgUGF1bG8gQ2hhaW5obyBbcGF1bG8tZy1jaGFpbmhvQHRlbGVjb20ucHRdCiogQHZlcnNpb24gMC4xLjAKKi92YXIgSGVsbG9Xb3JsZFJlcG9ydGVyPWZ1bmN0aW9uKCl7IC8qKgogICogQ3JlYXRlIGEgbmV3IEhlbGxvV29ybGRSZXBvcnRlcgogICogQHBhcmFtICB7U3luY2hlcn0gc3luY2hlciAtIFN5bmNoZXIgcHJvdmlkZWQgZnJvbSB0aGUgcnVudGltZSBjb3JlCiAgKi9mdW5jdGlvbiBIZWxsb1dvcmxkUmVwb3J0ZXIoaHlwZXJ0eVVSTCxidXMsY29uZmlndXJhdGlvbil7X2NsYXNzQ2FsbENoZWNrKHRoaXMsSGVsbG9Xb3JsZFJlcG9ydGVyKTtpZighaHlwZXJ0eVVSTCl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBoeXBlcnR5VVJMIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO2lmKCFidXMpdGhyb3cgbmV3IEVycm9yKCdUaGUgTWluaUJ1cyBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTtpZighY29uZmlndXJhdGlvbil0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjb25maWd1cmF0aW9uIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO3ZhciBfdGhpcz10aGlzO190aGlzLl9kb21haW49KDAsX3V0aWxzLmRpdmlkZVVSTCkoaHlwZXJ0eVVSTCkuZG9tYWluO190aGlzLl9vYmplY3REZXNjVVJMPSdoeXBlcnR5LWNhdGFsb2d1ZTovLycrX3RoaXMuX2RvbWFpbisnLy53ZWxsLWtub3duL2RhdGFzY2hlbWFzL0hlbGxvV29ybGREYXRhU2NoZW1hJzt2YXIgc3luY2hlcj1uZXcgX1N5bmNoZXIuU3luY2hlcihoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKTtfdGhpcy5fc3luY2hlcj1zeW5jaGVyO30gLyoqCiAgKiBDcmVhdGUgSGVsbG9Xb3JsZCBEYXRhIE9iamVjdAogICogQHBhcmFtICB7SHlwZXJ0eVVSTH0gSHlwZXJ0eVVSTCAtIEludml0ZWQKICAqL19jcmVhdGVDbGFzcyhIZWxsb1dvcmxkUmVwb3J0ZXIsW3trZXk6J2hlbGxvJyx2YWx1ZTpmdW5jdGlvbiBoZWxsbyhoeXBlcnR5VVJMKXt2YXIgX3RoaXM9dGhpczt2YXIgc3luY2hlcj1fdGhpcy5fc3luY2hlcjtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3N5bmNoZXIuY3JlYXRlKF90aGlzLl9vYmplY3REZXNjVVJMLFtoeXBlcnR5VVJMXSxfaGVsbG8zLmRlZmF1bHQpLnRoZW4oZnVuY3Rpb24oaGVsbG9PYmp0UmVwb3J0ZXIpe2NvbnNvbGUuaW5mbygnMS4gUmV0dXJuIENyZWF0ZWQgSGVsbG8gV29ybGQgRGF0YSBPYmplY3QgUmVwb3J0ZXInLGhlbGxvT2JqdFJlcG9ydGVyKTtfdGhpcy5oZWxsb09ianRSZXBvcnRlcj1oZWxsb09ianRSZXBvcnRlcjtoZWxsb09ianRSZXBvcnRlci5vblN1YnNjcmlwdGlvbihmdW5jdGlvbihldmVudCl7Y29uc29sZS5pbmZvKCctLS0tLS0tLSBIZWxsbyBXb3JsZCBSZXBvcnRlciByZWNlaXZlZCBzdWJzY3JpcHRpb24gcmVxdWVzdCAtLS0tLS0tLS0gXG4nKTsgLy8gQWxsIHN1YnNjcmlwdGlvbiByZXF1ZXN0ZWQgYXJlIGFjY2VwdGVkCmV2ZW50LmFjY2VwdCgpO30pO3Jlc29sdmUoaGVsbG9PYmp0UmVwb3J0ZXIpO30pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7Y29uc29sZS5lcnJvcihyZWFzb24pO3JlamVjdChyZWFzb24pO30pO30pO30gLyoqCiAgKiBVcGRhdGUgSGVsbG9Xb3JsZCBEYXRhIE9iamVjdAogICoKICAqL30se2tleTonYnllJyx2YWx1ZTpmdW5jdGlvbiBieWUoKXt2YXIgX3RoaXM9dGhpcztjb25zb2xlLmxvZygnYnllOicsX3RoaXMuaGVsbG9PYmp0UmVwb3J0ZXIpO190aGlzLmhlbGxvT2JqdFJlcG9ydGVyLmRhdGEuaGVsbG89IkJ5ZSEhIjt9fV0pO3JldHVybiBIZWxsb1dvcmxkUmVwb3J0ZXI7fSgpO2Z1bmN0aW9uIGFjdGl2YXRlKGh5cGVydHlVUkwsYnVzLGNvbmZpZ3VyYXRpb24pe3JldHVybiB7bmFtZTonSGVsbG9Xb3JsZFJlcG9ydGVyJyxpbnN0YW5jZTpuZXcgSGVsbG9Xb3JsZFJlcG9ydGVyKGh5cGVydHlVUkwsYnVzLGNvbmZpZ3VyYXRpb24pfTt9bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4uL3V0aWxzL3V0aWxzIjo0LCIuL2hlbGxvIjozLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXIiOjF9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO3ZhciBoZWxsbz17bmFtZToiaGVsbG8iLGhlbGxvOiJIZWxsbyBXb3JsZCEhIn07ZXhwb3J0cy5kZWZhdWx0PWhlbGxvO21vZHVsZS5leHBvcnRzPWV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTp0cnVlfSk7ZXhwb3J0cy5kaXZpZGVVUkw9ZGl2aWRlVVJMO2V4cG9ydHMuZGVlcENsb25lPWRlZXBDbG9uZTtleHBvcnRzLmdldENvbmZpZz1nZXRDb25maWc7ZXhwb3J0cy5nZXRVc2VyTWVkaWE9Z2V0VXNlck1lZGlhO2V4cG9ydHMuc2VyaWFsaXplPXNlcmlhbGl6ZTtleHBvcnRzLmdldFRlbXBsYXRlPWdldFRlbXBsYXRlOyAvKioKICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiAqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgogKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqKi8gLy8ganNoaW50IGJyb3dzZXI6dHJ1ZSwganF1ZXJ5OiB0cnVlCi8vIGpzaGludCB2YXJzdG10OiB0cnVlCi8qIGdsb2JhbCBIYW5kbGViYXJzICovIC8qKgogKiBTdXBwb3J0IG1vZHVsZSB3aXRoIHNvbWUgZnVuY3Rpb25zIHdpbGwgYmUgdXNlZnVsCiAqIEBtb2R1bGUgdXRpbHMKICovIC8qKgogKiBAdHlwZWRlZiBkaXZpZGVVUkwKICogQHR5cGUgT2JqZWN0CiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFRoZSB0eXBlIG9mIFVSTAogKiBAcHJvcGVydHkge3N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZGVudGl0eSBUaGUgaWRlbnRpdHkgb2YgVVJMCiAqLyAvKioKICogRGl2aWRlIGFuIHVybCBpbiB0eXBlLCBkb21haW4gYW5kIGlkZW50aXR5CiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzCiAqIEByZXR1cm4ge2RpdmlkZVVSTH0gdGhlIHJlc3VsdCBvZiBkaXZpZGVVUkwKICovZnVuY3Rpb24gZGl2aWRlVVJMKHVybCl7IC8vIGxldCByZSA9IC8oW2EtekEtWi1dKik/OlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9XC5bYS16XXsyLDZ9XGIpKihcL1tcL1xkXHdcLi1dKikqKD86W1w/XSkqKC4rKSovZ2k7CnZhciByZT0vKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naTt2YXIgc3Vic3Q9JyQxLCQyLCQzJzt2YXIgcGFydHM9dXJsLnJlcGxhY2UocmUsc3Vic3QpLnNwbGl0KCcsJyk7IC8vIElmIHRoZSB1cmwgaGFzIG5vIHByb3RvY29sLCB0aGUgZGVmYXVsdCBwcm90b2NvbCBzZXQgaXMgaHR0cHMKaWYocGFydHNbMF09PT11cmwpe3BhcnRzWzBdPSdodHRwcyc7cGFydHNbMV09dXJsO312YXIgcmVzdWx0PXt0eXBlOnBhcnRzWzBdLGRvbWFpbjpwYXJ0c1sxXSxpZGVudGl0eTpwYXJ0c1syXX07cmV0dXJuIHJlc3VsdDt9IC8qKgogKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YQogKiBAcGFyYW0gIHtPYmplY3R9ICBvYmogLSBvYmplY3QgdG8gYmUgY2xvbmVkCiAqIEByZXR1cm4ge09iamVjdH0KICovZnVuY3Rpb24gZGVlcENsb25lKG9iail7IC8vVE9ETzogc2ltcGxlIGJ1dCBpbmVmZmljaWVudCBKU09OIGRlZXAgY2xvbmUuLi4KaWYob2JqKXJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO30gLyoqCiAqIEdldCB0aGUgY29uZmlndXJhdGlvbiBmcm9tIGFuIGpzb24gZmlsZTsKICogQHBhcmFtICB7SlNPTk9iamVjdH0ganNvbkZpbGUKICogQHJldHVybiB7b2JqZWN0fQogKi9mdW5jdGlvbiBnZXRDb25maWcoSlNPTk9iamVjdCl7Y29uc29sZS5sb2coJ3Byb2R1Y3Rpb24nKTtyZXR1cm4gSlNPTk9iamVjdFsncHJvZHVjdGlvbiddO30gLyoqCiAqIEdldCBXZWJSVEMgQVBJIHJlc291cmNlcwogKiBAcGFyYW0gIHtPYmplY3R9ICAgICBvcHRpb25zIE9iamVjdCBjb250YWluaW5nIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlc291cmNlcyB3aWxsIGJlIHVzZWQgKGNhbWVyYSwgbWljLCByZXNvbHV0aW9uLCBldGMpOwogKiBAcmV0dXJuIHtQcm9taXNlfQogKi9mdW5jdGlvbiBnZXRVc2VyTWVkaWEoY29uc3RyYWludHMpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24obWVkaWFTdHJlYW0pe3Jlc29sdmUobWVkaWFTdHJlYW0pO30pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7cmVqZWN0KHJlYXNvbik7fSk7fSk7fWZ1bmN0aW9uIHNlcmlhbGl6ZSgpeyQuZm4uc2VyaWFsaXplT2JqZWN0PWZ1bmN0aW9uKCl7dmFyIG89e307dmFyIGE9dGhpcy5zZXJpYWxpemVBcnJheSgpOyQuZWFjaChhLGZ1bmN0aW9uKCl7aWYob1t0aGlzLm5hbWVdIT09dW5kZWZpbmVkKXtpZighb1t0aGlzLm5hbWVdLnB1c2gpe29bdGhpcy5uYW1lXT1bb1t0aGlzLm5hbWVdXTt9b1t0aGlzLm5hbWVdLnB1c2godGhpcy52YWx1ZXx8JycpO31lbHNlIHtvW3RoaXMubmFtZV09dGhpcy52YWx1ZXx8Jyc7fX0pO3JldHVybiBvO307JC5mbi5zZXJpYWxpemVPYmplY3RBcnJheT1mdW5jdGlvbigpe3ZhciBvPXt9O3ZhciBhPXRoaXMuc2VyaWFsaXplQXJyYXkoKTskLmVhY2goYSxmdW5jdGlvbigpe2lmKG9bdGhpcy5uYW1lXSE9PXVuZGVmaW5lZCl7aWYoIW9bdGhpcy5uYW1lXS5wdXNoKXtvW3RoaXMubmFtZV09W29bdGhpcy5uYW1lXV07fW9bdGhpcy5uYW1lXS5wdXNoKHRoaXMudmFsdWV8fCcnKTt9ZWxzZSB7aWYoIW9bdGhpcy5uYW1lXSlvW3RoaXMubmFtZV09W107b1t0aGlzLm5hbWVdLnB1c2godGhpcy52YWx1ZXx8JycpO319KTtyZXR1cm4gbzt9O31mdW5jdGlvbiBnZXRUZW1wbGF0ZShwYXRoLHNjcmlwdCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtpZihIYW5kbGViYXJzLnRlbXBsYXRlcz09PXVuZGVmaW5lZHx8SGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV09PT11bmRlZmluZWQpe0hhbmRsZWJhcnMudGVtcGxhdGVzPXt9O31lbHNlIHtyZXNvbHZlKEhhbmRsZWJhcnMudGVtcGxhdGVzW25hbWVdKTt9dmFyIHRlbXBsYXRlRmlsZT0kLmFqYXgoe3VybDpwYXRoKycuaGJzJyxzdWNjZXNzOmZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSl7SGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV09SGFuZGxlYmFycy5jb21waWxlKGRhdGEpO30sZmFpbDpmdW5jdGlvbiBmYWlsKHJlYXNvbil7cmV0dXJuIHJlYXNvbjt9fSk7dmFyIHNjcmlwdEZpbGU9JC5nZXRTY3JpcHQoc2NyaXB0KTt2YXIgcmVxdWVzdHM9W107aWYocGF0aClyZXF1ZXN0cy5wdXNoKHRlbXBsYXRlRmlsZSk7aWYoc2NyaXB0KXJlcXVlc3RzLnB1c2goc2NyaXB0RmlsZSk7UHJvbWlzZS5hbGwocmVxdWVzdHMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtyZXNvbHZlKEhhbmRsZWJhcnMudGVtcGxhdGVzW25hbWVdKTt9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe3JlamVjdChyZWFzb24pO30pO30pO30KCn0se31dfSx7fSxbMl0pKDIpCn0pOw==",
      "sourceCodeClassname": "HelloWorldReporter",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10003,
    "type": "Hyperties",
    "version": "0.1",
    "description": "Description of HelloWorldReporter",
    "objectName": "HelloWorldReporter",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "HypertyChat": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBIeXBlcnR5RGlzY292ZXJ5LmpzIAovLyB2ZXJzaW9uOiAwLjIuMAoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0Lkh5cGVydHlEaXNjb3Zlcnk9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJnUpcmV0dXJuIHUocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgYT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgYS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixhfXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjM4fV0sOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NjJ9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjYzLCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo2NCwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo2NSwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo2Nn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6MzF9XSwxNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjE1LCIuLyQud2tzIjo1OX1dLDE1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDE5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjoyMn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMX1dLDIxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGEsZixsPWUmYy5GLGQ9ZSZjLkcscD1lJmMuUywkPWUmYy5QLHY9ZSZjLkIseT1lJmMuVyxoPWQ/bzpvW3RdfHwob1t0XT17fSksYj1kP246cD9uW3RdOihuW3RdfHx7fSlbc107ZCYmKHI9dCk7Zm9yKHUgaW4gcilhPSFsJiZiJiZ1IGluIGIsYSYmdSBpbiBofHwoZj1hP2JbdV06clt1XSxoW3VdPWQmJiJmdW5jdGlvbiIhPXR5cGVvZiBiW3VdP3JbdV06diYmYT9pKGYsbik6eSYmYlt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShmKTokJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZiwkJiYoKGhbc118fChoW3NdPXt9KSlbdV09ZikpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLHQuZXhwb3J0cz1jfSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5nbG9iYWwiOjI0fV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYz1lKCIuLyQudG8tbGVuZ3RoIiksdT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixhKXt2YXIgZixsLGQscD11KGUpLCQ9bihyLGEsdD8yOjEpLHY9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgcCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHApKWZvcihmPWMoZS5sZW5ndGgpO2Y+djt2KyspdD8kKHMobD1lW3ZdKVswXSxsWzFdKTokKGVbdl0pO2Vsc2UgZm9yKGQ9cC5jYWxsKGUpOyEobD1kLm5leHQoKSkuZG9uZTspbyhkLCQsbC52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtYXJyYXktaXRlciI6MzAsIi4vJC5pdGVyLWNhbGwiOjMyLCIuLyQudG8tbGVuZ3RoIjo1NiwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjYwfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6MzgsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5wcm9wZXJ0eS1kZXNjIjo0Mn1dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjI0fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjoxNX1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDMxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6MTN9XSwzMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6MzgsIi4vJC5oaWRlIjoyNiwiLi8kLnByb3BlcnR5LWRlc2MiOjQyLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYz1lKCIuLyQuaGFzIiksdT1lKCIuLyQuaXRlcmF0b3JzIiksYT1lKCIuLyQuaXRlci1jcmVhdGUiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGw9ZSgiLi8kIikuZ2V0UHJvdG8sZD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSwkPSJAQGl0ZXJhdG9yIix2PSJrZXlzIix5PSJ2YWx1ZXMiLGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGIsbSxnLHgpe2Eocix0LGIpO3ZhciBqLHcsXz1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBQKXJldHVybiBQW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIsTz1tPT15LE09ITEsUD1lLnByb3RvdHlwZSxTPVBbZF18fFBbJF18fG0mJlBbbV0sRT1TfHxfKG0pO2lmKFMpe3ZhciBVPWwoRS5jYWxsKG5ldyBlKSk7ZihVLGssITApLCFuJiZjKFAsJCkmJnMoVSxkLGgpLE8mJlMubmFtZSE9PXkmJihNPSEwLEU9ZnVuY3Rpb24oKXtyZXR1cm4gUy5jYWxsKHRoaXMpfSl9aWYobiYmIXh8fCFwJiYhTSYmUFtkXXx8cyhQLGQsRSksdVt0XT1FLHVba109aCxtKWlmKGo9e3ZhbHVlczpPP0U6Xyh5KSxrZXlzOmc/RTpfKHYpLGVudHJpZXM6Tz9fKCJlbnRyaWVzIik6RX0seClmb3IodyBpbiBqKXcgaW4gUHx8aShQLHcsalt3XSk7ZWxzZSBvKG8uUCtvLkYqKHB8fE0pLHQsaik7cmV0dXJuIGp9fSx7Ii4vJCI6MzgsIi4vJC5leHBvcnQiOjIxLCIuLyQuaGFzIjoyNSwiLi8kLmhpZGUiOjI2LCIuLyQuaXRlci1jcmVhdGUiOjMzLCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLmxpYnJhcnkiOjM5LCIuLyQucmVkZWZpbmUiOjQ0LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuLyQud2tzIjo1OX1dLDM2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLnRhc2siKS5zZXQsdT1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixhPXMucHJvY2VzcyxmPXMuUHJvbWlzZSxsPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGEpLGQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGwmJihlPWEuZG9tYWluKSYmKGEuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihsKWk9ZnVuY3Rpb24oKXthLm5leHRUaWNrKGQpfTtlbHNlIGlmKHUpe3ZhciBwPTEsJD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IHUoZCkub2JzZXJ2ZSgkLHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpeyQuZGF0YT1wPS1wfX1lbHNlIGk9ZiYmZi5yZXNvbHZlP2Z1bmN0aW9uKCl7Zi5yZXNvbHZlKCkudGhlbihkKX06ZnVuY3Rpb24oKXtjLmNhbGwocyxkKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpsJiZhLmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjoxNSwiLi8kLmdsb2JhbCI6MjQsIi4vJC50YXNrIjo1M31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mYWlscyI6MjJ9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjQ0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6MjZ9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjozOCwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtb2JqZWN0IjozMX1dLDQ3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjozOCwiLi8kLmNvcmUiOjE2LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQud2tzIjo1OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjozOCwiLi8kLmhhcyI6MjUsIi4vJC53a3MiOjU5fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6MjR9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQud2tzIjo1OX1dLDUxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksdT1uKHIpLGE9Yy5sZW5ndGg7cmV0dXJuIDA+dXx8dT49YT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQodSksNTUyOTY+aXx8aT41NjMxOXx8dSsxPT09YXx8KHM9Yy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQodSk6aTplP2Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLnRvLWludGVnZXIiOjU0fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYz1lKCIuLyQuaW52b2tlIiksdT1lKCIuLyQuaHRtbCIpLGE9ZSgiLi8kLmRvbS1jcmVhdGUiKSxmPWUoIi4vJC5nbG9iYWwiKSxsPWYucHJvY2VzcyxkPWYuc2V0SW1tZWRpYXRlLHA9Zi5jbGVhckltbWVkaWF0ZSwkPWYuTWVzc2FnZUNoYW5uZWwsdj0wLHk9e30saD0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoeS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9eVtlXTtkZWxldGUgeVtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4geVsrK3ZdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIHlbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OiQ/KG89bmV3ICQsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPW0sbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49aCBpbiBhKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGEoInNjcmlwdCIpKVtoXT1mdW5jdGlvbigpe3UucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKGIsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6cH19LHsiLi8kLmNvZiI6MTUsIi4vJC5jdHgiOjE3LCIuLyQuZG9tLWNyZWF0ZSI6MjAsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaHRtbCI6MjcsIi4vJC5pbnZva2UiOjI4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLmlvYmplY3QiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo1NH1dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLnNoYXJlZCI6NDksIi4vJC51aWQiOjU4fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDYxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5pdGVyLXN0ZXAiOjM2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLnRvLWlvYmplY3QiOjU1fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo0MSwiLi8kLnRvLW9iamVjdCI6NTd9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe30se31dLDY0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLmN0eCIpLHU9ZSgiLi8kLmNsYXNzb2YiKSxhPWUoIi4vJC5leHBvcnQiKSxmPWUoIi4vJC5pcy1vYmplY3QiKSxsPWUoIi4vJC5hbi1vYmplY3QiKSxkPWUoIi4vJC5hLWZ1bmN0aW9uIikscD1lKCIuLyQuc3RyaWN0LW5ldyIpLCQ9ZSgiLi8kLmZvci1vZiIpLHY9ZSgiLi8kLnNldC1wcm90byIpLnNldCx5PWUoIi4vJC5zYW1lLXZhbHVlIiksaD1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxiPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksbT1lKCIuLyQubWljcm90YXNrIiksZz0iUHJvbWlzZSIseD1zLnByb2Nlc3Msaj0icHJvY2VzcyI9PXUoeCksdz1zW2ddLF89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gdihyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmXygpLHYodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOnkoZSx0KX0sTT1mdW5jdGlvbihlKXt2YXIgdD1sKGUpW2hdO3JldHVybiB2b2lkIDAhPXQ/dDplfSxQPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFM9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sRT1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFU9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO20oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxjPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLHU9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP3UoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVAocikpP2kuY2FsbChyLGMsdSk6YyhyKSk6dShuKX1jYXRjaChhKXt1KGEpfX07ci5sZW5ndGg+aTspYyhyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO1QobykmJihqP3guZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxUPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFUKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLFUodCwhMCkpfSxBPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVAoZSkpP20oZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxjKEEsbiwxKSxjKEQsbiwxKSl9Y2F0Y2gobyl7RC5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLFUociwhMSkpfWNhdGNoKG4pe0QuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe2QoZSk7dmFyIHQ9dGhpcy5fZD17cDpwKHRoaXMsdyxnKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYyhBLHQsMSksYyhELHQsMSkpfWNhdGNoKHIpe0QuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFMoYih0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJlUobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksYShhLkcrYS5XK2EuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxnKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShnKSxuPWUoIi4vJC5jb3JlIilbZ10sYShhLlMrYS5GKiFrLGcse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqKCFrfHxfKCEwKSksZyx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLGcse2FsbDpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IFModCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGM9RShmdW5jdGlvbigpeyQoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYz1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxjW29dPWUsLS1yfHxuKGMpKX0saSl9KTpuKGMpfSk7cmV0dXJuIGMmJmkoYy5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgUyh0KSxuPXIucmVqZWN0LG89RShmdW5jdGlvbigpeyQoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjM4LCIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5leHBvcnQiOjIxLCIuLyQuZm9yLW9mIjoyMywiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxLCIuLyQuaXRlci1kZXRlY3QiOjM1LCIuLyQubGlicmFyeSI6MzksIi4vJC5taWNyb3Rhc2siOjQwLCIuLyQucmVkZWZpbmUtYWxsIjo0MywiLi8kLnNhbWUtdmFsdWUiOjQ1LCIuLyQuc2V0LXByb3RvIjo0NiwiLi8kLnNldC1zcGVjaWVzIjo0NywiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjUwLCIuLyQuc3RyaWN0LW5ldyI6NTEsIi4vJC53a3MiOjU5fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5zdHJpbmctYXQiOjUyfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjYxfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiLi9oeXBlcnR5LWRpc2NvdmVyeS9IeXBlcnR5RGlzY292ZXJ5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1pWyJkZWZhdWx0Il0sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL2h5cGVydHktZGlzY292ZXJ5L0h5cGVydHlEaXNjb3ZlcnkiOjY4fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOiJkYXRhT2JqZWN0Oi8vIitlfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWUudXJsO24/ZShuKTp0KCJEYXRhT2JqZWN0IG5hbWUgZG9lcyBub3QgZXhpc3QiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxzPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm99fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2U6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxuKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygibWVzc2FnZSByZXBseSIscik7dmFyIG89dm9pZCAwLGk9dm9pZCAwLHM9dm9pZCAwLGM9ci5ib2R5LnZhbHVlO2ZvcihvIGluIGMpaWYodm9pZCAwIT09Y1tvXS5sYXN0TW9kaWZpZWQpaWYodm9pZCAwPT09aSlpPW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKSxzPW87ZWxzZXt2YXIgdT1uZXcgRGF0ZShjW29dLmxhc3RNb2RpZmllZCk7aS5nZXRUaW1lKCk8dS5nZXRUaW1lKCkmJihpPXUscz1vKX1jb25zb2xlLmxvZygiTGFzdCBIeXBlcnR5OiAiLHMsaSk7dmFyIGE9cztpZih2b2lkIDA9PT1hKXJldHVybiBuKCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIik7dmFyIGY9e2lkOmUsZGVzY3JpcHRvcjpjW2FdLmRlc2NyaXB0b3IsaHlwZXJ0eVVSTDphfTtjb25zb2xlLmxvZygiPT09PiBoeXBlcnR5RGlzY292ZXJ5IG1lc3NhZ2VCdW5kbGU6ICIsZiksdChmKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXI6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIHJlcGx5IixyKTt2YXIgbj1yLmJvZHkudmFsdWU7cmV0dXJuIG4/dm9pZCBlKG4pOnQoIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6NjksImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDY5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLCRbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIHUoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBsPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihsKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLCQ9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9dSxyLmdldFVzZXJFbWFpbEZyb21VUkw9YSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbNjddKSg2Nyl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgU3luY2hlci5qcyAKLy8gdmVyc2lvbjogMC4yLjAKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5TeW5jaGVyPWUoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG4pe2Z1bmN0aW9uIG8ocyxhKXtpZighcltzXSl7aWYoIXRbc10pe3ZhciBjPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZjKXJldHVybiBjKHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIHU9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IHUuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsdX12YXIgbD1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciByPXRbc11bMV1bZV07cmV0dXJuIG8ocj9yOmUpfSxsLGwuZXhwb3J0cyxlLHQscixuKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxuLmxlbmd0aDtzKyspbyhuW3NdKTtyZXR1cm4gb30oezE6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZSYmIUFycmF5Lm9ic2VydmUmJmZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciByPWUuZ2V0Tm90aWZpZXIsbj0icGVyZm9ybUNoYW5nZSIsbz0iX29yaWdpbmFsIixpPSJzcGxpY2UiLHM9e3B1c2g6ZnVuY3Rpb24gYyhlKXt2YXIgdD1hcmd1bWVudHMscz1jW29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDpzLXQubGVuZ3RoLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSx1bnNoaWZ0OmZ1bmN0aW9uIHUoZSl7dmFyIHQ9YXJndW1lbnRzLHM9dVtvXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30scG9wOmZ1bmN0aW9uIGwoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWxbb10uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6dGhpcy5sZW5ndGgsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc2hpZnQ6ZnVuY3Rpb24gZigpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9ZltvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNwbGljZTpmdW5jdGlvbiBkKGUsdCl7dmFyIHM9YXJndW1lbnRzLGE9ZFtvXS5hcHBseSh0aGlzLHMpO3JldHVybihhLmxlbmd0aHx8cy5sZW5ndGg+MikmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDplLGFkZGVkQ291bnQ6cy5sZW5ndGgtMixyZW1vdmVkOmF9fSx0aGlzKSxhfX07Zm9yKHZhciBhIGluIHMpc1thXVtvXT10LnByb3RvdHlwZVthXSx0LnByb3RvdHlwZVthXT1zW2FdO3Qub2JzZXJ2ZT1mdW5jdGlvbih0LHIpe3JldHVybiBlLm9ic2VydmUodCxyLFsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIixpXSl9LHQudW5vYnNlcnZlPWUudW5vYnNlcnZlfShPYmplY3QsQXJyYXkpfSx7fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6MTd9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSI6MTh9XSw0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6MTl9XSw1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6MjB9XSw2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjoyMX1dLDc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjIyfV0sODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6MjN9XSw5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6MjR9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIjoyNX1dLDExOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMCxyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LHt9XSwxMjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjR9XSwxMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89ITA7bzspe3ZhciBpPWUscz10LGE9cjtvPSExLG51bGw9PT1pJiYoaT1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBjPW4oaSxzKTtpZih2b2lkIDAhPT1jKXtpZigidmFsdWUiaW4gYylyZXR1cm4gYy52YWx1ZTt2YXIgdT1jLmdldDtpZih2b2lkIDA9PT11KXJldHVybjtyZXR1cm4gdS5jYWxsKGEpfXZhciBsPU9iamVjdC5nZXRQcm90b3R5cGVPZihpKTtpZihudWxsPT09bClyZXR1cm47ZT1sLHQ9cyxyPWEsbz0hMCxjPWw9dm9pZCAwfX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo1fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUiKVsiZGVmYXVsdCJdLG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1uKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYobz9vKGUsdCk6ZS5fX3Byb3RvX189dCl9LHIuX19lc01vZHVsZT0hMH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSI6MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjo4fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vaGVscGVycy90eXBlb2YiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLGlbImRlZmF1bHQiXSkodCkpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9lOnR9fSx7Ii4uL2hlbHBlcnMvdHlwZW9mIjoxNn1dLDE2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5jb25zdHJ1Y3Rvcj09PW4/InN5bWJvbCI6dHlwZW9mIGV9LHIuX19lc01vZHVsZT0hMH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sIjoxMH1dLDE3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuKG4uSlNPTiYmbi5KU09OLnN0cmluZ2lmeXx8SlNPTi5zdHJpbmdpZnkpLmFwcGx5KEpTT04sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jcmVhdGUoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy8kIjo1Nn1dLDE5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxyKX19LHsiLi4vLi4vbW9kdWxlcy8kIjo1Nn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmdldERlc2MoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy8kIjo1NiwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6ODF9XSwyMTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmdldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiOjgyfV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOjgzfV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5zZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIjo4NH1dLDI0OltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy8kLmNvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6ODUsIi4uL21vZHVsZXMvZXM2LnByb21pc2UiOjg2LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjg3LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjg5fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiKSxlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuU3ltYm9sfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6ODUsIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCI6ODh9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDI4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbihlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSx7Ii4vJC5pcy1vYmplY3QiOjQ5fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIiksbz1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLHM7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj0odD1PYmplY3QoZSkpW29dKT9yOmk/bih0KToiT2JqZWN0Ij09KHM9bih0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjpzfX0seyIuLyQuY29mIjozMCwiLi8kLndrcyI6Nzh9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDMxOltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIxLjIuNiJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYS1mdW5jdGlvbiIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixvKXtyZXR1cm4gZS5jYWxsKHQscixuLG8pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0seyIuLyQuYS1mdW5jdGlvbiI6MjZ9XSwzMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LHt9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi8kLmZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vJC5mYWlscyI6Mzh9XSwzNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKSxvPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuLyQuZ2xvYmFsIjo0MSwiLi8kLmlzLW9iamVjdCI6NDl9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uLmdldEtleXMoZSkscj1uLmdldFN5bWJvbHM7aWYocilmb3IodmFyIG8saT1yKGUpLHM9bi5pc0VudW0sYT0wO2kubGVuZ3RoPmE7KXMuY2FsbChlLG89aVthKytdKSYmdC5wdXNoKG8pO3JldHVybiB0fX0seyIuLyQiOjU2fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmN0eCIpLHM9InByb3RvdHlwZSIsYT1mdW5jdGlvbihlLHQscil7dmFyIGMsdSxsLGY9ZSZhLkYsZD1lJmEuRyxwPWUmYS5TLGI9ZSZhLlAsaD1lJmEuQix2PWUmYS5XLHk9ZD9vOm9bdF18fChvW3RdPXt9KSxfPWQ/bjpwP25bdF06KG5bdF18fHt9KVtzXTtkJiYocj10KTtmb3IoYyBpbiByKXU9IWYmJl8mJmMgaW4gXyx1JiZjIGluIHl8fChsPXU/X1tjXTpyW2NdLHlbY109ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIF9bY10/cltjXTpoJiZ1P2kobCxuKTp2JiZfW2NdPT1sP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZT9uZXcgZSh0KTplKHQpfTtyZXR1cm4gdFtzXT1lW3NdLHR9KGwpOmImJiJmdW5jdGlvbiI9PXR5cGVvZiBsP2koRnVuY3Rpb24uY2FsbCxsKTpsLGImJigoeVtzXXx8KHlbc109e30pKVtjXT1sKSl9O2EuRj0xLGEuRz0yLGEuUz00LGEuUD04LGEuQj0xNixhLlc9MzIsdC5leHBvcnRzPWF9LHsiLi8kLmNvcmUiOjMxLCIuLyQuY3R4IjozMiwiLi8kLmdsb2JhbCI6NDF9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmN0eCIpLG89ZSgiLi8kLml0ZXItY2FsbCIpLGk9ZSgiLi8kLmlzLWFycmF5LWl0ZXIiKSxzPWUoIi4vJC5hbi1vYmplY3QiKSxhPWUoIi4vJC50by1sZW5ndGgiKSxjPWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHUpe3ZhciBsLGYsZCxwPWMoZSksYj1uKHIsdSx0PzI6MSksaD0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBwKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkocCkpZm9yKGw9YShlLmxlbmd0aCk7bD5oO2grKyl0P2IocyhmPWVbaF0pWzBdLGZbMV0pOmIoZVtoXSk7ZWxzZSBmb3IoZD1wLmNhbGwoZSk7IShmPWQubmV4dCgpKS5kb25lOylvKGQsYixmLnZhbHVlLHQpfX0seyIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmN0eCI6MzIsIi4vJC5pcy1hcnJheS1pdGVyIjo0NywiLi8kLml0ZXItY2FsbCI6NTAsIi4vJC50by1sZW5ndGgiOjc1LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6Nzl9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pb2JqZWN0Iiksbz1lKCIuLyQiKS5nZXROYW1lcyxpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10sYT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIG8oZSl9Y2F0Y2godCl7cmV0dXJuIHMuc2xpY2UoKX19O3QuZXhwb3J0cy5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/YShlKTpvKG4oZSkpfX0seyIuLyQiOjU2LCIuLyQudG8taW9iamVjdCI6NzR9XSw0MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDQyOltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuLyQuZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQsbygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi8kIjo1NiwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLnByb3BlcnR5LWRlc2MiOjYxfV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi8kLmdsb2JhbCI6NDF9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vJC5jb2YiOjMwfV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC53a3MiOjc4fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIik7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PW4oZSl9fSx7Ii4vJC5jb2YiOjMwfV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDUwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuLyQuYW4tb2JqZWN0IjoyOH1dLDUxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxpPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi8kLmhpZGUiKShzLGUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uLmNyZWF0ZShzLHtuZXh0Om8oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi8kIjo1NiwiLi8kLmhpZGUiOjQzLCIuLyQucHJvcGVydHktZGVzYyI6NjEsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC53a3MiOjc4fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmxpYnJhcnkiKSxvPWUoIi4vJC5leHBvcnQiKSxpPWUoIi4vJC5yZWRlZmluZSIpLHM9ZSgiLi8kLmhpZGUiKSxhPWUoIi4vJC5oYXMiKSxjPWUoIi4vJC5pdGVyYXRvcnMiKSx1PWUoIi4vJC5pdGVyLWNyZWF0ZSIpLGw9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksZj1lKCIuLyQiKS5nZXRQcm90byxkPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxwPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLGI9IkBAaXRlcmF0b3IiLGg9ImtleXMiLHY9InZhbHVlcyIseT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsXyxnLG0sail7dShyLHQsXyk7dmFyICQsTyx3PWZ1bmN0aW9uKGUpe2lmKCFwJiZlIGluIEUpcmV0dXJuIEVbZV07c3dpdGNoKGUpe2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSB2OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LGs9dCsiIEl0ZXJhdG9yIix4PWc9PXYsQz0hMSxFPWUucHJvdG90eXBlLFM9RVtkXXx8RVtiXXx8ZyYmRVtnXSxUPVN8fHcoZyk7aWYoUyl7dmFyIFI9ZihULmNhbGwobmV3IGUpKTtsKFIsaywhMCksIW4mJmEoRSxiKSYmcyhSLGQseSkseCYmUy5uYW1lIT09diYmKEM9ITAsVD1mdW5jdGlvbigpe3JldHVybiBTLmNhbGwodGhpcyl9KX1pZihuJiYhanx8IXAmJiFDJiZFW2RdfHxzKEUsZCxUKSxjW3RdPVQsY1trXT15LGcpaWYoJD17dmFsdWVzOng/VDp3KHYpLGtleXM6bT9UOncoaCksZW50cmllczp4P3coImVudHJpZXMiKTpUfSxqKWZvcihPIGluICQpTyBpbiBFfHxpKEUsTywkW09dKTtlbHNlIG8oby5QK28uRioocHx8QyksdCwkKTtyZXR1cm4gJH19LHsiLi8kIjo1NiwiLi8kLmV4cG9ydCI6MzcsIi4vJC5oYXMiOjQyLCIuLyQuaGlkZSI6NDMsIi4vJC5pdGVyLWNyZWF0ZSI6NTEsIi4vJC5pdGVyYXRvcnMiOjU1LCIuLyQubGlicmFyeSI6NTgsIi4vJC5yZWRlZmluZSI6NjMsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC53a3MiOjc4fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3I9ITB9LGlbbl09ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChhKXt9cmV0dXJuIHJ9fSx7Ii4vJC53a3MiOjc4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU9iamVjdDt0LmV4cG9ydHM9e2NyZWF0ZTpuLmNyZWF0ZSxnZXRQcm90bzpuLmdldFByb3RvdHlwZU9mLGlzRW51bTp7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxnZXREZXNjOm4uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHNldERlc2M6bi5kZWZpbmVQcm9wZXJ0eSxzZXREZXNjczpuLmRlZmluZVByb3BlcnRpZXMsZ2V0S2V5czpuLmtleXMsZ2V0TmFtZXM6bi5nZXRPd25Qcm9wZXJ0eU5hbWVzLGdldFN5bWJvbHM6bi5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZWFjaDpbXS5mb3JFYWNofX0se31dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixpPW8oZSkscz1uLmdldEtleXMoaSksYT1zLmxlbmd0aCxjPTA7YT5jOylpZihpW3I9c1tjKytdXT09PXQpcmV0dXJuIHJ9fSx7Ii4vJCI6NTYsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDU4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuZ2xvYmFsIiksYT1lKCIuLyQudGFzayIpLnNldCxjPXMuTXV0YXRpb25PYnNlcnZlcnx8cy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLHU9cy5wcm9jZXNzLGw9cy5Qcm9taXNlLGY9InByb2Nlc3MiPT1lKCIuLyQuY29mIikodSksZD1mdW5jdGlvbigpe3ZhciBlLHQscjtmb3IoZiYmKGU9dS5kb21haW4pJiYodS5kb21haW49bnVsbCxlLmV4aXQoKSk7bjspdD1uLmRvbWFpbixyPW4uZm4sdCYmdC5lbnRlcigpLHIoKSx0JiZ0LmV4aXQoKSxuPW4ubmV4dDtvPXZvaWQgMCxlJiZlLmVudGVyKCl9O2lmKGYpaT1mdW5jdGlvbigpe3UubmV4dFRpY2soZCl9O2Vsc2UgaWYoYyl7dmFyIHA9MSxiPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgYyhkKS5vYnNlcnZlKGIse2NoYXJhY3RlckRhdGE6ITB9KSxpPWZ1bmN0aW9uKCl7Yi5kYXRhPXA9LXB9fWVsc2UgaT1sJiZsLnJlc29sdmU/ZnVuY3Rpb24oKXtsLnJlc29sdmUoKS50aGVuKGQpfTpmdW5jdGlvbigpe2EuY2FsbChzLGQpfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e2ZuOmUsbmV4dDp2b2lkIDAsZG9tYWluOmYmJnUuZG9tYWlufTtvJiYoby5uZXh0PXQpLG58fChuPXQsaSgpKSxvPXR9fSx7Ii4vJC5jb2YiOjMwLCIuLyQuZ2xvYmFsIjo0MSwiLi8kLnRhc2siOjcyfV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi8kLmNvcmUiOjMxLCIuLyQuZXhwb3J0IjozNywiLi8kLmZhaWxzIjozOH1dLDYxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDYyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnJlZGVmaW5lIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpbihlLHIsdFtyXSk7cmV0dXJuIGV9fSx7Ii4vJC5yZWRlZmluZSI6NjN9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuaGlkZSIpfSx7Ii4vJC5oaWRlIjo0M31dLDY0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPU9iamVjdC5pc3x8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09PTEvdDplIT1lJiZ0IT10fX0se31dLDY1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuZ2V0RGVzYyxvPWUoIi4vJC5pcy1vYmplY3QiKSxpPWUoIi4vJC5hbi1vYmplY3QiKSxzPWZ1bmN0aW9uKGUsdCl7aWYoaShlKSwhbyh0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixvKXt0cnl7bz1lKCIuLyQuY3R4IikoRnVuY3Rpb24uY2FsbCxuKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGkpe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpzfX0seyIuLyQiOjU2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmN0eCI6MzIsIi4vJC5pcy1vYmplY3QiOjQ5fV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmNvcmUiKSxvPWUoIi4vJCIpLGk9ZSgiLi8kLmRlc2NyaXB0b3JzIikscz1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtpJiZ0JiYhdFtzXSYmby5zZXREZXNjKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuLyQiOjU2LCIuLyQuY29yZSI6MzEsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC53a3MiOjc4fV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5zZXREZXNjLG89ZSgiLi8kLmhhcyIpLGk9ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuLyQiOjU2LCIuLyQuaGFzIjo0MiwiLi8kLndrcyI6Nzh9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPSJfX2NvcmUtanNfc2hhcmVkX18iLGk9bltvXXx8KG5bb109e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0seyIuLyQuZ2xvYmFsIjo0MX1dLDY5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpLG89ZSgiLi8kLmEtZnVuY3Rpb24iKSxpPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vJC5hLWZ1bmN0aW9uIjoyNiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC53a3MiOjc4fV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcihyKyI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhIik7cmV0dXJuIGV9fSx7fV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGkscyxhPVN0cmluZyhvKHQpKSxjPW4ociksdT1hLmxlbmd0aDtyZXR1cm4gMD5jfHxjPj11P2U/IiI6dm9pZCAwOihpPWEuY2hhckNvZGVBdChjKSw1NTI5Nj5pfHxpPjU2MzE5fHxjKzE9PT11fHwocz1hLmNoYXJDb2RlQXQoYysxKSk8NTYzMjB8fHM+NTczNDM/ZT9hLmNoYXJBdChjKTppOmU/YS5zbGljZShjLGMrMik6KGktNTUyOTY8PDEwKSsocy01NjMyMCkrNjU1MzYpfX19LHsiLi8kLmRlZmluZWQiOjMzLCIuLyQudG8taW50ZWdlciI6NzN9XSw3MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5jdHgiKSxhPWUoIi4vJC5pbnZva2UiKSxjPWUoIi4vJC5odG1sIiksdT1lKCIuLyQuZG9tLWNyZWF0ZSIpLGw9ZSgiLi8kLmdsb2JhbCIpLGY9bC5wcm9jZXNzLGQ9bC5zZXRJbW1lZGlhdGUscD1sLmNsZWFySW1tZWRpYXRlLGI9bC5NZXNzYWdlQ2hhbm5lbCxoPTAsdj17fSx5PSJvbnJlYWR5c3RhdGVjaGFuZ2UiLF89ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZih2Lmhhc093blByb3BlcnR5KGUpKXt2YXIgdD12W2VdO2RlbGV0ZSB2W2VdLHQoKX19LGc9ZnVuY3Rpb24oZSl7Xy5jYWxsKGUuZGF0YSl9O2QmJnB8fChkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB2WysraF09ZnVuY3Rpb24oKXthKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4oaCksaH0scD1mdW5jdGlvbihlKXtkZWxldGUgdltlXX0sInByb2Nlc3MiPT1lKCIuLyQuY29mIikoZik/bj1mdW5jdGlvbihlKXtmLm5leHRUaWNrKHMoXyxlLDEpKX06Yj8obz1uZXcgYixpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9ZyxuPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpsLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWwuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtsLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sbC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixnLCExKSk6bj15IGluIHUoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe2MuYXBwZW5kQ2hpbGQodSgic2NyaXB0IikpW3ldPWZ1bmN0aW9uKCl7Yy5yZW1vdmVDaGlsZCh0aGlzKSxfLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHMoXyxlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0seyIuLyQuY29mIjozMCwiLi8kLmN0eCI6MzIsIi4vJC5kb20tY3JlYXRlIjozNSwiLi8kLmdsb2JhbCI6NDEsIi4vJC5odG1sIjo0NCwiLi8kLmludm9rZSI6NDV9XSw3MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguY2VpbCxvPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bzpuKShlKX19LHt9XSw3NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pb2JqZWN0Iiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi8kLmRlZmluZWQiOjMzLCIuLyQuaW9iamVjdCI6NDZ9XSw3NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi8kLnRvLWludGVnZXIiOjczfV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuLyQuZGVmaW5lZCI6MzN9XSw3NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPTAsbz1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK24rbykudG9TdHJpbmcoMzYpKX19LHt9XSw3ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5zaGFyZWQiKSgid2tzIiksbz1lKCIuLyQudWlkIiksaT1lKCIuLyQuZ2xvYmFsIikuU3ltYm9sO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09aSYmaVtlXXx8KGl8fG8pKCJTeW1ib2wuIitlKSl9fSx7Ii4vJC5nbG9iYWwiOjQxLCIuLyQuc2hhcmVkIjo2OCwiLi8kLnVpZCI6Nzd9XSw3OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jbGFzc29mIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1lKCIuLyQuaXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vJC5jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZT9lW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV06dm9pZCAwfX0seyIuLyQuY2xhc3NvZiI6MjksIi4vJC5jb3JlIjozMSwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC53a3MiOjc4fV0sODA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmFkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi8kLml0ZXItc3RlcCIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpLHM9ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi8kLml0ZXItZGVmaW5lIikoQXJyYXksIkFycmF5IixmdW5jdGlvbihlLHQpe3RoaXMuX3Q9cyhlKSx0aGlzLl9pPTAsdGhpcy5faz10fSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3QsdD10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6ImtleXMiPT10P28oMCxyKToidmFsdWVzIj09dD9vKDAsZVtyXSk6bygwLFtyLGVbcl1dKX0sInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXksbigia2V5cyIpLG4oInZhbHVlcyIpLG4oImVudHJpZXMiKX0seyIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIjoyNywiLi8kLml0ZXItZGVmaW5lIjo1MiwiLi8kLml0ZXItc3RlcCI6NTQsIi4vJC5pdGVyYXRvcnMiOjU1LCIuLyQudG8taW9iamVjdCI6NzR9XSw4MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXtyZXR1cm4gZShuKHQpLHIpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLWlvYmplY3QiOjc0fV0sODI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZShuKHQpKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NjAsIi4vJC50by1vYmplY3QiOjc2fV0sODM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLW9iamVjdCI6NzZ9XSw4NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKTtuKG4uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6ZSgiLi8kLnNldC1wcm90byIpLnNldH0pfSx7Ii4vJC5leHBvcnQiOjM3LCIuLyQuc2V0LXByb3RvIjo2NX1dLDg1OltmdW5jdGlvbihlLHQscil7fSx7fV0sODY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbz1lKCIuLyQiKSxpPWUoIi4vJC5saWJyYXJ5Iikscz1lKCIuLyQuZ2xvYmFsIiksYT1lKCIuLyQuY3R4IiksYz1lKCIuLyQuY2xhc3NvZiIpLHU9ZSgiLi8kLmV4cG9ydCIpLGw9ZSgiLi8kLmlzLW9iamVjdCIpLGY9ZSgiLi8kLmFuLW9iamVjdCIpLGQ9ZSgiLi8kLmEtZnVuY3Rpb24iKSxwPWUoIi4vJC5zdHJpY3QtbmV3IiksYj1lKCIuLyQuZm9yLW9mIiksaD1lKCIuLyQuc2V0LXByb3RvIikuc2V0LHY9ZSgiLi8kLnNhbWUtdmFsdWUiKSx5PWUoIi4vJC53a3MiKSgic3BlY2llcyIpLF89ZSgiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiKSxnPWUoIi4vJC5taWNyb3Rhc2siKSxtPSJQcm9taXNlIixqPXMucHJvY2VzcywkPSJwcm9jZXNzIj09YyhqKSxPPXNbbV0sdz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgTyhmdW5jdGlvbigpe30pO3JldHVybiBlJiYodC5jb25zdHJ1Y3Rvcj1PYmplY3QpLE8ucmVzb2x2ZSh0KT09PXR9LGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPW5ldyBPKGUpO3JldHVybiBoKHIsdC5wcm90b3R5cGUpLHJ9dmFyIHI9ITE7dHJ5e2lmKHI9TyYmTy5yZXNvbHZlJiZ3KCksaCh0LE8pLHQucHJvdG90eXBlPW8uY3JlYXRlKE8ucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dH19KSx0LnJlc29sdmUoNSkudGhlbihmdW5jdGlvbigpe30paW5zdGFuY2VvZiB0fHwocj0hMSksciYmZSgiLi8kLmRlc2NyaXB0b3JzIikpe3ZhciBuPSExO08ucmVzb2x2ZShvLnNldERlc2Moe30sInRoZW4iLHtnZXQ6ZnVuY3Rpb24oKXtuPSEwfX0pKSxyPW59fWNhdGNoKGkpe3I9ITF9cmV0dXJuIHJ9KCkseD1mdW5jdGlvbihlLHQpe3JldHVybiBpJiZlPT09TyYmdD09PW4/ITA6dihlLHQpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0PWYoZSlbeV07cmV0dXJuIHZvaWQgMCE9dD90OmV9LEU9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGwoZSkmJiJmdW5jdGlvbiI9PXR5cGVvZih0PWUudGhlbik/dDohMX0sUz1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgVHlwZUVycm9yKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9ZCh0KSx0aGlzLnJlamVjdD1kKHIpfSxUPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sUj1mdW5jdGlvbihlLHQpe2lmKCFlLm4pe2Uubj0hMDt2YXIgcj1lLmM7ZyhmdW5jdGlvbigpe2Zvcih2YXIgbj1lLnYsbz0xPT1lLnMsaT0wLGE9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW8/dC5vazp0LmZhaWwsYT10LnJlc29sdmUsYz10LnJlamVjdDt0cnl7cz8ob3x8KGUuaD0hMCkscj1zPT09ITA/bjpzKG4pLHI9PT10LnByb21pc2U/YyhUeXBlRXJyb3IoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9RShyKSk/aS5jYWxsKHIsYSxjKTphKHIpKTpjKG4pfWNhdGNoKHUpe2ModSl9fTtyLmxlbmd0aD5pOylhKHJbaSsrXSk7ci5sZW5ndGg9MCxlLm49ITEsdCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0LHIsbz1lLnA7TShvKSYmKCQ/ai5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sbyk6KHQ9cy5vbnVuaGFuZGxlZHJlamVjdGlvbik/dCh7cHJvbWlzZTpvLHJlYXNvbjpufSk6KHI9cy5jb25zb2xlKSYmci5lcnJvciYmci5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKSksZS5hPXZvaWQgMH0sMSl9KX19LE09ZnVuY3Rpb24oZSl7dmFyIHQscj1lLl9kLG49ci5hfHxyLmMsbz0wO2lmKHIuaClyZXR1cm4hMTtmb3IoO24ubGVuZ3RoPm87KWlmKHQ9bltvKytdLHQuZmFpbHx8IU0odC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sTj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuZHx8KHQuZD0hMCx0PXQucnx8dCx0LnY9ZSx0LnM9Mix0LmE9dC5jLnNsaWNlKCksUih0LCEwKSl9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLmQpe3IuZD0hMCxyPXIucnx8cjt0cnl7aWYoci5wPT09ZSl0aHJvdyBUeXBlRXJyb3IoIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9RShlKSk/ZyhmdW5jdGlvbigpe3ZhciBuPXtyOnIsZDohMX07dHJ5e3QuY2FsbChlLGEoRCxuLDEpLGEoTixuLDEpKX1jYXRjaChvKXtOLmNhbGwobixvKX19KTooci52PWUsci5zPTEsUihyLCExKSl9Y2F0Y2gobil7Ti5jYWxsKHtyOnIsZDohMX0sbil9fX07a3x8KE89ZnVuY3Rpb24oZSl7ZChlKTt2YXIgdD10aGlzLl9kPXtwOnAodGhpcyxPLG0pLGM6W10sYTp2b2lkIDAsczowLGQ6ITEsdjp2b2lkIDAsaDohMSxuOiExfTt0cnl7ZShhKEQsdCwxKSxhKE4sdCwxKSl9Y2F0Y2gocil7Ti5jYWxsKHQscil9fSxlKCIuLyQucmVkZWZpbmUtYWxsIikoTy5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgUyhfKHRoaXMsTykpLG49ci5wcm9taXNlLG89dGhpcy5fZDtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxvLmMucHVzaChyKSxvLmEmJm8uYS5wdXNoKHIpLG8ucyYmUihvLCExKSxufSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pKSx1KHUuRyt1LlcrdS5GKiFrLHtQcm9taXNlOk99KSxlKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKShPLG0pLGUoIi4vJC5zZXQtc3BlY2llcyIpKG0pLG49ZSgiLi8kLmNvcmUiKVttXSx1KHUuUyt1LkYqIWssbSx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZWplY3Q7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLHUodS5TK3UuRiooIWt8fHcoITApKSxtLHtyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBPJiZ4KGUuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIGU7dmFyIHQ9bmV3IFModGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLHUodS5TK3UuRiohKGsmJmUoIi4vJC5pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe08uYWxsKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKCl7fSl9KSksbSx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PUModGhpcykscj1uZXcgUyh0KSxuPXIucmVzb2x2ZSxpPXIucmVqZWN0LHM9W10sYT1UKGZ1bmN0aW9uKCl7YihlLCExLHMucHVzaCxzKTt2YXIgcj1zLmxlbmd0aCxhPUFycmF5KHIpO3I/by5lYWNoLmNhbGwocyxmdW5jdGlvbihlLG8pe3ZhciBzPSExO3QucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3N8fChzPSEwLGFbb109ZSwtLXJ8fG4oYSkpfSxpKX0pOm4oYSl9KTtyZXR1cm4gYSYmaShhLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9Qyh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZWplY3Qsbz1UKGZ1bmN0aW9uKCl7YihlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vJCI6NTYsIi4vJC5hLWZ1bmN0aW9uIjoyNiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5jbGFzc29mIjoyOSwiLi8kLmNvcmUiOjMxLCIuLyQuY3R4IjozMiwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLmV4cG9ydCI6MzcsIi4vJC5mb3Itb2YiOjM5LCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmlzLW9iamVjdCI6NDksIi4vJC5pdGVyLWRldGVjdCI6NTMsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLm1pY3JvdGFzayI6NTksIi4vJC5yZWRlZmluZS1hbGwiOjYyLCIuLyQuc2FtZS12YWx1ZSI6NjQsIi4vJC5zZXQtcHJvdG8iOjY1LCIuLyQuc2V0LXNwZWNpZXMiOjY2LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciI6NjksIi4vJC5zdHJpY3QtbmV3Ijo3MCwiLi8kLndrcyI6Nzh9XSw4NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuc3RyaW5nLWF0IikoITApO2UoIi4vJC5pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi8kLml0ZXItZGVmaW5lIjo1MiwiLi8kLnN0cmluZy1hdCI6NzF9XSw4ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5nbG9iYWwiKSxpPWUoIi4vJC5oYXMiKSxzPWUoIi4vJC5kZXNjcmlwdG9ycyIpLGE9ZSgiLi8kLmV4cG9ydCIpLGM9ZSgiLi8kLnJlZGVmaW5lIiksdT1lKCIuLyQuZmFpbHMiKSxsPWUoIi4vJC5zaGFyZWQiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGQ9ZSgiLi8kLnVpZCIpLHA9ZSgiLi8kLndrcyIpLGI9ZSgiLi8kLmtleW9mIiksaD1lKCIuLyQuZ2V0LW5hbWVzIiksdj1lKCIuLyQuZW51bS1rZXlzIikseT1lKCIuLyQuaXMtYXJyYXkiKSxfPWUoIi4vJC5hbi1vYmplY3QiKSxnPWUoIi4vJC50by1pb2JqZWN0IiksbT1lKCIuLyQucHJvcGVydHktZGVzYyIpLGo9bi5nZXREZXNjLCQ9bi5zZXREZXNjLE89bi5jcmVhdGUsdz1oLmdldCxrPW8uU3ltYm9sLHg9by5KU09OLEM9eCYmeC5zdHJpbmdpZnksRT0hMSxTPXAoIl9oaWRkZW4iKSxUPW4uaXNFbnVtLFI9bCgic3ltYm9sLXJlZ2lzdHJ5IiksTT1sKCJzeW1ib2xzIiksTj0iZnVuY3Rpb24iPT10eXBlb2YgayxEPU9iamVjdC5wcm90b3R5cGUsUD1zJiZ1KGZ1bmN0aW9uKCl7cmV0dXJuIDchPU8oJCh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiAkKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1qKEQsdCk7biYmZGVsZXRlIERbdF0sJChlLHQsciksbiYmZSE9PUQmJiQoRCx0LG4pfTokLEw9ZnVuY3Rpb24oZSl7dmFyIHQ9TVtlXT1PKGsucHJvdG90eXBlKTtyZXR1cm4gdC5faz1lLHMmJkUmJlAoRCxlLHtjb25maWd1cmFibGU6ITAsc2V0OmZ1bmN0aW9uKHQpe2kodGhpcyxTKSYmaSh0aGlzW1NdLGUpJiYodGhpc1tTXVtlXT0hMSksUCh0aGlzLGUsbSgxLHQpKX19KSx0fSxBPWZ1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgZX0sRj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHImJmkoTSx0KT8oci5lbnVtZXJhYmxlPyhpKGUsUykmJmVbU11bdF0mJihlW1NdW3RdPSExKSxyPU8ocix7ZW51bWVyYWJsZTptKDAsITEpfSkpOihpKGUsUyl8fCQoZSxTLG0oMSx7fSkpLGVbU11bdF09ITApLFAoZSx0LHIpKTokKGUsdCxyKX0sST1mdW5jdGlvbihlLHQpe18oZSk7Zm9yKHZhciByLG49dih0PWcodCkpLG89MCxpPW4ubGVuZ3RoO2k+bzspRihlLHI9bltvKytdLHRbcl0pO3JldHVybiBlfSxVPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/TyhlKTpJKE8oZSksdCl9LFY9ZnVuY3Rpb24oZSl7dmFyIHQ9VC5jYWxsKHRoaXMsZSk7cmV0dXJuIHR8fCFpKHRoaXMsZSl8fCFpKE0sZSl8fGkodGhpcyxTKSYmdGhpc1tTXVtlXT90OiEwfSx6PWZ1bmN0aW9uKGUsdCl7dmFyIHI9aihlPWcoZSksdCk7cmV0dXJuIXJ8fCFpKE0sdCl8fGkoZSxTKSYmZVtTXVt0XXx8KHIuZW51bWVyYWJsZT0hMCkscn0sSD1mdW5jdGlvbihlKXtmb3IodmFyIHQscj13KGcoZSkpLG49W10sbz0wO3IubGVuZ3RoPm87KWkoTSx0PXJbbysrXSl8fHQ9PVN8fG4ucHVzaCh0KTtyZXR1cm4gbn0sQj1mdW5jdGlvbihlKXtmb3IodmFyIHQscj13KGcoZSkpLG49W10sbz0wO3IubGVuZ3RoPm87KWkoTSx0PXJbbysrXSkmJm4ucHVzaChNW3RdKTtyZXR1cm4gbn0sSj1mdW5jdGlvbihlKXtpZih2b2lkIDAhPT1lJiYhQShlKSl7Zm9yKHZhciB0LHIsbj1bZV0sbz0xLGk9YXJndW1lbnRzO2kubGVuZ3RoPm87KW4ucHVzaChpW28rK10pO3JldHVybiB0PW5bMV0sImZ1bmN0aW9uIj09dHlwZW9mIHQmJihyPXQpLCFyJiZ5KHQpfHwodD1mdW5jdGlvbihlLHQpe3JldHVybiByJiYodD1yLmNhbGwodGhpcyxlLHQpKSxBKHQpP3ZvaWQgMDp0fSksblsxXT10LEMuYXBwbHkoeCxuKX19LFc9dShmdW5jdGlvbigpe3ZhciBlPWsoKTtyZXR1cm4iW251bGxdIiE9QyhbZV0pfHwie30iIT1DKHthOmV9KXx8Int9IiE9QyhPYmplY3QoZSkpfSk7Tnx8KGs9ZnVuY3Rpb24oKXtpZihBKHRoaXMpKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIik7cmV0dXJuIEwoZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCkpfSxjKGsucHJvdG90eXBlLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pLEE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBrfSxuLmNyZWF0ZT1VLG4uaXNFbnVtPVYsbi5nZXREZXNjPXosbi5zZXREZXNjPUYsbi5zZXREZXNjcz1JLG4uZ2V0TmFtZXM9aC5nZXQ9SCxuLmdldFN5bWJvbHM9QixzJiYhZSgiLi8kLmxpYnJhcnkiKSYmYyhELCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsViwhMCkpO3ZhciBZPXsiZm9yIjpmdW5jdGlvbihlKXtyZXR1cm4gaShSLGUrPSIiKT9SW2VdOlJbZV09ayhlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe3JldHVybiBiKFIsZSl9LHVzZVNldHRlcjpmdW5jdGlvbigpe0U9ITB9LHVzZVNpbXBsZTpmdW5jdGlvbigpe0U9ITF9fTtuLmVhY2guY2FsbCgiaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7dmFyIHQ9cChlKTtZW2VdPU4/dDpMKHQpfSksRT0hMCxhKGEuRythLlcse1N5bWJvbDprfSksYShhLlMsIlN5bWJvbCIsWSksYShhLlMrYS5GKiFOLCJPYmplY3QiLHtjcmVhdGU6VSxkZWZpbmVQcm9wZXJ0eTpGLGRlZmluZVByb3BlcnRpZXM6SSxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6eixnZXRPd25Qcm9wZXJ0eU5hbWVzOkgsZ2V0T3duUHJvcGVydHlTeW1ib2xzOkJ9KSx4JiZhKGEuUythLkYqKCFOfHxXKSwiSlNPTiIse3N0cmluZ2lmeTpKfSksZihrLCJTeW1ib2wiKSxmKE1hdGgsIk1hdGgiLCEwKSxmKG8uSlNPTiwiSlNPTiIsITApfSx7Ii4vJCI6NTYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQuZW51bS1rZXlzIjozNiwiLi8kLmV4cG9ydCI6MzcsIi4vJC5mYWlscyI6MzgsIi4vJC5nZXQtbmFtZXMiOjQwLCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmhhcyI6NDIsIi4vJC5pcy1hcnJheSI6NDgsIi4vJC5rZXlvZiI6NTcsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLnByb3BlcnR5LWRlc2MiOjYxLCIuLyQucmVkZWZpbmUiOjYzLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQuc2hhcmVkIjo2OCwiLi8kLnRvLWlvYmplY3QiOjc0LCIuLyQudWlkIjo3NywiLi8kLndrcyI6Nzh9XSw4OTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpO24uTm9kZUxpc3Q9bi5IVE1MQ29sbGVjdGlvbj1uLkFycmF5fSx7Ii4vJC5pdGVyYXRvcnMiOjU1LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6ODB9XSw5MDpbZnVuY3Rpb24oZSx0LHIpe3dpbmRvdy5NdXRhdGlvbk9ic2VydmVyPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcnx8ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0aGlzLmc9W10sdGhpcy5rPWV9ZnVuY3Rpb24gcihlKXshZnVuY3Rpb24gcigpe3ZhciBuPWUudGFrZVJlY29yZHMoKTtuLmxlbmd0aCYmZS5rKG4sZSksZS5mPXNldFRpbWVvdXQocix0Ll9wZXJpb2QpfSgpfWZ1bmN0aW9uIG4odCl7dmFyIHIsbj17dHlwZTpudWxsLHRhcmdldDpudWxsLGFkZGVkTm9kZXM6W10scmVtb3ZlZE5vZGVzOltdLHByZXZpb3VzU2libGluZzpudWxsLG5leHRTaWJsaW5nOm51bGwsYXR0cmlidXRlTmFtZTpudWxsLGF0dHJpYnV0ZU5hbWVzcGFjZTpudWxsLG9sZFZhbHVlOm51bGx9O2ZvcihyIGluIHQpbltyXSE9PWUmJnRbcl0hPT1lJiYobltyXT10W3JdKTtyZXR1cm4gbn1mdW5jdGlvbiBvKGUsdCl7dmFyIHI9YShlLHQpO3JldHVybiBmdW5jdGlvbihuKXt2YXIgbyxjPW4ubGVuZ3RoO3QuYSYmci5hJiZpKG4sZSxyLmEsdC5kKSwodC5ifHx0LmUpJiYobz1zKG4sZSxyLHQpKSwob3x8bi5sZW5ndGghPT1jKSYmKHI9YShlLHQpKX19ZnVuY3Rpb24gaSh0LHIsbyxpKXtmb3IodmFyIHMsYSxjPXt9LHU9ci5hdHRyaWJ1dGVzLGw9dS5sZW5ndGg7bC0tOylzPXVbbF0sYT1zLm5hbWUsaSYmaVthXT09PWV8fChzLnZhbHVlIT09b1thXSYmdC5wdXNoKG4oe3R5cGU6ImF0dHJpYnV0ZXMiLHRhcmdldDpyLGF0dHJpYnV0ZU5hbWU6YSxvbGRWYWx1ZTpvW2FdLGF0dHJpYnV0ZU5hbWVzcGFjZTpzLm5hbWVzcGFjZVVSSX0pKSxjW2FdPSEwKTtmb3IoYSBpbiBvKWNbYV18fHQucHVzaChuKHt0YXJnZXQ6cix0eXBlOiJhdHRyaWJ1dGVzIixhdHRyaWJ1dGVOYW1lOmEsb2xkVmFsdWU6b1thXX0pKX1mdW5jdGlvbiBzKHQscixvLHMpe2Z1bmN0aW9uIGEoZSxyLG8sYSxjKXt2YXIgbD1lLmxlbmd0aC0xO2M9LX4oKGwtYykvMik7Zm9yKHZhciBmLGQscDtwPWUucG9wKCk7KWY9b1twLmhdLGQ9YVtwLmldLHMuYiYmYyYmTWF0aC5hYnMocC5oLXAuaSk+PWwmJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltmXSxyZW1vdmVkTm9kZXM6W2ZdLG5leHRTaWJsaW5nOmYubmV4dFNpYmxpbmcscHJldmlvdXNTaWJsaW5nOmYucHJldmlvdXNTaWJsaW5nfSkpLGMtLSkscy5hJiZkLmEmJmkodCxmLGQuYSxzLmQpLHMuYyYmMz09PWYubm9kZVR5cGUmJmYubm9kZVZhbHVlIT09ZC5jJiZ0LnB1c2gobih7dHlwZToiY2hhcmFjdGVyRGF0YSIsdGFyZ2V0OmZ9KSkscy5lJiZ1KGYsZCl9ZnVuY3Rpb24gdShyLG8pe2Zvcih2YXIgZCxwLGIsaCx2LHk9ci5jaGlsZE5vZGVzLF89by5iLGc9eS5sZW5ndGgsbT1fP18ubGVuZ3RoOjAsaj0wLCQ9MCxPPTA7Zz4kfHxtPk87KWg9eVskXSx2PShiPV9bT10pJiZiLmosaD09PXY/KHMuYSYmYi5hJiZpKHQsaCxiLmEscy5kKSxzLmMmJmIuYyE9PWUmJmgubm9kZVZhbHVlIT09Yi5jJiZ0LnB1c2gobih7dHlwZToiY2hhcmFjdGVyRGF0YSIsdGFyZ2V0Omh9KSkscCYmYShwLHIseSxfLGopLHMuZSYmKGguY2hpbGROb2Rlcy5sZW5ndGh8fGIuYiYmYi5iLmxlbmd0aCkmJnUoaCxiKSwkKyssTysrKToobD0hMCxkfHwoZD17fSxwPVtdKSxoJiYoZFtiPWMoaCldfHwoZFtiXT0hMCwtMT09PShiPWYoXyxoLE8sImoiKSk/cy5iJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0OnIsYWRkZWROb2RlczpbaF0sbmV4dFNpYmxpbmc6aC5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6aC5wcmV2aW91c1NpYmxpbmd9KSksaisrKTpwLnB1c2goe2g6JCxpOmJ9KSksJCsrKSx2JiZ2IT09eVskXSYmKGRbYj1jKHYpXXx8KGRbYl09ITAsLTE9PT0oYj1mKHksdiwkKSk/cy5iJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0Om8uaixyZW1vdmVkTm9kZXM6W3ZdLG5leHRTaWJsaW5nOl9bTysxXSxwcmV2aW91c1NpYmxpbmc6X1tPLTFdfSkpLGotLSk6cC5wdXNoKHtoOmIsaTpPfSkpLE8rKykpO3AmJmEocCxyLHksXyxqKX12YXIgbDtyZXR1cm4gdShyLG8pLGx9ZnVuY3Rpb24gYShlLHQpe3ZhciByPSEwO3JldHVybiBmdW5jdGlvbiBuKGUpe3ZhciBvPXtqOmV9O3JldHVybiF0LmN8fDMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZT8odC5hJiZyJiYxPT09ZS5ub2RlVHlwZSYmKG8uYT1sKGUuYXR0cmlidXRlcyxmdW5jdGlvbihlLHIpe3JldHVybiB0LmQmJiF0LmRbci5uYW1lXXx8KGVbci5uYW1lXT1yLnZhbHVlKSxlfSkpLHImJih0LmJ8fHQuY3x8dC5hJiZ0LmUpJiYoby5iPXUoZS5jaGlsZE5vZGVzLG4pKSxyPXQuZSk6by5jPWUubm9kZVZhbHVlLG99KGUpfWZ1bmN0aW9uIGMoZSl7dHJ5e3JldHVybiBlLmlkfHwoZS5tb19pZD1lLm1vX2lkfHxkKyspfWNhdGNoKHQpe3RyeXtyZXR1cm4gZS5ub2RlVmFsdWV9Y2F0Y2gocil7cmV0dXJuIGQrK319fWZ1bmN0aW9uIHUoZSx0KXtmb3IodmFyIHI9W10sbj0wO248ZS5sZW5ndGg7bisrKXJbbl09dChlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gbChlLHQpe2Zvcih2YXIgcj17fSxuPTA7bjxlLmxlbmd0aDtuKyspcj10KHIsZVtuXSxuLGUpO3JldHVybiByfWZ1bmN0aW9uIGYoZSx0LHIsbil7Zm9yKDtyPGUubGVuZ3RoO3IrKylpZigobj9lW3JdW25dOmVbcl0pPT09dClyZXR1cm4gcjtyZXR1cm4tMX10Ll9wZXJpb2Q9MzAsdC5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49e2E6ISEodC5hdHRyaWJ1dGVzfHx0LmF0dHJpYnV0ZUZpbHRlcnx8dC5hdHRyaWJ1dGVPbGRWYWx1ZSksYjohIXQuY2hpbGRMaXN0LGU6ISF0LnN1YnRyZWUsYzohKCF0LmNoYXJhY3RlckRhdGEmJiF0LmNoYXJhY3RlckRhdGFPbGRWYWx1ZSl9LGk9dGhpcy5nLHM9MDtzPGkubGVuZ3RoO3MrKylpW3NdLm09PT1lJiZpLnNwbGljZShzLDEpO3QuYXR0cmlidXRlRmlsdGVyJiYobi5kPWwodC5hdHRyaWJ1dGVGaWx0ZXIsZnVuY3Rpb24oZSx0KXsKcmV0dXJuIGVbdF09ITAsZX0pKSxpLnB1c2goe206ZSxsOm8oZSxuKX0pLHRoaXMuZnx8cih0aGlzKX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD10aGlzLmcscj0wO3I8dC5sZW5ndGg7cisrKXRbcl0ubChlKTtyZXR1cm4gZX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMuZz1bXSxjbGVhclRpbWVvdXQodGhpcy5mKSx0aGlzLmY9bnVsbH19O3ZhciBkPTE7cmV0dXJuIHR9KHZvaWQgMCl9LHt9XSw5MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlfHxmdW5jdGlvbihlLHQscixuKXsidXNlIHN0cmljdCI7dmFyIG8saSxzPVsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwicmVjb25maWd1cmUiLCJzZXRQcm90b3R5cGUiLCJwcmV2ZW50RXh0ZW5zaW9ucyJdLGE9dC5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWUuY2FsbCh0KX19KGUucHJvdG90eXBlLnRvU3RyaW5nKSxjPXQucHJvdG90eXBlLmluZGV4T2Y/dC5pbmRleE9mfHxmdW5jdGlvbihlLHIsbil7cmV0dXJuIHQucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHIsbil9OmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49cnx8MDtuPGUubGVuZ3RoO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sdT1yLk1hcCE9PW4mJk1hcC5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbigpe3JldHVybiBuZXcgTWFwfTpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9W107cmV0dXJue3NpemU6MCxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIGMoZSx0KT4tMX0sZ2V0OmZ1bmN0aW9uKHIpe3JldHVybiB0W2MoZSxyKV19LHNldDpmdW5jdGlvbihyLG4pe3ZhciBvPWMoZSxyKTstMT09PW8/KGUucHVzaChyKSx0LnB1c2gobiksdGhpcy5zaXplKyspOnRbb109bn0sImRlbGV0ZSI6ZnVuY3Rpb24ocil7dmFyIG49YyhlLHIpO24+LTEmJihlLnNwbGljZShuLDEpLHQuc3BsaWNlKG4sMSksdGhpcy5zaXplLS0pfSxmb3JFYWNoOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXIuY2FsbChhcmd1bWVudHNbMV0sdFtuXSxlW25dLHRoaXMpfX19LGw9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzO3RyeXthcmd1bWVudHMuY2FsbGVlfWNhdGNoKHIpe3ZhciBuPSh0KGMpLmpvaW4oIiAiKSsiICIpLnJlcGxhY2UoL3Byb3RvdHlwZSB8bGVuZ3RoIHxuYW1lIC9nLCIiKS5zbGljZSgwLC0xKS5zcGxpdCgiICIpO24ubGVuZ3RoJiYodD1mdW5jdGlvbih0KXt2YXIgcj1lLmdldE93blByb3BlcnR5TmFtZXModCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpZm9yKHZhciBvLGk9MDtpPG4ubGVuZ3RoOykobz1jKHIsbltpKytdKSk+LTEmJnIuc3BsaWNlKG8sMSk7cmV0dXJuIHJ9KX1yZXR1cm4gdH0oKTpmdW5jdGlvbih0KXt2YXIgcixuLG89W107aWYoImhhc093blByb3BlcnR5ImluIHQpZm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiZvLnB1c2gocik7ZWxzZXtuPWUuaGFzT3duUHJvcGVydHk7Zm9yKHIgaW4gdCluLmNhbGwodCxyKSYmby5wdXNoKHIpfXJldHVybiBhKHQpJiZvLnB1c2goImxlbmd0aCIpLG99LGY9ZS5nZXRQcm90b3R5cGVPZixkPWUuZGVmaW5lUHJvcGVydGllcyYmZS5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IscD1yLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ci53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKCl7dmFyIGU9K25ldyBEYXRlLHQ9ZTtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKCh0PStuZXcgRGF0ZSktZSl9LDE3KX19KCksYj1mdW5jdGlvbihlLHQscil7dmFyIG49by5nZXQoZSk7bj8odihuLGUpLG0oZSxuLHQscikpOihuPWgoZSksbShlLG4sdCxyKSwxPT09by5zaXplJiZwKHkpKX0saD1mdW5jdGlvbih0LHIpe3ZhciBuLGk9bCh0KSxzPVtdLGE9MCxyPXtoYW5kbGVyczp1KCksZnJvemVuOmUuaXNGcm96ZW4/ZS5pc0Zyb3plbih0KTohMSxleHRlbnNpYmxlOmUuaXNFeHRlbnNpYmxlP2UuaXNFeHRlbnNpYmxlKHQpOiEwLHByb3RvOmYmJmYodCkscHJvcGVydGllczppLHZhbHVlczpzLG5vdGlmaWVyOmcodCxyKX07aWYoZClmb3Iobj1yLmRlc2NyaXB0b3JzPVtdO2E8aS5sZW5ndGg7KW5bYV09ZCh0LGlbYV0pLHNbYV09dFtpW2ErK11dO2Vsc2UgZm9yKDthPGkubGVuZ3RoOylzW2FdPXRbaVthKytdXTtyZXR1cm4gby5zZXQodCxyKSxyfSx2PWZ1bmN0aW9uKCl7dmFyIHQ9ZD9mdW5jdGlvbihlLHQscixuLG8pe3ZhciBpPXQucHJvcGVydGllc1tyXSxzPWVbaV0sYT10LnZhbHVlc1tyXSxjPXQuZGVzY3JpcHRvcnNbcl07InZhbHVlImluIG8mJihhPT09cz8wPT09YSYmMS9hIT09MS9zOmE9PT1hfHxzPT09cykmJihqKGUsdCx7bmFtZTppLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6YX0sbiksdC52YWx1ZXNbcl09cyksIWMuY29uZmlndXJhYmxlfHxvLmNvbmZpZ3VyYWJsZSYmby53cml0YWJsZT09PWMud3JpdGFibGUmJm8uZW51bWVyYWJsZT09PWMuZW51bWVyYWJsZSYmby5nZXQ9PT1jLmdldCYmby5zZXQ9PT1jLnNldHx8KGooZSx0LHtuYW1lOmksdHlwZToicmVjb25maWd1cmUiLG9iamVjdDplLG9sZFZhbHVlOmF9LG4pLHQuZGVzY3JpcHRvcnNbcl09byl9OmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXQucHJvcGVydGllc1tyXSxpPWVbb10scz10LnZhbHVlc1tyXTsocz09PWk/MD09PXMmJjEvcyE9PTEvaTpzPT09c3x8aT09PWkpJiYoaihlLHQse25hbWU6byx0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOnN9LG4pLHQudmFsdWVzW3JdPWkpfSxyPWQ/ZnVuY3Rpb24oZSxyLG4sbyxpKXtmb3IodmFyIHMsYT1yLmxlbmd0aDtuJiZhLS07KW51bGwhPT1yW2FdJiYocz1kKGUsclthXSksbi0tLHM/dChlLG8sYSxpLHMpOihqKGUsbyx7bmFtZTpyW2FdLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6by52YWx1ZXNbYV19LGkpLG8ucHJvcGVydGllcy5zcGxpY2UoYSwxKSxvLnZhbHVlcy5zcGxpY2UoYSwxKSxvLmRlc2NyaXB0b3JzLnNwbGljZShhLDEpKSl9OmZ1bmN0aW9uKGUsdCxyLG4sbyl7Zm9yKHZhciBpPXQubGVuZ3RoO3ImJmktLTspbnVsbCE9PXRbaV0mJihqKGUsbix7bmFtZTp0W2ldLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6bi52YWx1ZXNbaV19LG8pLG4ucHJvcGVydGllcy5zcGxpY2UoaSwxKSxuLnZhbHVlcy5zcGxpY2UoaSwxKSxyLS0pfTtyZXR1cm4gZnVuY3Rpb24obixvLGkpe2lmKG4uaGFuZGxlcnMuc2l6ZSYmIW4uZnJvemVuKXt2YXIgcyxhLHUscCxiLGgsdix5LF89bi52YWx1ZXMsZz1uLmRlc2NyaXB0b3JzLG09MDtpZihuLmV4dGVuc2libGUpaWYocz1uLnByb3BlcnRpZXMuc2xpY2UoKSxhPXMubGVuZ3RoLHU9bChvKSxnKXtmb3IoO208dS5sZW5ndGg7KWI9dVttKytdLHA9YyhzLGIpLHk9ZChvLGIpLC0xPT09cD8oaihvLG4se25hbWU6Yix0eXBlOiJhZGQiLG9iamVjdDpvfSxpKSxuLnByb3BlcnRpZXMucHVzaChiKSxfLnB1c2gob1tiXSksZy5wdXNoKHkpKTooc1twXT1udWxsLGEtLSx0KG8sbixwLGkseSkpO3IobyxzLGEsbixpKSxlLmlzRXh0ZW5zaWJsZShvKXx8KG4uZXh0ZW5zaWJsZT0hMSxqKG8sbix7dHlwZToicHJldmVudEV4dGVuc2lvbnMiLG9iamVjdDpvfSxpKSxuLmZyb3plbj1lLmlzRnJvemVuKG8pKX1lbHNle2Zvcig7bTx1Lmxlbmd0aDspYj11W20rK10scD1jKHMsYiksaD1vW2JdLC0xPT09cD8oaihvLG4se25hbWU6Yix0eXBlOiJhZGQiLG9iamVjdDpvfSxpKSxuLnByb3BlcnRpZXMucHVzaChiKSxfLnB1c2goaCkpOihzW3BdPW51bGwsYS0tLHQobyxuLHAsaSkpO3IobyxzLGEsbixpKX1lbHNlIGlmKCFuLmZyb3plbil7Zm9yKDttPHMubGVuZ3RoO20rKyliPXNbbV0sdChvLG4sbSxpLGQobyxiKSk7ZS5pc0Zyb3plbihvKSYmKG4uZnJvemVuPSEwKX1mJiYodj1mKG8pLHYhPT1uLnByb3RvJiYoaihvLG4se3R5cGU6InNldFByb3RvdHlwZSIsbmFtZToiX19wcm90b19fIixvYmplY3Q6byxvbGRWYWx1ZTpuLnByb3RvfSksbi5wcm90bz12KSl9fX0oKSx5PWZ1bmN0aW9uKCl7by5zaXplJiYoby5mb3JFYWNoKHYpLGkuZm9yRWFjaChfKSxwKHkpKX0sXz1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2hhbmdlUmVjb3JkcztyLmxlbmd0aCYmKGUuY2hhbmdlUmVjb3Jkcz1bXSx0KHIpKX0sZz1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDImJih0PW8uZ2V0KGUpKSx0JiZ0Lm5vdGlmaWVyfHx7bm90aWZ5OmZ1bmN0aW9uKHQpe3QudHlwZTt2YXIgcj1vLmdldChlKTtpZihyKXt2YXIgbixpPXtvYmplY3Q6ZX07Zm9yKG4gaW4gdCkib2JqZWN0IiE9PW4mJihpW25dPXRbbl0pO2ooZSxyLGkpfX0scGVyZm9ybUNoYW5nZTpmdW5jdGlvbih0LHIpe2lmKCJzdHJpbmciIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIG5vbi1zdHJpbmcgY2hhbmdlVHlwZSIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBwZXJmb3JtIG5vbi1mdW5jdGlvbiIpO3ZhciBpLHMsYT1vLmdldChlKSxjPWFyZ3VtZW50c1syXSx1PWM9PT1uP3IoKTpyLmNhbGwoYyk7aWYoYSYmdihhLGUsdCksYSYmdSYmIm9iamVjdCI9PXR5cGVvZiB1KXtzPXtvYmplY3Q6ZSx0eXBlOnR9O2ZvcihpIGluIHUpIm9iamVjdCIhPT1pJiYidHlwZSIhPT1pJiYoc1tpXT11W2ldKTtqKGUsYSxzKX19fX0sbT1mdW5jdGlvbihlLHQscixuKXt2YXIgbz1pLmdldChyKTtvfHxpLnNldChyLG89e29ic2VydmVkOnUoKSxjaGFuZ2VSZWNvcmRzOltdfSksby5vYnNlcnZlZC5zZXQoZSx7YWNjZXB0TGlzdDpuLnNsaWNlKCksZGF0YTp0fSksdC5oYW5kbGVycy5zZXQocixvKX0saj1mdW5jdGlvbihlLHQscixuKXt0LmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG89dC5vYnNlcnZlZC5nZXQoZSkuYWNjZXB0TGlzdDsoInN0cmluZyIhPXR5cGVvZiBufHwtMT09PWMobyxuKSkmJmMobyxyLnR5cGUpPi0xJiZ0LmNoYW5nZVJlY29yZHMucHVzaChyKX0pfTtvPXUoKSxpPXUoKSxlLm9ic2VydmU9ZnVuY3Rpb24odCxyLG8pe2lmKCF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBvYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTtpZihlLmlzRnJvemVuJiZlLmlzRnJvemVuKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIGEgZnJvemVuIGZ1bmN0aW9uIG9iamVjdCIpO2lmKG89PT1uKW89cztlbHNlIGlmKCFvfHwib2JqZWN0IiE9dHlwZW9mIG8pdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhpcmQgYXJndW1lbnQgdG8gT2JqZWN0Lm9ic2VydmUgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLiIpO3JldHVybiBiKHQscixvKSx0fSxlLnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PT1lfHwib2JqZWN0IiE9dHlwZW9mIGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IHVub2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgcixuPWkuZ2V0KHQpO3JldHVybiBuJiYocj1uLm9ic2VydmVkLmdldChlKSkmJihuLm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2KGUuZGF0YSx0KX0pLHAoZnVuY3Rpb24oKXtfKG4sdCl9KSwxPT09bi5vYnNlcnZlZC5zaXplJiZuLm9ic2VydmVkLmhhcyhlKT9pWyJkZWxldGUiXSh0KTpuLm9ic2VydmVkWyJkZWxldGUiXShlKSwxPT09ci5kYXRhLmhhbmRsZXJzLnNpemU/b1siZGVsZXRlIl0oZSk6ci5kYXRhLmhhbmRsZXJzWyJkZWxldGUiXSh0KSksZX0sZS5nZXROb3RpZmllcj1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZ2V0Tm90aWZpZXIgY2Fubm90IGdldE5vdGlmaWVyIG5vbi1vYmplY3QiKTtyZXR1cm4gZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KT9udWxsOmcodCl9LGUuZGVsaXZlckNoYW5nZVJlY29yZHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciB0PWkuZ2V0KGUpO3QmJih0Lm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2KGUuZGF0YSx0KX0pLF8odCxlKSl9fShPYmplY3QsQXJyYXksdGhpcyl9LHt9XSw5MjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLkRhdGFPYmplY3RPYnNlcnZlcj1yLkRhdGFPYmplY3RSZXBvcnRlcj1yLlN5bmNoZXI9dm9pZCAwLGUoIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSIpLGUoIm9iamVjdC5vYnNlcnZlIiksZSgiYXJyYXkub2JzZXJ2ZSIpO3ZhciBvPWUoIi4vc3luY2hlci9TeW5jaGVyIiksaT1uKG8pLHM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciIpLGE9bihzKSxjPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSx1PW4oYyk7ci5TeW5jaGVyPWlbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RSZXBvcnRlcj1hWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0T2JzZXJ2ZXI9dVsiZGVmYXVsdCJdfSx7Ii4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjk1LCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIjo5NiwiLi9zeW5jaGVyL1N5bmNoZXIiOjk5LCJhcnJheS5vYnNlcnZlIjoxLCJtdXRhdGlvbm9ic2VydmVyLXNoaW0iOjkwLCJvYmplY3Qub2JzZXJ2ZSI6OTF9XSw5MzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihjKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoIi4vU3luY09iamVjdCIpLHA9bihkKSxiPWUoIi4vRGF0YU9iamVjdENoaWxkIiksaD1uKGIpLHY9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBhPXRoaXM7YS5fc3luY2hlcj10LGEuX3VybD1yLGEuX3NjaGVtYT1uLGEuX3N0YXR1cz1vLGEuX3N5bmNPYmo9bmV3IHBbImRlZmF1bHQiXShpKSxhLl9jaGlsZHJlbnM9cyxhLl92ZXJzaW9uPTAsYS5fY2hpbGRJZD0wLGEuX2NoaWxkcmVuT2JqZWN0cz17fSxhLl9jaGlsZHJlbkxpc3RlbmVycz1bXSxhLl9vd25lcj10Ll9vd25lcixhLl9idXM9dC5fYnVzfXJldHVybigwLGZbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLHI9dC5fdXJsKyIvY2hpbGRyZW4vIjt0Ll9jaGlsZHJlbnMmJnQuX2NoaWxkcmVucy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBvPXIrbixpPXQuX2J1cy5hZGRMaXN0ZW5lcihvLGZ1bmN0aW9uKHIpe2lmKHIuZnJvbSE9PWUuX293bmVyKXN3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC1DaGlsZHJlbi1SQ1Y6ICIsciksci50eXBlKXtjYXNlImNyZWF0ZSI6dC5fb25DaGlsZENyZWF0ZShyKTticmVhaztjYXNlImRlbGV0ZSI6Y29uc29sZS5sb2cocik7YnJlYWs7ZGVmYXVsdDp0Ll9jaGFuZ2VDaGlsZHJlbihyKX19KTt0Ll9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pLCgwLGFbImRlZmF1bHQiXSkoZS5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2NoaWxkcmVuT2JqZWN0c1t0XS5fcmVsZWFzZUxpc3RlbmVycygpfSl9fSx7a2V5OiJwYXVzZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToicmVzdW1lIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJzdG9wIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJhZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3IuX2NoaWxkSWQrKzt2YXIgbj1yLl9vd25lcisiIyIrci5fY2hpbGRJZCxvPXIuX3VybCsiL2NoaWxkcmVuLyIrZSxzPXt0eXBlOiJjcmVhdGUiLGZyb206ci5fb3duZXIsdG86byxib2R5OntyZXNvdXJjZTpuLHZhbHVlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlKXt2YXIgaT1yLl9idXMucG9zdE1lc3NhZ2Uocyk7Y29uc29sZS5sb2coImNyZWF0ZS1yZXBvcnRlci1jaGlsZCggIityLl9vd25lcisiICk6ICIscyk7dmFyIGE9bmV3IGhbImRlZmF1bHQiXShyLG4sdCxyLl9vd25lcixpKTthLm9uQ2hhbmdlKGZ1bmN0aW9uKGUpe3IuX29uQ2hhbmdlKGUse3BhdGg6byxjaGlsZElkOm59KX0pLHIuX2NoaWxkcmVuT2JqZWN0c1tuXT1hLGUoYSl9KX19LHtrZXk6Im9uQWRkQ2hpbGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uQWRkQ2hpbGRyZW5IYW5kbGVyPWV9fSx7a2V5OiJfb25DaGlsZENyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZTtjb25zb2xlLmxvZygiY3JlYXRlLW9ic2VydmVyLWNoaWxkKCAiK3QuX293bmVyKyIgKTogIixlKTt2YXIgbj1uZXcgaFsiZGVmYXVsdCJdKHQscixlLmJvZHkudmFsdWUpO3QuX2NoaWxkcmVuT2JqZWN0c1tyXT1uLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc291cmNlOnQuX293bmVyfX0pfSk7dmFyIG89e3R5cGU6ZS50eXBlLGZyb206ZS5mcm9tLHVybDplLnRvLHZhbHVlOmUuYm9keS52YWx1ZSxjaGlsZElkOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5fTt0Ll9vbkFkZENoaWxkcmVuSGFuZGxlciYmKGNvbnNvbGUubG9nKCJBREQtQ0hJTERSRU4tRVZFTlQ6ICIsbyksdC5fb25BZGRDaGlsZHJlbkhhbmRsZXIobykpfX0se2tleToiX29uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisrLCJvbiI9PT1yLl9zdGF0dXMpe3ZhciBuPXt0eXBlOiJ1cGRhdGUiLGZyb206ci5fdXJsLHRvOnIuX3VybCsiL2NoYW5nZXMiLGJvZHk6e3ZlcnNpb246ci5fdmVyc2lvbixzb3VyY2U6ci5fb3duZXIsYXR0cmlidXRlOmUuZmllbGR9fTtlLm9UeXBlPT09ZC5PYmplY3RUeXBlLk9CSkVDVD9lLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSYmKG4uYm9keS52YWx1ZT1lLmRhdGEpOihuLmJvZHkuYXR0cmlidXRlVHlwZT1lLm9UeXBlLG4uYm9keS52YWx1ZT1lLmRhdGEsZS5jVHlwZSE9PWQuQ2hhbmdlVHlwZS5VUERBVEUmJihuLmJvZHkub3BlcmF0aW9uPWUuY1R5cGUpKSx0JiYobi50bz10LnBhdGgsbi5ib2R5LnJlc291cmNlPXQuY2hpbGRJZCksci5fYnVzLnBvc3RNZXNzYWdlKG4pfX19LHtrZXk6Il9jaGFuZ2VPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKzE9PT10LmJvZHkudmVyc2lvbil7ci5fdmVyc2lvbisrO3ZhciBuPXQuYm9keS5hdHRyaWJ1dGUsbz0oMCx2LmRlZXBDbG9uZSkodC5ib2R5LnZhbHVlKSxpPWUuZmluZEJlZm9yZShuKTtpZih0LmJvZHkuYXR0cmlidXRlVHlwZT09PWQuT2JqZWN0VHlwZS5BUlJBWSlpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLkFERCl7dmFyIHM9aS5vYmosYT1pLmxhc3Q7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzLFthLDBdLmNvbmNhdChvKSl9ZWxzZSBpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSl7dmFyIGM9aS5vYmosdT1pLmxhc3Q7Yy5zcGxpY2UodSxvKX1lbHNlIGkub2JqW2kubGFzdF09bztlbHNlIHQuYm9keS52YWx1ZT9pLm9ialtpLmxhc3RdPW86ZGVsZXRlIGkub2JqW2kubGFzdF19ZWxzZSBjb25zb2xlLmxvZygiVU5TWU5DSFJPTklaRUQgVkVSU0lPTjogKGRhdGEgPT4gIityLl92ZXJzaW9uKyIsIG1zZyA9PiAiK3QuYm9keS52ZXJzaW9uKyIpIil9fSx7a2V5OiJfY2hhbmdlQ2hpbGRyZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Y29uc29sZS5sb2coIkNoYW5nZSBjaGlsZHJlbjogIix0Ll9vd25lcixlKTt2YXIgcj1lLmJvZHkucmVzb3VyY2Usbj10Ll9jaGlsZHJlbk9iamVjdHNbcl07bj90Ll9jaGFuZ2VPYmplY3Qobi5fc3luY09iaixlKTpjb25zb2xlLmxvZygiTm8gY2hpbGRyZW4gZm91bmQgZm9yOiAiLHIpfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NoZW1hfX0se2tleToic3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19LHtrZXk6ImNoaWxkcmVucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuT2JqZWN0c319XSksZX0oKTtyWyJkZWZhdWx0Il09eSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMDAsIi4vRGF0YU9iamVjdENoaWxkIjo5NCwiLi9TeW5jT2JqZWN0Ijo5OCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bihzKSxjPWUoIi4vU3luY09iamVjdCIpLHU9bihjKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvLHMpeygwLGlbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgYT10aGlzO2EuX3BhcmVudD10LGEuX2NoaWxkSWQ9cixhLl9vd25lcj1vLGEuX21zZ0lkPXMsYS5fc3luY09iaj1uZXcgdVsiZGVmYXVsdCJdKG4pLGEuX2J1cz10Ll9idXMsYS5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxhWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX293bmVyJiYoZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX293bmVyLGZ1bmN0aW9uKHQpeyJyZXNwb25zZSI9PT10LnR5cGUmJnQuaWQ9PT1lLl9tc2dJZCYmKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0Q2hpbGQub25SZXNwb25zZToiLHQpLGUuX29uUmVzcG9uc2UodCkpfSkpfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lciYmZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztkZWxldGUgZS5fcGFyZW50Ll9jaGlsZHJlbltlLl9jaGlsZElkXSxlLl9yZWxlYXNlTGlzdGVuZXJzKCl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKHQpe2UodCl9KX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5ib2R5LnNvdXJjZSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmdC5fb25SZXNwb25zZUhhbmRsZXIocil9fSx7a2V5OiJjaGlsZElkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRJZH19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL1N5bmNPYmplY3QiOjk4LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iKSxwPW4oZCksYj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IiksaD1uKGIpLHY9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikseT1uKHYpLF89ZSgiLi9EYXRhT2JqZWN0IiksZz1uKF8pLG09ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxqPW4obSksJD17QU5ZOiJhbnkiLFNUQVJUOiJzdGFydCIsRVhBQ1Q6ImV4YWN0In0sTz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLG8scyxjLGwpeygwLHVbImRlZmF1bHQiXSkodGhpcyx0KTt2YXIgZj0oMCxwWyJkZWZhdWx0Il0pKHRoaXMsKDAsYVsiZGVmYXVsdCJdKSh0KS5jYWxsKHRoaXMsZSxyLG4sbyxzLmRhdGEsYykpLGQ9ZjtyZXR1cm4gZC5fdmVyc2lvbj1sLGQuX2ZpbHRlcnM9e30sZC5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKGUpe2QuX29uRmlsdGVyKGUpfSksKDAsaVsiZGVmYXVsdCJdKShzLmNoaWxkcmVucykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1zLmNoaWxkcmVuc1tlXTtkLl9jaGlsZHJlbk9iamVjdHNbZV09bmV3IGpbImRlZmF1bHQiXShkLGUsdCl9KSxkLl9hbGxvY2F0ZUxpc3RlbmVycygpLGZ9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX2NoYW5nZUxpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwrIi9jaGFuZ2VzIixmdW5jdGlvbih0KXsidXBkYXRlIj09PXQudHlwZSYmKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0T2JzZXJ2ZXItIitlLl91cmwrIi1SQ1Y6ICIsdCksZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX2NoYW5nZUxpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXX19LHtrZXk6InVuc3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToidW5zdWJzY3JpYmUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0T2JzZXJ2ZXItVU5TVUJTQ1JJQkU6ICIsdCksMjAwPT09dC5ib2R5LmNvZGUmJihlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdKX0pfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSxuPXt0eXBlOiQuRVhBQ1QsY2FsbGJhY2s6dH0sbz1lLmluZGV4T2YoIioiKTtvPT09ZS5sZW5ndGgtMSYmKDA9PT1vP24udHlwZT0kLkFOWToobi50eXBlPSQuU1RBUlQscj1lLnN1YnN0cigwLGUubGVuZ3RoLTEpKSksdGhpcy5fZmlsdGVyc1tyXT1ufX0se2tleToiX29uRmlsdGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodC5fZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9maWx0ZXJzW3JdO24udHlwZT09PSQuQU5ZP24uY2FsbGJhY2soZSk6bi50eXBlPT09JC5TVEFSVD8wPT09ZS5maWVsZC5pbmRleE9mKHIpJiZuLmNhbGxiYWNrKGUpOm4udHlwZT09PSQuRVhBQ1QmJmUuZmllbGQ9PT1yJiZuLmNhbGxiYWNrKGUpfSl9fV0pLHR9KGdbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPU8sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0RhdGFPYmplY3QiOjkzLCIuL0RhdGFPYmplY3RDaGlsZCI6OTQsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE1fV0sOTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iKSxwPW4oZCksYj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IiksaD1uKGIpLHY9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikseT1uKHYpLF89ZSgiLi9EYXRhT2JqZWN0IiksZz1uKF8pLG09ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxqPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxpLHMpeygwLHVbImRlZmF1bHQiXSkodGhpcyx0KTt2YXIgYz0oMCxwWyJkZWZhdWx0Il0pKHRoaXMsKDAsYVsiZGVmYXVsdCJdKSh0KS5jYWxsKHRoaXMsZSxyLG4sbyxpLHMpKSxsPWM7cmV0dXJuIGwuX3N1YnNjcmlwdGlvbnM9e30sbC5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItIityKyItU0VORDogIixlKSxsLl9vbkNoYW5nZShlKX0pLGwuX2FsbG9jYXRlTGlzdGVuZXJzKCksY31yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fcmVzcG9uc2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpeyJyZXNwb25zZSI9PT10LnR5cGUmJmUuX29uUmVzcG9uc2UodCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fcmVzcG9uc2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6Imludml0ZU9ic2VydmVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJjcmVhdGUiLGZyb206dC5fc3luY2hlci5fb3duZXIsdG86dC5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOnQuX3VybCxzY2hlbWE6dC5fc2NoZW1hLHZhbHVlOnQuX3N5bmNPYmouZGF0YSxhdXRob3Jpc2U6ZX19O3QuX2J1cy5wb3N0TWVzc2FnZShyKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6ImRlbGV0ZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci1ERUxFVEU6ICIsdCksMjAwPT09dC5ib2R5LmNvZGUmJihlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX3JlcG9ydGVyc1tlLl91cmxdKX0pfX0se2tleToib25TdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uU3Vic2NyaXB0aW9uSGFuZGxlcj1lfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGFjY2VwdDpmdW5jdGlvbigpe3ZhciBuPXt1cmw6cixzdGF0dXM6Im9uIn07dC5fc3Vic2NyaXB0aW9uc1tyXT1uO3ZhciBvPXt9O3JldHVybigwLGlbImRlZmF1bHQiXSkodC5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuX2NoaWxkcmVuT2JqZWN0c1tlXS5kYXRhO29bZV09KDAsbS5kZWVwQ2xvbmUpKHIpfSksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNjaGVtYTp0Ll9zY2hlbWEsdmVyc2lvbjp0Ll92ZXJzaW9uLHZhbHVlOntkYXRhOigwLG0uZGVlcENsb25lKSh0LmRhdGEpLGNoaWxkcmVuczpvfX19KSxufSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAzLGRlc2M6cn19KX19O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJTVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj10Ll9zdWJzY3JpcHRpb25zW3JdO2RlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLG9iamVjdDpufTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiVU4tU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFU1BPTlNFLUVWRU5UOiAiLHIpLHQuX29uUmVzcG9uc2VIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShnWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1qLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Ijo5MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4ocyksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBzPXRoaXM7cy5fb3duZXI9dCxzLl91cmw9cixzLl9idXM9bixzLl9jaGlsZHJlbj1vLHMuX2NoYW5nZXM9W10scy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxhWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFQcm92aXNpb25hbC0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VzLnB1c2godCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCl9KX19LHtrZXk6ImNoaWxkcmVuIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59fV0pLGV9KCk7clsiZGVmYXVsdCJdPWMsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG4pO2Zvcih2YXIgbyBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W29dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG8pLHRbb10pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbik7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgcCh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG4gaW4gdCl7dmFyIG89dFtuXS5vYmplY3QsaT12b2lkIDA7aWYoby5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9aC5PQkpFQ1QpLG8uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9aC5BUlJBWSksInNwbGljZSI9PT10W25dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtuXS5pbmRleCxhPWVbIm5ldyJdKCIiK3MpLGM9YS50b1N0cmluZygpLHU9dFtuXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtuXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG4pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK24pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLlJFTU9WRSxvVHlwZTppLGZpZWxkOmMsZGF0YTp1fSl9dmFyIGQ9dFtuXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgaD1vLnNsaWNlKHMscytkKTtoLmZvckVhY2goZnVuY3Rpb24odCxuKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWVbIm5ldyJdKG5ldyBwKHQscytuKSk7ci5faW50ZXJuYWxPYnNlcnZlKG8sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoaCl9KX1zIT09by5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShvKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbbl0ubmFtZSksYT1zLnRvU3RyaW5nKCk7aWYoLTEhPT1hLmluZGV4T2YoIlN5bWJvbCIpKWNvbnRpbnVlO3ZhciBjPW9bdFtuXS5uYW1lXTsidXBkYXRlIj09PXRbbl0udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLlVQREFURSxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSwiYWRkIj09PXRbbl0udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGMpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5BREQsb1R5cGU6aSxmaWVsZDphLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGMpfSkpLCJkZWxldGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YX0pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fb2JzZXJ2YWJsZXNbcl0sbz1lLmluZGV4T2Yobi5vYmopO24uaWR4IT1vJiYobi5pZHg9byxkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbb109bil9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09cCYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLGI9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0saD1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5OTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLHU9bihjKSxsPWUoIi4vRGF0YU9iamVjdFJlcG9ydGVyIiksZj1uKGwpLGQ9ZSgiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSxwPW4oZCksYj1lKCIuL0RhdGFQcm92aXNpb25hbCIpLGg9bihiKSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBvPXRoaXM7by5fb3duZXI9dCxvLl9idXM9cixvLl9zdWJVUkw9bi5ydW50aW1lVVJMKyIvc20iLG8uX3JlcG9ydGVycz17fSxvLl9vYnNlcnZlcnM9e30sby5fcHJvdmlzaW9uYWxzPXt9LHIuYWRkTGlzdGVuZXIodCxmdW5jdGlvbihlKXtpZihlLmZyb20hPT10KXN3aXRjaChjb25zb2xlLmxvZygiU3luY2hlci1SQ1Y6ICIsZSksZS50eXBlKXtjYXNlImZvcndhcmQiOm8uX29uRm9yd2FyZChlKTticmVhaztjYXNlImNyZWF0ZSI6by5fb25SZW1vdGVDcmVhdGUoZSk7YnJlYWs7Y2FzZSJkZWxldGUiOm8uX29uUmVtb3RlRGVsZXRlKGUpfX0pfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyLnJlcG9ydGVyPW4uX293bmVyLHIuc2NoZW1hPWU7dmFyIG89e3R5cGU6ImNyZWF0ZSIsZnJvbTpuLl9vd25lcix0bzpuLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUsdmFsdWU6cixhdXRob3Jpc2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsaSl7bi5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7aWYoY29uc29sZS5sb2coImNyZWF0ZS1yZXNwb25zZTogIixvKSwyMDA9PT1vLmJvZHkuY29kZSl7dmFyIHM9by5ib2R5LnJlc291cmNlLGE9bmV3IGZbImRlZmF1bHQiXShuLHMsZSwib24iLHIsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKTtuLl9yZXBvcnRlcnNbc109YSx0KGEpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToic3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17dHlwZToic3Vic2NyaWJlIixmcm9tOnIuX293bmVyLHRvOnIuX3N1YlVSTCxib2R5OntzY2hlbWE6ZSxyZXNvdXJjZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24obyxpKXtyLl9idXMucG9zdE1lc3NhZ2UobixmdW5jdGlvbihuKXtjb25zb2xlLmxvZygic3Vic2NyaWJlLXJlc3BvbnNlOiAiLG4pO3ZhciBzPXIuX3Byb3Zpc2lvbmFsc1t0XTtpZihkZWxldGUgci5fcHJvdmlzaW9uYWxzW3RdLHMmJnMuX3JlbGVhc2VMaXN0ZW5lcnMoKSxuLmJvZHkuY29kZTwyMDApcz1uZXcgaFsiZGVmYXVsdCJdKHIuX293bmVyLHQsci5fYnVzLG4uYm9keS5jaGlsZHJlblJlc291cmNlcyksci5fcHJvdmlzaW9uYWxzW3RdPXM7ZWxzZSBpZigyMDA9PT1uLmJvZHkuY29kZSl7dmFyIGE9bmV3IHBbImRlZmF1bHQiXShyLHQsZSwib24iLG4uYm9keS52YWx1ZSxzLmNoaWxkcmVuLG4uYm9keS52ZXJzaW9uKTtyLl9vYnNlcnZlcnNbdF09YSxvKGEpLHMuYXBwbHkoYSl9ZWxzZSBpKG4uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxuPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm59fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj10Ll9vYnNlcnZlcnNbcl07aWYobil7dmFyIG89e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm5bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09dix0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjo5NSwiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL0RhdGFQcm92aXNpb25hbCI6OTcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sMTAwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLGJbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGMoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihmKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGI9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YSxyLmdldFVzZXJVUkxGcm9tRW1haWw9YyxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbOTJdKSg5Mil9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JztPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ZmFsc2U7ZGVzY3JpcHRvci5jb25maWd1cmFibGU9dHJ1ZTtpZigidmFsdWUiIGluIGRlc2NyaXB0b3IpZGVzY3JpcHRvci53cml0YWJsZT10cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcik7fX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7aWYocHJvdG9Qcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKTtpZihzdGF0aWNQcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKTtyZXR1cm4gQ29uc3RydWN0b3I7fTt9KCk7dmFyIF9FdmVudEVtaXR0ZXIyPXJlcXVpcmUoJy4uL3V0aWxzL0V2ZW50RW1pdHRlcicpO3ZhciBfRXZlbnRFbWl0dGVyMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudEVtaXR0ZXIyKTt2YXIgX3BhcnRpY2lwYW50PXJlcXVpcmUoJy4vcGFydGljaXBhbnQnKTt2YXIgX3BhcnRpY2lwYW50Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYXJ0aWNpcGFudCk7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9O31mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO319ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil7dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTt9cmV0dXJuIGNhbGwmJih0eXBlb2YgY2FsbD09PSJvYmplY3QifHx0eXBlb2YgY2FsbD09PSJmdW5jdGlvbiIpP2NhbGw6c2VsZjt9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKHR5cGVvZiBzdXBlckNsYXNzIT09ImZ1bmN0aW9uIiYmc3VwZXJDbGFzcyE9PW51bGwpe3Rocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2Ygc3VwZXJDbGFzcyk7fXN1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTpmYWxzZSx3cml0YWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfX0pO2lmKHN1cGVyQ2xhc3MpT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzczt9IC8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqL3ZhciBDaGF0R3JvdXA9ZnVuY3Rpb24oX0V2ZW50RW1pdHRlcil7X2luaGVyaXRzKENoYXRHcm91cCxfRXZlbnRFbWl0dGVyKTtmdW5jdGlvbiBDaGF0R3JvdXAoc3luY2hlcixoeXBlcnR5RGlzY292ZXJ5LGRvbWFpbil7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQ2hhdEdyb3VwKTtpZighc3luY2hlcil0aHJvdyBFcnJvcignU3luY2hlciBpcyBhIG5lY2Vzc2FyeSBkZXBlbmRlY3knKTtpZighaHlwZXJ0eURpc2NvdmVyeSl0aHJvdyBFcnJvcignSHlwZXJ0eSBkaXNjb3ZlciBpcyBhIG5lY2Vzc2FyeSBkZXBlbmRlY3knKTt2YXIgX3RoaXMyPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKENoYXRHcm91cCkuY2FsbCh0aGlzLHN5bmNoZXIsaHlwZXJ0eURpc2NvdmVyeSkpO3ZhciBfdGhpcz1fdGhpczI7X3RoaXMuX3N5bmNoZXI9c3luY2hlcjtfdGhpcy5faHlwZXJ0eURpc2NvdmVyeT1oeXBlcnR5RGlzY292ZXJ5O190aGlzLl9vYmplY3REZXNjVVJMPSdoeXBlcnR5LWNhdGFsb2d1ZTovLycrZG9tYWluKycvLndlbGwta25vd24vZGF0YXNjaGVtYXMvQ29tbXVuaWNhdGlvbic7cmV0dXJuIF90aGlzMjt9X2NyZWF0ZUNsYXNzKENoYXRHcm91cCxbe2tleToncHJvY2Vzc1BhcnRpcGFudHMnLHZhbHVlOmZ1bmN0aW9uIHByb2Nlc3NQYXJ0aXBhbnRzKHBhcnRpY2lwYW50cyl7dmFyIF90aGlzPXRoaXM7cGFydGljaXBhbnRzLmZvckVhY2goZnVuY3Rpb24ocGFydGljaXBhbnQpe2lmKF90aGlzLl9kYXRhT2JqZWN0T2JzZXJ2ZXIuX293bmVyIT09cGFydGljaXBhbnQuaHlwZXJ0eVJlc291cmNlKXtfdGhpcy5wcm9jZXNzUGFydGljaXBhbnQocGFydGljaXBhbnQpO319KTt9fSx7a2V5Oidwcm9jZXNzUGFydGljaXBhbnQnLHZhbHVlOmZ1bmN0aW9uIHByb2Nlc3NQYXJ0aWNpcGFudChwYXJ0aWNpcGFudCl7dmFyIF90aGlzPXRoaXM7Y29uc29sZS5sb2coJ0VhY2ggUGFydGljaXBhbnQgd2lsbCBiZSB0cmlnZ2VyOiAnLHBhcnRpY2lwYW50KTtfdGhpcy50cmlnZ2VyKCdwYXJ0aWNpcGFudDphZGRlZCcscGFydGljaXBhbnQpO30gLyoqCiAgICogUHJvY2VzcyBjaGlsZCBtZXNzYWdlcwogICAqIEBwYXJhbSAge1t0eXBlXX0gY2hpbGQgW2Rlc2NyaXB0aW9uXQogICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgW2Rlc2NyaXB0aW9uXQogICAqL30se2tleTonX3Byb2Nlc3NDaGlsZCcsdmFsdWU6ZnVuY3Rpb24gX3Byb2Nlc3NDaGlsZChjaGlsZCl7dmFyIF90aGlzPXRoaXM7Y29uc29sZS5pbmZvKCdQcm9jZXNzIE1lc3NhZ2U6JyxjaGlsZCk7X3RoaXMudHJpZ2dlcignbmV3Om1lc3NhZ2U6cmVjaXZlZCcsY2hpbGQpO30gLyoqCiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHNlbmQgYSBjaGF0IG1lc3NhZ2UuCiAgICogQHBhcmFtICB7TWVzc2FnZX0gbWVzc2FnZSB0ZXh0IHRvIGJlIHNlbmQKICAgKi99LHtrZXk6J3NlbmQnLHZhbHVlOmZ1bmN0aW9uIHNlbmQobWVzc2FnZSl7Y29uc29sZS5pbmZvKCdTZW5kIE1lc3NhZ2U6JyxtZXNzYWdlLHRoaXMpO3ZhciBfdGhpcz10aGlzO3ZhciBkYXRhT2JqZWN0PV90aGlzLmRhdGFPYmplY3RSZXBvcnRlcj9fdGhpcy5kYXRhT2JqZWN0UmVwb3J0ZXI6X3RoaXMuZGF0YU9iamVjdE9ic2VydmVyO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZGF0YU9iamVjdC5hZGRDaGlsZCgnY2hhdG1lc3NhZ2VzJyx7Y2hhdE1lc3NhZ2U6bWVzc2FnZX0pLnRoZW4oZnVuY3Rpb24oZGF0YU9iamVjdENoaWxkKXtjb25zb2xlLmluZm8oJ0RhdGEgT2JqZWN0IENoaWxkOiAnLGRhdGFPYmplY3RDaGlsZCk7dmFyIG1zZz17Y2hpbGRJZDpkYXRhT2JqZWN0Q2hpbGQuX2NoaWxkSWQsZnJvbTpkYXRhT2JqZWN0Q2hpbGQuX293bmVyLHZhbHVlOmRhdGFPYmplY3RDaGlsZC5kYXRhfTtfdGhpcy5fcHJvY2Vzc0NoaWxkKG1zZyk7cmVzb2x2ZShkYXRhT2JqZWN0Q2hpbGQpO30pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7Y29uc29sZS5lcnJvcignUmVhc29uOicscmVhc29uKTtyZWplY3QocmVhc29uKTt9KTt9KTt9IC8qKgogICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjbG9zZSBhbiBleGlzdGluZyBHcm91cCBDaGF0IGluc3RhbmNlLgogICAqCiAgICovfSx7a2V5OidjbG9zZScsdmFsdWU6ZnVuY3Rpb24gY2xvc2UoKXt9fSx7a2V5Oidqb2luJyx2YWx1ZTpmdW5jdGlvbiBqb2luKHJlc291cmNlKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe190aGlzLmFkZFBhcnRpY2lwYW50KHJlc291cmNlKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7cmVzb2x2ZSgnam9pbmVkOiAnLHJlc3VsdCk7fSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtyZWplY3QocmVhc29uKTt9KTt9KTt9IC8vIFRPRE86IGltcHJvdmUgdGhpcyB3aXRoIGFuIGludml0ZTsKLyoqCiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGFkZCAvIGludml0ZSBuZXcgcGFydGljaXBhbnQgb24gYW4gZXhpc3RpbmcgR3JvdXAgQ2hhdCBpbnN0YW5jZS4KICAgKiBAcmV0dXJuIHtQcm9taXNlfSBQcm9taXNlIHdpdGggdGhlIHN0YXR1cwogICAqL30se2tleTonYWRkUGFydGljaXBhbnQnLHZhbHVlOmZ1bmN0aW9uIGFkZFBhcnRpY2lwYW50KGVtYWlsKXt2YXIgX3RoaXM9dGhpczt2YXIgc3luY2hlcj1fdGhpcy5fc3luY2hlcjtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe30pO30gLyoqCiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJlbW92ZSBhIHBhcnRpY2lwYW50IGZyb20gYW4gZXhpc3RpbmcgR3JvdXAgQ2hhdCBpbnN0YW5jZS4KICAgKiBAcmV0dXJuIHtQcm9taXNlfSBQcm9taXNlIHdpdGggdGhlIHN0YXR1cwogICAqL30se2tleToncmVtb3ZlUGFydGljaXBhbnQnLHZhbHVlOmZ1bmN0aW9uIHJlbW92ZVBhcnRpY2lwYW50KCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt0cnl7cmVzb2x2ZSgncGFydGljaXBhbnQgcmVtb3ZlZCcpO31jYXRjaChlKXtyZWplY3QoJ3JlbW92ZSBwYXJ0aWNpcGFudCBmYWlsJyk7fX0pO30gLyoqCiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIG9wZW4gYSBHcm91cCBDaGF0IGluc3RhbmNlIHRoYXQgd2FzIHByZXZpb3VzbHkgY2xvc2VkLgogICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXQogICAqL30se2tleTonb3BlbicsdmFsdWU6ZnVuY3Rpb24gb3Blbigpe319LHtrZXk6J2RhdGFPYmplY3RSZXBvcnRlcicsc2V0OmZ1bmN0aW9uIHNldChkYXRhT2JqZWN0UmVwb3J0ZXIpe2lmKCFkYXRhT2JqZWN0UmVwb3J0ZXIpdGhyb3cgbmV3IEVycm9yKCdUaGUgZGF0YSBvYmplY3QgcmVwb3J0ZXIgaXMgbmVjZXNzYXJ5IHBhcmFtZXRlcicpO3ZhciBfdGhpcz10aGlzO2NvbnNvbGUuaW5mbygnU2V0IGRhdGEgb2JqZWN0IHJlcG9ydGVyOiAnLGRhdGFPYmplY3RSZXBvcnRlcik7ZGF0YU9iamVjdFJlcG9ydGVyLm9uU3Vic2NyaXB0aW9uKGZ1bmN0aW9uKGV2ZW50KXtldmVudC5hY2NlcHQoKTsgLy8gU2V0IHRoZSBvdGhlciBzdWJzY3JpcHRpb24gbGlrZSBhIHBhcnRpY2lwYW50Cl9wYXJ0aWNpcGFudDIuZGVmYXVsdC5oeXBlcnR5UmVzb3VyY2U9ZXZlbnQudXJsO2NvbnNvbGUuaW5mbygnT24gU3Vic2NyaXB0aW9uIGFkZCBQYXJ0aWNpcGFudDogJyxfcGFydGljaXBhbnQyLmRlZmF1bHQsZXZlbnQpO2RhdGFPYmplY3RSZXBvcnRlci5kYXRhLnBhcnRpY2lwYW50cy5wdXNoKF9wYXJ0aWNpcGFudDIuZGVmYXVsdCk7X3RoaXMucHJvY2Vzc1BhcnRpY2lwYW50KF9wYXJ0aWNpcGFudDIuZGVmYXVsdCk7fSk7ZGF0YU9iamVjdFJlcG9ydGVyLm9uQWRkQ2hpbGQoZnVuY3Rpb24oY2hpbGQpe2NvbnNvbGUuaW5mbygnUmVwb3J0ZXIgLSBBZGQgQ2hpbGQ6ICcsY2hpbGQpO2RhdGFPYmplY3RSZXBvcnRlci5kYXRhLmxhc3RNb2RpZmllZD1uZXcgRGF0ZSgpLnRvSlNPTigpO190aGlzLl9wcm9jZXNzQ2hpbGQoY2hpbGQpO30pO190aGlzLl9kYXRhT2JqZWN0UmVwb3J0ZXI9ZGF0YU9iamVjdFJlcG9ydGVyO30sZ2V0OmZ1bmN0aW9uIGdldCgpe3ZhciBfdGhpcz10aGlzO3JldHVybiBfdGhpcy5fZGF0YU9iamVjdFJlcG9ydGVyO319LHtrZXk6J2RhdGFPYmplY3RPYnNlcnZlcicsc2V0OmZ1bmN0aW9uIHNldChkYXRhT2JqZWN0T2JzZXJ2ZXIpe3ZhciBfdGhpcz10aGlzO190aGlzLl9kYXRhT2JqZWN0T2JzZXJ2ZXI9ZGF0YU9iamVjdE9ic2VydmVyO2RhdGFPYmplY3RPYnNlcnZlci5vbkNoYW5nZSgncGFydGljaXBhbnRzLionLGZ1bmN0aW9uKGV2ZW50KXtjb25zb2xlLmluZm8oJ0NoYW5nZSBFdmVudDogJyxldmVudCk7X3RoaXMucHJvY2Vzc1BhcnRpcGFudHMoZXZlbnQuZGF0YSk7fSk7ZGF0YU9iamVjdE9ic2VydmVyLm9uQWRkQ2hpbGQoZnVuY3Rpb24oY2hpbGQpe2NvbnNvbGUuaW5mbygnT2JzZXJ2ZXIgLSBBZGQgQ2hpbGQ6ICcsY2hpbGQpO190aGlzLl9wcm9jZXNzQ2hpbGQoY2hpbGQpO30pO30sZ2V0OmZ1bmN0aW9uIGdldCgpe3ZhciBfdGhpcz10aGlzO3JldHVybiBfdGhpcy5fZGF0YU9iamVjdE9ic2VydmVyO319LHtrZXk6J2RhdGFPYmplY3QnLGdldDpmdW5jdGlvbiBnZXQoKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gX3RoaXMuX2RhdGFPYmplY3RSZXBvcnRlcj9fdGhpcy5kYXRhT2JqZWN0UmVwb3J0ZXI6X3RoaXMuZGF0YU9iamVjdE9ic2VydmVyO319XSk7cmV0dXJuIENoYXRHcm91cDt9KF9FdmVudEVtaXR0ZXIzLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1DaGF0R3JvdXA7bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4uL3V0aWxzL0V2ZW50RW1pdHRlciI6NywiLi9wYXJ0aWNpcGFudCI6Nn1dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTp0cnVlfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fGZhbHNlO2Rlc2NyaXB0b3IuY29uZmlndXJhYmxlPXRydWU7aWYoInZhbHVlIiBpbiBkZXNjcmlwdG9yKWRlc2NyaXB0b3Iud3JpdGFibGU9dHJ1ZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpO319cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe2lmKHByb3RvUHJvcHMpZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyk7aWYoc3RhdGljUHJvcHMpZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyk7cmV0dXJuIENvbnN0cnVjdG9yO307fSgpO2V4cG9ydHMuZGVmYXVsdD1hY3RpdmF0ZTt2YXIgX0h5cGVydHlEaXNjb3Zlcnk9cmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9IeXBlcnR5RGlzY292ZXJ5Jyk7dmFyIF9IeXBlcnR5RGlzY292ZXJ5Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9IeXBlcnR5RGlzY292ZXJ5KTt2YXIgX1N5bmNoZXI9cmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyJyk7dmFyIF9FdmVudEVtaXR0ZXIyPXJlcXVpcmUoJy4uL3V0aWxzL0V2ZW50RW1pdHRlcicpO3ZhciBfRXZlbnRFbWl0dGVyMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudEVtaXR0ZXIyKTt2YXIgX3V0aWxzPXJlcXVpcmUoJy4uL3V0aWxzL3V0aWxzJyk7dmFyIF9jb21tdW5pY2F0aW9uPXJlcXVpcmUoJy4vY29tbXVuaWNhdGlvbicpO3ZhciBfcGFydGljaXBhbnQ9cmVxdWlyZSgnLi9wYXJ0aWNpcGFudCcpO3ZhciBfcGFydGljaXBhbnQyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcnRpY2lwYW50KTt2YXIgX0NoYXQ9cmVxdWlyZSgnLi9DaGF0Jyk7dmFyIF9DaGF0Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaGF0KTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian07fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7fX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXt0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO31yZXR1cm4gY2FsbCYmKHR5cGVvZiBjYWxsPT09Im9iamVjdCJ8fHR5cGVvZiBjYWxsPT09ImZ1bmN0aW9uIik/Y2FsbDpzZWxmO31mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYodHlwZW9mIHN1cGVyQ2xhc3MhPT0iZnVuY3Rpb24iJiZzdXBlckNsYXNzIT09bnVsbCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiBzdXBlckNsYXNzKTt9c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOmZhbHNlLHdyaXRhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9fSk7aWYoc3VwZXJDbGFzcylPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzO30gLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovIC8vIFNlcnZpY2UgRnJhbWV3b3JrCi8vIFV0aWxzCi8vIEludGVybmFscwovKioKKiBIeXBlcnR5IENoYXQ7CiogQGF1dGhvciBWaXRvciBTaWx2YSBbdml0b3ItdC1zaWx2YUB0ZWxlY29tLnB0XQoqIEB2ZXJzaW9uIDAuMS4wCiovdmFyIEh5cGVydHlDaGF0PWZ1bmN0aW9uKF9FdmVudEVtaXR0ZXIpe19pbmhlcml0cyhIeXBlcnR5Q2hhdCxfRXZlbnRFbWl0dGVyKTtmdW5jdGlvbiBIeXBlcnR5Q2hhdChoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxIeXBlcnR5Q2hhdCk7aWYoIWh5cGVydHlVUkwpdGhyb3cgbmV3IEVycm9yKCdUaGUgaHlwZXJ0eVVSTCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTtpZighYnVzKXRocm93IG5ldyBFcnJvcignVGhlIE1pbmlCdXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7aWYoIWNvbmZpZ3VyYXRpb24pdGhyb3cgbmV3IEVycm9yKCdUaGUgY29uZmlndXJhdGlvbiBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTt2YXIgX3RoaXMyPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKEh5cGVydHlDaGF0KS5jYWxsKHRoaXMsaHlwZXJ0eVVSTCxidXMsY29uZmlndXJhdGlvbikpO3ZhciBfdGhpcz1fdGhpczI7dmFyIHN5bmNoZXI9bmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCxidXMsY29uZmlndXJhdGlvbik7dmFyIGRvbWFpbj0oMCxfdXRpbHMuZGl2aWRlVVJMKShoeXBlcnR5VVJMKS5kb21haW47dmFyIGh5cGVydHlEaXNjb3Zlcnk9bmV3IF9IeXBlcnR5RGlzY292ZXJ5Mi5kZWZhdWx0KGh5cGVydHlVUkwsYnVzKTtfdGhpcy5fb2JqZWN0RGVzY1VSTD0naHlwZXJ0eS1jYXRhbG9ndWU6Ly8nK2RvbWFpbisnLy53ZWxsLWtub3duL2RhdGFzY2hlbWFzL0NvbW11bmljYXRpb24nO190aGlzLl9oeXBlcnR5VVJMPWh5cGVydHlVUkw7X3RoaXMuX3N5bmNoZXI9c3luY2hlcjtfdGhpcy5fZG9tYWluPWRvbWFpbjtfdGhpcy5faHlwZXJ0eURpc2NvdmVyeT1oeXBlcnR5RGlzY292ZXJ5O3N5bmNoZXIub25Ob3RpZmljYXRpb24oZnVuY3Rpb24oZXZlbnQpe2NvbnNvbGUubG9nKCdOb3RpZmljYXRpb246ICcsZXZlbnQpO190aGlzLl9hdXRvU3Vic2NyaWJlKGV2ZW50LnVybCk7fSk7cmV0dXJuIF90aGlzMjt9IC8qKgogICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjcmVhdGUgYSBuZXcgR3JvdXAgQ2hhdCBwcm92aWRpbmcgdGhlIGlkZW50aWZpZXIgb2YgdGhlIEdyb3VwIHRvIGJlIG5vdGlmaWVkLgogICAqIEBwYXJhbSAge1N0cmluZ30gbmFtZSAgICAgICAgICAgICBjaGF0IG5hbWUKICAgKiBAcGFyYW0gIHtVUkwuVXNlclVSTH0gVXNlclVSTExpc3QgTGlzdCBvZiBVc2VyIGFsbG93ZWQKICAgKiBAcmV0dXJuIHtQcm9taXNlfQogICAqL19jcmVhdGVDbGFzcyhIeXBlcnR5Q2hhdCxbe2tleTonY3JlYXRlJyx2YWx1ZTpmdW5jdGlvbiBjcmVhdGUobmFtZSxwYXJ0aWNpcGFudHMpe3ZhciBfdGhpcz10aGlzO3ZhciBzeW5jaGVyPV90aGlzLl9zeW5jaGVyO3ZhciBoeXBlcnR5RGlzY292ZXJ5PV90aGlzLl9oeXBlcnR5RGlzY292ZXJ5O3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7IC8vIENyZWF0ZSBvd25lciBwYXJ0aWNpcGFudAovLyBUT0RPOiBjcmVhdGUgYWxsIGluZm9ybWF0aW9uIHRvIGNvbW11bmljYXRpb247Cl9jb21tdW5pY2F0aW9uLmNvbW11bmljYXRpb25PYmplY3Qub3duZXI9X3RoaXMuX2h5cGVydHlVUkw7X2NvbW11bmljYXRpb24uY29tbXVuaWNhdGlvbk9iamVjdC5uYW1lPW5hbWU7X2NvbW11bmljYXRpb24uY29tbXVuaWNhdGlvbk9iamVjdC5pZD1uYW1lO19jb21tdW5pY2F0aW9uLmNvbW11bmljYXRpb25PYmplY3Quc3RhdHVzPV9jb21tdW5pY2F0aW9uLkNvbW11bmljYXRpb25TdGF0dXMuT1BFTjtfY29tbXVuaWNhdGlvbi5jb21tdW5pY2F0aW9uT2JqZWN0LnN0YXJ0aW5nVGltZT1uZXcgRGF0ZSgpLnRvSlNPTigpO19jb21tdW5pY2F0aW9uLmNvbW11bmljYXRpb25PYmplY3QubGFzdE1vZGlmaWVkPV9jb21tdW5pY2F0aW9uLmNvbW11bmljYXRpb25PYmplY3Quc3RhcnRpbmdUaW1lOyAvLyBTZXQgdGhlIG90aGVyIHN1YnNjcmlwdGlvbiBsaWtlIGEgcGFydGljaXBhbnQKX3BhcnRpY2lwYW50Mi5kZWZhdWx0Lmh5cGVydHlSZXNvdXJjZT1fdGhpcy5faHlwZXJ0eVVSTDtfY29tbXVuaWNhdGlvbi5jb21tdW5pY2F0aW9uT2JqZWN0LnBhcnRpY2lwYW50cy5wdXNoKF9wYXJ0aWNpcGFudDIuZGVmYXVsdCk7Y29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBNYXBwaW5nIFBhcnRpY3BhbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuJyk7X3RoaXMuX21hcHBpbmdVc2VyKHBhcnRpY2lwYW50cykudGhlbihmdW5jdGlvbihoeXBlcnRpZXMpe3JldHVybiBfdGhpcy5fY3JlYXRlU3luY2hlcihoeXBlcnRpZXMsX2NvbW11bmljYXRpb24uY29tbXVuaWNhdGlvbk9iamVjdCk7fSkuY2F0Y2goZnVuY3Rpb24oaHlwZXJ0aWVzKXtyZXR1cm4gX3RoaXMuX2NyZWF0ZVN5bmNoZXIoaHlwZXJ0aWVzLF9jb21tdW5pY2F0aW9uLmNvbW11bmljYXRpb25PYmplY3QpO30pLnRoZW4oZnVuY3Rpb24oZGF0YU9iamVjdFJlcG9ydGVyKXtjb25zb2xlLmluZm8oJzMuIFJldHVybiBDcmVhdGUgRGF0YSBPYmplY3QgUmVwb3J0ZXInLGRhdGFPYmplY3RSZXBvcnRlcik7dmFyIGNoYXQ9bmV3IF9DaGF0Mi5kZWZhdWx0KHN5bmNoZXIsaHlwZXJ0eURpc2NvdmVyeSxfdGhpcy5fZG9tYWluKTtjaGF0LmRhdGFPYmplY3RSZXBvcnRlcj1kYXRhT2JqZWN0UmVwb3J0ZXI7cmVzb2x2ZShjaGF0KTt9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe3JlamVjdChyZWFzb24pO30pO30pO319LHtrZXk6J2pvaW4nLHZhbHVlOmZ1bmN0aW9uIGpvaW4ocmVzb3VyY2Upe3ZhciBfdGhpcz10aGlzO3ZhciBzeW5jaGVyPV90aGlzLl9zeW5jaGVyO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7Y29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gU3luY2hlciBzdWJzY3JpYmUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcbicpO2NvbnNvbGUuaW5mbyhyZXNvdXJjZSk7c3luY2hlci5zdWJzY3JpYmUoX3RoaXMuX29iamVjdERlc2NVUkwscmVzb3VyY2UpLnRoZW4oZnVuY3Rpb24oZGF0YU9iamVjdE9ic2VydmVyKXtjb25zb2xlLmluZm8oJ0RhdGEgT2JqZWN0IE9ic2VydmVyOiAnLGRhdGFPYmplY3RPYnNlcnZlcik7dmFyIGNoYXQ9bmV3IF9DaGF0Mi5kZWZhdWx0KHN5bmNoZXIsX3RoaXMuX2h5cGVydHlEaXNjb3ZlcnksX3RoaXMuX2RvbWFpbik7Y2hhdC5kYXRhT2JqZWN0T2JzZXJ2ZXI9ZGF0YU9iamVjdE9ic2VydmVyO3Jlc29sdmUoY2hhdCk7fSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtyZWplY3QocmVhc29uKTt9KTt9KTt9fSx7a2V5OidfYXV0b1N1YnNjcmliZScsdmFsdWU6ZnVuY3Rpb24gX2F1dG9TdWJzY3JpYmUocmVzb3VyY2Upe3ZhciBfdGhpcz10aGlzO190aGlzLmpvaW4ocmVzb3VyY2UpLnRoZW4oZnVuY3Rpb24oY2hhdEdyb3VwKXtfdGhpcy50cmlnZ2VyKCdjaGF0OnN1YnNjcmliZScsY2hhdEdyb3VwKTt9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe2NvbnNvbGUuZXJyb3IocmVhc29uKTt9KTt9fSx7a2V5OidfY3JlYXRlU3luY2hlcicsdmFsdWU6ZnVuY3Rpb24gX2NyZWF0ZVN5bmNoZXIoaHlwZXJ0aWVzLGNvbW11bmljYXRpb24pe3ZhciBfdGhpcz10aGlzO3ZhciBzeW5jaGVyPV90aGlzLl9zeW5jaGVyO2NvbnNvbGUuaW5mbygnSGF2ZSAnK2h5cGVydGllcy5sZW5ndGgrJyBwYXJ0aWNpcGFudHM7Jyk7Y29uc29sZS5pbmZvKCdXSXRoIGNvbW11bmljYXRpb25PYmplY3Q6ICcsY29tbXVuaWNhdGlvbik7Y29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gU3luY2hlciBDcmVhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcbicpO3JldHVybiBzeW5jaGVyLmNyZWF0ZShfdGhpcy5fb2JqZWN0RGVzY1VSTCxoeXBlcnRpZXMsY29tbXVuaWNhdGlvbik7fX0se2tleTonX21hcHBpbmdVc2VyJyx2YWx1ZTpmdW5jdGlvbiBfbWFwcGluZ1VzZXIodXNlckxpc3Qpe3ZhciBfdGhpcz10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIGh5cGVydGllcz1bXTt2YXIgY291bnQ9MDtpZih1c2VyTGlzdC5sZW5ndGg9PT0wKXJlamVjdChoeXBlcnRpZXMpO3ZhciByZXN1bHRVc2Vycz1mdW5jdGlvbiByZXN1bHRVc2Vycygpe2lmKGNvdW50PT09dXNlckxpc3QubGVuZ3RoKXtjb25zb2xlLmluZm8oJ0hhdmUgJytoeXBlcnRpZXMubGVuZ3RoKyd1c2VycyBmb3VuZDsnKTtyZXNvbHZlKGh5cGVydGllcyk7fX07dmFyIGFjdGl2ZVVzZXJzPWZ1bmN0aW9uIGFjdGl2ZVVzZXJzKHVzZXIpe2NvdW50Kys7aHlwZXJ0aWVzLnB1c2godXNlci5oeXBlcnR5VVJMKTtyZXN1bHRVc2VycygpO307dmFyIGluYWN0aXZlVXNlcnM9ZnVuY3Rpb24gaW5hY3RpdmVVc2Vycygpe2NvdW50Kys7cmVzdWx0VXNlcnMoKTt9O3VzZXJMaXN0LmZvckVhY2goZnVuY3Rpb24odXNlcil7Y29uc29sZS5sb2codXNlcik7aWYodXNlci5lbWFpbC5sZW5ndGgpe3JldHVybiBfdGhpcy5faHlwZXJ0eURpc2NvdmVyeS5kaXNjb3Zlckh5cGVydHlQZXJVc2VyKHVzZXIuZW1haWwsdXNlci5kb21haW4pLnRoZW4oYWN0aXZlVXNlcnMpLmNhdGNoKGluYWN0aXZlVXNlcnMpO319KTt9KTt9fV0pO3JldHVybiBIeXBlcnR5Q2hhdDt9KF9FdmVudEVtaXR0ZXIzLmRlZmF1bHQpO2Z1bmN0aW9uIGFjdGl2YXRlKGh5cGVydHlVUkwsYnVzLGNvbmZpZ3VyYXRpb24pe3JldHVybiB7bmFtZTonSHlwZXJ0eUNoYXQnLGluc3RhbmNlOm5ldyBIeXBlcnR5Q2hhdChoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKX07fW1vZHVsZS5leHBvcnRzPWV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuLi91dGlscy9FdmVudEVtaXR0ZXIiOjcsIi4uL3V0aWxzL3V0aWxzIjo4LCIuL0NoYXQiOjMsIi4vY29tbXVuaWNhdGlvbiI6NSwiLi9wYXJ0aWNpcGFudCI6Niwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9IeXBlcnR5RGlzY292ZXJ5IjoxLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXIiOjJ9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pOyAvKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi92YXIgQ29tbXVuaWNhdGlvblN0YXR1cz1leHBvcnRzLkNvbW11bmljYXRpb25TdGF0dXM9e09QRU46J29wZW4nLFBFTkRJTkc6J3BlbmRpbmcnLENMT1NFRDonY2xvc2VkJyxQQVVTRUQ6J3BhdXNlZCcsRkFJTEVEOidmYWlsZWQnfTt2YXIgY29tbXVuaWNhdGlvbk9iamVjdD1leHBvcnRzLmNvbW11bmljYXRpb25PYmplY3Q9e2lkOicnLG5hbWU6Jycsb3duZXI6Jycsc3RhcnRpbmdUaW1lOicnLGxhc3RNb2RpZmllZDonJyxkdXJhdGlvbjonJyxzdGF0dXM6JycscW9zOicnLHBhcnRpY2lwYW50czpbXX07Cgp9LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pOyAvKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi92YXIgcGFydGljaXBhbnQ9e3N0YXR1czonJyxoeXBlcnR5UmVzb3VyY2U6JycsaWRlbnRpdHk6Jyd9O2V4cG9ydHMuZGVmYXVsdD1wYXJ0aWNpcGFudDttb2R1bGUuZXhwb3J0cz1leHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcilkZXNjcmlwdG9yLndyaXRhYmxlPXRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKTt9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtpZihwcm90b1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpO2lmKHN0YXRpY1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjt9O30oKTtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO319IC8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLyAvKioKICogRXZlbnRFbWl0dGVyCiAqIEFsbCBjbGFzc2VzIHdoaWNoIGV4dGVuZHMgdGhpcywgY2FuIGhhdmUgYWRkRXZlbnRMaXN0ZW5lciBhbmQgdHJpZ2dlciBldmVudHM7CiAqL3ZhciBFdmVudEVtaXR0ZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxFdmVudEVtaXR0ZXIpO31fY3JlYXRlQ2xhc3MoRXZlbnRFbWl0dGVyLFt7a2V5OiJhZGRFdmVudExpc3RlbmVyIiwgLyoqCiAgICogYWRkRXZlbnRMaXN0ZW5lciBsaXN0ZW4gZm9yIGFuIGV2ZW50VHlwZQogICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICBldmVudFR5cGUgLSBsaXN0ZW5pbmcgZm9yIHRoaXMgdHlwZSBvZiBldmVudAogICAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgICAgICBjYiAgICAgICAgLSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGV2ZW50IGl0IGlzIGludm9rZWQKICAgKi92YWx1ZTpmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSxjYil7dmFyIF90aGlzPXRoaXM7X3RoaXNbZXZlbnRUeXBlXT1jYjt9IC8qKgogICAqIEludm9rZSB0aGUgZXZlbnRUeXBlCiAgICogQHBhcmFtICB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB3aWxsIGJlIGludm9rZWQKICAgKiBAcGFyYW0gIHtvYmplY3R9IHBhcmFtcyAtIHBhcmFtZXRlcnMgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGFkZEV2ZW50TGlzdGVuZXIKICAgKi99LHtrZXk6InRyaWdnZXIiLHZhbHVlOmZ1bmN0aW9uIHRyaWdnZXIoZXZlbnRUeXBlLHBhcmFtcyl7dmFyIF90aGlzPXRoaXM7aWYoX3RoaXNbZXZlbnRUeXBlXSl7X3RoaXNbZXZlbnRUeXBlXShwYXJhbXMpO319fV0pO3JldHVybiBFdmVudEVtaXR0ZXI7fSgpO2V4cG9ydHMuZGVmYXVsdD1FdmVudEVtaXR0ZXI7bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JztPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTtleHBvcnRzLmRpdmlkZVVSTD1kaXZpZGVVUkw7ZXhwb3J0cy5kZWVwQ2xvbmU9ZGVlcENsb25lO2V4cG9ydHMuZ2V0Q29uZmlnPWdldENvbmZpZztleHBvcnRzLmdldFVzZXJNZWRpYT1nZXRVc2VyTWVkaWE7ZXhwb3J0cy5zZXJpYWxpemU9c2VyaWFsaXplO2V4cG9ydHMuZ2V0VGVtcGxhdGU9Z2V0VGVtcGxhdGU7IC8qKgogKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoqLyAvLyBqc2hpbnQgYnJvd3Nlcjp0cnVlLCBqcXVlcnk6IHRydWUKLy8ganNoaW50IHZhcnN0bXQ6IHRydWUKLyogZ2xvYmFsIEhhbmRsZWJhcnMgKi8gLyoqCiAqIFN1cHBvcnQgbW9kdWxlIHdpdGggc29tZSBmdW5jdGlvbnMgd2lsbCBiZSB1c2VmdWwKICogQG1vZHVsZSB1dGlscwogKi8gLyoqCiAqIEB0eXBlZGVmIGRpdmlkZVVSTAogKiBAdHlwZSBPYmplY3QKICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGlkZW50aXR5IFRoZSBpZGVudGl0eSBvZiBVUkwKICovIC8qKgogKiBEaXZpZGUgYW4gdXJsIGluIHR5cGUsIGRvbWFpbiBhbmQgaWRlbnRpdHkKICogQHBhcmFtICB7VVJMLlVSTH0gdXJsIC0gdXJsIGFkZHJlc3MKICogQHJldHVybiB7ZGl2aWRlVVJMfSB0aGUgcmVzdWx0IG9mIGRpdmlkZVVSTAogKi9mdW5jdGlvbiBkaXZpZGVVUkwodXJsKXsgLy8gbGV0IHJlID0gLyhbYS16QS1aLV0qKT86XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn1cLlthLXpdezIsNn1cYikqKFwvW1wvXGRcd1wuLV0qKSooPzpbXD9dKSooLispKi9naTsKdmFyIHJlPS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpO3ZhciBzdWJzdD0nJDEsJDIsJDMnO3ZhciBwYXJ0cz11cmwucmVwbGFjZShyZSxzdWJzdCkuc3BsaXQoJywnKTsgLy8gSWYgdGhlIHVybCBoYXMgbm8gcHJvdG9jb2wsIHRoZSBkZWZhdWx0IHByb3RvY29sIHNldCBpcyBodHRwcwppZihwYXJ0c1swXT09PXVybCl7cGFydHNbMF09J2h0dHBzJztwYXJ0c1sxXT11cmw7fXZhciByZXN1bHQ9e3R5cGU6cGFydHNbMF0sZG9tYWluOnBhcnRzWzFdLGlkZW50aXR5OnBhcnRzWzJdfTtyZXR1cm4gcmVzdWx0O30gLyoqCiAqIE1ha2UgYSBDT1BZIG9mIHRoZSBvcmlnaW5hbCBkYXRhCiAqIEBwYXJhbSAge09iamVjdH0gIG9iaiAtIG9iamVjdCB0byBiZSBjbG9uZWQKICogQHJldHVybiB7T2JqZWN0fQogKi9mdW5jdGlvbiBkZWVwQ2xvbmUob2JqKXsgLy9UT0RPOiBzaW1wbGUgYnV0IGluZWZmaWNpZW50IEpTT04gZGVlcCBjbG9uZS4uLgppZihvYmopcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7fSAvKioKICogR2V0IHRoZSBjb25maWd1cmF0aW9uIGZyb20gYW4ganNvbiBmaWxlOwogKiBAcGFyYW0gIHtKU09OT2JqZWN0fSBqc29uRmlsZQogKiBAcmV0dXJuIHtvYmplY3R9CiAqL2Z1bmN0aW9uIGdldENvbmZpZyhKU09OT2JqZWN0KXtjb25zb2xlLmxvZygncHJvZHVjdGlvbicpO3JldHVybiBKU09OT2JqZWN0Wydwcm9kdWN0aW9uJ107fSAvKioKICogR2V0IFdlYlJUQyBBUEkgcmVzb3VyY2VzCiAqIEBwYXJhbSAge09iamVjdH0gICAgIG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVzb3VyY2VzIHdpbGwgYmUgdXNlZCAoY2FtZXJhLCBtaWMsIHJlc29sdXRpb24sIGV0Yyk7CiAqIEByZXR1cm4ge1Byb21pc2V9CiAqL2Z1bmN0aW9uIGdldFVzZXJNZWRpYShjb25zdHJhaW50cyl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbihmdW5jdGlvbihtZWRpYVN0cmVhbSl7cmVzb2x2ZShtZWRpYVN0cmVhbSk7fSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtyZWplY3QocmVhc29uKTt9KTt9KTt9ZnVuY3Rpb24gc2VyaWFsaXplKCl7JC5mbi5zZXJpYWxpemVPYmplY3Q9ZnVuY3Rpb24oKXt2YXIgbz17fTt2YXIgYT10aGlzLnNlcmlhbGl6ZUFycmF5KCk7JC5lYWNoKGEsZnVuY3Rpb24oKXtpZihvW3RoaXMubmFtZV0hPT11bmRlZmluZWQpe2lmKCFvW3RoaXMubmFtZV0ucHVzaCl7b1t0aGlzLm5hbWVdPVtvW3RoaXMubmFtZV1dO31vW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlfHwnJyk7fWVsc2Uge29bdGhpcy5uYW1lXT10aGlzLnZhbHVlfHwnJzt9fSk7cmV0dXJuIG87fTskLmZuLnNlcmlhbGl6ZU9iamVjdEFycmF5PWZ1bmN0aW9uKCl7dmFyIG89e307dmFyIGE9dGhpcy5zZXJpYWxpemVBcnJheSgpOyQuZWFjaChhLGZ1bmN0aW9uKCl7aWYob1t0aGlzLm5hbWVdIT09dW5kZWZpbmVkKXtpZighb1t0aGlzLm5hbWVdLnB1c2gpe29bdGhpcy5uYW1lXT1bb1t0aGlzLm5hbWVdXTt9b1t0aGlzLm5hbWVdLnB1c2godGhpcy52YWx1ZXx8JycpO31lbHNlIHtpZighb1t0aGlzLm5hbWVdKW9bdGhpcy5uYW1lXT1bXTtvW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlfHwnJyk7fX0pO3JldHVybiBvO307fWZ1bmN0aW9uIGdldFRlbXBsYXRlKHBhdGgsc2NyaXB0KXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2lmKEhhbmRsZWJhcnMudGVtcGxhdGVzPT09dW5kZWZpbmVkfHxIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXT09PXVuZGVmaW5lZCl7SGFuZGxlYmFycy50ZW1wbGF0ZXM9e307fWVsc2Uge3Jlc29sdmUoSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0pO312YXIgdGVtcGxhdGVGaWxlPSQuYWpheCh7dXJsOnBhdGgrJy5oYnMnLHN1Y2Nlc3M6ZnVuY3Rpb24gc3VjY2VzcyhkYXRhKXtIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXT1IYW5kbGViYXJzLmNvbXBpbGUoZGF0YSk7fSxmYWlsOmZ1bmN0aW9uIGZhaWwocmVhc29uKXtyZXR1cm4gcmVhc29uO319KTt2YXIgc2NyaXB0RmlsZT0kLmdldFNjcmlwdChzY3JpcHQpO3ZhciByZXF1ZXN0cz1bXTtpZihwYXRoKXJlcXVlc3RzLnB1c2godGVtcGxhdGVGaWxlKTtpZihzY3JpcHQpcmVxdWVzdHMucHVzaChzY3JpcHRGaWxlKTtQcm9taXNlLmFsbChyZXF1ZXN0cykudGhlbihmdW5jdGlvbihyZXN1bHQpe3Jlc29sdmUoSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0pO30pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7cmVqZWN0KHJlYXNvbik7fSk7fSk7fQoKfSx7fV19LHt9LFs0XSkoNCkKfSk7",
      "sourceCodeClassname": "HypertyChat",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10004,
    "type": "Hyperties",
    "version": "0.1",
    "description": "Description of HypertyChat",
    "objectName": "HypertyChat",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "GroupChat": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBIeXBlcnR5RGlzY292ZXJ5LmpzIAovLyB2ZXJzaW9uOiAwLjIuMAoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0Lkh5cGVydHlEaXNjb3Zlcnk9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJnUpcmV0dXJuIHUocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgYT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgYS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixhfXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjM4fV0sOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NjJ9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjYzLCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo2NCwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo2NSwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo2Nn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6MzF9XSwxNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjE1LCIuLyQud2tzIjo1OX1dLDE1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDE5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjoyMn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMX1dLDIxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGEsZixsPWUmYy5GLGQ9ZSZjLkcscD1lJmMuUywkPWUmYy5QLHY9ZSZjLkIseT1lJmMuVyxoPWQ/bzpvW3RdfHwob1t0XT17fSksYj1kP246cD9uW3RdOihuW3RdfHx7fSlbc107ZCYmKHI9dCk7Zm9yKHUgaW4gcilhPSFsJiZiJiZ1IGluIGIsYSYmdSBpbiBofHwoZj1hP2JbdV06clt1XSxoW3VdPWQmJiJmdW5jdGlvbiIhPXR5cGVvZiBiW3VdP3JbdV06diYmYT9pKGYsbik6eSYmYlt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShmKTokJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZiwkJiYoKGhbc118fChoW3NdPXt9KSlbdV09ZikpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLHQuZXhwb3J0cz1jfSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5nbG9iYWwiOjI0fV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYz1lKCIuLyQudG8tbGVuZ3RoIiksdT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixhKXt2YXIgZixsLGQscD11KGUpLCQ9bihyLGEsdD8yOjEpLHY9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgcCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHApKWZvcihmPWMoZS5sZW5ndGgpO2Y+djt2KyspdD8kKHMobD1lW3ZdKVswXSxsWzFdKTokKGVbdl0pO2Vsc2UgZm9yKGQ9cC5jYWxsKGUpOyEobD1kLm5leHQoKSkuZG9uZTspbyhkLCQsbC52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtYXJyYXktaXRlciI6MzAsIi4vJC5pdGVyLWNhbGwiOjMyLCIuLyQudG8tbGVuZ3RoIjo1NiwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjYwfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6MzgsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5wcm9wZXJ0eS1kZXNjIjo0Mn1dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjI0fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjoxNX1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDMxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6MTN9XSwzMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6MzgsIi4vJC5oaWRlIjoyNiwiLi8kLnByb3BlcnR5LWRlc2MiOjQyLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYz1lKCIuLyQuaGFzIiksdT1lKCIuLyQuaXRlcmF0b3JzIiksYT1lKCIuLyQuaXRlci1jcmVhdGUiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGw9ZSgiLi8kIikuZ2V0UHJvdG8sZD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSwkPSJAQGl0ZXJhdG9yIix2PSJrZXlzIix5PSJ2YWx1ZXMiLGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGIsbSxnLHgpe2Eocix0LGIpO3ZhciBqLHcsXz1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBQKXJldHVybiBQW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIsTz1tPT15LE09ITEsUD1lLnByb3RvdHlwZSxTPVBbZF18fFBbJF18fG0mJlBbbV0sRT1TfHxfKG0pO2lmKFMpe3ZhciBVPWwoRS5jYWxsKG5ldyBlKSk7ZihVLGssITApLCFuJiZjKFAsJCkmJnMoVSxkLGgpLE8mJlMubmFtZSE9PXkmJihNPSEwLEU9ZnVuY3Rpb24oKXtyZXR1cm4gUy5jYWxsKHRoaXMpfSl9aWYobiYmIXh8fCFwJiYhTSYmUFtkXXx8cyhQLGQsRSksdVt0XT1FLHVba109aCxtKWlmKGo9e3ZhbHVlczpPP0U6Xyh5KSxrZXlzOmc/RTpfKHYpLGVudHJpZXM6Tz9fKCJlbnRyaWVzIik6RX0seClmb3IodyBpbiBqKXcgaW4gUHx8aShQLHcsalt3XSk7ZWxzZSBvKG8uUCtvLkYqKHB8fE0pLHQsaik7cmV0dXJuIGp9fSx7Ii4vJCI6MzgsIi4vJC5leHBvcnQiOjIxLCIuLyQuaGFzIjoyNSwiLi8kLmhpZGUiOjI2LCIuLyQuaXRlci1jcmVhdGUiOjMzLCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLmxpYnJhcnkiOjM5LCIuLyQucmVkZWZpbmUiOjQ0LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuLyQud2tzIjo1OX1dLDM2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLnRhc2siKS5zZXQsdT1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixhPXMucHJvY2VzcyxmPXMuUHJvbWlzZSxsPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGEpLGQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGwmJihlPWEuZG9tYWluKSYmKGEuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihsKWk9ZnVuY3Rpb24oKXthLm5leHRUaWNrKGQpfTtlbHNlIGlmKHUpe3ZhciBwPTEsJD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IHUoZCkub2JzZXJ2ZSgkLHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpeyQuZGF0YT1wPS1wfX1lbHNlIGk9ZiYmZi5yZXNvbHZlP2Z1bmN0aW9uKCl7Zi5yZXNvbHZlKCkudGhlbihkKX06ZnVuY3Rpb24oKXtjLmNhbGwocyxkKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpsJiZhLmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjoxNSwiLi8kLmdsb2JhbCI6MjQsIi4vJC50YXNrIjo1M31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mYWlscyI6MjJ9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjQ0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6MjZ9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjozOCwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtb2JqZWN0IjozMX1dLDQ3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjozOCwiLi8kLmNvcmUiOjE2LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQud2tzIjo1OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjozOCwiLi8kLmhhcyI6MjUsIi4vJC53a3MiOjU5fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6MjR9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQud2tzIjo1OX1dLDUxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksdT1uKHIpLGE9Yy5sZW5ndGg7cmV0dXJuIDA+dXx8dT49YT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQodSksNTUyOTY+aXx8aT41NjMxOXx8dSsxPT09YXx8KHM9Yy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQodSk6aTplP2Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLnRvLWludGVnZXIiOjU0fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYz1lKCIuLyQuaW52b2tlIiksdT1lKCIuLyQuaHRtbCIpLGE9ZSgiLi8kLmRvbS1jcmVhdGUiKSxmPWUoIi4vJC5nbG9iYWwiKSxsPWYucHJvY2VzcyxkPWYuc2V0SW1tZWRpYXRlLHA9Zi5jbGVhckltbWVkaWF0ZSwkPWYuTWVzc2FnZUNoYW5uZWwsdj0wLHk9e30saD0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoeS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9eVtlXTtkZWxldGUgeVtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4geVsrK3ZdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIHlbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OiQ/KG89bmV3ICQsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPW0sbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49aCBpbiBhKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGEoInNjcmlwdCIpKVtoXT1mdW5jdGlvbigpe3UucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKGIsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6cH19LHsiLi8kLmNvZiI6MTUsIi4vJC5jdHgiOjE3LCIuLyQuZG9tLWNyZWF0ZSI6MjAsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaHRtbCI6MjcsIi4vJC5pbnZva2UiOjI4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLmlvYmplY3QiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo1NH1dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLnNoYXJlZCI6NDksIi4vJC51aWQiOjU4fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDYxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5pdGVyLXN0ZXAiOjM2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLnRvLWlvYmplY3QiOjU1fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo0MSwiLi8kLnRvLW9iamVjdCI6NTd9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe30se31dLDY0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLmN0eCIpLHU9ZSgiLi8kLmNsYXNzb2YiKSxhPWUoIi4vJC5leHBvcnQiKSxmPWUoIi4vJC5pcy1vYmplY3QiKSxsPWUoIi4vJC5hbi1vYmplY3QiKSxkPWUoIi4vJC5hLWZ1bmN0aW9uIikscD1lKCIuLyQuc3RyaWN0LW5ldyIpLCQ9ZSgiLi8kLmZvci1vZiIpLHY9ZSgiLi8kLnNldC1wcm90byIpLnNldCx5PWUoIi4vJC5zYW1lLXZhbHVlIiksaD1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxiPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksbT1lKCIuLyQubWljcm90YXNrIiksZz0iUHJvbWlzZSIseD1zLnByb2Nlc3Msaj0icHJvY2VzcyI9PXUoeCksdz1zW2ddLF89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gdihyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmXygpLHYodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOnkoZSx0KX0sTT1mdW5jdGlvbihlKXt2YXIgdD1sKGUpW2hdO3JldHVybiB2b2lkIDAhPXQ/dDplfSxQPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFM9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sRT1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFU9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO20oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxjPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLHU9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP3UoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVAocikpP2kuY2FsbChyLGMsdSk6YyhyKSk6dShuKX1jYXRjaChhKXt1KGEpfX07ci5sZW5ndGg+aTspYyhyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO1QobykmJihqP3guZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxUPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFUKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLFUodCwhMCkpfSxBPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVAoZSkpP20oZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxjKEEsbiwxKSxjKEQsbiwxKSl9Y2F0Y2gobyl7RC5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLFUociwhMSkpfWNhdGNoKG4pe0QuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe2QoZSk7dmFyIHQ9dGhpcy5fZD17cDpwKHRoaXMsdyxnKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYyhBLHQsMSksYyhELHQsMSkpfWNhdGNoKHIpe0QuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFMoYih0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJlUobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksYShhLkcrYS5XK2EuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxnKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShnKSxuPWUoIi4vJC5jb3JlIilbZ10sYShhLlMrYS5GKiFrLGcse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqKCFrfHxfKCEwKSksZyx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLGcse2FsbDpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IFModCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGM9RShmdW5jdGlvbigpeyQoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYz1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxjW29dPWUsLS1yfHxuKGMpKX0saSl9KTpuKGMpfSk7cmV0dXJuIGMmJmkoYy5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgUyh0KSxuPXIucmVqZWN0LG89RShmdW5jdGlvbigpeyQoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjM4LCIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5leHBvcnQiOjIxLCIuLyQuZm9yLW9mIjoyMywiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxLCIuLyQuaXRlci1kZXRlY3QiOjM1LCIuLyQubGlicmFyeSI6MzksIi4vJC5taWNyb3Rhc2siOjQwLCIuLyQucmVkZWZpbmUtYWxsIjo0MywiLi8kLnNhbWUtdmFsdWUiOjQ1LCIuLyQuc2V0LXByb3RvIjo0NiwiLi8kLnNldC1zcGVjaWVzIjo0NywiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjUwLCIuLyQuc3RyaWN0LW5ldyI6NTEsIi4vJC53a3MiOjU5fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5zdHJpbmctYXQiOjUyfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjYxfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiLi9oeXBlcnR5LWRpc2NvdmVyeS9IeXBlcnR5RGlzY292ZXJ5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1pWyJkZWZhdWx0Il0sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL2h5cGVydHktZGlzY292ZXJ5L0h5cGVydHlEaXNjb3ZlcnkiOjY4fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOiJkYXRhT2JqZWN0Oi8vIitlfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWUudXJsO24/ZShuKTp0KCJEYXRhT2JqZWN0IG5hbWUgZG9lcyBub3QgZXhpc3QiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxzPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm99fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2U6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxuKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygibWVzc2FnZSByZXBseSIscik7dmFyIG89dm9pZCAwLGk9dm9pZCAwLHM9dm9pZCAwLGM9ci5ib2R5LnZhbHVlO2ZvcihvIGluIGMpaWYodm9pZCAwIT09Y1tvXS5sYXN0TW9kaWZpZWQpaWYodm9pZCAwPT09aSlpPW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKSxzPW87ZWxzZXt2YXIgdT1uZXcgRGF0ZShjW29dLmxhc3RNb2RpZmllZCk7aS5nZXRUaW1lKCk8dS5nZXRUaW1lKCkmJihpPXUscz1vKX1jb25zb2xlLmxvZygiTGFzdCBIeXBlcnR5OiAiLHMsaSk7dmFyIGE9cztpZih2b2lkIDA9PT1hKXJldHVybiBuKCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIik7dmFyIGY9e2lkOmUsZGVzY3JpcHRvcjpjW2FdLmRlc2NyaXB0b3IsaHlwZXJ0eVVSTDphfTtjb25zb2xlLmxvZygiPT09PiBoeXBlcnR5RGlzY292ZXJ5IG1lc3NhZ2VCdW5kbGU6ICIsZiksdChmKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXI6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIHJlcGx5IixyKTt2YXIgbj1yLmJvZHkudmFsdWU7cmV0dXJuIG4/dm9pZCBlKG4pOnQoIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6NjksImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDY5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLCRbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIHUoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBsPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihsKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLCQ9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9dSxyLmdldFVzZXJFbWFpbEZyb21VUkw9YSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbNjddKSg2Nyl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LklkZW50aXR5TWFuYWdlcj1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKHMsYyl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgdT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYyYmdSlyZXR1cm4gdShzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciBhPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyBhLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGF9dmFyIGY9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sZixmLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5Ijo3fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjo5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjEwfV0sNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjJ9XSw3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuKG4uSlNPTiYmbi5KU09OLnN0cmluZ2lmeXx8SlNPTi5zdHJpbmdpZnkpLmFwcGx5KEpTT04sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2fV0sODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQscil9fSx7Ii4uLy4uL21vZHVsZXMvJCI6Mzh9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjo2Mn1dLDEwOltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy8kLmNvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvJC5jb3JlIjoxNiwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6NjMsIi4uL21vZHVsZXMvZXM2LnByb21pc2UiOjY0LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjY1LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjY2fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwxMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LHt9XSwxMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuLyQuaXMtb2JqZWN0IjozMX1dLDE0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpLG89ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixzO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9KHQ9T2JqZWN0KGUpKVtvXSk/cjppP24odCk6Ik9iamVjdCI9PShzPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6c319LHsiLi8kLmNvZiI6MTUsIi4vJC53a3MiOjU5fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LHt9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMS4yLjYifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0se31dLDE3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmEtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi8kLmEtZnVuY3Rpb24iOjExfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vJC5mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuLyQuZmFpbHMiOjIyfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iiksbz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LHsiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmN0eCIpLHM9InByb3RvdHlwZSIsYz1mdW5jdGlvbihlLHQscil7dmFyIHUsYSxmLGw9ZSZjLkYscD1lJmMuRyxkPWUmYy5TLCQ9ZSZjLlAsdj1lJmMuQixoPWUmYy5XLHk9cD9vOm9bdF18fChvW3RdPXt9KSxiPXA/bjpkP25bdF06KG5bdF18fHt9KVtzXTtwJiYocj10KTtmb3IodSBpbiByKWE9IWwmJmImJnUgaW4gYixhJiZ1IGluIHl8fChmPWE/Ylt1XTpyW3VdLHlbdV09cCYmImZ1bmN0aW9uIiE9dHlwZW9mIGJbdV0/clt1XTp2JiZhP2koZixuKTpoJiZiW3VdPT1mP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZT9uZXcgZSh0KTplKHQpfTtyZXR1cm4gdFtzXT1lW3NdLHR9KGYpOiQmJiJmdW5jdGlvbiI9PXR5cGVvZiBmP2koRnVuY3Rpb24uY2FsbCxmKTpmLCQmJigoeVtzXXx8KHlbc109e30pKVt1XT1mKSl9O2MuRj0xLGMuRz0yLGMuUz00LGMuUD04LGMuQj0xNixjLlc9MzIsdC5leHBvcnRzPWN9LHsiLi8kLmNvcmUiOjE2LCIuLyQuY3R4IjoxNywiLi8kLmdsb2JhbCI6MjR9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDIzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmN0eCIpLG89ZSgiLi8kLml0ZXItY2FsbCIpLGk9ZSgiLi8kLmlzLWFycmF5LWl0ZXIiKSxzPWUoIi4vJC5hbi1vYmplY3QiKSxjPWUoIi4vJC50by1sZW5ndGgiKSx1PWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBmLGwscCxkPXUoZSksJD1uKHIsYSx0PzI6MSksdj0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBkKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkoZCkpZm9yKGY9YyhlLmxlbmd0aCk7Zj52O3YrKyl0PyQocyhsPWVbdl0pWzBdLGxbMV0pOiQoZVt2XSk7ZWxzZSBmb3IocD1kLmNhbGwoZSk7IShsPXAubmV4dCgpKS5kb25lOylvKHAsJCxsLnZhbHVlLHQpfX0seyIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmN0eCI6MTcsIi4vJC5pcy1hcnJheS1pdGVyIjozMCwiLi8kLml0ZXItY2FsbCI6MzIsIi4vJC50by1sZW5ndGgiOjU2LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NjB9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuLyQuZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQsbygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi8kIjozOCwiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLnByb3BlcnR5LWRlc2MiOjQyfV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi8kLmdsb2JhbCI6MjR9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vJC5jb2YiOjE1fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC53a3MiOjU5fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuLyQuYW4tb2JqZWN0IjoxM31dLDMzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxpPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi8kLmhpZGUiKShzLGUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uLmNyZWF0ZShzLHtuZXh0Om8oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi8kIjozOCwiLi8kLmhpZGUiOjI2LCIuLyQucHJvcGVydHktZGVzYyI6NDIsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC53a3MiOjU5fV0sMzQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmxpYnJhcnkiKSxvPWUoIi4vJC5leHBvcnQiKSxpPWUoIi4vJC5yZWRlZmluZSIpLHM9ZSgiLi8kLmhpZGUiKSxjPWUoIi4vJC5oYXMiKSx1PWUoIi4vJC5pdGVyYXRvcnMiKSxhPWUoIi4vJC5pdGVyLWNyZWF0ZSIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksbD1lKCIuLyQiKS5nZXRQcm90byxwPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxkPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLCQ9IkBAaXRlcmF0b3IiLHY9ImtleXMiLGg9InZhbHVlcyIseT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsYixtLGcseCl7YShyLHQsYik7dmFyIGosdyxfPWZ1bmN0aW9uKGUpe2lmKCFkJiZlIGluIFMpcmV0dXJuIFNbZV07c3dpdGNoKGUpe2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LGs9dCsiIEl0ZXJhdG9yIixPPW09PWgsTT0hMSxTPWUucHJvdG90eXBlLEU9U1twXXx8U1skXXx8bSYmU1ttXSxQPUV8fF8obSk7aWYoRSl7dmFyIFQ9bChQLmNhbGwobmV3IGUpKTtmKFQsaywhMCksIW4mJmMoUywkKSYmcyhULHAseSksTyYmRS5uYW1lIT09aCYmKE09ITAsUD1mdW5jdGlvbigpe3JldHVybiBFLmNhbGwodGhpcyl9KX1pZihuJiYheHx8IWQmJiFNJiZTW3BdfHxzKFMscCxQKSx1W3RdPVAsdVtrXT15LG0paWYoaj17dmFsdWVzOk8/UDpfKGgpLGtleXM6Zz9QOl8odiksZW50cmllczpPP18oImVudHJpZXMiKTpQfSx4KWZvcih3IGluIGopdyBpbiBTfHxpKFMsdyxqW3ddKTtlbHNlIG8oby5QK28uRiooZHx8TSksdCxqKTtyZXR1cm4gan19LHsiLi8kIjozOCwiLi8kLmV4cG9ydCI6MjEsIi4vJC5oYXMiOjI1LCIuLyQuaGlkZSI6MjYsIi4vJC5pdGVyLWNyZWF0ZSI6MzMsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQubGlicmFyeSI6MzksIi4vJC5yZWRlZmluZSI6NDQsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC53a3MiOjU5fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3I9ITB9LGlbbl09ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChjKXt9cmV0dXJuIHJ9fSx7Ii4vJC53a3MiOjU5fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU9iamVjdDt0LmV4cG9ydHM9e2NyZWF0ZTpuLmNyZWF0ZSxnZXRQcm90bzpuLmdldFByb3RvdHlwZU9mLGlzRW51bTp7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxnZXREZXNjOm4uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHNldERlc2M6bi5kZWZpbmVQcm9wZXJ0eSxzZXREZXNjczpuLmRlZmluZVByb3BlcnRpZXMsZ2V0S2V5czpuLmtleXMsZ2V0TmFtZXM6bi5nZXRPd25Qcm9wZXJ0eU5hbWVzLGdldFN5bWJvbHM6bi5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZWFjaDpbXS5mb3JFYWNofX0se31dLDM5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuZ2xvYmFsIiksYz1lKCIuLyQudGFzayIpLnNldCx1PXMuTXV0YXRpb25PYnNlcnZlcnx8cy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLGE9cy5wcm9jZXNzLGY9cy5Qcm9taXNlLGw9InByb2Nlc3MiPT1lKCIuLyQuY29mIikoYSkscD1mdW5jdGlvbigpe3ZhciBlLHQscjtmb3IobCYmKGU9YS5kb21haW4pJiYoYS5kb21haW49bnVsbCxlLmV4aXQoKSk7bjspdD1uLmRvbWFpbixyPW4uZm4sdCYmdC5lbnRlcigpLHIoKSx0JiZ0LmV4aXQoKSxuPW4ubmV4dDtvPXZvaWQgMCxlJiZlLmVudGVyKCl9O2lmKGwpaT1mdW5jdGlvbigpe2EubmV4dFRpY2socCl9O2Vsc2UgaWYodSl7dmFyIGQ9MSwkPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgdShwKS5vYnNlcnZlKCQse2NoYXJhY3RlckRhdGE6ITB9KSxpPWZ1bmN0aW9uKCl7JC5kYXRhPWQ9LWR9fWVsc2UgaT1mJiZmLnJlc29sdmU/ZnVuY3Rpb24oKXtmLnJlc29sdmUoKS50aGVuKHApfTpmdW5jdGlvbigpe2MuY2FsbChzLHApfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e2ZuOmUsbmV4dDp2b2lkIDAsZG9tYWluOmwmJmEuZG9tYWlufTtvJiYoby5uZXh0PXQpLG58fChuPXQsaSgpKSxvPXR9fSx7Ii4vJC5jb2YiOjE1LCIuLyQuZ2xvYmFsIjoyNCwiLi8kLnRhc2siOjUzfV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi8kLmNvcmUiOjE2LCIuLyQuZXhwb3J0IjoyMSwiLi8kLmZhaWxzIjoyMn1dLDQyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnJlZGVmaW5lIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpbihlLHIsdFtyXSk7cmV0dXJuIGV9fSx7Ii4vJC5yZWRlZmluZSI6NDR9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuaGlkZSIpfSx7Ii4vJC5oaWRlIjoyNn1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPU9iamVjdC5pc3x8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09PTEvdDplIT1lJiZ0IT10fX0se31dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuZ2V0RGVzYyxvPWUoIi4vJC5pcy1vYmplY3QiKSxpPWUoIi4vJC5hbi1vYmplY3QiKSxzPWZ1bmN0aW9uKGUsdCl7aWYoaShlKSwhbyh0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixvKXt0cnl7bz1lKCIuLyQuY3R4IikoRnVuY3Rpb24uY2FsbCxuKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGkpe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpzfX0seyIuLyQiOjM4LCIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmN0eCI6MTcsIi4vJC5pcy1vYmplY3QiOjMxfV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmNvcmUiKSxvPWUoIi4vJCIpLGk9ZSgiLi8kLmRlc2NyaXB0b3JzIikscz1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtpJiZ0JiYhdFtzXSYmby5zZXREZXNjKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuLyQiOjM4LCIuLyQuY29yZSI6MTYsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC53a3MiOjU5fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5zZXREZXNjLG89ZSgiLi8kLmhhcyIpLGk9ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuLyQiOjM4LCIuLyQuaGFzIjoyNSwiLi8kLndrcyI6NTl9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPSJfX2NvcmUtanNfc2hhcmVkX18iLGk9bltvXXx8KG5bb109e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0seyIuLyQuZ2xvYmFsIjoyNH1dLDUwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpLG89ZSgiLi8kLmEtZnVuY3Rpb24iKSxpPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMSwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC53a3MiOjU5fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcihyKyI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhIik7cmV0dXJuIGV9fSx7fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGkscyxjPVN0cmluZyhvKHQpKSx1PW4ociksYT1jLmxlbmd0aDtyZXR1cm4gMD51fHx1Pj1hP2U/IiI6dm9pZCAwOihpPWMuY2hhckNvZGVBdCh1KSw1NTI5Nj5pfHxpPjU2MzE5fHx1KzE9PT1hfHwocz1jLmNoYXJDb2RlQXQodSsxKSk8NTYzMjB8fHM+NTczNDM/ZT9jLmNoYXJBdCh1KTppOmU/Yy5zbGljZSh1LHUrMik6KGktNTUyOTY8PDEwKSsocy01NjMyMCkrNjU1MzYpfX19LHsiLi8kLmRlZmluZWQiOjE4LCIuLyQudG8taW50ZWdlciI6NTR9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5pbnZva2UiKSx1PWUoIi4vJC5odG1sIiksYT1lKCIuLyQuZG9tLWNyZWF0ZSIpLGY9ZSgiLi8kLmdsb2JhbCIpLGw9Zi5wcm9jZXNzLHA9Zi5zZXRJbW1lZGlhdGUsZD1mLmNsZWFySW1tZWRpYXRlLCQ9Zi5NZXNzYWdlQ2hhbm5lbCx2PTAsaD17fSx5PSJvbnJlYWR5c3RhdGVjaGFuZ2UiLGI9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZihoLmhhc093blByb3BlcnR5KGUpKXt2YXIgdD1oW2VdO2RlbGV0ZSBoW2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7Yi5jYWxsKGUuZGF0YSl9O3AmJmR8fChwPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiBoWysrdl09ZnVuY3Rpb24oKXtjKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4odiksdn0sZD1mdW5jdGlvbihlKXtkZWxldGUgaFtlXX0sInByb2Nlc3MiPT1lKCIuLyQuY29mIikobCk/bj1mdW5jdGlvbihlKXtsLm5leHRUaWNrKHMoYixlLDEpKX06JD8obz1uZXcgJCxpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpmLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWYuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtmLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj15IGluIGEoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe3UuYXBwZW5kQ2hpbGQoYSgic2NyaXB0IikpW3ldPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHMoYixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6cCxjbGVhcjpkfX0seyIuLyQuY29mIjoxNSwiLi8kLmN0eCI6MTcsIi4vJC5kb20tY3JlYXRlIjoyMCwiLi8kLmdsb2JhbCI6MjQsIi4vJC5odG1sIjoyNywiLi8kLmludm9rZSI6Mjh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguY2VpbCxvPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bzpuKShlKX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pb2JqZWN0Iiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4LCIuLyQuaW9iamVjdCI6Mjl9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi8kLnRvLWludGVnZXIiOjU0fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuLyQuZGVmaW5lZCI6MTh9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPTAsbz1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK24rbykudG9TdHJpbmcoMzYpKX19LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5zaGFyZWQiKSgid2tzIiksbz1lKCIuLyQudWlkIiksaT1lKCIuLyQuZ2xvYmFsIikuU3ltYm9sO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09aSYmaVtlXXx8KGl8fG8pKCJTeW1ib2wuIitlKSl9fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuc2hhcmVkIjo0OSwiLi8kLnVpZCI6NTh9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jbGFzc29mIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1lKCIuLyQuaXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vJC5jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZT9lW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV06dm9pZCAwfX0seyIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC53a3MiOjU5fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmFkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi8kLml0ZXItc3RlcCIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpLHM9ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi8kLml0ZXItZGVmaW5lIikoQXJyYXksIkFycmF5IixmdW5jdGlvbihlLHQpe3RoaXMuX3Q9cyhlKSx0aGlzLl9pPTAsdGhpcy5faz10fSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3QsdD10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6ImtleXMiPT10P28oMCxyKToidmFsdWVzIj09dD9vKDAsZVtyXSk6bygwLFtyLGVbcl1dKX0sInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXksbigia2V5cyIpLG4oInZhbHVlcyIpLG4oImVudHJpZXMiKX0seyIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIjoxMiwiLi8kLml0ZXItZGVmaW5lIjozNCwiLi8kLml0ZXItc3RlcCI6MzYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQudG8taW9iamVjdCI6NTV9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjQxLCIuLyQudG8tb2JqZWN0Ijo1N31dLDYzOltmdW5jdGlvbihlLHQscil7fSx7fV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbz1lKCIuLyQiKSxpPWUoIi4vJC5saWJyYXJ5Iikscz1lKCIuLyQuZ2xvYmFsIiksYz1lKCIuLyQuY3R4IiksdT1lKCIuLyQuY2xhc3NvZiIpLGE9ZSgiLi8kLmV4cG9ydCIpLGY9ZSgiLi8kLmlzLW9iamVjdCIpLGw9ZSgiLi8kLmFuLW9iamVjdCIpLHA9ZSgiLi8kLmEtZnVuY3Rpb24iKSxkPWUoIi4vJC5zdHJpY3QtbmV3IiksJD1lKCIuLyQuZm9yLW9mIiksdj1lKCIuLyQuc2V0LXByb3RvIikuc2V0LGg9ZSgiLi8kLnNhbWUtdmFsdWUiKSx5PWUoIi4vJC53a3MiKSgic3BlY2llcyIpLGI9ZSgiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiKSxtPWUoIi4vJC5taWNyb3Rhc2siKSxnPSJQcm9taXNlIix4PXMucHJvY2VzcyxqPSJwcm9jZXNzIj09dSh4KSx3PXNbZ10sXz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdyhmdW5jdGlvbigpe30pO3JldHVybiBlJiYodC5jb25zdHJ1Y3Rvcj1PYmplY3QpLHcucmVzb2x2ZSh0KT09PXR9LGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPW5ldyB3KGUpO3JldHVybiB2KHIsdC5wcm90b3R5cGUpLHJ9dmFyIHI9ITE7dHJ5e2lmKHI9dyYmdy5yZXNvbHZlJiZfKCksdih0LHcpLHQucHJvdG90eXBlPW8uY3JlYXRlKHcucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dH19KSx0LnJlc29sdmUoNSkudGhlbihmdW5jdGlvbigpe30paW5zdGFuY2VvZiB0fHwocj0hMSksciYmZSgiLi8kLmRlc2NyaXB0b3JzIikpe3ZhciBuPSExO3cucmVzb2x2ZShvLnNldERlc2Moe30sInRoZW4iLHtnZXQ6ZnVuY3Rpb24oKXtuPSEwfX0pKSxyPW59fWNhdGNoKGkpe3I9ITF9cmV0dXJuIHJ9KCksTz1mdW5jdGlvbihlLHQpe3JldHVybiBpJiZlPT09dyYmdD09PW4/ITA6aChlLHQpfSxNPWZ1bmN0aW9uKGUpe3ZhciB0PWwoZSlbeV07cmV0dXJuIHZvaWQgMCE9dD90OmV9LFM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGYoZSkmJiJmdW5jdGlvbiI9PXR5cGVvZih0PWUudGhlbik/dDohMX0sRT1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgVHlwZUVycm9yKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9cCh0KSx0aGlzLnJlamVjdD1wKHIpfSxQPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sVD1mdW5jdGlvbihlLHQpe2lmKCFlLm4pe2Uubj0hMDt2YXIgcj1lLmM7bShmdW5jdGlvbigpe2Zvcih2YXIgbj1lLnYsbz0xPT1lLnMsaT0wLGM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW8/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsdT10LnJlamVjdDt0cnl7cz8ob3x8KGUuaD0hMCkscj1zPT09ITA/bjpzKG4pLHI9PT10LnByb21pc2U/dShUeXBlRXJyb3IoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9UyhyKSk/aS5jYWxsKHIsYyx1KTpjKHIpKTp1KG4pfWNhdGNoKGEpe3UoYSl9fTtyLmxlbmd0aD5pOyljKHJbaSsrXSk7ci5sZW5ndGg9MCxlLm49ITEsdCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0LHIsbz1lLnA7VShvKSYmKGo/eC5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sbyk6KHQ9cy5vbnVuaGFuZGxlZHJlamVjdGlvbik/dCh7cHJvbWlzZTpvLHJlYXNvbjpufSk6KHI9cy5jb25zb2xlKSYmci5lcnJvciYmci5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKSksZS5hPXZvaWQgMH0sMSl9KX19LFU9ZnVuY3Rpb24oZSl7dmFyIHQscj1lLl9kLG49ci5hfHxyLmMsbz0wO2lmKHIuaClyZXR1cm4hMTtmb3IoO24ubGVuZ3RoPm87KWlmKHQ9bltvKytdLHQuZmFpbHx8IVUodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sQT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuZHx8KHQuZD0hMCx0PXQucnx8dCx0LnY9ZSx0LnM9Mix0LmE9dC5jLnNsaWNlKCksVCh0LCEwKSl9LEM9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLmQpe3IuZD0hMCxyPXIucnx8cjt0cnl7aWYoci5wPT09ZSl0aHJvdyBUeXBlRXJyb3IoIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9UyhlKSk/bShmdW5jdGlvbigpe3ZhciBuPXtyOnIsZDohMX07dHJ5e3QuY2FsbChlLGMoQyxuLDEpLGMoQSxuLDEpKX1jYXRjaChvKXtBLmNhbGwobixvKX19KTooci52PWUsci5zPTEsVChyLCExKSl9Y2F0Y2gobil7QS5jYWxsKHtyOnIsZDohMX0sbil9fX07a3x8KHc9ZnVuY3Rpb24oZSl7cChlKTt2YXIgdD10aGlzLl9kPXtwOmQodGhpcyx3LGcpLGM6W10sYTp2b2lkIDAsczowLGQ6ITEsdjp2b2lkIDAsaDohMSxuOiExfTt0cnl7ZShjKEMsdCwxKSxjKEEsdCwxKSl9Y2F0Y2gocil7QS5jYWxsKHQscil9fSxlKCIuLyQucmVkZWZpbmUtYWxsIikody5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgRShiKHRoaXMsdykpLG49ci5wcm9taXNlLG89dGhpcy5fZDtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxvLmMucHVzaChyKSxvLmEmJm8uYS5wdXNoKHIpLG8ucyYmVChvLCExKSxufSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pKSxhKGEuRythLlcrYS5GKiFrLHtQcm9taXNlOnd9KSxlKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSh3LGcpLGUoIi4vJC5zZXQtc3BlY2llcyIpKGcpLG49ZSgiLi8kLmNvcmUiKVtnXSxhKGEuUythLkYqIWssZyx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBFKHRoaXMpLHI9dC5yZWplY3Q7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGEoYS5TK2EuRiooIWt8fF8oITApKSxnLHtyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiB3JiZPKGUuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIGU7dmFyIHQ9bmV3IEUodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGEoYS5TK2EuRiohKGsmJmUoIi4vJC5pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe3cuYWxsKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKCl7fSl9KSksZyx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgRSh0KSxuPXIucmVzb2x2ZSxpPXIucmVqZWN0LHM9W10sYz1QKGZ1bmN0aW9uKCl7JChlLCExLHMucHVzaCxzKTt2YXIgcj1zLmxlbmd0aCxjPUFycmF5KHIpO3I/by5lYWNoLmNhbGwocyxmdW5jdGlvbihlLG8pe3ZhciBzPSExO3QucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3N8fChzPSEwLGNbb109ZSwtLXJ8fG4oYykpfSxpKX0pOm4oYyl9KTtyZXR1cm4gYyYmaShjLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9TSh0aGlzKSxyPW5ldyBFKHQpLG49ci5yZWplY3Qsbz1QKGZ1bmN0aW9uKCl7JChlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vJCI6MzgsIi4vJC5hLWZ1bmN0aW9uIjoxMSwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jbGFzc29mIjoxNCwiLi8kLmNvcmUiOjE2LCIuLyQuY3R4IjoxNywiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mb3Itb2YiOjIzLCIuLyQuZ2xvYmFsIjoyNCwiLi8kLmlzLW9iamVjdCI6MzEsIi4vJC5pdGVyLWRldGVjdCI6MzUsIi4vJC5saWJyYXJ5IjozOSwiLi8kLm1pY3JvdGFzayI6NDAsIi4vJC5yZWRlZmluZS1hbGwiOjQzLCIuLyQuc2FtZS12YWx1ZSI6NDUsIi4vJC5zZXQtcHJvdG8iOjQ2LCIuLyQuc2V0LXNwZWNpZXMiOjQ3LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciI6NTAsIi4vJC5zdHJpY3QtbmV3Ijo1MSwiLi8kLndrcyI6NTl9XSw2NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuc3RyaW5nLWF0IikoITApO2UoIi4vJC5pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi8kLml0ZXItZGVmaW5lIjozNCwiLi8kLnN0cmluZy1hdCI6NTJ9XSw2NjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpO24uTm9kZUxpc3Q9bi5IVE1MQ29sbGVjdGlvbj1uLkFycmF5fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6NjF9XSw2NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGM9bihzKSx1PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bih1KSxmPWUoIi4uL3V0aWxzL3V0aWxzIiksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peygwLGNbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgbz10aGlzO28ubWVzc2FnZUJ1cz1uLG8uZG9tYWluPSgwLGYuZGl2aWRlVVJMKSh0KS5kb21haW4sby5oeXBlcnR5VVJMPXQsby5ydW50aW1lVVJMPXJ9cmV0dXJuKDAsYVsiZGVmYXVsdCJdKShlLFt7a2V5OiJkaXNjb3ZlclVzZXJSZWdpc3RlcmVkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDAsbz1lP2U6Ii4iO249dD90OnIuaHlwZXJ0eVVSTDt2YXIgcz17dHlwZToicmVhZCIsZnJvbTpuLHRvOnIucnVudGltZVVSTCsiL3JlZ2lzdHJ5LyIsYm9keTp7cmVzb3VyY2U6byxjcml0ZXJpYTpufX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkucmVzb3VyY2U7bj9lKG4pOnQoIk5vIHVzZXIgd2FzIG5vdCBmb3VuZCIpfSl9KX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo2OCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsJFsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLHBbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiB1KGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gdShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IikscD1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksJD1uKGQpO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD11LHIuZ2V0VXNlckVtYWlsRnJvbVVSTD1hLHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs2N10pKDY3KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjIuMAoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlN5bmNoZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGEpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGM9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJmMpcmV0dXJuIGMocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBsPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGwsbC5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlJiYhQXJyYXkub2JzZXJ2ZSYmZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ZS5nZXROb3RpZmllcixuPSJwZXJmb3JtQ2hhbmdlIixvPSJfb3JpZ2luYWwiLGk9InNwbGljZSIscz17cHVzaDpmdW5jdGlvbiBjKGUpe3ZhciB0PWFyZ3VtZW50cyxzPWNbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnMtdC5sZW5ndGgsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHVuc2hpZnQ6ZnVuY3Rpb24gdShlKXt2YXIgdD1hcmd1bWVudHMscz11W29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSxwb3A6ZnVuY3Rpb24gbCgpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9bFtvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDp0aGlzLmxlbmd0aCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzaGlmdDpmdW5jdGlvbiBmKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1mW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc3BsaWNlOmZ1bmN0aW9uIGQoZSx0KXt2YXIgcz1hcmd1bWVudHMsYT1kW29dLmFwcGx5KHRoaXMscyk7cmV0dXJuKGEubGVuZ3RofHxzLmxlbmd0aD4yKSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OmUsYWRkZWRDb3VudDpzLmxlbmd0aC0yLHJlbW92ZWQ6YX19LHRoaXMpLGF9fTtmb3IodmFyIGEgaW4gcylzW2FdW29dPXQucHJvdG90eXBlW2FdLHQucHJvdG90eXBlW2FdPXNbYV07dC5vYnNlcnZlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUub2JzZXJ2ZSh0LHIsWyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLGldKX0sdC51bm9ic2VydmU9ZS51bm9ic2VydmV9KE9iamVjdCxBcnJheSl9LHt9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IjoxN31dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIjoxOH1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoxOX1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoyMH1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjIxfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6MjJ9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjoyM31dLDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoyNH1dLDEwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiOjI1fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIGk9ZSxzPXQsYT1yO289ITEsbnVsbD09PWkmJihpPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGM9bihpLHMpO2lmKHZvaWQgMCE9PWMpe2lmKCJ2YWx1ZSJpbiBjKXJldHVybiBjLnZhbHVlO3ZhciB1PWMuZ2V0O2lmKHZvaWQgMD09PXUpcmV0dXJuO3JldHVybiB1LmNhbGwoYSl9dmFyIGw9T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpO2lmKG51bGw9PT1sKXJldHVybjtlPWwsdD1zLHI9YSxvPSEwLGM9bD12b2lkIDB9fSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjV9XSwxNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPW4odCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihvP28oZSx0KTplLl9fcHJvdG9fXz10KX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjh9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE2fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmNvbnN0cnVjdG9yPT09bj8ic3ltYm9sIjp0eXBlb2YgZX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjEwfV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4obi5KU09OJiZuLkpTT04uc3RyaW5naWZ5fHxKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZ2V0RGVzYyhlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo4MX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiI6ODJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6ODN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjg0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzLyQuY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6ODYsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6ODcsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6ODl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjo4OH1dLDI2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6NDl9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjMwLCIuLyQud2tzIjo3OH1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoyNn1dLDMzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDM0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjozOH1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDM2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0S2V5cyhlKSxyPW4uZ2V0U3ltYm9scztpZihyKWZvcih2YXIgbyxpPXIoZSkscz1uLmlzRW51bSxhPTA7aS5sZW5ndGg+YTspcy5jYWxsKGUsbz1pW2ErK10pJiZ0LnB1c2gobyk7cmV0dXJuIHR9fSx7Ii4vJCI6NTZ9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuY3R4Iikscz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyx1LGwsZj1lJmEuRixkPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHY9ZSZhLlcseT1kP286b1t0XXx8KG9bdF09e30pLF89ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihjIGluIHIpdT0hZiYmXyYmYyBpbiBfLHUmJmMgaW4geXx8KGw9dT9fW2NdOnJbY10seVtjXT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgX1tjXT9yW2NdOmgmJnU/aShsLG4pOnYmJl9bY109PWw/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlP25ldyBlKHQpOmUodCl9O3JldHVybiB0W3NdPWVbc10sdH0obCk6YiYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsYiYmKCh5W3NdfHwoeVtzXT17fSkpW2NdPWwpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMix0LmV4cG9ydHM9YX0seyIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZ2xvYmFsIjo0MX1dLDM4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY3R4Iiksbz1lKCIuLyQuaXRlci1jYWxsIiksaT1lKCIuLyQuaXMtYXJyYXktaXRlciIpLHM9ZSgiLi8kLmFuLW9iamVjdCIpLGE9ZSgiLi8kLnRvLWxlbmd0aCIpLGM9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dmFyIGwsZixkLHA9YyhlKSxiPW4ocix1LHQ/MjoxKSxoPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHApdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShwKSlmb3IobD1hKGUubGVuZ3RoKTtsPmg7aCsrKXQ/YihzKGY9ZVtoXSlbMF0sZlsxXSk6YihlW2hdKTtlbHNlIGZvcihkPXAuY2FsbChlKTshKGY9ZC5uZXh0KCkpLmRvbmU7KW8oZCxiLGYudmFsdWUsdCl9fSx7Ii4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLWFycmF5LWl0ZXIiOjQ3LCIuLyQuaXRlci1jYWxsIjo1MCwiLi8kLnRvLWxlbmd0aCI6NzUsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo3OX1dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKSxvPWUoIi4vJCIpLmdldE5hbWVzLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbChlKT9hKGUpOm8obihlKSl9fSx7Ii4vJCI6NTYsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vJC5kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuLyQiOjU2LCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQucHJvcGVydHktZGVzYyI6NjF9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuLyQuZ2xvYmFsIjo0MX1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi8kLmNvZiI6MzB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LHsiLi8kLmNvZiI6MzB9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3RyeXtyZXR1cm4gbz90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZuKHMuY2FsbChlKSksaX19fSx7Ii4vJC5hbi1vYmplY3QiOjI4fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpLGk9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuLyQuaGlkZSIpKHMsZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4uY3JlYXRlKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuLyQiOjU2LCIuLyQuaGlkZSI6NDMsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQubGlicmFyeSIpLG89ZSgiLi8kLmV4cG9ydCIpLGk9ZSgiLi8kLnJlZGVmaW5lIikscz1lKCIuLyQuaGlkZSIpLGE9ZSgiLi8kLmhhcyIpLGM9ZSgiLi8kLml0ZXJhdG9ycyIpLHU9ZSgiLi8kLml0ZXItY3JlYXRlIiksbD1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vJCIpLmdldFByb3RvLGQ9ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksYj0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGcsbSxqKXt1KHIsdCxfKTt2YXIgJCxPLHc9ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gRSlyZXR1cm4gRVtlXTtzd2l0Y2goZSl7Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0saz10KyIgSXRlcmF0b3IiLHg9Zz09dixDPSExLEU9ZS5wcm90b3R5cGUsUz1FW2RdfHxFW2JdfHxnJiZFW2ddLFQ9U3x8dyhnKTtpZihTKXt2YXIgUj1mKFQuY2FsbChuZXcgZSkpO2woUixrLCEwKSwhbiYmYShFLGIpJiZzKFIsZCx5KSx4JiZTLm5hbWUhPT12JiYoQz0hMCxUPWZ1bmN0aW9uKCl7cmV0dXJuIFMuY2FsbCh0aGlzKX0pfWlmKG4mJiFqfHwhcCYmIUMmJkVbZF18fHMoRSxkLFQpLGNbdF09VCxjW2tdPXksZylpZigkPXt2YWx1ZXM6eD9UOncodiksa2V5czptP1Q6dyhoKSxlbnRyaWVzOng/dygiZW50cmllcyIpOlR9LGopZm9yKE8gaW4gJClPIGluIEV8fGkoRSxPLCRbT10pO2Vsc2UgbyhvLlArby5GKihwfHxDKSx0LCQpO3JldHVybiAkfX0seyIuLyQiOjU2LCIuLyQuZXhwb3J0IjozNywiLi8kLmhhcyI6NDIsIi4vJC5oaWRlIjo0MywiLi8kLml0ZXItY3JlYXRlIjo1MSwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cj0hMH0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGEpe31yZXR1cm4gcn19LHsiLi8kLndrcyI6Nzh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDU2OltmdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0O3QuZXhwb3J0cz17Y3JlYXRlOm4uY3JlYXRlLGdldFByb3RvOm4uZ2V0UHJvdG90eXBlT2YsaXNFbnVtOnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGdldERlc2M6bi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isc2V0RGVzYzpuLmRlZmluZVByb3BlcnR5LHNldERlc2NzOm4uZGVmaW5lUHJvcGVydGllcyxnZXRLZXlzOm4ua2V5cyxnZXROYW1lczpuLmdldE93blByb3BlcnR5TmFtZXMsZ2V0U3ltYm9sczpuLmdldE93blByb3BlcnR5U3ltYm9scyxlYWNoOltdLmZvckVhY2h9fSx7fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9byhlKSxzPW4uZ2V0S2V5cyhpKSxhPXMubGVuZ3RoLGM9MDthPmM7KWlmKGlbcj1zW2MrK11dPT09dClyZXR1cm4gcn19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC50YXNrIikuc2V0LGM9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsdT1zLnByb2Nlc3MsbD1zLlByb21pc2UsZj0icHJvY2VzcyI9PWUoIi4vJC5jb2YiKSh1KSxkPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO2ZvcihmJiYoZT11LmRvbWFpbikmJih1LmRvbWFpbj1udWxsLGUuZXhpdCgpKTtuOyl0PW4uZG9tYWluLHI9bi5mbix0JiZ0LmVudGVyKCkscigpLHQmJnQuZXhpdCgpLG49bi5uZXh0O289dm9pZCAwLGUmJmUuZW50ZXIoKX07aWYoZilpPWZ1bmN0aW9uKCl7dS5uZXh0VGljayhkKX07ZWxzZSBpZihjKXt2YXIgcD0xLGI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBjKGQpLm9ic2VydmUoYix7Y2hhcmFjdGVyRGF0YTohMH0pLGk9ZnVuY3Rpb24oKXtiLmRhdGE9cD0tcH19ZWxzZSBpPWwmJmwucmVzb2x2ZT9mdW5jdGlvbigpe2wucmVzb2x2ZSgpLnRoZW4oZCl9OmZ1bmN0aW9uKCl7YS5jYWxsKHMsZCl9O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMCxkb21haW46ZiYmdS5kb21haW59O28mJihvLm5leHQ9dCksbnx8KG49dCxpKCkpLG89dH19LHsiLi8kLmNvZiI6MzAsIi4vJC5nbG9iYWwiOjQxLCIuLyQudGFzayI6NzJ9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuLyQuY29yZSI6MzEsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQucmVkZWZpbmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCluKGUscix0W3JdKTtyZXR1cm4gZX19LHsiLi8kLnJlZGVmaW5lIjo2M31dLDYzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5oaWRlIil9LHsiLi8kLmhpZGUiOjQzfV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9T2JqZWN0LmlzfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OmUhPWUmJnQhPXR9fSx7fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5nZXREZXNjLG89ZSgiLi8kLmlzLW9iamVjdCIpLGk9ZSgiLi8kLmFuLW9iamVjdCIpLHM9ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vJC5jdHgiKShGdW5jdGlvbi5jYWxsLG4oT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG8odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goaSl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhlLHQpLHI/ZS5fX3Byb3RvX189dDpvKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOnN9fSx7Ii4vJCI6NTYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLW9iamVjdCI6NDl9XSw2NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuY29yZSIpLG89ZSgiLi8kIiksaT1lKCIuLyQuZGVzY3JpcHRvcnMiKSxzPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W3NdJiZvLnNldERlc2ModCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vJCI6NTYsIi4vJC5jb3JlIjozMSwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLndrcyI6Nzh9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLnNldERlc2Msbz1lKCIuLyQuaGFzIiksaT1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vJCI6NTYsIi4vJC5oYXMiOjQyLCIuLyQud2tzIjo3OH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iiksbz1lKCIuLyQuYS1mdW5jdGlvbiIpLGk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbaV0pP3Q6byhyKX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLndrcyI6Nzh9XSw3MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKHIrIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciEiKTtyZXR1cm4gZX19LHt9XSw3MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGE9U3RyaW5nKG8odCkpLGM9bihyKSx1PWEubGVuZ3RoO3JldHVybiAwPmN8fGM+PXU/ZT8iIjp2b2lkIDA6KGk9YS5jaGFyQ29kZUF0KGMpLDU1Mjk2Pml8fGk+NTYzMTl8fGMrMT09PXV8fChzPWEuY2hhckNvZGVBdChjKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2EuY2hhckF0KGMpOmk6ZT9hLnNsaWNlKGMsYysyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC50by1pbnRlZ2VyIjo3M31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmN0eCIpLGE9ZSgiLi8kLmludm9rZSIpLGM9ZSgiLi8kLmh0bWwiKSx1PWUoIi4vJC5kb20tY3JlYXRlIiksbD1lKCIuLyQuZ2xvYmFsIiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxwPWwuY2xlYXJJbW1lZGlhdGUsYj1sLk1lc3NhZ2VDaGFubmVsLGg9MCx2PXt9LHk9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsXz1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKHYuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PXZbZV07ZGVsZXRlIHZbZV0sdCgpfX0sZz1mdW5jdGlvbihlKXtfLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIHZbKytoXT1mdW5jdGlvbigpe2EoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbihoKSxofSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSB2W2VdfSwicHJvY2VzcyI9PWUoIi4vJC5jb2YiKShmKT9uPWZ1bmN0aW9uKGUpe2YubmV4dFRpY2socyhfLGUsMSkpfTpiPyhvPW5ldyBiLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1nLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmwuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhbC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2wucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGcsITEpKTpuPXkgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7Yy5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbeV09ZnVuY3Rpb24oKXtjLnJlbW92ZUNoaWxkKHRoaXMpLF8uY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhfLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vJC5jb2YiOjMwLCIuLyQuY3R4IjozMiwiLi8kLmRvbS1jcmVhdGUiOjM1LCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmh0bWwiOjQ0LCIuLyQuaW52b2tlIjo0NX1dLDczOltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlvYmplY3QiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC5pb2JqZWN0Ijo0Nn1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuLyQudG8taW50ZWdlciI6NzN9XSw3NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSx7Ii4vJC5kZWZpbmVkIjozM31dLDc3OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnNoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vJC51aWQiKSxpPWUoIi4vJC5nbG9iYWwiKS5TeW1ib2w7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1pJiZpW2VdfHwoaXx8bykoIlN5bWJvbC4iK2UpKX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5zaGFyZWQiOjY4LCIuLyQudWlkIjo3N31dLDc5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNsYXNzb2YiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi8kLmNvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vJC5jbGFzc29mIjoyOSwiLi8kLmNvcmUiOjMxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw4MDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuLyQuaXRlci1zdGVwIiksaT1lKCIuLyQuaXRlcmF0b3JzIikscz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuLyQuaXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vJC5hZGQtdG8tdW5zY29wYWJsZXMiOjI3LCIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuaXRlci1zdGVwIjo1NCwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBlKG4odCkscil9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8taW9iamVjdCI6NzR9XSw4MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLW9iamVjdCI6NzZ9XSw4MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDg0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpO24obi5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjplKCIuLyQuc2V0LXByb3RvIikuc2V0fSl9LHsiLi8kLmV4cG9ydCI6MzcsIi4vJC5zZXQtcHJvdG8iOjY1fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw4NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvPWUoIi4vJCIpLGk9ZSgiLi8kLmxpYnJhcnkiKSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5jbGFzc29mIiksdT1lKCIuLyQuZXhwb3J0IiksbD1lKCIuLyQuaXMtb2JqZWN0IiksZj1lKCIuLyQuYW4tb2JqZWN0IiksZD1lKCIuLyQuYS1mdW5jdGlvbiIpLHA9ZSgiLi8kLnN0cmljdC1uZXciKSxiPWUoIi4vJC5mb3Itb2YiKSxoPWUoIi4vJC5zZXQtcHJvdG8iKS5zZXQsdj1lKCIuLyQuc2FtZS12YWx1ZSIpLHk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIiksXz1lKCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciIpLGc9ZSgiLi8kLm1pY3JvdGFzayIpLG09IlByb21pc2UiLGo9cy5wcm9jZXNzLCQ9InByb2Nlc3MiPT1jKGopLE89c1ttXSx3PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBPKGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGUmJih0LmNvbnN0cnVjdG9yPU9iamVjdCksTy5yZXNvbHZlKHQpPT09dH0saz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9bmV3IE8oZSk7cmV0dXJuIGgocix0LnByb3RvdHlwZSkscn12YXIgcj0hMTt0cnl7aWYocj1PJiZPLnJlc29sdmUmJncoKSxoKHQsTyksdC5wcm90b3R5cGU9by5jcmVhdGUoTy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0fX0pLHQucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCl7fSlpbnN0YW5jZW9mIHR8fChyPSExKSxyJiZlKCIuLyQuZGVzY3JpcHRvcnMiKSl7dmFyIG49ITE7Ty5yZXNvbHZlKG8uc2V0RGVzYyh7fSwidGhlbiIse2dldDpmdW5jdGlvbigpe249ITB9fSkpLHI9bn19Y2F0Y2goaSl7cj0hMX1yZXR1cm4gcn0oKSx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkmJmU9PT1PJiZ0PT09bj8hMDp2KGUsdCl9LEM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZihlKVt5XTtyZXR1cm4gdm9pZCAwIT10P3Q6ZX0sRT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbChlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxTPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFQ9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxSPWZ1bmN0aW9uKGUsdCl7aWYoIWUubil7ZS5uPSEwO3ZhciByPWUuYztnKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUudixvPTE9PWUucyxpPTAsYT1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxhPXQucmVzb2x2ZSxjPXQucmVqZWN0O3RyeXtzPyhvfHwoZS5oPSEwKSxyPXM9PT0hMD9uOnMobikscj09PXQucHJvbWlzZT9jKFR5cGVFcnJvcigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1FKHIpKT9pLmNhbGwocixhLGMpOmEocikpOmMobil9Y2F0Y2godSl7Yyh1KX19O3IubGVuZ3RoPmk7KWEocltpKytdKTtyLmxlbmd0aD0wLGUubj0hMSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQscixvPWUucDtNKG8pJiYoJD9qLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbixvKToodD1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT90KHtwcm9taXNlOm8scmVhc29uOm59KToocj1zLmNvbnNvbGUpJiZyLmVycm9yJiZyLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG4pKSxlLmE9dm9pZCAwfSwxKX0pfX0sTT1mdW5jdGlvbihlKXt2YXIgdCxyPWUuX2Qsbj1yLmF8fHIuYyxvPTA7aWYoci5oKXJldHVybiExO2Zvcig7bi5sZW5ndGg+bzspaWYodD1uW28rK10sdC5mYWlsfHwhTSh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxOPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5kfHwodC5kPSEwLHQ9dC5yfHx0LHQudj1lLHQucz0yLHQuYT10LmMuc2xpY2UoKSxSKHQsITApKX0sRD1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuZCl7ci5kPSEwLHI9ci5yfHxyO3RyeXtpZihyLnA9PT1lKXRocm93IFR5cGVFcnJvcigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1FKGUpKT9nKGZ1bmN0aW9uKCl7dmFyIG49e3I6cixkOiExfTt0cnl7dC5jYWxsKGUsYShELG4sMSksYShOLG4sMSkpfWNhdGNoKG8pe04uY2FsbChuLG8pfX0pOihyLnY9ZSxyLnM9MSxSKHIsITEpKX1jYXRjaChuKXtOLmNhbGwoe3I6cixkOiExfSxuKX19fTtrfHwoTz1mdW5jdGlvbihlKXtkKGUpO3ZhciB0PXRoaXMuX2Q9e3A6cCh0aGlzLE8sbSksYzpbXSxhOnZvaWQgMCxzOjAsZDohMSx2OnZvaWQgMCxoOiExLG46ITF9O3RyeXtlKGEoRCx0LDEpLGEoTix0LDEpKX1jYXRjaChyKXtOLmNhbGwodCxyKX19LGUoIi4vJC5yZWRlZmluZS1hbGwiKShPLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBTKF8odGhpcyxPKSksbj1yLnByb21pc2Usbz10aGlzLl9kO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LG8uYy5wdXNoKHIpLG8uYSYmby5hLnB1c2gociksby5zJiZSKG8sITEpLG59LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSkpLHUodS5HK3UuVyt1LkYqIWsse1Byb21pc2U6T30pLGUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpKE8sbSksZSgiLi8kLnNldC1zcGVjaWVzIikobSksbj1lKCIuLyQuY29yZSIpW21dLHUodS5TK3UuRiohayxtLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFModGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKigha3x8dyghMCkpLG0se3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIE8mJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKiEoayYmZSgiLi8kLml0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7Ty5hbGwoZSlbImNhdGNoIl0oZnVuY3Rpb24oKXt9KX0pKSxtLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9Qyh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qscz1bXSxhPVQoZnVuY3Rpb24oKXtiKGUsITEscy5wdXNoLHMpO3ZhciByPXMubGVuZ3RoLGE9QXJyYXkocik7cj9vLmVhY2guY2FsbChzLGZ1bmN0aW9uKGUsbyl7dmFyIHM9ITE7dC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7c3x8KHM9ITAsYVtvXT1lLC0tcnx8bihhKSl9LGkpfSk6bihhKX0pO3JldHVybiBhJiZpKGEuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlamVjdCxvPVQoZnVuY3Rpb24oKXtiKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi8kIjo1NiwiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQuZXhwb3J0IjozNywiLi8kLmZvci1vZiI6MzksIi4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OSwiLi8kLml0ZXItZGV0ZWN0Ijo1MywiLi8kLmxpYnJhcnkiOjU4LCIuLyQubWljcm90YXNrIjo1OSwiLi8kLnJlZGVmaW5lLWFsbCI6NjIsIi4vJC5zYW1lLXZhbHVlIjo2NCwiLi8kLnNldC1wcm90byI6NjUsIi4vJC5zZXQtc3BlY2llcyI6NjYsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIjo2OSwiLi8kLnN0cmljdC1uZXciOjcwLCIuLyQud2tzIjo3OH1dLDg3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5zdHJpbmctYXQiKSghMCk7ZSgiLi8kLml0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuc3RyaW5nLWF0Ijo3MX1dLDg4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLmdsb2JhbCIpLGk9ZSgiLi8kLmhhcyIpLHM9ZSgiLi8kLmRlc2NyaXB0b3JzIiksYT1lKCIuLyQuZXhwb3J0IiksYz1lKCIuLyQucmVkZWZpbmUiKSx1PWUoIi4vJC5mYWlscyIpLGw9ZSgiLi8kLnNoYXJlZCIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksZD1lKCIuLyQudWlkIikscD1lKCIuLyQud2tzIiksYj1lKCIuLyQua2V5b2YiKSxoPWUoIi4vJC5nZXQtbmFtZXMiKSx2PWUoIi4vJC5lbnVtLWtleXMiKSx5PWUoIi4vJC5pcy1hcnJheSIpLF89ZSgiLi8kLmFuLW9iamVjdCIpLGc9ZSgiLi8kLnRvLWlvYmplY3QiKSxtPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaj1uLmdldERlc2MsJD1uLnNldERlc2MsTz1uLmNyZWF0ZSx3PWguZ2V0LGs9by5TeW1ib2wseD1vLkpTT04sQz14JiZ4LnN0cmluZ2lmeSxFPSExLFM9cCgiX2hpZGRlbiIpLFQ9bi5pc0VudW0sUj1sKCJzeW1ib2wtcmVnaXN0cnkiKSxNPWwoInN5bWJvbHMiKSxOPSJmdW5jdGlvbiI9PXR5cGVvZiBrLEQ9T2JqZWN0LnByb3RvdHlwZSxQPXMmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9TygkKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuICQodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWooRCx0KTtuJiZkZWxldGUgRFt0XSwkKGUsdCxyKSxuJiZlIT09RCYmJChELHQsbil9OiQsTD1mdW5jdGlvbihlKXt2YXIgdD1NW2VdPU8oay5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUscyYmRSYmUChELGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZnVuY3Rpb24odCl7aSh0aGlzLFMpJiZpKHRoaXNbU10sZSkmJih0aGlzW1NdW2VdPSExKSxQKHRoaXMsZSxtKDEsdCkpfX0pLHR9LEE9ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfSxGPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gciYmaShNLHQpPyhyLmVudW1lcmFibGU/KGkoZSxTKSYmZVtTXVt0XSYmKGVbU11bdF09ITEpLHI9TyhyLHtlbnVtZXJhYmxlOm0oMCwhMSl9KSk6KGkoZSxTKXx8JChlLFMsbSgxLHt9KSksZVtTXVt0XT0hMCksUChlLHQscikpOiQoZSx0LHIpfSxJPWZ1bmN0aW9uKGUsdCl7XyhlKTtmb3IodmFyIHIsbj12KHQ9Zyh0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylGKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LFU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9PKGUpOkkoTyhlKSx0KX0sVj1mdW5jdGlvbihlKXt2YXIgdD1ULmNhbGwodGhpcyxlKTtyZXR1cm4gdHx8IWkodGhpcyxlKXx8IWkoTSxlKXx8aSh0aGlzLFMpJiZ0aGlzW1NdW2VdP3Q6ITB9LHo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1qKGU9ZyhlKSx0KTtyZXR1cm4hcnx8IWkoTSx0KXx8aShlLFMpJiZlW1NdW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfSxIPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPXcoZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKXx8dD09U3x8bi5wdXNoKHQpO3JldHVybiBufSxCPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPXcoZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKSYmbi5wdXNoKE1bdF0pO3JldHVybiBufSxKPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUmJiFBKGUpKXtmb3IodmFyIHQscixuPVtlXSxvPTEsaT1hcmd1bWVudHM7aS5sZW5ndGg+bzspbi5wdXNoKGlbbysrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnkodCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLEEodCk/dm9pZCAwOnR9KSxuWzFdPXQsQy5hcHBseSh4LG4pfX0sVz11KGZ1bmN0aW9uKCl7dmFyIGU9aygpO3JldHVybiJbbnVsbF0iIT1DKFtlXSl8fCJ7fSIhPUMoe2E6ZX0pfHwie30iIT1DKE9iamVjdChlKSl9KTtOfHwoaz1mdW5jdGlvbigpe2lmKEEodGhpcykpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTtyZXR1cm4gTChkKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSl9LGMoay5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksQT1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGt9LG4uY3JlYXRlPVUsbi5pc0VudW09VixuLmdldERlc2M9eixuLnNldERlc2M9RixuLnNldERlc2NzPUksbi5nZXROYW1lcz1oLmdldD1ILG4uZ2V0U3ltYm9scz1CLHMmJiFlKCIuLyQubGlicmFyeSIpJiZjKEQsInByb3BlcnR5SXNFbnVtZXJhYmxlIixWLCEwKSk7dmFyIFk9eyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBpKFIsZSs9IiIpP1JbZV06UltlXT1rKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGIoUixlKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7RT0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7RT0hMX19O24uZWFjaC5jYWxsKCJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD1wKGUpO1lbZV09Tj90OkwodCl9KSxFPSEwLGEoYS5HK2EuVyx7U3ltYm9sOmt9KSxhKGEuUywiU3ltYm9sIixZKSxhKGEuUythLkYqIU4sIk9iamVjdCIse2NyZWF0ZTpVLGRlZmluZVByb3BlcnR5OkYsZGVmaW5lUHJvcGVydGllczpJLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjp6LGdldE93blByb3BlcnR5TmFtZXM6SCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Qn0pLHgmJmEoYS5TK2EuRiooIU58fFcpLCJKU09OIix7c3RyaW5naWZ5Okp9KSxmKGssIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5lbnVtLWtleXMiOjM2LCIuLyQuZXhwb3J0IjozNywiLi8kLmZhaWxzIjozOCwiLi8kLmdldC1uYW1lcyI6NDAsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaGFzIjo0MiwiLi8kLmlzLWFycmF5Ijo0OCwiLi8kLmtleW9mIjo1NywiLi8kLmxpYnJhcnkiOjU4LCIuLyQucHJvcGVydHktZGVzYyI6NjEsIi4vJC5yZWRlZmluZSI6NjMsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zaGFyZWQiOjY4LCIuLyQudG8taW9iamVjdCI6NzQsIi4vJC51aWQiOjc3LCIuLyQud2tzIjo3OH1dLDg5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIik7bi5Ob2RlTGlzdD1uLkhUTUxDb2xsZWN0aW9uPW4uQXJyYXl9LHsiLi8kLml0ZXJhdG9ycyI6NTUsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo4MH1dLDkwOltmdW5jdGlvbihlLHQscil7d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuZz1bXSx0aGlzLms9ZX1mdW5jdGlvbiByKGUpeyFmdW5jdGlvbiByKCl7dmFyIG49ZS50YWtlUmVjb3JkcygpO24ubGVuZ3RoJiZlLmsobixlKSxlLmY9c2V0VGltZW91dChyLHQuX3BlcmlvZCl9KCl9ZnVuY3Rpb24gbih0KXt2YXIgcixuPXt0eXBlOm51bGwsdGFyZ2V0Om51bGwsYWRkZWROb2RlczpbXSxyZW1vdmVkTm9kZXM6W10scHJldmlvdXNTaWJsaW5nOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxhdHRyaWJ1dGVOYW1lOm51bGwsYXR0cmlidXRlTmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6bnVsbH07Zm9yKHIgaW4gdCluW3JdIT09ZSYmdFtyXSE9PWUmJihuW3JdPXRbcl0pO3JldHVybiBufWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj1hKGUsdCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvLGM9bi5sZW5ndGg7dC5hJiZyLmEmJmkobixlLHIuYSx0LmQpLCh0LmJ8fHQuZSkmJihvPXMobixlLHIsdCkpLChvfHxuLmxlbmd0aCE9PWMpJiYocj1hKGUsdCkpfX1mdW5jdGlvbiBpKHQscixvLGkpe2Zvcih2YXIgcyxhLGM9e30sdT1yLmF0dHJpYnV0ZXMsbD11Lmxlbmd0aDtsLS07KXM9dVtsXSxhPXMubmFtZSxpJiZpW2FdPT09ZXx8KHMudmFsdWUhPT1vW2FdJiZ0LnB1c2gobih7dHlwZToiYXR0cmlidXRlcyIsdGFyZ2V0OnIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV0sYXR0cmlidXRlTmFtZXNwYWNlOnMubmFtZXNwYWNlVVJJfSkpLGNbYV09ITApO2ZvcihhIGluIG8pY1thXXx8dC5wdXNoKG4oe3RhcmdldDpyLHR5cGU6ImF0dHJpYnV0ZXMiLGF0dHJpYnV0ZU5hbWU6YSxvbGRWYWx1ZTpvW2FdfSkpfWZ1bmN0aW9uIHModCxyLG8scyl7ZnVuY3Rpb24gYShlLHIsbyxhLGMpe3ZhciBsPWUubGVuZ3RoLTE7Yz0tfigobC1jKS8yKTtmb3IodmFyIGYsZCxwO3A9ZS5wb3AoKTspZj1vW3AuaF0sZD1hW3AuaV0scy5iJiZjJiZNYXRoLmFicyhwLmgtcC5pKT49bCYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2ZdLHJlbW92ZWROb2RlczpbZl0sbmV4dFNpYmxpbmc6Zi5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6Zi5wcmV2aW91c1NpYmxpbmd9KSksYy0tKSxzLmEmJmQuYSYmaSh0LGYsZC5hLHMuZCkscy5jJiYzPT09Zi5ub2RlVHlwZSYmZi5ub2RlVmFsdWUhPT1kLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6Zn0pKSxzLmUmJnUoZixkKX1mdW5jdGlvbiB1KHIsbyl7Zm9yKHZhciBkLHAsYixoLHYseT1yLmNoaWxkTm9kZXMsXz1vLmIsZz15Lmxlbmd0aCxtPV8/Xy5sZW5ndGg6MCxqPTAsJD0wLE89MDtnPiR8fG0+TzspaD15WyRdLHY9KGI9X1tPXSkmJmIuaixoPT09dj8ocy5hJiZiLmEmJmkodCxoLGIuYSxzLmQpLHMuYyYmYi5jIT09ZSYmaC5ub2RlVmFsdWUhPT1iLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6aH0pKSxwJiZhKHAscix5LF8saikscy5lJiYoaC5jaGlsZE5vZGVzLmxlbmd0aHx8Yi5iJiZiLmIubGVuZ3RoKSYmdShoLGIpLCQrKyxPKyspOihsPSEwLGR8fChkPXt9LHA9W10pLGgmJihkW2I9YyhoKV18fChkW2JdPSEwLC0xPT09KGI9ZihfLGgsTywiaiIpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltoXSxuZXh0U2libGluZzpoLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpoLnByZXZpb3VzU2libGluZ30pKSxqKyspOnAucHVzaCh7aDokLGk6Yn0pKSwkKyspLHYmJnYhPT15WyRdJiYoZFtiPWModildfHwoZFtiXT0hMCwtMT09PShiPWYoeSx2LCQpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6by5qLHJlbW92ZWROb2Rlczpbdl0sbmV4dFNpYmxpbmc6X1tPKzFdLHByZXZpb3VzU2libGluZzpfW08tMV19KSksai0tKTpwLnB1c2goe2g6YixpOk99KSksTysrKSk7cCYmYShwLHIseSxfLGopfXZhciBsO3JldHVybiB1KHIsbyksbH1mdW5jdGlvbiBhKGUsdCl7dmFyIHI9ITA7cmV0dXJuIGZ1bmN0aW9uIG4oZSl7dmFyIG89e2o6ZX07cmV0dXJuIXQuY3x8MyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlPyh0LmEmJnImJjE9PT1lLm5vZGVUeXBlJiYoby5hPWwoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuZCYmIXQuZFtyLm5hbWVdfHwoZVtyLm5hbWVdPXIudmFsdWUpLGV9KSksciYmKHQuYnx8dC5jfHx0LmEmJnQuZSkmJihvLmI9dShlLmNoaWxkTm9kZXMsbikpLHI9dC5lKTpvLmM9ZS5ub2RlVmFsdWUsb30oZSl9ZnVuY3Rpb24gYyhlKXt0cnl7cmV0dXJuIGUuaWR8fChlLm1vX2lkPWUubW9faWR8fGQrKyl9Y2F0Y2godCl7dHJ5e3JldHVybiBlLm5vZGVWYWx1ZX1jYXRjaChyKXtyZXR1cm4gZCsrfX19ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgcj1bXSxuPTA7bjxlLmxlbmd0aDtuKyspcltuXT10KGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciByPXt9LG49MDtuPGUubGVuZ3RoO24rKylyPXQocixlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gZihlLHQscixuKXtmb3IoO3I8ZS5sZW5ndGg7cisrKWlmKChuP2Vbcl1bbl06ZVtyXSk9PT10KXJldHVybiByO3JldHVybi0xfXQuX3BlcmlvZD0zMCx0LnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17YTohISh0LmF0dHJpYnV0ZXN8fHQuYXR0cmlidXRlRmlsdGVyfHx0LmF0dHJpYnV0ZU9sZFZhbHVlKSxiOiEhdC5jaGlsZExpc3QsZTohIXQuc3VidHJlZSxjOiEoIXQuY2hhcmFjdGVyRGF0YSYmIXQuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKX0saT10aGlzLmcscz0wO3M8aS5sZW5ndGg7cysrKWlbc10ubT09PWUmJmkuc3BsaWNlKHMsMSk7dC5hdHRyaWJ1dGVGaWx0ZXImJihuLmQ9bCh0LmF0dHJpYnV0ZUZpbHRlcixmdW5jdGlvbihlLHQpewpyZXR1cm4gZVt0XT0hMCxlfSkpLGkucHVzaCh7bTplLGw6byhlLG4pfSksdGhpcy5mfHxyKHRoaXMpfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZyxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXS5sKGUpO3JldHVybiBlfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5nPVtdLGNsZWFyVGltZW91dCh0aGlzLmYpLHRoaXMuZj1udWxsfX07dmFyIGQ9MTtyZXR1cm4gdH0odm9pZCAwKX0se31dLDkxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmV8fGZ1bmN0aW9uKGUsdCxyLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxpLHM9WyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLCJyZWNvbmZpZ3VyZSIsInNldFByb3RvdHlwZSIsInByZXZlbnRFeHRlbnNpb25zIl0sYT10LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09ZS5jYWxsKHQpfX0oZS5wcm90b3R5cGUudG9TdHJpbmcpLGM9dC5wcm90b3R5cGUuaW5kZXhPZj90LmluZGV4T2Z8fGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gdC5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUscixuKX06ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1yfHwwO248ZS5sZW5ndGg7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSx1PXIuTWFwIT09biYmTWFwLnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKCl7cmV0dXJuIG5ldyBNYXB9OmZ1bmN0aW9uKCl7dmFyIGU9W10sdD1bXTtyZXR1cm57c2l6ZTowLGhhczpmdW5jdGlvbih0KXtyZXR1cm4gYyhlLHQpPi0xfSxnZXQ6ZnVuY3Rpb24ocil7cmV0dXJuIHRbYyhlLHIpXX0sc2V0OmZ1bmN0aW9uKHIsbil7dmFyIG89YyhlLHIpOy0xPT09bz8oZS5wdXNoKHIpLHQucHVzaChuKSx0aGlzLnNpemUrKyk6dFtvXT1ufSwiZGVsZXRlIjpmdW5jdGlvbihyKXt2YXIgbj1jKGUscik7bj4tMSYmKGUuc3BsaWNlKG4sMSksdC5zcGxpY2UobiwxKSx0aGlzLnNpemUtLSl9LGZvckVhY2g6ZnVuY3Rpb24ocil7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspci5jYWxsKGFyZ3VtZW50c1sxXSx0W25dLGVbbl0sdGhpcyl9fX0sbD1lLmdldE93blByb3BlcnR5TmFtZXM/ZnVuY3Rpb24oKXt2YXIgdD1lLmdldE93blByb3BlcnR5TmFtZXM7dHJ5e2FyZ3VtZW50cy5jYWxsZWV9Y2F0Y2gocil7dmFyIG49KHQoYykuam9pbigiICIpKyIgIikucmVwbGFjZSgvcHJvdG90eXBlIHxsZW5ndGggfG5hbWUgL2csIiIpLnNsaWNlKDAsLTEpLnNwbGl0KCIgIik7bi5sZW5ndGgmJih0PWZ1bmN0aW9uKHQpe3ZhciByPWUuZ2V0T3duUHJvcGVydHlOYW1lcyh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClmb3IodmFyIG8saT0wO2k8bi5sZW5ndGg7KShvPWMocixuW2krK10pKT4tMSYmci5zcGxpY2UobywxKTtyZXR1cm4gcn0pfXJldHVybiB0fSgpOmZ1bmN0aW9uKHQpe3ZhciByLG4sbz1bXTtpZigiaGFzT3duUHJvcGVydHkiaW4gdClmb3IociBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJm8ucHVzaChyKTtlbHNle249ZS5oYXNPd25Qcm9wZXJ0eTtmb3IociBpbiB0KW4uY2FsbCh0LHIpJiZvLnB1c2gocil9cmV0dXJuIGEodCkmJm8ucHVzaCgibGVuZ3RoIiksb30sZj1lLmdldFByb3RvdHlwZU9mLGQ9ZS5kZWZpbmVQcm9wZXJ0aWVzJiZlLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixwPXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxyLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oKXt2YXIgZT0rbmV3IERhdGUsdD1lO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3IoKHQ9K25ldyBEYXRlKS1lKX0sMTcpfX0oKSxiPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1vLmdldChlKTtuPyh2KG4sZSksbShlLG4sdCxyKSk6KG49aChlKSxtKGUsbix0LHIpLDE9PT1vLnNpemUmJnAoeSkpfSxoPWZ1bmN0aW9uKHQscil7dmFyIG4saT1sKHQpLHM9W10sYT0wLHI9e2hhbmRsZXJzOnUoKSxmcm96ZW46ZS5pc0Zyb3plbj9lLmlzRnJvemVuKHQpOiExLGV4dGVuc2libGU6ZS5pc0V4dGVuc2libGU/ZS5pc0V4dGVuc2libGUodCk6ITAscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6Zyh0LHIpfTtpZihkKWZvcihuPXIuZGVzY3JpcHRvcnM9W107YTxpLmxlbmd0aDspblthXT1kKHQsaVthXSksc1thXT10W2lbYSsrXV07ZWxzZSBmb3IoO2E8aS5sZW5ndGg7KXNbYV09dFtpW2ErK11dO3JldHVybiBvLnNldCh0LHIpLHJ9LHY9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxhPXQudmFsdWVzW3JdLGM9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbyYmKGE9PT1zPzA9PT1hJiYxL2EhPT0xL3M6YT09PWF8fHM9PT1zKSYmKGooZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LnZhbHVlc1tyXT1zKSwhYy5jb25maWd1cmFibGV8fG8uY29uZmlndXJhYmxlJiZvLndyaXRhYmxlPT09Yy53cml0YWJsZSYmby5lbnVtZXJhYmxlPT09Yy5lbnVtZXJhYmxlJiZvLmdldD09PWMuZ2V0JiZvLnNldD09PWMuc2V0fHwoaihlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6YX0sbiksdC5kZXNjcmlwdG9yc1tyXT1vKX06ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dC5wcm9wZXJ0aWVzW3JdLGk9ZVtvXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihqKGUsdCx7bmFtZTpvLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbiksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbixvLGkpe2Zvcih2YXIgcyxhPXIubGVuZ3RoO24mJmEtLTspbnVsbCE9PXJbYV0mJihzPWQoZSxyW2FdKSxuLS0scz90KGUsbyxhLGkscyk6KGooZSxvLHtuYW1lOnJbYV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1thXX0saSksby5wcm9wZXJ0aWVzLnNwbGljZShhLDEpLG8udmFsdWVzLnNwbGljZShhLDEpLG8uZGVzY3JpcHRvcnMuc3BsaWNlKGEsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbixvKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGooZSxuLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tpXX0sbyksbi5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG4udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihuLG8saSl7aWYobi5oYW5kbGVycy5zaXplJiYhbi5mcm96ZW4pe3ZhciBzLGEsdSxwLGIsaCx2LHksXz1uLnZhbHVlcyxnPW4uZGVzY3JpcHRvcnMsbT0wO2lmKG4uZXh0ZW5zaWJsZSlpZihzPW4ucHJvcGVydGllcy5zbGljZSgpLGE9cy5sZW5ndGgsdT1sKG8pLGcpe2Zvcig7bTx1Lmxlbmd0aDspYj11W20rK10scD1jKHMsYikseT1kKG8sYiksLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChvW2JdKSxnLnB1c2goeSkpOihzW3BdPW51bGwsYS0tLHQobyxuLHAsaSx5KSk7cihvLHMsYSxuLGkpLGUuaXNFeHRlbnNpYmxlKG8pfHwobi5leHRlbnNpYmxlPSExLGoobyxuLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om99LGkpLG4uZnJvemVuPWUuaXNGcm96ZW4obykpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSxoPW9bYl0sLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChoKSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpKSk7cihvLHMsYSxuLGkpfWVsc2UgaWYoIW4uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKWI9c1ttXSx0KG8sbixtLGksZChvLGIpKTtlLmlzRnJvemVuKG8pJiYobi5mcm96ZW49ITApfWYmJih2PWYobyksdiE9PW4ucHJvdG8mJihqKG8sbix7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpvLG9sZFZhbHVlOm4ucHJvdG99KSxuLnByb3RvPXYpKX19fSgpLHk9ZnVuY3Rpb24oKXtvLnNpemUmJihvLmZvckVhY2godiksaS5mb3JFYWNoKF8pLHAoeSkpfSxfPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9by5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW8uZ2V0KGUpO2lmKHIpe3ZhciBuLGk9e29iamVjdDplfTtmb3IobiBpbiB0KSJvYmplY3QiIT09biYmKGlbbl09dFtuXSk7aihlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxhPW8uZ2V0KGUpLGM9YXJndW1lbnRzWzJdLHU9Yz09PW4/cigpOnIuY2FsbChjKTtpZihhJiZ2KGEsZSx0KSxhJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2ooZSxhLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWkuZ2V0KHIpO298fGkuc2V0KHIsbz17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxvLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om4uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG8pfSxqPWZ1bmN0aW9uKGUsdCxyLG4pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbz10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG58fC0xPT09YyhvLG4pKSYmYyhvLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O289dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbyl7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobz09PW4pbz1zO2Vsc2UgaWYoIW98fCJvYmplY3QiIT10eXBlb2Ygbyl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIGIodCxyLG8pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG49aS5nZXQodCk7cmV0dXJuIG4mJihyPW4ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG4ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSkscChmdW5jdGlvbigpe18obix0KX0pLDE9PT1uLm9ic2VydmVkLnNpemUmJm4ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm4ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9vWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6Zyh0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSksXyh0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDkyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuRGF0YU9iamVjdE9ic2VydmVyPXIuRGF0YU9iamVjdFJlcG9ydGVyPXIuU3luY2hlcj12b2lkIDAsZSgibXV0YXRpb25vYnNlcnZlci1zaGltIiksZSgib2JqZWN0Lm9ic2VydmUiKSxlKCJhcnJheS5vYnNlcnZlIik7dmFyIG89ZSgiLi9zeW5jaGVyL1N5bmNoZXIiKSxpPW4obykscz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIiksYT1uKHMpLGM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciIpLHU9bihjKTtyLlN5bmNoZXI9aVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdFJlcG9ydGVyPWFbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RPYnNlcnZlcj11WyJkZWZhdWx0Il19LHsiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL3N5bmNoZXIvU3luY2hlciI6OTksImFycmF5Lm9ic2VydmUiOjEsIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSI6OTAsIm9iamVjdC5vYnNlcnZlIjo5MX1dLDkzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IikscD1uKGQpLGI9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxoPW4oYiksdj1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9zeW5jaGVyPXQsYS5fdXJsPXIsYS5fc2NoZW1hPW4sYS5fc3RhdHVzPW8sYS5fc3luY09iaj1uZXcgcFsiZGVmYXVsdCJdKGkpLGEuX2NoaWxkcmVucz1zLGEuX3ZlcnNpb249MCxhLl9jaGlsZElkPTAsYS5fY2hpbGRyZW5PYmplY3RzPXt9LGEuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGEuX293bmVyPXQuX293bmVyLGEuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG89cituLGk9dC5fYnVzLmFkZExpc3RlbmVyKG8sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsYVsiZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBuPXIuX293bmVyKyIjIityLl9jaGlsZElkLG89ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpvLGJvZHk6e3Jlc291cmNlOm4sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYT1uZXcgaFsiZGVmYXVsdCJdKHIsbix0LHIuX293bmVyLGkpO2Eub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpvLGNoaWxkSWQ6bn0pfSksci5fY2hpbGRyZW5PYmplY3RzW25dPWEsZShhKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBuPW5ldyBoWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW4sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbz17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixvKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihvKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG49e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYobi5ib2R5LnZhbHVlPWUuZGF0YSk6KG4uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsbi5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG4uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihuLnRvPXQucGF0aCxuLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobil9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG49dC5ib2R5LmF0dHJpYnV0ZSxvPSgwLHYuZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixhPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2EsMF0uY29uY2F0KG8pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYz1pLm9iaix1PWkubGFzdDtjLnNwbGljZSh1LG8pfWVsc2UgaS5vYmpbaS5sYXN0XT1vO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bzpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxuPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtuP3QuX2NoYW5nZU9iamVjdChuLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCIuL1N5bmNPYmplY3QiOjk4LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYT1uKHMpLGM9ZSgiLi9TeW5jT2JqZWN0IiksdT1uKGMpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBhPXRoaXM7YS5fcGFyZW50PXQsYS5fY2hpbGRJZD1yLGEuX293bmVyPW8sYS5fbXNnSWQ9cyxhLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obiksYS5fYnVzPXQuX2J1cyxhLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGo9bihtKSwkPXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSxPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxzLGMsbCl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBmPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLHMuZGF0YSxjKSksZD1mO3JldHVybiBkLl92ZXJzaW9uPWwsZC5fZmlsdGVycz17fSxkLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ZC5fb25GaWx0ZXIoZSl9KSwoMCxpWyJkZWZhdWx0Il0pKHMuY2hpbGRyZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXMuY2hpbGRyZW5zW2VdO2QuX2NoaWxkcmVuT2JqZWN0c1tlXT1uZXcgalsiZGVmYXVsdCJdKGQsZSx0KX0pLGQuX2FsbG9jYXRlTGlzdGVuZXJzKCksZn1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG49e3R5cGU6JC5FWEFDVCxjYWxsYmFjazp0fSxvPWUuaW5kZXhPZigiKiIpO289PT1lLmxlbmd0aC0xJiYoMD09PW8/bi50eXBlPSQuQU5ZOihuLnR5cGU9JC5TVEFSVCxyPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpKSx0aGlzLl9maWx0ZXJzW3JdPW59fSx7a2V5OiJfb25GaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0Ll9maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXQuX2ZpbHRlcnNbcl07bi50eXBlPT09JC5BTlk/bi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLlNUQVJUPzA9PT1lLmZpZWxkLmluZGV4T2YocikmJm4uY2FsbGJhY2soZSk6bi50eXBlPT09JC5FWEFDVCYmZS5maWVsZD09PXImJm4uY2FsbGJhY2soZSl9KX19XSksdH0oZ1siZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09Tyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdCI6OTMsIi4vRGF0YU9iamVjdENoaWxkIjo5NCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuLi91dGlscy91dGlscy5qcyIpLGo9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBjPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLGkscykpLGw9YztyZXR1cm4gbC5fc3Vic2NyaXB0aW9ucz17fSxsLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGwuX29uQ2hhbmdlKGUpfSksbC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxjfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9yZXNwb25zZUxpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmZS5fb25SZXNwb25zZSh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9yZXNwb25zZUxpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiaW52aXRlT2JzZXJ2ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImNyZWF0ZSIsZnJvbTp0Ll9zeW5jaGVyLl9vd25lcix0bzp0Ll9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6dC5fdXJsLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6dC5fc3luY09iai5kYXRhLGF1dGhvcmlzZTplfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci1SQ1Y6ICIsZSksZS5ib2R5LnR5cGUpe2Nhc2Uic3Vic2NyaWJlIjp0Ll9vblN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjp0Ll9vblVuU3Vic2NyaWJlKGUpfX19LHtrZXk6Il9vblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsYWNjZXB0OmZ1bmN0aW9uKCl7dmFyIG49e3VybDpyLHN0YXR1czoib24ifTt0Ll9zdWJzY3JpcHRpb25zW3JdPW47dmFyIG89e307cmV0dXJuKDAsaVsiZGVmYXVsdCJdKSh0Ll9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dC5fY2hpbGRyZW5PYmplY3RzW2VdLmRhdGE7b1tlXT0oMCxtLmRlZXBDbG9uZSkocil9KSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc2NoZW1hOnQuX3NjaGVtYSx2ZXJzaW9uOnQuX3ZlcnNpb24sdmFsdWU6e2RhdGE6KDAsbS5kZWVwQ2xvbmUpKHQuZGF0YSksY2hpbGRyZW5zOm99fX0pLG59LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDMsZGVzYzpyfX0pfX07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlNVQlNDUklQVElPTi1FVkVOVDogIixuKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uVW5TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXQuX3N1YnNjcmlwdGlvbnNbcl07ZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl07dmFyIG89e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsb2JqZWN0Om59O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJVTi1TVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbyksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG8pKX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJihjb25zb2xlLmxvZygiUkVTUE9OU0UtRVZFTlQ6ICIsciksdC5fb25SZXNwb25zZUhhbmRsZXIocikpfX0se2tleToic3Vic2NyaXB0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnN9fV0pLHR9KGdbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPWosdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3QiOjkzLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bihzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1uLHMuX2NoaWxkcmVuPW8scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09Yyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLk9iamVjdFR5cGU9ci5DaGFuZ2VUeXBlPXZvaWQgMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYyksbD1lKCIuLi91dGlscy91dGlscy5qcyIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgcj10aGlzO3IuX29ic2VydmVycz1bXSxyLl9maWx0ZXJzPXt9LHQ/ci5fZGF0YT0oMCxsLmRlZXBDbG9uZSkodCk6ci5fZGF0YT17fSxyLl9pbnRlcm5hbE9ic2VydmUobmV3IGQsci5fZGF0YSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMucHVzaChlKX19LHtrZXk6ImZpbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi4iKTtyZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdCh0KX19LHtrZXk6ImZpbmRCZWZvcmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZS5zcGxpdCgiLiIpO3JldHVybiB0Lmxhc3Q9ci5wb3AoKSx0Lm9iaj10aGlzLl9maW5kV2l0aFNwbGl0KHIpLHR9fSx7a2V5OiJfZmluZFdpdGhTcGxpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dFtlXX0pLHR9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0KGUpfSl9fSx7a2V5OiJfaXNPYnNlcnZhYmxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8ZS5jb25zdHJ1Y3Rvcj09PUFycmF5fX0se2tleToiX2ludGVybmFsT2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG49ZnVuY3Rpb24odCl7ci5fb25DaGFuZ2VzKGUsdCl9O2lmKHQuY29uc3RydWN0b3I9PT1PYmplY3Qpe09iamVjdC5vYnNlcnZlKHQsbik7Zm9yKHZhciBvIGluIHQpci5faXNPYnNlcnZhYmxlKHRbb10pJiZyLl9pbnRlcm5hbE9ic2VydmUoZVsibmV3Il0obyksdFtvXSl9ZWxzZSBpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkpe0FycmF5Lm9ic2VydmUodCxuKTtmb3IodmFyIGkgaW4gdClpZihyLl9pc09ic2VydmFibGUodFtpXSkpe3ZhciBzPWVbIm5ldyJdKG5ldyBwKHRbaV0saSkpO3IuX2ludGVybmFsT2JzZXJ2ZShzLHRbaV0pfX19fX0se2tleToiX29uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiB0KXt2YXIgbz10W25dLm9iamVjdCxpPXZvaWQgMDtpZihvLmNvbnN0cnVjdG9yPT09T2JqZWN0JiYoaT1oLk9CSkVDVCksby5jb25zdHJ1Y3Rvcj09PUFycmF5JiYoaT1oLkFSUkFZKSwic3BsaWNlIj09PXRbbl0udHlwZSkhZnVuY3Rpb24oKXt2YXIgcz10W25dLmluZGV4LGE9ZVsibmV3Il0oIiIrcyksYz1hLnRvU3RyaW5nKCksdT10W25dLnJlbW92ZWQubGVuZ3RoO2lmKDAhPT11KXt2YXIgZj10W25dLnJlbW92ZWQ7Zi5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7ci5faXNPYnNlcnZhYmxlKHQpJiZlLnJlbW92ZUluZGV4KHMrbil9KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YyxkYXRhOnV9KX12YXIgZD10W25dLmFkZGVkQ291bnQ7aWYoMCE9PWQpe3ZhciBoPW8uc2xpY2UocyxzK2QpO2guZm9yRWFjaChmdW5jdGlvbih0LG4pe2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG89ZVsibmV3Il0obmV3IHAodCxzK24pKTtyLl9pbnRlcm5hbE9ic2VydmUobyx0KX19KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShoKX0pfXMhPT1vLmxlbmd0aC0xJiZlLnJlSW5kZXhGcm9tKG8pfSgpO2Vsc2V7dmFyIHM9ZVsibmV3Il0odFtuXS5uYW1lKSxhPXMudG9TdHJpbmcoKTtpZigtMSE9PWEuaW5kZXhPZigiU3ltYm9sIikpY29udGludWU7dmFyIGM9b1t0W25dLm5hbWVdOyJ1cGRhdGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuVVBEQVRFLG9UeXBlOmksZmllbGQ6YSxkYXRhOigwLGwuZGVlcENsb25lKShjKX0pLCJhZGQiPT09dFtuXS50eXBlJiYodGhpcy5faW50ZXJuYWxPYnNlcnZlKHMsYyksdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSksImRlbGV0ZSI9PT10W25dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5SRU1PVkUsb1R5cGU6aSxmaWVsZDphfSl9fX19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfX1dKSxlfSgpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMuX3BhdGg9W10sdGhpcy5fb2JzZXJ2YWJsZXM9e319cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJyZW1vdmVJbmRleCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX29ic2VydmFibGVzW2VdfX0se2tleToicmVJbmRleEZyb20iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLl9vYnNlcnZhYmxlcykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9vYnNlcnZhYmxlc1tyXSxvPWUuaW5kZXhPZihuLm9iaik7bi5pZHghPW8mJihuLmlkeD1vLGRlbGV0ZSB0Ll9vYnNlcnZhYmxlc1tyXSx0Ll9vYnNlcnZhYmxlc1tvXT1uKX0pfX0se2tleToibmV3Iix2YWx1ZTpmdW5jdGlvbihlKXtlLmNvbnN0cnVjdG9yPT1wJiYodGhpcy5fb2JzZXJ2YWJsZXNbZS5pZHhdPWUpO3ZhciB0PXRoaXMuY2xvbmUoKTtyZXR1cm4gdC5fcGF0aC5wdXNoKGUpLHR9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZTtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX3BhdGgucHVzaChlKX0pLHR9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7MD09PXI/ZT10LnRvU3RyaW5nKCk6ZSs9Ii4iK3QudG9TdHJpbmcoKX0pLGV9fV0pLGV9KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5vYmo9dCx0aGlzLmlkeD1yfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR4LnRvU3RyaW5nKCl9fV0pLGV9KCksYj1yLkNoYW5nZVR5cGU9e1VQREFURToidXBkYXRlIixBREQ6ImFkZCIsUkVNT1ZFOiJyZW1vdmUifSxoPXIuT2JqZWN0VHlwZT17T0JKRUNUOiJvYmplY3QiLEFSUkFZOiJhcnJheSJ9O3JbImRlZmF1bHQiXT1mfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMDAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW4obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLHA9bihkKSxiPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksaD1uKGIpLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLl9vd25lcj10LG8uX2J1cz1yLG8uX3N1YlVSTD1uLnJ1bnRpbWVVUkwrIi9zbSIsby5fcmVwb3J0ZXJzPXt9LG8uX29ic2VydmVycz17fSxvLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6by5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpvLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6by5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3IucmVwb3J0ZXI9bi5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4uX293bmVyLHRvOm4uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtuLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihvKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG8pLDIwMD09PW8uYm9keS5jb2RlKXt2YXIgcz1vLmJvZHkucmVzb3VyY2UsYT1uZXcgZlsiZGVmYXVsdCJdKG4scyxlLCJvbiIscixvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO24uX3JlcG9ydGVyc1tzXT1hLHQoYSl9ZWxzZSBpKG8uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihvLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbik7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG4uYm9keS5jb2RlPDIwMClzPW5ldyBoWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsbi5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW4uYm9keS5jb2RlKXt2YXIgYT1uZXcgcFsiZGVmYXVsdCJdKHIsdCxlLCJvbiIsbi5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sbi5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1hLG8oYSkscy5hcHBseShhKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6Im9uTm90aWZpY2F0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbk5vdGlmaWNhdGlvbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10Ll9yZXBvcnRlcnNbZS5ib2R5LnRvXTtyLl9vbkZvcndhcmQoZSl9fSx7a2V5OiJfb25SZW1vdGVDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb20uc2xpY2UoMCwtMTMpLG49e3R5cGU6ZS50eXBlLGZyb206ZS5ib2R5LnNvdXJjZSx1cmw6cixzY2hlbWE6ZS5ib2R5LnNjaGVtYSx2YWx1ZTplLmJvZHkudmFsdWUsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbj0yMDA7ciYmKG49ciksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbiksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblJlbW90ZURlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZSxuPXQuX29ic2VydmVyc1tyXTtpZihuKXt2YXIgbz17dHlwZTplLnR5cGUsdXJsOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbz0yMDA7ciYmKG89ciksMjAwPT09byYmblsiZGVsZXRlIl0oKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpvLHNvdXJjZTp0Ll9vd25lcn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbyksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG8pKX1lbHNlIHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwNCxzb3VyY2U6dC5fb3duZXJ9fSl9fSx7a2V5OiJvd25lciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX293bmVyfX0se2tleToicmVwb3J0ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVwb3J0ZXJzfX0se2tleToib2JzZXJ2ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT12LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjk1LCIuL0RhdGFPYmplY3RSZXBvcnRlciI6OTYsIi4vRGF0YVByb3Zpc2lvbmFsIjo5NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSwxMDA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsYlsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiBjKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGwoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYyhlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGY9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGYpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYj1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1hLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1jLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1sfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3fV19LHt9LFs5Ml0pKDkyKX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKLyohCiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHMKICogSVB2NiBTdXBwb3J0CiAqCiAqIFZlcnNpb246IDEuMTguMQogKgogKiBBdXRob3I6IFJvZG5leSBSZWhtCiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzLwogKgogKiBMaWNlbnNlZCB1bmRlcgogKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UKICoKICovCgooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7CiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsKICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgIGRlZmluZShmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuSVB2NiA9IGZhY3Rvcnkocm9vdCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChyb290KSB7CiAgJ3VzZSBzdHJpY3QnOwoKICAvKgogIHZhciBfaW4gPSAiZmU4MDowMDAwOjAwMDA6MDAwMDowMjA0OjYxZmY6ZmU5ZDpmMTU2IjsKICB2YXIgX291dCA9IElQdjYuYmVzdChfaW4pOwogIHZhciBfZXhwZWN0ZWQgPSAiZmU4MDo6MjA0OjYxZmY6ZmU5ZDpmMTU2IjsKCiAgY29uc29sZS5sb2coX2luLCBfb3V0LCBfZXhwZWN0ZWQsIF9vdXQgPT09IF9leHBlY3RlZCk7CiAgKi8KCiAgLy8gc2F2ZSBjdXJyZW50IElQdjYgdmFyaWFibGUsIGlmIGFueQogIHZhciBfSVB2NiA9IHJvb3QgJiYgcm9vdC5JUHY2OwoKICBmdW5jdGlvbiBiZXN0UHJlc2VudGF0aW9uKGFkZHJlc3MpIHsKICAgIC8vIGJhc2VkIG9uOgogICAgLy8gSmF2YXNjcmlwdCB0byB0ZXN0IGFuIElQdjYgYWRkcmVzcyBmb3IgcHJvcGVyIGZvcm1hdCwgYW5kIHRvCiAgICAvLyBwcmVzZW50IHRoZSAiYmVzdCB0ZXh0IHJlcHJlc2VudGF0aW9uIiBhY2NvcmRpbmcgdG8gSUVURiBEcmFmdCBSRkMgYXQKICAgIC8vIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtNm1hbi10ZXh0LWFkZHItcmVwcmVzZW50YXRpb24tMDQKICAgIC8vIDggRmViIDIwMTAgUmljaCBCcm93biwgRGFydHdhcmUsIExMQwogICAgLy8gUGxlYXNlIGZlZWwgZnJlZSB0byB1c2UgdGhpcyBjb2RlIGFzIGxvbmcgYXMgeW91IHByb3ZpZGUgYSBsaW5rIHRvCiAgICAvLyBodHRwOi8vd3d3LmludGVybWFwcGVyLmNvbQogICAgLy8gaHR0cDovL2ludGVybWFwcGVyLmNvbS9zdXBwb3J0L3Rvb2xzL0lQVjYtVmFsaWRhdG9yLmFzcHgKICAgIC8vIGh0dHA6Ly9kb3dubG9hZC5kYXJ0d2FyZS5jb20vdGhpcmRwYXJ0eS9pcHY2dmFsaWRhdG9yLmpzCgogICAgdmFyIF9hZGRyZXNzID0gYWRkcmVzcy50b0xvd2VyQ2FzZSgpOwogICAgdmFyIHNlZ21lbnRzID0gX2FkZHJlc3Muc3BsaXQoJzonKTsKICAgIHZhciBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CiAgICB2YXIgdG90YWwgPSA4OwoKICAgIC8vIHRyaW0gY29sb25zICg6OiBvciA6OmE6Yjpj4oCmIG9yIOKApmE6YjpjOjopCiAgICBpZiAoc2VnbWVudHNbMF0gPT09ICcnICYmIHNlZ21lbnRzWzFdID09PSAnJyAmJiBzZWdtZW50c1syXSA9PT0gJycpIHsKICAgICAgLy8gbXVzdCBoYXZlIGJlZW4gOjoKICAgICAgLy8gcmVtb3ZlIGZpcnN0IHR3byBpdGVtcwogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgfSBlbHNlIGlmIChzZWdtZW50c1swXSA9PT0gJycgJiYgc2VnbWVudHNbMV0gPT09ICcnKSB7CiAgICAgIC8vIG11c3QgaGF2ZSBiZWVuIDo6eHh4eAogICAgICAvLyByZW1vdmUgdGhlIGZpcnN0IGl0ZW0KICAgICAgc2VnbWVudHMuc2hpZnQoKTsKICAgIH0gZWxzZSBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0gPT09ICcnICYmIHNlZ21lbnRzW2xlbmd0aCAtIDJdID09PSAnJykgewogICAgICAvLyBtdXN0IGhhdmUgYmVlbiB4eHh4OjoKICAgICAgc2VnbWVudHMucG9wKCk7CiAgICB9CgogICAgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOwoKICAgIC8vIGFkanVzdCB0b3RhbCBzZWdtZW50cyBmb3IgSVB2NCB0cmFpbGVyCiAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0uaW5kZXhPZignLicpICE9PSAtMSkgewogICAgICAvLyBmb3VuZCBhICIuIiB3aGljaCBtZWFucyBJUHY0CiAgICAgIHRvdGFsID0gNzsKICAgIH0KCiAgICAvLyBmaWxsIGVtcHR5IHNlZ21lbnRzIHRoZW0gd2l0aCAiMDAwMCIKICAgIHZhciBwb3M7CiAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKHNlZ21lbnRzW3Bvc10gPT09ICcnKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocG9zIDwgdG90YWwpIHsKICAgICAgc2VnbWVudHMuc3BsaWNlKHBvcywgMSwgJzAwMDAnKTsKICAgICAgd2hpbGUgKHNlZ21lbnRzLmxlbmd0aCA8IHRvdGFsKSB7CiAgICAgICAgc2VnbWVudHMuc3BsaWNlKHBvcywgMCwgJzAwMDAnKTsKICAgICAgfQogICAgfQoKICAgIC8vIHN0cmlwIGxlYWRpbmcgemVyb3MKICAgIHZhciBfc2VnbWVudHM7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHsKICAgICAgX3NlZ21lbnRzID0gc2VnbWVudHNbaV0uc3BsaXQoJycpOwogICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDMgOyBqKyspIHsKICAgICAgICBpZiAoX3NlZ21lbnRzWzBdID09PSAnMCcgJiYgX3NlZ21lbnRzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIF9zZWdtZW50cy5zcGxpY2UoMCwxKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICBzZWdtZW50c1tpXSA9IF9zZWdtZW50cy5qb2luKCcnKTsKICAgIH0KCiAgICAvLyBmaW5kIGxvbmdlc3Qgc2VxdWVuY2Ugb2YgemVyb2VzIGFuZCBjb2FsZXNjZSB0aGVtIGludG8gb25lIHNlZ21lbnQKICAgIHZhciBiZXN0ID0gLTE7CiAgICB2YXIgX2Jlc3QgPSAwOwogICAgdmFyIF9jdXJyZW50ID0gMDsKICAgIHZhciBjdXJyZW50ID0gLTE7CiAgICB2YXIgaW56ZXJvZXMgPSBmYWxzZTsKICAgIC8vIGk7IGFscmVhZHkgZGVjbGFyZWQKCiAgICBmb3IgKGkgPSAwOyBpIDwgdG90YWw7IGkrKykgewogICAgICBpZiAoaW56ZXJvZXMpIHsKICAgICAgICBpZiAoc2VnbWVudHNbaV0gPT09ICcwJykgewogICAgICAgICAgX2N1cnJlbnQgKz0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaW56ZXJvZXMgPSBmYWxzZTsKICAgICAgICAgIGlmIChfY3VycmVudCA+IF9iZXN0KSB7CiAgICAgICAgICAgIGJlc3QgPSBjdXJyZW50OwogICAgICAgICAgICBfYmVzdCA9IF9jdXJyZW50OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoc2VnbWVudHNbaV0gPT09ICcwJykgewogICAgICAgICAgaW56ZXJvZXMgPSB0cnVlOwogICAgICAgICAgY3VycmVudCA9IGk7CiAgICAgICAgICBfY3VycmVudCA9IDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKF9jdXJyZW50ID4gX2Jlc3QpIHsKICAgICAgYmVzdCA9IGN1cnJlbnQ7CiAgICAgIF9iZXN0ID0gX2N1cnJlbnQ7CiAgICB9CgogICAgaWYgKF9iZXN0ID4gMSkgewogICAgICBzZWdtZW50cy5zcGxpY2UoYmVzdCwgX2Jlc3QsICcnKTsKICAgIH0KCiAgICBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CgogICAgLy8gYXNzZW1ibGUgcmVtYWluaW5nIHNlZ21lbnRzCiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICBpZiAoc2VnbWVudHNbMF0gPT09ICcnKSAgewogICAgICByZXN1bHQgPSAnOic7CiAgICB9CgogICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHJlc3VsdCArPSBzZWdtZW50c1tpXTsKICAgICAgaWYgKGkgPT09IGxlbmd0aCAtIDEpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgcmVzdWx0ICs9ICc6JzsKICAgIH0KCiAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0gPT09ICcnKSB7CiAgICAgIHJlc3VsdCArPSAnOic7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7CiAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi8KICAgIGlmIChyb290LklQdjYgPT09IHRoaXMpIHsKICAgICAgcm9vdC5JUHY2ID0gX0lQdjY7CiAgICB9CiAgCiAgICByZXR1cm4gdGhpczsKICB9CgogIHJldHVybiB7CiAgICBiZXN0OiBiZXN0UHJlc2VudGF0aW9uLAogICAgbm9Db25mbGljdDogbm9Db25mbGljdAogIH07Cn0pKTsKCn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKiBTZWNvbmQgTGV2ZWwgRG9tYWluIChTTEQpIFN1cHBvcnQKICoKICogVmVyc2lvbjogMS4xOC4xCiAqCiAqIEF1dGhvcjogUm9kbmV5IFJlaG0KICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvCiAqCiAqIExpY2Vuc2VkIHVuZGVyCiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZQogKgogKi8KCihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgewogICd1c2Ugc3RyaWN0JzsKICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanMKICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICAvLyBOb2RlCiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewogICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLgogICAgZGVmaW5lKGZhY3RvcnkpOwogIH0gZWxzZSB7CiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KQogICAgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPSBmYWN0b3J5KHJvb3QpOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAocm9vdCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLy8gc2F2ZSBjdXJyZW50IFNlY29uZExldmVsRG9tYWlucyB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9TZWNvbmRMZXZlbERvbWFpbnMgPSByb290ICYmIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zOwoKICB2YXIgU0xEID0gewogICAgLy8gbGlzdCBvZiBrbm93biBTZWNvbmQgTGV2ZWwgRG9tYWlucwogICAgLy8gY29udmVydGVkIGxpc3Qgb2YgU0xEcyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9nYXZpbmdtaWxsZXIvc2Vjb25kLWxldmVsLWRvbWFpbnMKICAgIC8vIC0tLS0KICAgIC8vIHB1YmxpY3N1ZmZpeC5vcmcgaXMgbW9yZSBjdXJyZW50IGFuZCBhY3R1YWxseSB1c2VkIGJ5IGEgY291cGxlIG9mIGJyb3dzZXJzIGludGVybmFsbHkuCiAgICAvLyBkb3duc2lkZSBpcyBpdCBhbHNvIGNvbnRhaW5zIGRvbWFpbnMgbGlrZSAiZHluZG5zLm9yZyIgLSB3aGljaCBpcyBmaW5lIGZvciB0aGUgc2VjdXJpdHkKICAgIC8vIGlzc3VlcyBicm93c2VyIGhhdmUgdG8gZGVhbCB3aXRoIChTT1AgZm9yIGNvb2tpZXMsIGV0YykgLSBidXQgaXMgd2F5IG92ZXJib2FyZCBmb3IgVVJJLmpzCiAgICAvLyAtLS0tCiAgICBsaXN0OiB7CiAgICAgICdhYyc6JyBjb20gZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdhZSc6JyBhYyBjbyBnb3YgbWlsIG5hbWUgbmV0IG9yZyBwcm8gc2NoICcsCiAgICAgICdhZic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdhbCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnYW8nOicgY28gZWQgZ3YgaXQgb2cgcGIgJywKICAgICAgJ2FyJzonIGNvbSBlZHUgZ29iIGdvdiBpbnQgbWlsIG5ldCBvcmcgdHVyICcsCiAgICAgICdhdCc6JyBhYyBjbyBndiBvciAnLAogICAgICAnYXUnOicgYXNuIGNvbSBjc2lybyBlZHUgZ292IGlkIG5ldCBvcmcgJywKICAgICAgJ2JhJzonIGNvIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnIHJzIHVuYmkgdW5tbyB1bnNhIHVudHogdW56ZSAnLAogICAgICAnYmInOicgYml6IGNvIGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyBzdG9yZSB0diAnLAogICAgICAnYmgnOicgYml6IGNjIGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnYm4nOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnYm8nOicgY29tIGVkdSBnb2IgZ292IGludCBtaWwgbmV0IG9yZyB0diAnLAogICAgICAnYnInOicgYWRtIGFkdiBhZ3IgYW0gYXJxIGFydCBhdG8gYiBiaW8gYmxvZyBibWQgY2ltIGNuZyBjbnQgY29tIGNvb3AgZWNuIGVkdSBlbmcgZXNwIGV0YyBldGkgZmFyIGZsb2cgZm0gZm5kIGZvdCBmc3QgZzEyIGdnZiBnb3YgaW1iIGluZCBpbmYgam9yIGp1cyBsZWwgbWF0IG1lZCBtaWwgbXVzIG5ldCBub20gbm90IG50ciBvZG8gb3JnIHBwZyBwcm8gcHNjIHBzaSBxc2wgcmVjIHNsZyBzcnYgdG1wIHRyZCB0dXIgdHYgdmV0IHZsb2cgd2lraSB6bGcgJywKICAgICAgJ2JzJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2J6JzonIGR1IGV0IG9tIG92IHJnICcsCiAgICAgICdjYSc6JyBhYiBiYyBtYiBuYiBuZiBubCBucyBudCBudSBvbiBwZSBxYyBzayB5ayAnLAogICAgICAnY2snOicgYml6IGNvIGVkdSBnZW4gZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnY24nOicgYWMgYWggYmogY29tIGNxIGVkdSBmaiBnZCBnb3YgZ3MgZ3ggZ3ogaGEgaGIgaGUgaGkgaGwgaG4gamwganMganggbG4gbWlsIG5ldCBubSBueCBvcmcgcWggc2Mgc2Qgc2ggc24gc3ggdGogdHcgeGogeHogeW4gemogJywKICAgICAgJ2NvJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgbm9tIG9yZyAnLAogICAgICAnY3InOicgYWMgYyBjbyBlZCBmaSBnbyBvciBzYSAnLAogICAgICAnY3knOicgYWMgYml6IGNvbSBla2xvZ2VzIGdvdiBsdGQgbmFtZSBuZXQgb3JnIHBhcmxpYW1lbnQgcHJlc3MgcHJvIHRtICcsCiAgICAgICdkbyc6JyBhcnQgY29tIGVkdSBnb2IgZ292IG1pbCBuZXQgb3JnIHNsZCB3ZWIgJywKICAgICAgJ2R6JzonIGFydCBhc3NvIGNvbSBlZHUgZ292IG5ldCBvcmcgcG9sICcsCiAgICAgICdlYyc6JyBjb20gZWR1IGZpbiBnb3YgaW5mbyBtZWQgbWlsIG5ldCBvcmcgcHJvICcsCiAgICAgICdlZyc6JyBjb20gZWR1IGV1biBnb3YgbWlsIG5hbWUgbmV0IG9yZyBzY2kgJywKICAgICAgJ2VyJzonIGNvbSBlZHUgZ292IGluZCBtaWwgbmV0IG9yZyByb2NoZXN0IHcgJywKICAgICAgJ2VzJzonIGNvbSBlZHUgZ29iIG5vbSBvcmcgJywKICAgICAgJ2V0JzonIGJpeiBjb20gZWR1IGdvdiBpbmZvIG5hbWUgbmV0IG9yZyAnLAogICAgICAnZmonOicgYWMgYml6IGNvbSBpbmZvIG1pbCBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICdmayc6JyBhYyBjbyBnb3YgbmV0IG5vbSBvcmcgJywKICAgICAgJ2ZyJzonIGFzc28gY29tIGYgZ291diBub20gcHJkIHByZXNzZSB0bSAnLAogICAgICAnZ2cnOicgY28gbmV0IG9yZyAnLAogICAgICAnZ2gnOicgY29tIGVkdSBnb3YgbWlsIG9yZyAnLAogICAgICAnZ24nOicgYWMgY29tIGdvdiBuZXQgb3JnICcsCiAgICAgICdncic6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnZ3QnOicgY29tIGVkdSBnb2IgaW5kIG1pbCBuZXQgb3JnICcsCiAgICAgICdndSc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdoayc6JyBjb20gZWR1IGdvdiBpZHYgbmV0IG9yZyAnLAogICAgICAnaHUnOicgMjAwMCBhZ3JhciBib2x0IGNhc2lubyBjaXR5IGNvIGVyb3RpY2EgZXJvdGlrYSBmaWxtIGZvcnVtIGdhbWVzIGhvdGVsIGluZm8gaW5nYXRsYW4gam9nYXN6IGtvbnl2ZWxvIGxha2FzIG1lZGlhIG5ld3Mgb3JnIHByaXYgcmVrbGFtIHNleCBzaG9wIHNwb3J0IHN1bGkgc3pleCB0bSB0b3pzZGUgdXRhemFzIHZpZGVvICcsCiAgICAgICdpZCc6JyBhYyBjbyBnbyBtaWwgbmV0IG9yIHNjaCB3ZWIgJywKICAgICAgJ2lsJzonIGFjIGNvIGdvdiBpZGYgazEyIG11bmkgbmV0IG9yZyAnLAogICAgICAnaW4nOicgYWMgY28gZWR1IGVybmV0IGZpcm0gZ2VuIGdvdiBpIGluZCBtaWwgbmV0IG5pYyBvcmcgcmVzICcsCiAgICAgICdpcSc6JyBjb20gZWR1IGdvdiBpIG1pbCBuZXQgb3JnICcsCiAgICAgICdpcic6JyBhYyBjbyBkbnNzZWMgZ292IGkgaWQgbmV0IG9yZyBzY2ggJywKICAgICAgJ2l0JzonIGVkdSBnb3YgJywKICAgICAgJ2plJzonIGNvIG5ldCBvcmcgJywKICAgICAgJ2pvJzonIGNvbSBlZHUgZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICdqcCc6JyBhYyBhZCBjbyBlZCBnbyBnciBsZyBuZSBvciAnLAogICAgICAna2UnOicgYWMgY28gZ28gaW5mbyBtZSBtb2JpIG5lIG9yIHNjICcsCiAgICAgICdraCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyBwZXIgJywKICAgICAgJ2tpJzonIGJpeiBjb20gZGUgZWR1IGdvdiBpbmZvIG1vYiBuZXQgb3JnIHRlbCAnLAogICAgICAna20nOicgYXNzbyBjb20gY29vcCBlZHUgZ291diBrIG1lZGVjaW4gbWlsIG5vbSBub3RhaXJlcyBwaGFybWFjaWVucyBwcmVzc2UgdG0gdmV0ZXJpbmFpcmUgJywKICAgICAgJ2tuJzonIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAna3InOicgYWMgYnVzYW4gY2h1bmdidWsgY2h1bmduYW0gY28gZGFlZ3UgZGFlamVvbiBlcyBnYW5nd29uIGdvIGd3YW5nanUgZ3llb25nYnVrIGd5ZW9uZ2dpIGd5ZW9uZ25hbSBocyBpbmNoZW9uIGplanUgamVvbmJ1ayBqZW9ubmFtIGsga2cgbWlsIG1zIG5lIG9yIHBlIHJlIHNjIHNlb3VsIHVsc2FuICcsCiAgICAgICdrdyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdreSc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdreic6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbGInOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbGsnOicgYXNzbiBjb20gZWR1IGdvdiBncnAgaG90ZWwgaW50IGx0ZCBuZXQgbmdvIG9yZyBzY2ggc29jIHdlYiAnLAogICAgICAnbHInOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbHYnOicgYXNuIGNvbSBjb25mIGVkdSBnb3YgaWQgbWlsIG5ldCBvcmcgJywKICAgICAgJ2x5JzonIGNvbSBlZHUgZ292IGlkIG1lZCBuZXQgb3JnIHBsYyBzY2ggJywKICAgICAgJ21hJzonIGFjIGNvIGdvdiBtIG5ldCBvcmcgcHJlc3MgJywKICAgICAgJ21jJzonIGFzc28gdG0gJywKICAgICAgJ21lJzonIGFjIGNvIGVkdSBnb3YgaXRzIG5ldCBvcmcgcHJpdiAnLAogICAgICAnbWcnOicgY29tIGVkdSBnb3YgbWlsIG5vbSBvcmcgcHJkIHRtICcsCiAgICAgICdtayc6JyBjb20gZWR1IGdvdiBpbmYgbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnbWwnOicgY29tIGVkdSBnb3YgbmV0IG9yZyBwcmVzc2UgJywKICAgICAgJ21uJzonIGVkdSBnb3Ygb3JnICcsCiAgICAgICdtbyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdtdCc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdtdic6JyBhZXJvIGJpeiBjb20gY29vcCBlZHUgZ292IGluZm8gaW50IG1pbCBtdXNldW0gbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnbXcnOicgYWMgY28gY29tIGNvb3AgZWR1IGdvdiBpbnQgbXVzZXVtIG5ldCBvcmcgJywKICAgICAgJ214JzonIGNvbSBlZHUgZ29iIG5ldCBvcmcgJywKICAgICAgJ215JzonIGNvbSBlZHUgZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICduZic6JyBhcnRzIGNvbSBmaXJtIGluZm8gbmV0IG90aGVyIHBlciByZWMgc3RvcmUgd2ViICcsCiAgICAgICduZyc6JyBiaXogY29tIGVkdSBnb3YgbWlsIG1vYmkgbmFtZSBuZXQgb3JnIHNjaCAnLAogICAgICAnbmknOicgYWMgY28gY29tIGVkdSBnb2IgbWlsIG5ldCBub20gb3JnICcsCiAgICAgICducCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbnInOicgYml6IGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnb20nOicgYWMgYml6IGNvIGNvbSBlZHUgZ292IG1lZCBtaWwgbXVzZXVtIG5ldCBvcmcgcHJvIHNjaCAnLAogICAgICAncGUnOicgY29tIGVkdSBnb2IgbWlsIG5ldCBub20gb3JnIHNsZCAnLAogICAgICAncGgnOicgY29tIGVkdSBnb3YgaSBtaWwgbmV0IG5nbyBvcmcgJywKICAgICAgJ3BrJzonIGJpeiBjb20gZWR1IGZhbSBnb2IgZ29rIGdvbiBnb3AgZ29zIGdvdiBuZXQgb3JnIHdlYiAnLAogICAgICAncGwnOicgYXJ0IGJpYWx5c3RvayBiaXogY29tIGVkdSBnZGEgZ2RhbnNrIGdvcnpvdyBnb3YgaW5mbyBrYXRvd2ljZSBrcmFrb3cgbG9keiBsdWJsaW4gbWlsIG5ldCBuZ28gb2xzenR5biBvcmcgcG96bmFuIHB3ciByYWRvbSBzbHVwc2sgc3pjemVjaW4gdG9ydW4gd2Fyc3phd2Egd2F3IHdyb2Mgd3JvY2xhdyB6Z29yYSAnLAogICAgICAncHInOicgYWMgYml6IGNvbSBlZHUgZXN0IGdvdiBpbmZvIGlzbGEgbmFtZSBuZXQgb3JnIHBybyBwcm9mICcsCiAgICAgICdwcyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnIHBsbyBzZWMgJywKICAgICAgJ3B3JzonIGJlbGF1IGNvIGVkIGdvIG5lIG9yICcsCiAgICAgICdybyc6JyBhcnRzIGNvbSBmaXJtIGluZm8gbm9tIG50IG9yZyByZWMgc3RvcmUgdG0gd3d3ICcsCiAgICAgICdycyc6JyBhYyBjbyBlZHUgZ292IGluIG9yZyAnLAogICAgICAnc2InOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc2MnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc2gnOicgY28gY29tIGVkdSBnb3YgbmV0IG5vbSBvcmcgJywKICAgICAgJ3NsJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ3N0JzonIGNvIGNvbSBjb25zdWxhZG8gZWR1IGVtYmFpeGFkYSBnb3YgbWlsIG5ldCBvcmcgcHJpbmNpcGUgc2FvdG9tZSBzdG9yZSAnLAogICAgICAnc3YnOicgY29tIGVkdSBnb2Igb3JnIHJlZCAnLAogICAgICAnc3onOicgYWMgY28gb3JnICcsCiAgICAgICd0cic6JyBhdiBiYnMgYmVsIGJpeiBjb20gZHIgZWR1IGdlbiBnb3YgaW5mbyBrMTIgbmFtZSBuZXQgb3JnIHBvbCB0ZWwgdHNrIHR2IHdlYiAnLAogICAgICAndHQnOicgYWVybyBiaXogY2F0IGNvIGNvbSBjb29wIGVkdSBnb3YgaW5mbyBpbnQgam9icyBtaWwgbW9iaSBtdXNldW0gbmFtZSBuZXQgb3JnIHBybyB0ZWwgdHJhdmVsICcsCiAgICAgICd0dyc6JyBjbHViIGNvbSBlYml6IGVkdSBnYW1lIGdvdiBpZHYgbWlsIG5ldCBvcmcgJywKICAgICAgJ211JzonIGFjIGNvIGNvbSBnb3YgbmV0IG9yIG9yZyAnLAogICAgICAnbXonOicgYWMgY28gZWR1IGdvdiBvcmcgJywKICAgICAgJ25hJzonIGNvIGNvbSAnLAogICAgICAnbnonOicgYWMgY28gY3JpIGdlZWsgZ2VuIGdvdnQgaGVhbHRoIGl3aSBtYW9yaSBtaWwgbmV0IG9yZyBwYXJsaWFtZW50IHNjaG9vbCAnLAogICAgICAncGEnOicgYWJvIGFjIGNvbSBlZHUgZ29iIGluZyBtZWQgbmV0IG5vbSBvcmcgc2xkICcsCiAgICAgICdwdCc6JyBjb20gZWR1IGdvdiBpbnQgbmV0IG5vbWUgb3JnIHB1YmwgJywKICAgICAgJ3B5JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdxYSc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAncmUnOicgYXNzbyBjb20gbm9tICcsCiAgICAgICdydSc6JyBhYyBhZHlnZXlhIGFsdGFpIGFtdXIgYXJraGFuZ2Vsc2sgYXN0cmFraGFuIGJhc2hraXJpYSBiZWxnb3JvZCBiaXIgYnJ5YW5zayBidXJ5YXRpYSBjYmcgY2hlbCBjaGVseWFiaW5zayBjaGl0YSBjaHVrb3RrYSBjaHV2YXNoaWEgY29tIGRhZ2VzdGFuIGUtYnVyZyBlZHUgZ292IGdyb3pueSBpbnQgaXJrdXRzayBpdmFub3ZvIGl6aGV2c2sgamFyIGpvc2hrYXItb2xhIGthbG15a2lhIGthbHVnYSBrYW1jaGF0a2Ega2FyZWxpYSBrYXphbiBrY2hyIGtlbWVyb3ZvIGtoYWJhcm92c2sga2hha2Fzc2lhIGtodiBraXJvdiBrb2VuaWcga29taSBrb3N0cm9tYSBrcmFub3lhcnNrIGt1YmFuIGt1cmdhbiBrdXJzayBsaXBldHNrIG1hZ2FkYW4gbWFyaSBtYXJpLWVsIG1hcmluZSBtaWwgbW9yZG92aWEgbW9zcmVnIG1zayBtdXJtYW5zayBuYWxjaGlrIG5ldCBubm92IG5vdiBub3Zvc2liaXJzayBuc2sgb21zayBvcmVuYnVyZyBvcmcgb3J5b2wgcGVuemEgcGVybSBwcCBwc2tvdiBwdHogcm5kIHJ5YXphbiBzYWtoYWxpbiBzYW1hcmEgc2FyYXRvdiBzaW1iaXJzayBzbW9sZW5zayBzcGIgc3RhdnJvcG9sIHN0diBzdXJndXQgdGFtYm92IHRhdGFyc3RhbiB0b20gdG9tc2sgdHNhcml0c3luIHRzayB0dWxhIHR1dmEgdHZlciB0eXVtZW4gdWRtIHVkbXVydGlhIHVsYW4tdWRlIHZsYWRpa2F2a2F6IHZsYWRpbWlyIHZsYWRpdm9zdG9rIHZvbGdvZ3JhZCB2b2xvZ2RhIHZvcm9uZXpoIHZybiB2eWF0a2EgeWFrdXRpYSB5YW1hbCB5ZWthdGVyaW5idXJnIHl1emhuby1zYWtoYWxpbnNrICcsCiAgICAgICdydyc6JyBhYyBjbyBjb20gZWR1IGdvdXYgZ292IGludCBtaWwgbmV0ICcsCiAgICAgICdzYSc6JyBjb20gZWR1IGdvdiBtZWQgbmV0IG9yZyBwdWIgc2NoICcsCiAgICAgICdzZCc6JyBjb20gZWR1IGdvdiBpbmZvIG1lZCBuZXQgb3JnIHR2ICcsCiAgICAgICdzZSc6JyBhIGFjIGIgYmQgYyBkIGUgZiBnIGggaSBrIGwgbSBuIG8gb3JnIHAgcGFydGkgcHAgcHJlc3MgciBzIHQgdG0gdSB3IHggeSB6ICcsCiAgICAgICdzZyc6JyBjb20gZWR1IGdvdiBpZG4gbmV0IG9yZyBwZXIgJywKICAgICAgJ3NuJzonIGFydCBjb20gZWR1IGdvdXYgb3JnIHBlcnNvIHVuaXYgJywKICAgICAgJ3N5JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgbmV3cyBvcmcgJywKICAgICAgJ3RoJzonIGFjIGNvIGdvIGluIG1pIG5ldCBvciAnLAogICAgICAndGonOicgYWMgYml6IGNvIGNvbSBlZHUgZ28gZ292IGluZm8gaW50IG1pbCBuYW1lIG5ldCBuaWMgb3JnIHRlc3Qgd2ViICcsCiAgICAgICd0bic6JyBhZ3JpbmV0IGNvbSBkZWZlbnNlIGVkdW5ldCBlbnMgZmluIGdvdiBpbmQgaW5mbyBpbnRsIG1pbmNvbSBuYXQgbmV0IG9yZyBwZXJzbyBybnJ0IHJucyBybnUgdG91cmlzbSAnLAogICAgICAndHonOicgYWMgY28gZ28gbmUgb3IgJywKICAgICAgJ3VhJzonIGJpeiBjaGVya2Fzc3kgY2hlcm5pZ292IGNoZXJub3Z0c3kgY2sgY24gY28gY29tIGNyaW1lYSBjdiBkbiBkbmVwcm9wZXRyb3ZzayBkb25ldHNrIGRwIGVkdSBnb3YgaWYgaW4gaXZhbm8tZnJhbmtpdnNrIGtoIGtoYXJrb3Yga2hlcnNvbiBraG1lbG5pdHNraXkga2lldiBraXJvdm9ncmFkIGttIGtyIGtzIGt2IGxnIGx1Z2Fuc2sgbHV0c2sgbHZpdiBtZSBtayBuZXQgbmlrb2xhZXYgb2Qgb2Rlc3NhIG9yZyBwbCBwb2x0YXZhIHBwIHJvdm5vIHJ2IHNlYmFzdG9wb2wgc3VteSB0ZSB0ZXJub3BpbCB1emhnb3JvZCB2aW5uaWNhIHZuIHphcG9yaXpoemhlIHpoaXRvbWlyIHpwIHp0ICcsCiAgICAgICd1Zyc6JyBhYyBjbyBnbyBuZSBvciBvcmcgc2MgJywKICAgICAgJ3VrJzonIGFjIGJsIGJyaXRpc2gtbGlicmFyeSBjbyBjeW0gZ292IGdvdnQgaWNuZXQgamV0IGxlYSBsdGQgbWUgbWlsIG1vZCBuYXRpb25hbC1saWJyYXJ5LXNjb3RsYW5kIG5lbCBuZXQgbmhzIG5pYyBubHMgb3JnIG9yZ24gcGFybGlhbWVudCBwbGMgcG9saWNlIHNjaCBzY290IHNvYyAnLAogICAgICAndXMnOicgZG5pIGZlZCBpc2Ega2lkcyBuc24gJywKICAgICAgJ3V5JzonIGNvbSBlZHUgZ3ViIG1pbCBuZXQgb3JnICcsCiAgICAgICd2ZSc6JyBjbyBjb20gZWR1IGdvYiBpbmZvIG1pbCBuZXQgb3JnIHdlYiAnLAogICAgICAndmknOicgY28gY29tIGsxMiBuZXQgb3JnICcsCiAgICAgICd2bic6JyBhYyBiaXogY29tIGVkdSBnb3YgaGVhbHRoIGluZm8gaW50IG5hbWUgbmV0IG9yZyBwcm8gJywKICAgICAgJ3llJzonIGNvIGNvbSBnb3YgbHRkIG1lIG5ldCBvcmcgcGxjICcsCiAgICAgICd5dSc6JyBhYyBjbyBlZHUgZ292IG9yZyAnLAogICAgICAnemEnOicgYWMgYWdyaWMgYWx0IGJvdXJzZSBjaXR5IGNvIGN5YmVybmV0IGRiIGVkdSBnb3YgZ3JvbmRhciBpYWNjZXNzIGltdCBpbmNhIGxhbmRlc2lnbiBsYXcgbWlsIG5ldCBuZ28gbmlzIG5vbSBvbGl2ZXR0aSBvcmcgcGl4IHNjaG9vbCB0bSB3ZWIgJywKICAgICAgJ3ptJzonIGFjIGNvIGNvbSBlZHUgZ292IG5ldCBvcmcgc2NoICcKICAgIH0sCiAgICAvLyBnb3JoaWxsIDIwMTMtMTAtMjU6IFVzaW5nIGluZGV4T2YoKSBpbnN0ZWFkIFJlZ2V4cCgpLiBTaWduaWZpY2FudCBib29zdAogICAgLy8gaW4gYm90aCBwZXJmb3JtYW5jZSBhbmQgbWVtb3J5IGZvb3RwcmludC4gTm8gaW5pdGlhbGl6YXRpb24gcmVxdWlyZWQuCiAgICAvLyBodHRwOi8vanNwZXJmLmNvbS91cmktanMtc2xkLXJlZ2V4LXZzLWJpbmFyeS1zZWFyY2gvNAogICAgLy8gRm9sbG93aW5nIG1ldGhvZHMgdXNlIGxhc3RJbmRleE9mKCkgcmF0aGVyIHRoYW4gYXJyYXkuc3BsaXQoKSBpbiBvcmRlcgogICAgLy8gdG8gYXZvaWQgYW55IG1lbW9yeSBhbGxvY2F0aW9ucy4KICAgIGhhczogZnVuY3Rpb24oZG9tYWluKSB7CiAgICAgIHZhciB0bGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKHRsZE9mZnNldCA8PSAwIHx8IHRsZE9mZnNldCA+PSAoZG9tYWluLmxlbmd0aC0xKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0IDw9IDAgfHwgc2xkT2Zmc2V0ID49ICh0bGRPZmZzZXQtMSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIHNsZExpc3QgPSBTTEQubGlzdFtkb21haW4uc2xpY2UodGxkT2Zmc2V0KzEpXTsKICAgICAgaWYgKCFzbGRMaXN0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiBzbGRMaXN0LmluZGV4T2YoJyAnICsgZG9tYWluLnNsaWNlKHNsZE9mZnNldCsxLCB0bGRPZmZzZXQpICsgJyAnKSA+PSAwOwogICAgfSwKICAgIGlzOiBmdW5jdGlvbihkb21haW4pIHsKICAgICAgdmFyIHRsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicpOwogICAgICBpZiAodGxkT2Zmc2V0IDw9IDAgfHwgdGxkT2Zmc2V0ID49IChkb21haW4ubGVuZ3RoLTEpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nLCB0bGRPZmZzZXQtMSk7CiAgICAgIGlmIChzbGRPZmZzZXQgPj0gMCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHNsZExpc3QuaW5kZXhPZignICcgKyBkb21haW4uc2xpY2UoMCwgdGxkT2Zmc2V0KSArICcgJykgPj0gMDsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uKGRvbWFpbikgewogICAgICB2YXIgdGxkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIGlmICh0bGRPZmZzZXQgPD0gMCB8fCB0bGRPZmZzZXQgPj0gKGRvbWFpbi5sZW5ndGgtMSkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0IDw9IDAgfHwgc2xkT2Zmc2V0ID49ICh0bGRPZmZzZXQtMSkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICBpZiAoc2xkTGlzdC5pbmRleE9mKCcgJyArIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSwgdGxkT2Zmc2V0KSArICcgJykgPCAwKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgcmV0dXJuIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSk7CiAgICB9LAogICAgbm9Db25mbGljdDogZnVuY3Rpb24oKXsKICAgICAgaWYgKHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zID09PSB0aGlzKSB7CiAgICAgICAgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPSBfU2Vjb25kTGV2ZWxEb21haW5zOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CgogIHJldHVybiBTTEQ7Cn0pKTsKCn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKgogKiBWZXJzaW9uOiAxLjE4LjEKICoKICogQXV0aG9yOiBSb2RuZXkgUmVobQogKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy8KICoKICogTGljZW5zZWQgdW5kZXIKICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlCiAqCiAqLwooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJy4vcHVueWNvZGUnKSwgcmVxdWlyZSgnLi9JUHY2JyksIHJlcXVpcmUoJy4vU2Vjb25kTGV2ZWxEb21haW5zJykpOwogIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuCiAgICBkZWZpbmUoWycuL3B1bnljb2RlJywgJy4vSVB2NicsICcuL1NlY29uZExldmVsRG9tYWlucyddLCBmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuVVJJID0gZmFjdG9yeShyb290LnB1bnljb2RlLCByb290LklQdjYsIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLCByb290KTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKHB1bnljb2RlLCBJUHY2LCBTTEQsIHJvb3QpIHsKICAndXNlIHN0cmljdCc7CiAgLypnbG9iYWwgbG9jYXRpb24sIGVzY2FwZSwgdW5lc2NhcGUgKi8KICAvLyBGSVhNRTogdjIuMC4wIHJlbmFtY2Ugbm9uLWNhbWVsQ2FzZSBwcm9wZXJ0aWVzIHRvIHVwcGVyY2FzZQogIC8qanNoaW50IGNhbWVsY2FzZTogZmFsc2UgKi8KCiAgLy8gc2F2ZSBjdXJyZW50IFVSSSB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9VUkkgPSByb290ICYmIHJvb3QuVVJJOwoKICBmdW5jdGlvbiBVUkkodXJsLCBiYXNlKSB7CiAgICB2YXIgX3VybFN1cHBsaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+PSAxOwogICAgdmFyIF9iYXNlU3VwcGxpZWQgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7CgogICAgLy8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkCiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVVJJKSkgewogICAgICBpZiAoX3VybFN1cHBsaWVkKSB7CiAgICAgICAgaWYgKF9iYXNlU3VwcGxpZWQpIHsKICAgICAgICAgIHJldHVybiBuZXcgVVJJKHVybCwgYmFzZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbmV3IFVSSSh1cmwpOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IFVSSSgpOwogICAgfQoKICAgIGlmICh1cmwgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoX3VybFN1cHBsaWVkKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIGFyZ3VtZW50IGZvciBVUkknKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB1cmwgPSBsb2NhdGlvbi5ocmVmICsgJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdXJsID0gJyc7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmhyZWYodXJsKTsKCiAgICAvLyByZXNvbHZlIHRvIGJhc2UgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29uc3RydWN0b3IKICAgIGlmIChiYXNlICE9PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuYWJzb2x1dGVUbyhiYXNlKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CgogIFVSSS52ZXJzaW9uID0gJzEuMTguMSc7CgogIHZhciBwID0gVVJJLnByb3RvdHlwZTsKICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTsKCiAgZnVuY3Rpb24gZXNjYXBlUmVnRXgoc3RyaW5nKSB7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9jb21taXQvODVhYzIxNzgzYzExZjhjY2FiMDYxMDZkYmE5NzM1YTMxYTg2OTI0ZCNjb21taXRjb21tZW50LTgyMTk2MwogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7CiAgfQoKICBmdW5jdGlvbiBnZXRUeXBlKHZhbHVlKSB7CiAgICAvLyBJRTggZG9lc24ndCByZXR1cm4gW09iamVjdCBVbmRlZmluZWRdIGJ1dCBbT2JqZWN0IE9iamVjdF0gZm9yIHVuZGVmaW5lZCB2YWx1ZQogICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuICdVbmRlZmluZWQnOwogICAgfQoKICAgIHJldHVybiBTdHJpbmcoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSkuc2xpY2UoOCwgLTEpOwogIH0KCiAgZnVuY3Rpb24gaXNBcnJheShvYmopIHsKICAgIHJldHVybiBnZXRUeXBlKG9iaikgPT09ICdBcnJheSc7CiAgfQoKICBmdW5jdGlvbiBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhLCB2YWx1ZSkgewogICAgdmFyIGxvb2t1cCA9IHt9OwogICAgdmFyIGksIGxlbmd0aDsKCiAgICBpZiAoZ2V0VHlwZSh2YWx1ZSkgPT09ICdSZWdFeHAnKSB7CiAgICAgIGxvb2t1cCA9IG51bGw7CiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7CiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgbG9va3VwW3ZhbHVlW2ldXSA9IHRydWU7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGxvb2t1cFt2YWx1ZV0gPSB0cnVlOwogICAgfQoKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi8KICAgICAgdmFyIF9tYXRjaCA9IGxvb2t1cCAmJiBsb29rdXBbZGF0YVtpXV0gIT09IHVuZGVmaW5lZAogICAgICAgIHx8ICFsb29rdXAgJiYgdmFsdWUudGVzdChkYXRhW2ldKTsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IGZhbHNlICovCiAgICAgIGlmIChfbWF0Y2gpIHsKICAgICAgICBkYXRhLnNwbGljZShpLCAxKTsKICAgICAgICBsZW5ndGgtLTsKICAgICAgICBpLS07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZGF0YTsKICB9CgogIGZ1bmN0aW9uIGFycmF5Q29udGFpbnMobGlzdCwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGg7CgogICAgLy8gdmFsdWUgbWF5IGJlIHN0cmluZywgbnVtYmVyLCBhcnJheSwgcmVnZXhwCiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgLy8gTm90ZTogdGhpcyBjYW4gYmUgb3B0aW1pemVkIHRvIE8obikgKGluc3RlYWQgb2YgY3VycmVudCBPKG0gKiBuKSkKICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoIWFycmF5Q29udGFpbnMobGlzdCwgdmFsdWVbaV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICB2YXIgX3R5cGUgPSBnZXRUeXBlKHZhbHVlKTsKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKF90eXBlID09PSAnUmVnRXhwJykgewogICAgICAgIGlmICh0eXBlb2YgbGlzdFtpXSA9PT0gJ3N0cmluZycgJiYgbGlzdFtpXS5tYXRjaCh2YWx1ZSkpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChsaXN0W2ldID09PSB2YWx1ZSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gYXJyYXlzRXF1YWwob25lLCB0d28pIHsKICAgIGlmICghaXNBcnJheShvbmUpIHx8ICFpc0FycmF5KHR3bykpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGFycmF5cyBjYW4ndCBiZSBlcXVhbCBpZiB0aGV5IGhhdmUgZGlmZmVyZW50IGFtb3VudCBvZiBjb250ZW50CiAgICBpZiAob25lLmxlbmd0aCAhPT0gdHdvLmxlbmd0aCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgb25lLnNvcnQoKTsKICAgIHR3by5zb3J0KCk7CgogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvbmUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIGlmIChvbmVbaV0gIT09IHR3b1tpXSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gdHJpbVNsYXNoZXModGV4dCkgewogICAgdmFyIHRyaW1fZXhwcmVzc2lvbiA9IC9eXC8rfFwvKyQvZzsKICAgIHJldHVybiB0ZXh0LnJlcGxhY2UodHJpbV9leHByZXNzaW9uLCAnJyk7CiAgfQoKICBVUkkuX3BhcnRzID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBwcm90b2NvbDogbnVsbCwKICAgICAgdXNlcm5hbWU6IG51bGwsCiAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICBob3N0bmFtZTogbnVsbCwKICAgICAgdXJuOiBudWxsLAogICAgICBwb3J0OiBudWxsLAogICAgICBwYXRoOiBudWxsLAogICAgICBxdWVyeTogbnVsbCwKICAgICAgZnJhZ21lbnQ6IG51bGwsCiAgICAgIC8vIHN0YXRlCiAgICAgIGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVyczogVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywKICAgICAgZXNjYXBlUXVlcnlTcGFjZTogVVJJLmVzY2FwZVF1ZXJ5U3BhY2UKICAgIH07CiAgfTsKICAvLyBzdGF0ZTogYWxsb3cgZHVwbGljYXRlIHF1ZXJ5IHBhcmFtZXRlcnMgKGE9MSZhPTEpCiAgVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9IGZhbHNlOwogIC8vIHN0YXRlOiByZXBsYWNlcyArIHdpdGggJTIwIChzcGFjZSBpbiBxdWVyeSBzdHJpbmdzKQogIFVSSS5lc2NhcGVRdWVyeVNwYWNlID0gdHJ1ZTsKICAvLyBzdGF0aWMgcHJvcGVydGllcwogIFVSSS5wcm90b2NvbF9leHByZXNzaW9uID0gL15bYS16XVthLXowLTkuKy1dKiQvaTsKICBVUkkuaWRuX2V4cHJlc3Npb24gPSAvW15hLXowLTlcLi1dL2k7CiAgVVJJLnB1bnljb2RlX2V4cHJlc3Npb24gPSAvKHhuLS0pL2k7CiAgLy8gd2VsbCwgMzMzLjQ0NC41NTUuNjY2IG1hdGNoZXMsIGJ1dCBpdCBzdXJlIGFpbid0IG5vIElQdjQgLSBkbyB3ZSBjYXJlPwogIFVSSS5pcDRfZXhwcmVzc2lvbiA9IC9eXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfSQvOwogIC8vIGNyZWRpdHMgdG8gUmljaCBCcm93bgogIC8vIHNvdXJjZTogaHR0cDovL2ZvcnVtcy5pbnRlcm1hcHBlci5jb20vdmlld3RvcGljLnBocD9wPTEwOTYjMTA5NgogIC8vIHNwZWNpZmljYXRpb246IGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzQyOTEudHh0CiAgVVJJLmlwNl9leHByZXNzaW9uID0gL15ccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKSkoJS4rKT9ccyokLzsKICAvLyBleHByZXNzaW9uIHVzZWQgaXMgImdydWJlciByZXZpc2VkIiAoQGdydWJlciB2MikgZGV0ZXJtaW5lZCB0byBiZSB0aGUKICAvLyBiZXN0IHNvbHV0aW9uIGluIGEgcmVnZXgtZ29sZiB3ZSBkaWQgYSBjb3VwbGUgb2YgYWdlcyBhZ28gYXQKICAvLyAqIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4CiAgLy8gKiBodHRwOi8vcm9kbmV5cmVobS5kZS90L3VybC1yZWdleC5odG1sCiAgVVJJLmZpbmRfdXJpX2V4cHJlc3Npb24gPSAvXGIoKD86W2Etel1bXHctXSs6KD86XC97MSwzfXxbYS16MC05JV0pfHd3d1xkezAsM31bLl18W2EtejAtOS5cLV0rWy5dW2Etel17Miw0fVwvKSg/OlteXHMoKTw+XSt8XCgoW15ccygpPD5dK3woXChbXlxzKCk8Pl0rXCkpKSpcKSkrKD86XCgoW15ccygpPD5dK3woXChbXlxzKCk8Pl0rXCkpKSpcKXxbXlxzYCEoKVxbXF17fTs6JyIuLDw+P8KrwrvigJzigJ3igJjigJldKSkvaWc7CiAgVVJJLmZpbmRVcmkgPSB7CiAgICAvLyB2YWxpZCAic2NoZW1lOi8vIiBvciAid3d3LiIKICAgIHN0YXJ0OiAvXGIoPzooW2Etel1bYS16MC05ListXSo6XC9cLyl8d3d3XC4pL2dpLAogICAgLy8gZXZlcnl0aGluZyB1cCB0byB0aGUgbmV4dCB3aGl0ZXNwYWNlCiAgICBlbmQ6IC9bXHNcclxuXXwkLywKICAgIC8vIHRyaW0gdHJhaWxpbmcgcHVuY3R1YXRpb24gY2FwdHVyZWQgYnkgZW5kIFJlZ0V4cAogICAgdHJpbTogL1tgISgpXFtcXXt9OzonIi4sPD4/wqvCu+KAnOKAneKAnuKAmOKAmV0rJC8KICB9OwogIC8vIGh0dHA6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvdXJpLXNjaGVtZXMuaHRtbAogIC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9UQ1BfYW5kX1VEUF9wb3J0X251bWJlcnMjV2VsbC1rbm93bl9wb3J0cwogIFVSSS5kZWZhdWx0UG9ydHMgPSB7CiAgICBodHRwOiAnODAnLAogICAgaHR0cHM6ICc0NDMnLAogICAgZnRwOiAnMjEnLAogICAgZ29waGVyOiAnNzAnLAogICAgd3M6ICc4MCcsCiAgICB3c3M6ICc0NDMnCiAgfTsKICAvLyBhbGxvd2VkIGhvc3RuYW1lIGNoYXJhY3RlcnMgYWNjb3JkaW5nIHRvIFJGQyAzOTg2CiAgLy8gQUxQSEEgRElHSVQgIi0iICIuIiAiXyIgIn4iICIhIiAiJCIgIiYiICInIiAiKCIgIikiICIqIiAiKyIgIiwiICI7IiAiPSIgJWVuY29kZWQKICAvLyBJJ3ZlIG5ldmVyIHNlZW4gYSAobm9uLUlETikgaG9zdG5hbWUgb3RoZXIgdGhhbjogQUxQSEEgRElHSVQgLiAtCiAgVVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycyA9IC9bXmEtekEtWjAtOVwuLV0vOwogIC8vIG1hcCBET00gRWxlbWVudHMgdG8gdGhlaXIgVVJJIGF0dHJpYnV0ZQogIFVSSS5kb21BdHRyaWJ1dGVzID0gewogICAgJ2EnOiAnaHJlZicsCiAgICAnYmxvY2txdW90ZSc6ICdjaXRlJywKICAgICdsaW5rJzogJ2hyZWYnLAogICAgJ2Jhc2UnOiAnaHJlZicsCiAgICAnc2NyaXB0JzogJ3NyYycsCiAgICAnZm9ybSc6ICdhY3Rpb24nLAogICAgJ2ltZyc6ICdzcmMnLAogICAgJ2FyZWEnOiAnaHJlZicsCiAgICAnaWZyYW1lJzogJ3NyYycsCiAgICAnZW1iZWQnOiAnc3JjJywKICAgICdzb3VyY2UnOiAnc3JjJywKICAgICd0cmFjayc6ICdzcmMnLAogICAgJ2lucHV0JzogJ3NyYycsIC8vIGJ1dCBvbmx5IGlmIHR5cGU9ImltYWdlIgogICAgJ2F1ZGlvJzogJ3NyYycsCiAgICAndmlkZW8nOiAnc3JjJwogIH07CiAgVVJJLmdldERvbUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCAhbm9kZS5ub2RlTmFtZSkgewogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQoKICAgIHZhciBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgIC8vIDxpbnB1dD4gc2hvdWxkIG9ubHkgZXhwb3NlIHNyYyBmb3IgdHlwZT0iaW1hZ2UiCiAgICBpZiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgbm9kZS50eXBlICE9PSAnaW1hZ2UnKSB7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIFVSSS5kb21BdHRyaWJ1dGVzW25vZGVOYW1lXTsKICB9OwoKICBmdW5jdGlvbiBlc2NhcGVGb3JEdW1iRmlyZWZveDM2KHZhbHVlKSB7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTEKICAgIHJldHVybiBlc2NhcGUodmFsdWUpOwogIH0KCiAgLy8gZW5jb2RpbmcgLyBkZWNvZGluZyBhY2NvcmRpbmcgdG8gUkZDMzk4NgogIGZ1bmN0aW9uIHN0cmljdEVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpIHsKICAgIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2VuY29kZVVSSUNvbXBvbmVudAogICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpCiAgICAgIC5yZXBsYWNlKC9bIScoKSpdL2csIGVzY2FwZUZvckR1bWJGaXJlZm94MzYpCiAgICAgIC5yZXBsYWNlKC9cKi9nLCAnJTJBJyk7CiAgfQogIFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7CiAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICBVUkkuaXNvODg1OSA9IGZ1bmN0aW9uKCkgewogICAgVVJJLmVuY29kZSA9IGVzY2FwZTsKICAgIFVSSS5kZWNvZGUgPSB1bmVzY2FwZTsKICB9OwogIFVSSS51bmljb2RlID0gZnVuY3Rpb24oKSB7CiAgICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogICAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICB9OwogIFVSSS5jaGFyYWN0ZXJzID0gewogICAgcGF0aG5hbWU6IHsKICAgICAgZW5jb2RlOiB7CiAgICAgICAgLy8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkCiAgICAgICAgLy8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy4KICAgICAgICBleHByZXNzaW9uOiAvJSgyNHwyNnwyQnwyQ3wzQnwzRHwzQXw0MCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAvLyAtLl9+IScoKSoKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI2JzogJyYnLAogICAgICAgICAgJyUyQic6ICcrJywKICAgICAgICAgICclMkMnOiAnLCcsCiAgICAgICAgICAnJTNCJzogJzsnLAogICAgICAgICAgJyUzRCc6ICc9JywKICAgICAgICAgICclM0EnOiAnOicsCiAgICAgICAgICAnJTQwJzogJ0AnCiAgICAgICAgfQogICAgICB9LAogICAgICBkZWNvZGU6IHsKICAgICAgICBleHByZXNzaW9uOiAvW1wvXD8jXS9nLAogICAgICAgIG1hcDogewogICAgICAgICAgJy8nOiAnJTJGJywKICAgICAgICAgICc/JzogJyUzRicsCiAgICAgICAgICAnIyc6ICclMjMnCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVzZXJ2ZWQ6IHsKICAgICAgZW5jb2RlOiB7CiAgICAgICAgLy8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkCiAgICAgICAgLy8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy4KICAgICAgICBleHByZXNzaW9uOiAvJSgyMXwyM3wyNHwyNnwyN3wyOHwyOXwyQXwyQnwyQ3wyRnwzQXwzQnwzRHwzRnw0MHw1Qnw1RCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAvLyBnZW4tZGVsaW1zCiAgICAgICAgICAnJTNBJzogJzonLAogICAgICAgICAgJyUyRic6ICcvJywKICAgICAgICAgICclM0YnOiAnPycsCiAgICAgICAgICAnJTIzJzogJyMnLAogICAgICAgICAgJyU1Qic6ICdbJywKICAgICAgICAgICclNUQnOiAnXScsCiAgICAgICAgICAnJTQwJzogJ0AnLAogICAgICAgICAgLy8gc3ViLWRlbGltcwogICAgICAgICAgJyUyMSc6ICchJywKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI2JzogJyYnLAogICAgICAgICAgJyUyNyc6ICdcJycsCiAgICAgICAgICAnJTI4JzogJygnLAogICAgICAgICAgJyUyOSc6ICcpJywKICAgICAgICAgICclMkEnOiAnKicsCiAgICAgICAgICAnJTJCJzogJysnLAogICAgICAgICAgJyUyQyc6ICcsJywKICAgICAgICAgICclM0InOiAnOycsCiAgICAgICAgICAnJTNEJzogJz0nCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdXJucGF0aDogewogICAgICAvLyBUaGUgY2hhcmFjdGVycyB1bmRlciBgZW5jb2RlYCBhcmUgdGhlIGNoYXJhY3RlcnMgY2FsbGVkIG91dCBieSBSRkMgMjE0MSBhcyBiZWluZyBhY2NlcHRhYmxlCiAgICAgIC8vIGZvciB1c2FnZSBpbiBhIFVSTi4gUkZDMjE0MSBhbHNvIGNhbGxzIG91dCAiLSIsICIuIiwgYW5kICJfIiBhcyBhY2NlcHRhYmxlIGNoYXJhY3RlcnMsIGJ1dAogICAgICAvLyB0aGVzZSBhcmVuJ3QgZW5jb2RlZCBieSBlbmNvZGVVUklDb21wb25lbnQsIHNvIHdlIGRvbid0IGhhdmUgdG8gY2FsbCB0aGVtIG91dCBoZXJlLiBBbHNvCiAgICAgIC8vIG5vdGUgdGhhdCB0aGUgY29sb24gY2hhcmFjdGVyIGlzIG5vdCBmZWF0dXJlZCBpbiB0aGUgZW5jb2RpbmcgbWFwOyB0aGlzIGlzIGJlY2F1c2UgVVJJLmpzCiAgICAgIC8vIGdpdmVzIHRoZSBjb2xvbnMgaW4gVVJOcyBzZW1hbnRpYyBtZWFuaW5nIGFzIHRoZSBkZWxpbWl0ZXJzIG9mIHBhdGggc2VnZW1lbnRzLCBhbmQgc28gaXQKICAgICAgLy8gc2hvdWxkIG5vdCBhcHBlYXIgdW5lbmNvZGVkIGluIGEgc2VnbWVudCBpdHNlbGYuCiAgICAgIC8vIFNlZSBhbHNvIHRoZSBub3RlIGFib3ZlIGFib3V0IFJGQzM5ODYgYW5kIGNhcGl0YWxhbGl6ZWQgaGV4IGRpZ2l0cy4KICAgICAgZW5jb2RlOiB7CiAgICAgICAgZXhwcmVzc2lvbjogLyUoMjF8MjR8Mjd8Mjh8Mjl8MkF8MkJ8MkN8M0J8M0R8NDApL2lnLAogICAgICAgIG1hcDogewogICAgICAgICAgJyUyMSc6ICchJywKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI3JzogJ1wnJywKICAgICAgICAgICclMjgnOiAnKCcsCiAgICAgICAgICAnJTI5JzogJyknLAogICAgICAgICAgJyUyQSc6ICcqJywKICAgICAgICAgICclMkInOiAnKycsCiAgICAgICAgICAnJTJDJzogJywnLAogICAgICAgICAgJyUzQic6ICc7JywKICAgICAgICAgICclM0QnOiAnPScsCiAgICAgICAgICAnJTQwJzogJ0AnCiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBUaGVzZSBjaGFyYWN0ZXJzIGFyZSB0aGUgY2hhcmFjdGVycyBjYWxsZWQgb3V0IGJ5IFJGQzIxNDEgYXMgInJlc2VydmVkIiBjaGFyYWN0ZXJzIHRoYXQKICAgICAgLy8gc2hvdWxkIG5ldmVyIGFwcGVhciBpbiBhIFVSTiwgcGx1cyB0aGUgY29sb24gY2hhcmFjdGVyIChzZWUgbm90ZSBhYm92ZSkuCiAgICAgIGRlY29kZTogewogICAgICAgIGV4cHJlc3Npb246IC9bXC9cPyM6XS9nLAogICAgICAgIG1hcDogewogICAgICAgICAgJy8nOiAnJTJGJywKICAgICAgICAgICc/JzogJyUzRicsCiAgICAgICAgICAnIyc6ICclMjMnLAogICAgICAgICAgJzonOiAnJTNBJwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CiAgVVJJLmVuY29kZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICB2YXIgZXNjYXBlZCA9IFVSSS5lbmNvZGUoc3RyaW5nICsgJycpOwogICAgaWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkgewogICAgICBlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7CiAgICB9CgogICAgcmV0dXJuIGVzY2FwZVF1ZXJ5U3BhY2UgPyBlc2NhcGVkLnJlcGxhY2UoLyUyMC9nLCAnKycpIDogZXNjYXBlZDsKICB9OwogIFVSSS5kZWNvZGVRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgc3RyaW5nICs9ICcnOwogICAgaWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkgewogICAgICBlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7CiAgICB9CgogICAgdHJ5IHsKICAgICAgcmV0dXJuIFVSSS5kZWNvZGUoZXNjYXBlUXVlcnlTcGFjZSA/IHN0cmluZy5yZXBsYWNlKC9cKy9nLCAnJTIwJykgOiBzdHJpbmcpOwogICAgfSBjYXRjaChlKSB7CiAgICAgIC8vIHdlJ3JlIG5vdCBnb2luZyB0byBtZXNzIHdpdGggd2VpcmQgZW5jb2RpbmdzLAogICAgICAvLyBnaXZlIHVwIGFuZCByZXR1cm4gdGhlIHVuZGVjb2RlZCBvcmlnaW5hbCBzdHJpbmcKICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84NwogICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkyCiAgICAgIHJldHVybiBzdHJpbmc7CiAgICB9CiAgfTsKICAvLyBnZW5lcmF0ZSBlbmNvZGUvZGVjb2RlIHBhdGggZnVuY3Rpb25zCiAgdmFyIF9wYXJ0cyA9IHsnZW5jb2RlJzonZW5jb2RlJywgJ2RlY29kZSc6J2RlY29kZSd9OwogIHZhciBfcGFydDsKICB2YXIgZ2VuZXJhdGVBY2Nlc3NvciA9IGZ1bmN0aW9uKF9ncm91cCwgX3BhcnQpIHsKICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gVVJJW19wYXJ0XShzdHJpbmcgKyAnJykucmVwbGFjZShVUkkuY2hhcmFjdGVyc1tfZ3JvdXBdW19wYXJ0XS5leHByZXNzaW9uLCBmdW5jdGlvbihjKSB7CiAgICAgICAgICByZXR1cm4gVVJJLmNoYXJhY3RlcnNbX2dyb3VwXVtfcGFydF0ubWFwW2NdOwogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8gd2UncmUgbm90IGdvaW5nIHRvIG1lc3Mgd2l0aCB3ZWlyZCBlbmNvZGluZ3MsCiAgICAgICAgLy8gZ2l2ZSB1cCBhbmQgcmV0dXJuIHRoZSB1bmRlY29kZWQgb3JpZ2luYWwgc3RyaW5nCiAgICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84NwogICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTIKICAgICAgICByZXR1cm4gc3RyaW5nOwogICAgICB9CiAgICB9OwogIH07CgogIGZvciAoX3BhcnQgaW4gX3BhcnRzKSB7CiAgICBVUklbX3BhcnQgKyAnUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3BhdGhuYW1lJywgX3BhcnRzW19wYXJ0XSk7CiAgICBVUklbX3BhcnQgKyAnVXJuUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3VybnBhdGgnLCBfcGFydHNbX3BhcnRdKTsKICB9CgogIHZhciBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbiA9IGZ1bmN0aW9uKF9zZXAsIF9jb2RpbmdGdW5jTmFtZSwgX2lubmVyQ29kaW5nRnVuY05hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgLy8gV2h5IHBhc3MgaW4gbmFtZXMgb2YgZnVuY3Rpb25zLCByYXRoZXIgdGhhbiB0aGUgZnVuY3Rpb24gb2JqZWN0cyB0aGVtc2VsdmVzPyBUaGUKICAgICAgLy8gZGVmaW5pdGlvbnMgb2Ygc29tZSBmdW5jdGlvbnMgKGJ1dCBpbiBwYXJ0aWN1bGFyLCBVUkkuZGVjb2RlKSB3aWxsIG9jY2FzaW9uYWxseSBjaGFuZ2UgZHVlCiAgICAgIC8vIHRvIFVSSS5qcyBoYXZpbmcgSVNPODg1OSBhbmQgVW5pY29kZSBtb2Rlcy4gUGFzc2luZyBpbiB0aGUgbmFtZSBhbmQgZ2V0dGluZyBpdCB3aWxsIGVuc3VyZQogICAgICAvLyB0aGF0IHRoZSBmdW5jdGlvbnMgd2UgdXNlIGhlcmUgYXJlICJmcmVzaCIuCiAgICAgIHZhciBhY3R1YWxDb2RpbmdGdW5jOwogICAgICBpZiAoIV9pbm5lckNvZGluZ0Z1bmNOYW1lKSB7CiAgICAgICAgYWN0dWFsQ29kaW5nRnVuYyA9IFVSSVtfY29kaW5nRnVuY05hbWVdOwogICAgICB9IGVsc2UgewogICAgICAgIGFjdHVhbENvZGluZ0Z1bmMgPSBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgICAgIHJldHVybiBVUklbX2NvZGluZ0Z1bmNOYW1lXShVUklbX2lubmVyQ29kaW5nRnVuY05hbWVdKHN0cmluZykpOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBzZWdtZW50cyA9IChzdHJpbmcgKyAnJykuc3BsaXQoX3NlcCk7CgogICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBzZWdtZW50c1tpXSA9IGFjdHVhbENvZGluZ0Z1bmMoc2VnbWVudHNbaV0pOwogICAgICB9CgogICAgICByZXR1cm4gc2VnbWVudHMuam9pbihfc2VwKTsKICAgIH07CiAgfTsKCiAgLy8gVGhpcyB0YWtlcyBwbGFjZSBvdXRzaWRlIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCwgZS5nLiwgZW5jb2RlVXJuUGF0aCBmdW5jdGlvbnMuCiAgVVJJLmRlY29kZVBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignLycsICdkZWNvZGVQYXRoU2VnbWVudCcpOwogIFVSSS5kZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZGVjb2RlVXJuUGF0aFNlZ21lbnQnKTsKICBVUkkucmVjb2RlUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCcvJywgJ2VuY29kZVBhdGhTZWdtZW50JywgJ2RlY29kZScpOwogIFVSSS5yZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZW5jb2RlVXJuUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7CgogIFVSSS5lbmNvZGVSZXNlcnZlZCA9IGdlbmVyYXRlQWNjZXNzb3IoJ3Jlc2VydmVkJywgJ2VuY29kZScpOwoKICBVUkkucGFyc2UgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICB2YXIgcG9zOwogICAgaWYgKCFwYXJ0cykgewogICAgICBwYXJ0cyA9IHt9OwogICAgfQogICAgLy8gW3Byb3RvY29sIjovLyJbdXNlcm5hbWVbIjoicGFzc3dvcmRdIkAiXWhvc3RuYW1lWyI6InBvcnRdIi8iP11bcGF0aF1bIj8icXVlcnlzdHJpbmddWyIjImZyYWdtZW50XQoKICAgIC8vIGV4dHJhY3QgZnJhZ21lbnQKICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKCcjJyk7CiAgICBpZiAocG9zID4gLTEpIHsKICAgICAgLy8gZXNjYXBpbmc/CiAgICAgIHBhcnRzLmZyYWdtZW50ID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKSB8fCBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcyk7CiAgICB9CgogICAgLy8gZXh0cmFjdCBxdWVyeQogICAgcG9zID0gc3RyaW5nLmluZGV4T2YoJz8nKTsKICAgIGlmIChwb3MgPiAtMSkgewogICAgICAvLyBlc2NhcGluZz8KICAgICAgcGFydHMucXVlcnkgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpIHx8IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKTsKICAgIH0KCiAgICAvLyBleHRyYWN0IHByb3RvY29sCiAgICBpZiAoc3RyaW5nLnN1YnN0cmluZygwLCAyKSA9PT0gJy8vJykgewogICAgICAvLyByZWxhdGl2ZS1zY2hlbWUKICAgICAgcGFydHMucHJvdG9jb2wgPSBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDIpOwogICAgICAvLyBleHRyYWN0ICJ1c2VyOnBhc3NAaG9zdDpwb3J0IgogICAgICBzdHJpbmcgPSBVUkkucGFyc2VBdXRob3JpdHkoc3RyaW5nLCBwYXJ0cyk7CiAgICB9IGVsc2UgewogICAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZignOicpOwogICAgICBpZiAocG9zID4gLTEpIHsKICAgICAgICBwYXJ0cy5wcm90b2NvbCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKSB8fCBudWxsOwogICAgICAgIGlmIChwYXJ0cy5wcm90b2NvbCAmJiAhcGFydHMucHJvdG9jb2wubWF0Y2goVVJJLnByb3RvY29sX2V4cHJlc3Npb24pKSB7CiAgICAgICAgICAvLyA6IG1heSBiZSB3aXRoaW4gdGhlIHBhdGgKICAgICAgICAgIHBhcnRzLnByb3RvY29sID0gdW5kZWZpbmVkOwogICAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxLCBwb3MgKyAzKSA9PT0gJy8vJykgewogICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAzKTsKCiAgICAgICAgICAvLyBleHRyYWN0ICJ1c2VyOnBhc3NAaG9zdDpwb3J0IgogICAgICAgICAgc3RyaW5nID0gVVJJLnBhcnNlQXV0aG9yaXR5KHN0cmluZywgcGFydHMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpOwogICAgICAgICAgcGFydHMudXJuID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAvLyB3aGF0J3MgbGVmdCBtdXN0IGJlIHRoZSBwYXRoCiAgICBwYXJ0cy5wYXRoID0gc3RyaW5nOwoKICAgIC8vIGFuZCB3ZSdyZSBkb25lCiAgICByZXR1cm4gcGFydHM7CiAgfTsKICBVUkkucGFyc2VIb3N0ID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykgewogICAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuCiAgICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXMKICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2Jsb2IvMzg2ZmQyNGY0OWIwZTlkMWE4YTA3NjU5MmE0MDQxNjhmYWVlY2MzNC9saWIvdXJsLmpzI0wxMTUtTDEyNAogICAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTYKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL3B1bGwvMjMzCiAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXFwvZywgJy8nKTsKCiAgICAvLyBleHRyYWN0IGhvc3Q6cG9ydAogICAgdmFyIHBvcyA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICB2YXIgYnJhY2tldFBvczsKICAgIHZhciB0OwoKICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgIHBvcyA9IHN0cmluZy5sZW5ndGg7CiAgICB9CgogICAgaWYgKHN0cmluZy5jaGFyQXQoMCkgPT09ICdbJykgewogICAgICAvLyBJUHY2IGhvc3QgLSBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLTZtYW4tdGV4dC1hZGRyLXJlcHJlc2VudGF0aW9uLTA0I3NlY3Rpb24tNgogICAgICAvLyBJIGNsYWltIG1vc3QgY2xpZW50IHNvZnR3YXJlIGJyZWFrcyBvbiBJUHY2IGFueXdheXMuIFRvIHNpbXBsaWZ5IHRoaW5ncywgVVJJIG9ubHkgYWNjZXB0cwogICAgICAvLyBJUHY2K3BvcnQgaW4gdGhlIGZvcm1hdCBbMjAwMTpkYjg6OjFdOjgwIChmb3IgdGhlIHRpbWUgYmVpbmcpCiAgICAgIGJyYWNrZXRQb3MgPSBzdHJpbmcuaW5kZXhPZignXScpOwogICAgICBwYXJ0cy5ob3N0bmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMSwgYnJhY2tldFBvcykgfHwgbnVsbDsKICAgICAgcGFydHMucG9ydCA9IHN0cmluZy5zdWJzdHJpbmcoYnJhY2tldFBvcyArIDIsIHBvcykgfHwgbnVsbDsKICAgICAgaWYgKHBhcnRzLnBvcnQgPT09ICcvJykgewogICAgICAgIHBhcnRzLnBvcnQgPSBudWxsOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIgZmlyc3RDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6Jyk7CiAgICAgIHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTsKICAgICAgdmFyIG5leHRDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6JywgZmlyc3RDb2xvbiArIDEpOwogICAgICBpZiAobmV4dENvbG9uICE9PSAtMSAmJiAoZmlyc3RTbGFzaCA9PT0gLTEgfHwgbmV4dENvbG9uIDwgZmlyc3RTbGFzaCkpIHsKICAgICAgICAvLyBJUHY2IGhvc3QgY29udGFpbnMgbXVsdGlwbGUgY29sb25zIC0gYnV0IG5vIHBvcnQKICAgICAgICAvLyB0aGlzIG5vdGF0aW9uIGlzIGFjdHVhbGx5IG5vdCBhbGxvd2VkIGJ5IFJGQyAzOTg2LCBidXQgd2UncmUgYSBsaWJlcmFsIHBhcnNlcgogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpIHx8IG51bGw7CiAgICAgICAgcGFydHMucG9ydCA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnOicpOwogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gdFswXSB8fCBudWxsOwogICAgICAgIHBhcnRzLnBvcnQgPSB0WzFdIHx8IG51bGw7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocGFydHMuaG9zdG5hbWUgJiYgc3RyaW5nLnN1YnN0cmluZyhwb3MpLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHBvcysrOwogICAgICBzdHJpbmcgPSAnLycgKyBzdHJpbmc7CiAgICB9CgogICAgcmV0dXJuIHN0cmluZy5zdWJzdHJpbmcocG9zKSB8fCAnLyc7CiAgfTsKICBVUkkucGFyc2VBdXRob3JpdHkgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICBzdHJpbmcgPSBVUkkucGFyc2VVc2VyaW5mbyhzdHJpbmcsIHBhcnRzKTsKICAgIHJldHVybiBVUkkucGFyc2VIb3N0KHN0cmluZywgcGFydHMpOwogIH07CiAgVVJJLnBhcnNlVXNlcmluZm8gPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICAvLyBleHRyYWN0IHVzZXJuYW1lOnBhc3N3b3JkCiAgICB2YXIgZmlyc3RTbGFzaCA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICB2YXIgcG9zID0gc3RyaW5nLmxhc3RJbmRleE9mKCdAJywgZmlyc3RTbGFzaCA+IC0xID8gZmlyc3RTbGFzaCA6IHN0cmluZy5sZW5ndGggLSAxKTsKICAgIHZhciB0OwoKICAgIC8vIGF1dGhvcml0eUAgbXVzdCBjb21lIGJlZm9yZSAvcGF0aAogICAgaWYgKHBvcyA+IC0xICYmIChmaXJzdFNsYXNoID09PSAtMSB8fCBwb3MgPCBmaXJzdFNsYXNoKSkgewogICAgICB0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCc6Jyk7CiAgICAgIHBhcnRzLnVzZXJuYW1lID0gdFswXSA/IFVSSS5kZWNvZGUodFswXSkgOiBudWxsOwogICAgICB0LnNoaWZ0KCk7CiAgICAgIHBhcnRzLnBhc3N3b3JkID0gdFswXSA/IFVSSS5kZWNvZGUodC5qb2luKCc6JykpIDogbnVsbDsKICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKTsKICAgIH0gZWxzZSB7CiAgICAgIHBhcnRzLnVzZXJuYW1lID0gbnVsbDsKICAgICAgcGFydHMucGFzc3dvcmQgPSBudWxsOwogICAgfQoKICAgIHJldHVybiBzdHJpbmc7CiAgfTsKICBVUkkucGFyc2VRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgaWYgKCFzdHJpbmcpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfQoKICAgIC8vIHRocm93IG91dCB0aGUgZnVua3kgYnVzaW5lc3MgLSAiPyJbbmFtZSI9InZhbHVlIiYiXSsKICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC8mKy9nLCAnJicpLnJlcGxhY2UoL15cPyomKnwmKyQvZywgJycpOwoKICAgIGlmICghc3RyaW5nKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KCiAgICB2YXIgaXRlbXMgPSB7fTsKICAgIHZhciBzcGxpdHMgPSBzdHJpbmcuc3BsaXQoJyYnKTsKICAgIHZhciBsZW5ndGggPSBzcGxpdHMubGVuZ3RoOwogICAgdmFyIHYsIG5hbWUsIHZhbHVlOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgdiA9IHNwbGl0c1tpXS5zcGxpdCgnPScpOwogICAgICBuYW1lID0gVVJJLmRlY29kZVF1ZXJ5KHYuc2hpZnQoKSwgZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIC8vIG5vICI9IiBpcyBudWxsIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnMKICAgICAgdmFsdWUgPSB2Lmxlbmd0aCA/IFVSSS5kZWNvZGVRdWVyeSh2LmpvaW4oJz0nKSwgZXNjYXBlUXVlcnlTcGFjZSkgOiBudWxsOwoKICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZW1zLCBuYW1lKSkgewogICAgICAgIGlmICh0eXBlb2YgaXRlbXNbbmFtZV0gPT09ICdzdHJpbmcnIHx8IGl0ZW1zW25hbWVdID09PSBudWxsKSB7CiAgICAgICAgICBpdGVtc1tuYW1lXSA9IFtpdGVtc1tuYW1lXV07CiAgICAgICAgfQoKICAgICAgICBpdGVtc1tuYW1lXS5wdXNoKHZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpdGVtc1tuYW1lXSA9IHZhbHVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGl0ZW1zOwogIH07CgogIFVSSS5idWlsZCA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmIChwYXJ0cy5wcm90b2NvbCkgewogICAgICB0ICs9IHBhcnRzLnByb3RvY29sICsgJzonOwogICAgfQoKICAgIGlmICghcGFydHMudXJuICYmICh0IHx8IHBhcnRzLmhvc3RuYW1lKSkgewogICAgICB0ICs9ICcvLyc7CiAgICB9CgogICAgdCArPSAoVVJJLmJ1aWxkQXV0aG9yaXR5KHBhcnRzKSB8fCAnJyk7CgogICAgaWYgKHR5cGVvZiBwYXJ0cy5wYXRoID09PSAnc3RyaW5nJykgewogICAgICBpZiAocGFydHMucGF0aC5jaGFyQXQoMCkgIT09ICcvJyAmJiB0eXBlb2YgcGFydHMuaG9zdG5hbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgdCArPSAnLyc7CiAgICAgIH0KCiAgICAgIHQgKz0gcGFydHMucGF0aDsKICAgIH0KCiAgICBpZiAodHlwZW9mIHBhcnRzLnF1ZXJ5ID09PSAnc3RyaW5nJyAmJiBwYXJ0cy5xdWVyeSkgewogICAgICB0ICs9ICc/JyArIHBhcnRzLnF1ZXJ5OwogICAgfQoKICAgIGlmICh0eXBlb2YgcGFydHMuZnJhZ21lbnQgPT09ICdzdHJpbmcnICYmIHBhcnRzLmZyYWdtZW50KSB7CiAgICAgIHQgKz0gJyMnICsgcGFydHMuZnJhZ21lbnQ7CiAgICB9CiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZEhvc3QgPSBmdW5jdGlvbihwYXJ0cykgewogICAgdmFyIHQgPSAnJzsKCiAgICBpZiAoIXBhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJldHVybiAnJzsKICAgIH0gZWxzZSBpZiAoVVJJLmlwNl9leHByZXNzaW9uLnRlc3QocGFydHMuaG9zdG5hbWUpKSB7CiAgICAgIHQgKz0gJ1snICsgcGFydHMuaG9zdG5hbWUgKyAnXSc7CiAgICB9IGVsc2UgewogICAgICB0ICs9IHBhcnRzLmhvc3RuYW1lOwogICAgfQoKICAgIGlmIChwYXJ0cy5wb3J0KSB7CiAgICAgIHQgKz0gJzonICsgcGFydHMucG9ydDsKICAgIH0KCiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZEF1dGhvcml0eSA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICByZXR1cm4gVVJJLmJ1aWxkVXNlcmluZm8ocGFydHMpICsgVVJJLmJ1aWxkSG9zdChwYXJ0cyk7CiAgfTsKICBVUkkuYnVpbGRVc2VyaW5mbyA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmIChwYXJ0cy51c2VybmFtZSkgewogICAgICB0ICs9IFVSSS5lbmNvZGUocGFydHMudXNlcm5hbWUpOwogICAgfQoKICAgIGlmIChwYXJ0cy5wYXNzd29yZCkgewogICAgICB0ICs9ICc6JyArIFVSSS5lbmNvZGUocGFydHMucGFzc3dvcmQpOwogICAgfQoKICAgIGlmICh0KSB7CiAgICAgIHQgKz0gJ0AnOwogICAgfQoKICAgIHJldHVybiB0OwogIH07CiAgVVJJLmJ1aWxkUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIC8vIGFjY29yZGluZyB0byBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2IG9yIGh0dHA6Ly9sYWJzLmFwYWNoZS5vcmcvd2ViYXJjaC91cmkvcmZjL3JmYzM5ODYuaHRtbAogICAgLy8gYmVpbmcgwrstLl9+ISQmJygpKissOz06QC8/wqsgJUhFWCBhbmQgYWxudW0gYXJlIGFsbG93ZWQKICAgIC8vIHRoZSBSRkMgZXhwbGljaXRseSBzdGF0ZXMgPy9mb28gYmVpbmcgYSB2YWxpZCB1c2UgY2FzZSwgbm8gbWVudGlvbiBvZiBwYXJhbWV0ZXIgc3ludGF4IQogICAgLy8gVVJJLmpzIHRyZWF0cyB0aGUgcXVlcnkgc3RyaW5nIGFzIGJlaW5nIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZAogICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZQoKICAgIHZhciB0ID0gJyc7CiAgICB2YXIgdW5pcXVlLCBrZXksIGksIGxlbmd0aDsKICAgIGZvciAoa2V5IGluIGRhdGEpIHsKICAgICAgaWYgKGhhc093bi5jYWxsKGRhdGEsIGtleSkgJiYga2V5KSB7CiAgICAgICAgaWYgKGlzQXJyYXkoZGF0YVtrZXldKSkgewogICAgICAgICAgdW5pcXVlID0ge307CiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBkYXRhW2tleV0ubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGRhdGFba2V5XVtpXSAhPT0gdW5kZWZpbmVkICYmIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV1baV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgICAgICAgIGlmIChkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgIT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0LnN1YnN0cmluZygxKTsKICB9OwogIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZSAtLSBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQKICAgIC8vIGRvbid0IGFwcGVuZCAiPSIgZm9yIG51bGwgdmFsdWVzLCBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCN1cmwtcGFyYW1ldGVyLXNlcmlhbGl6YXRpb24KICAgIHJldHVybiBVUkkuZW5jb2RlUXVlcnkobmFtZSwgZXNjYXBlUXVlcnlTcGFjZSkgKyAodmFsdWUgIT09IG51bGwgPyAnPScgKyBVUkkuZW5jb2RlUXVlcnkodmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIDogJycpOwogIH07CgogIFVSSS5hZGRRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlKSB7CiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIFVSSS5hZGRRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAoZGF0YVtuYW1lXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgZGF0YVtuYW1lXSA9IHZhbHVlOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YVtuYW1lXSA9PT0gJ3N0cmluZycpIHsKICAgICAgICBkYXRhW25hbWVdID0gW2RhdGFbbmFtZV1dOwogICAgICB9CgogICAgICBpZiAoIWlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgdmFsdWUgPSBbdmFsdWVdOwogICAgICB9CgogICAgICBkYXRhW25hbWVdID0gKGRhdGFbbmFtZV0gfHwgW10pLmNvbmNhdCh2YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQogIH07CiAgVVJJLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGgsIGtleTsKCiAgICBpZiAoaXNBcnJheShuYW1lKSkgewogICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBuYW1lLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgZGF0YVtuYW1lW2ldXSA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfSBlbHNlIGlmIChnZXRUeXBlKG5hbWUpID09PSAnUmVnRXhwJykgewogICAgICBmb3IgKGtleSBpbiBkYXRhKSB7CiAgICAgICAgaWYgKG5hbWUudGVzdChrZXkpKSB7CiAgICAgICAgICBkYXRhW2tleV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0JykgewogICAgICBmb3IgKGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIFVSSS5yZW1vdmVRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSAmJiB2YWx1ZS50ZXN0KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtuYW1lXSA9PT0gU3RyaW5nKHZhbHVlKSAmJiAoIWlzQXJyYXkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkpIHsKICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhW25hbWVdID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkucmVtb3ZlUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nLCBSZWdFeHAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlcicpOwogICAgfQogIH07CiAgVVJJLmhhc1F1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KSB7CiAgICBzd2l0Y2ggKGdldFR5cGUobmFtZSkpIHsKICAgICAgY2FzZSAnU3RyaW5nJzoKICAgICAgICAvLyBOb3RoaW5nIHRvIGRvIGhlcmUKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ1JlZ0V4cCc6CiAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHsKICAgICAgICAgIGlmIChoYXNPd24uY2FsbChkYXRhLCBrZXkpKSB7CiAgICAgICAgICAgIGlmIChuYW1lLnRlc3Qoa2V5KSAmJiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCBVUkkuaGFzUXVlcnkoZGF0YSwga2V5LCB2YWx1ZSkpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgIGNhc2UgJ09iamVjdCc6CiAgICAgICAgZm9yICh2YXIgX2tleSBpbiBuYW1lKSB7CiAgICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwgX2tleSkpIHsKICAgICAgICAgICAgaWYgKCFVUkkuaGFzUXVlcnkoZGF0YSwgX2tleSwgbmFtZVtfa2V5XSkpIHsKICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIGEgc3RyaW5nLCByZWd1bGFyIGV4cHJlc3Npb24gb3Igb2JqZWN0IGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQoKICAgIHN3aXRjaCAoZ2V0VHlwZSh2YWx1ZSkpIHsKICAgICAgY2FzZSAnVW5kZWZpbmVkJzoKICAgICAgICAvLyB0cnVlIGlmIGV4aXN0cyAoYnV0IG1heSBiZSBlbXB0eSkKICAgICAgICByZXR1cm4gbmFtZSBpbiBkYXRhOyAvLyBkYXRhW25hbWVdICE9PSB1bmRlZmluZWQ7CgogICAgICBjYXNlICdCb29sZWFuJzoKICAgICAgICAvLyB0cnVlIGlmIGV4aXN0cyBhbmQgbm9uLWVtcHR5CiAgICAgICAgdmFyIF9ib29seSA9IEJvb2xlYW4oaXNBcnJheShkYXRhW25hbWVdKSA/IGRhdGFbbmFtZV0ubGVuZ3RoIDogZGF0YVtuYW1lXSk7CiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBfYm9vbHk7CgogICAgICBjYXNlICdGdW5jdGlvbic6CiAgICAgICAgLy8gYWxsb3cgY29tcGxleCBjb21wYXJpc29uCiAgICAgICAgcmV0dXJuICEhdmFsdWUoZGF0YVtuYW1lXSwgbmFtZSwgZGF0YSk7CgogICAgICBjYXNlICdBcnJheSc6CiAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB2YXIgb3AgPSB3aXRoaW5BcnJheSA/IGFycmF5Q29udGFpbnMgOiBhcnJheXNFcXVhbDsKICAgICAgICByZXR1cm4gb3AoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgY2FzZSAnUmVnRXhwJzoKICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgIHJldHVybiBCb29sZWFuKGRhdGFbbmFtZV0gJiYgZGF0YVtuYW1lXS5tYXRjaCh2YWx1ZSkpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF3aXRoaW5BcnJheSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgY2FzZSAnTnVtYmVyJzoKICAgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7CiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqLwogICAgICBjYXNlICdTdHJpbmcnOgogICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSkgewogICAgICAgICAgcmV0dXJuIGRhdGFbbmFtZV0gPT09IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF3aXRoaW5BcnJheSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIHVuZGVmaW5lZCwgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIsIFJlZ0V4cCwgRnVuY3Rpb24gYXMgdGhlIHZhbHVlIHBhcmFtZXRlcicpOwogICAgfQogIH07CgoKICBVUkkuam9pblBhdGhzID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgaW5wdXQgPSBbXTsKICAgIHZhciBzZWdtZW50cyA9IFtdOwogICAgdmFyIG5vbkVtcHR5U2VnbWVudHMgPSAwOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciB1cmwgPSBuZXcgVVJJKGFyZ3VtZW50c1tpXSk7CiAgICAgIGlucHV0LnB1c2godXJsKTsKICAgICAgdmFyIF9zZWdtZW50cyA9IHVybC5zZWdtZW50KCk7CiAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgX3NlZ21lbnRzLmxlbmd0aDsgcysrKSB7CiAgICAgICAgaWYgKHR5cGVvZiBfc2VnbWVudHNbc10gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICBzZWdtZW50cy5wdXNoKF9zZWdtZW50c1tzXSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3NlZ21lbnRzW3NdKSB7CiAgICAgICAgICBub25FbXB0eVNlZ21lbnRzKys7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKCFzZWdtZW50cy5sZW5ndGggfHwgIW5vbkVtcHR5U2VnbWVudHMpIHsKICAgICAgcmV0dXJuIG5ldyBVUkkoJycpOwogICAgfQoKICAgIHZhciB1cmkgPSBuZXcgVVJJKCcnKS5zZWdtZW50KHNlZ21lbnRzKTsKCiAgICBpZiAoaW5wdXRbMF0ucGF0aCgpID09PSAnJyB8fCBpbnB1dFswXS5wYXRoKCkuc2xpY2UoMCwgMSkgPT09ICcvJykgewogICAgICB1cmkucGF0aCgnLycgKyB1cmkucGF0aCgpKTsKICAgIH0KCiAgICByZXR1cm4gdXJpLm5vcm1hbGl6ZSgpOwogIH07CgogIFVSSS5jb21tb25QYXRoID0gZnVuY3Rpb24ob25lLCB0d28pIHsKICAgIHZhciBsZW5ndGggPSBNYXRoLm1pbihvbmUubGVuZ3RoLCB0d28ubGVuZ3RoKTsKICAgIHZhciBwb3M7CgogICAgLy8gZmluZCBmaXJzdCBub24tbWF0Y2hpbmcgY2hhcmFjdGVyCiAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKG9uZS5jaGFyQXQocG9zKSAhPT0gdHdvLmNoYXJBdChwb3MpKSB7CiAgICAgICAgcG9zLS07CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocG9zIDwgMSkgewogICAgICByZXR1cm4gb25lLmNoYXJBdCgwKSA9PT0gdHdvLmNoYXJBdCgwKSAmJiBvbmUuY2hhckF0KDApID09PSAnLycgPyAnLycgOiAnJzsKICAgIH0KCiAgICAvLyByZXZlcnQgdG8gbGFzdCAvCiAgICBpZiAob25lLmNoYXJBdChwb3MpICE9PSAnLycgfHwgdHdvLmNoYXJBdChwb3MpICE9PSAnLycpIHsKICAgICAgcG9zID0gb25lLnN1YnN0cmluZygwLCBwb3MpLmxhc3RJbmRleE9mKCcvJyk7CiAgICB9CgogICAgcmV0dXJuIG9uZS5zdWJzdHJpbmcoMCwgcG9zICsgMSk7CiAgfTsKCiAgVVJJLndpdGhpblN0cmluZyA9IGZ1bmN0aW9uKHN0cmluZywgY2FsbGJhY2ssIG9wdGlvbnMpIHsKICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7CiAgICB2YXIgX3N0YXJ0ID0gb3B0aW9ucy5zdGFydCB8fCBVUkkuZmluZFVyaS5zdGFydDsKICAgIHZhciBfZW5kID0gb3B0aW9ucy5lbmQgfHwgVVJJLmZpbmRVcmkuZW5kOwogICAgdmFyIF90cmltID0gb3B0aW9ucy50cmltIHx8IFVSSS5maW5kVXJpLnRyaW07CiAgICB2YXIgX2F0dHJpYnV0ZU9wZW4gPSAvW2EtejAtOS1dPVsiJ10/JC9pOwoKICAgIF9zdGFydC5sYXN0SW5kZXggPSAwOwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgdmFyIG1hdGNoID0gX3N0YXJ0LmV4ZWMoc3RyaW5nKTsKICAgICAgaWYgKCFtYXRjaCkgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICB2YXIgc3RhcnQgPSBtYXRjaC5pbmRleDsKICAgICAgaWYgKG9wdGlvbnMuaWdub3JlSHRtbCkgewogICAgICAgIC8vIGF0dHJpYnV0KGU9WyInXT8kKQogICAgICAgIHZhciBhdHRyaWJ1dGVPcGVuID0gc3RyaW5nLnNsaWNlKE1hdGgubWF4KHN0YXJ0IC0gMywgMCksIHN0YXJ0KTsKICAgICAgICBpZiAoYXR0cmlidXRlT3BlbiAmJiBfYXR0cmlidXRlT3Blbi50ZXN0KGF0dHJpYnV0ZU9wZW4pKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBlbmQgPSBzdGFydCArIHN0cmluZy5zbGljZShzdGFydCkuc2VhcmNoKF9lbmQpOwogICAgICB2YXIgc2xpY2UgPSBzdHJpbmcuc2xpY2Uoc3RhcnQsIGVuZCkucmVwbGFjZShfdHJpbSwgJycpOwogICAgICBpZiAob3B0aW9ucy5pZ25vcmUgJiYgb3B0aW9ucy5pZ25vcmUudGVzdChzbGljZSkpIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgZW5kID0gc3RhcnQgKyBzbGljZS5sZW5ndGg7CiAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhzbGljZSwgc3RhcnQsIGVuZCwgc3RyaW5nKTsKICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIHN0YXJ0KSArIHJlc3VsdCArIHN0cmluZy5zbGljZShlbmQpOwogICAgICBfc3RhcnQubGFzdEluZGV4ID0gc3RhcnQgKyByZXN1bHQubGVuZ3RoOwogICAgfQoKICAgIF9zdGFydC5sYXN0SW5kZXggPSAwOwogICAgcmV0dXJuIHN0cmluZzsKICB9OwoKICBVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSA9IGZ1bmN0aW9uKHYpIHsKICAgIC8vIFRoZW9yZXRpY2FsbHkgVVJJcyBhbGxvdyBwZXJjZW50LWVuY29kaW5nIGluIEhvc3RuYW1lcyAoYWNjb3JkaW5nIHRvIFJGQyAzOTg2KQogICAgLy8gdGhleSBhcmUgbm90IHBhcnQgb2YgRE5TIGFuZCB0aGVyZWZvcmUgaWdub3JlZCBieSBVUkkuanMKCiAgICBpZiAodi5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkgewogICAgICAvLyB0ZXN0IHB1bnljb2RlCiAgICAgIGlmICghcHVueWNvZGUpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXSBhbmQgUHVueWNvZGUuanMgaXMgbm90IGF2YWlsYWJsZScpOwogICAgICB9CgogICAgICBpZiAocHVueWNvZGUudG9BU0NJSSh2KS5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBub0NvbmZsaWN0CiAgVVJJLm5vQ29uZmxpY3QgPSBmdW5jdGlvbihyZW1vdmVBbGwpIHsKICAgIGlmIChyZW1vdmVBbGwpIHsKICAgICAgdmFyIHVuY29uZmxpY3RlZCA9IHsKICAgICAgICBVUkk6IHRoaXMubm9Db25mbGljdCgpCiAgICAgIH07CgogICAgICBpZiAocm9vdC5VUklUZW1wbGF0ZSAmJiB0eXBlb2Ygcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLlVSSVRlbXBsYXRlID0gcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0KCk7CiAgICAgIH0KCiAgICAgIGlmIChyb290LklQdjYgJiYgdHlwZW9mIHJvb3QuSVB2Ni5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLklQdjYgPSByb290LklQdjYubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICBpZiAocm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgJiYgdHlwZW9mIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB1bmNvbmZsaWN0ZWQuU2Vjb25kTGV2ZWxEb21haW5zID0gcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICByZXR1cm4gdW5jb25mbGljdGVkOwogICAgfSBlbHNlIGlmIChyb290LlVSSSA9PT0gdGhpcykgewogICAgICByb290LlVSSSA9IF9VUkk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5idWlsZCA9IGZ1bmN0aW9uKGRlZmVyQnVpbGQpIHsKICAgIGlmIChkZWZlckJ1aWxkID09PSB0cnVlKSB7CiAgICAgIHRoaXMuX2RlZmVycmVkX2J1aWxkID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZGVmZXJCdWlsZCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX2RlZmVycmVkX2J1aWxkKSB7CiAgICAgIHRoaXMuX3N0cmluZyA9IFVSSS5idWlsZCh0aGlzLl9wYXJ0cyk7CiAgICAgIHRoaXMuX2RlZmVycmVkX2J1aWxkID0gZmFsc2U7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5jbG9uZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIG5ldyBVUkkodGhpcyk7CiAgfTsKCiAgcC52YWx1ZU9mID0gcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMuYnVpbGQoZmFsc2UpLl9zdHJpbmc7CiAgfTsKCgogIGZ1bmN0aW9uIGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoX3BhcnQpewogICAgcmV0dXJuIGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5fcGFydHNbX3BhcnRdIHx8ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX3BhcnRzW19wYXJ0XSA9IHYgfHwgbnVsbDsKICAgICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKF9wYXJ0LCBfa2V5KXsKICAgIHJldHVybiBmdW5jdGlvbih2LCBidWlsZCkgewogICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodiAhPT0gbnVsbCkgewogICAgICAgICAgdiA9IHYgKyAnJzsKICAgICAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gX2tleSkgewogICAgICAgICAgICB2ID0gdi5zdWJzdHJpbmcoMSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9wYXJ0c1tfcGFydF0gPSB2OwogICAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQogICAgfTsKICB9CgogIHAucHJvdG9jb2wgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwcm90b2NvbCcpOwogIHAudXNlcm5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCd1c2VybmFtZScpOwogIHAucGFzc3dvcmQgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwYXNzd29yZCcpOwogIHAuaG9zdG5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdob3N0bmFtZScpOwogIHAucG9ydCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3BvcnQnKTsKICBwLnF1ZXJ5ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcigncXVlcnknLCAnPycpOwogIHAuZnJhZ21lbnQgPSBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKCdmcmFnbWVudCcsICcjJyk7CgogIHAuc2VhcmNoID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciB0ID0gdGhpcy5xdWVyeSh2LCBidWlsZCk7CiAgICByZXR1cm4gdHlwZW9mIHQgPT09ICdzdHJpbmcnICYmIHQubGVuZ3RoID8gKCc/JyArIHQpIDogdDsKICB9OwogIHAuaGFzaCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICB2YXIgdCA9IHRoaXMuZnJhZ21lbnQodiwgYnVpbGQpOwogICAgcmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICgnIycgKyB0KSA6IHQ7CiAgfTsKCiAgcC5wYXRobmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGggfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpOwogICAgICByZXR1cm4gdiA/ICh0aGlzLl9wYXJ0cy51cm4gPyBVUkkuZGVjb2RlVXJuUGF0aCA6IFVSSS5kZWNvZGVQYXRoKShyZXMpIDogcmVzOwogICAgfSBlbHNlIHsKICAgICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVVyblBhdGgodikgOiAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdiA/IFVSSS5yZWNvZGVQYXRoKHYpIDogJy8nOwogICAgICB9CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnBhdGggPSBwLnBhdGhuYW1lOwogIHAuaHJlZiA9IGZ1bmN0aW9uKGhyZWYsIGJ1aWxkKSB7CiAgICB2YXIga2V5OwoKICAgIGlmIChocmVmID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsKICAgIH0KCiAgICB0aGlzLl9zdHJpbmcgPSAnJzsKICAgIHRoaXMuX3BhcnRzID0gVVJJLl9wYXJ0cygpOwoKICAgIHZhciBfVVJJID0gaHJlZiBpbnN0YW5jZW9mIFVSSTsKICAgIHZhciBfb2JqZWN0ID0gdHlwZW9mIGhyZWYgPT09ICdvYmplY3QnICYmIChocmVmLmhvc3RuYW1lIHx8IGhyZWYucGF0aCB8fCBocmVmLnBhdGhuYW1lKTsKICAgIGlmIChocmVmLm5vZGVOYW1lKSB7CiAgICAgIHZhciBhdHRyaWJ1dGUgPSBVUkkuZ2V0RG9tQXR0cmlidXRlKGhyZWYpOwogICAgICBocmVmID0gaHJlZlthdHRyaWJ1dGVdIHx8ICcnOwogICAgICBfb2JqZWN0ID0gZmFsc2U7CiAgICB9CgogICAgLy8gd2luZG93LmxvY2F0aW9uIGlzIHJlcG9ydGVkIHRvIGJlIGFuIG9iamVjdCwgYnV0IGl0J3Mgbm90IHRoZSBzb3J0CiAgICAvLyBvZiBvYmplY3Qgd2UncmUgbG9va2luZyBmb3I6CiAgICAvLyAqIGxvY2F0aW9uLnByb3RvY29sIGVuZHMgd2l0aCBhIGNvbG9uCiAgICAvLyAqIGxvY2F0aW9uLnF1ZXJ5ICE9IG9iamVjdC5zZWFyY2gKICAgIC8vICogbG9jYXRpb24uaGFzaCAhPSBvYmplY3QuZnJhZ21lbnQKICAgIC8vIHNpbXBseSBzZXJpYWxpemluZyB0aGUgdW5rbm93biBvYmplY3Qgc2hvdWxkIGRvIHRoZSB0cmljawogICAgLy8gKGZvciBsb2NhdGlvbiwgbm90IGZvciBldmVyeXRoaW5nLi4uKQogICAgaWYgKCFfVVJJICYmIF9vYmplY3QgJiYgaHJlZi5wYXRobmFtZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGhyZWYgPSBocmVmLnRvU3RyaW5nKCk7CiAgICB9CgogICAgaWYgKHR5cGVvZiBocmVmID09PSAnc3RyaW5nJyB8fCBocmVmIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIHRoaXMuX3BhcnRzID0gVVJJLnBhcnNlKFN0cmluZyhocmVmKSwgdGhpcy5fcGFydHMpOwogICAgfSBlbHNlIGlmIChfVVJJIHx8IF9vYmplY3QpIHsKICAgICAgdmFyIHNyYyA9IF9VUkkgPyBocmVmLl9wYXJ0cyA6IGhyZWY7CiAgICAgIGZvciAoa2V5IGluIHNyYykgewogICAgICAgIGlmIChoYXNPd24uY2FsbCh0aGlzLl9wYXJ0cywga2V5KSkgewogICAgICAgICAgdGhpcy5fcGFydHNba2V5XSA9IHNyY1trZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBpbnB1dCcpOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIGlkZW50aWZpY2F0aW9uIGFjY2Vzc29ycwogIHAuaXMgPSBmdW5jdGlvbih3aGF0KSB7CiAgICB2YXIgaXAgPSBmYWxzZTsKICAgIHZhciBpcDQgPSBmYWxzZTsKICAgIHZhciBpcDYgPSBmYWxzZTsKICAgIHZhciBuYW1lID0gZmFsc2U7CiAgICB2YXIgc2xkID0gZmFsc2U7CiAgICB2YXIgaWRuID0gZmFsc2U7CiAgICB2YXIgcHVueWNvZGUgPSBmYWxzZTsKICAgIHZhciByZWxhdGl2ZSA9ICF0aGlzLl9wYXJ0cy51cm47CgogICAgaWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJlbGF0aXZlID0gZmFsc2U7CiAgICAgIGlwNCA9IFVSSS5pcDRfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgaXA2ID0gVVJJLmlwNl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpcCA9IGlwNCB8fCBpcDY7CiAgICAgIG5hbWUgPSAhaXA7CiAgICAgIHNsZCA9IG5hbWUgJiYgU0xEICYmIFNMRC5oYXModGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpZG4gPSBuYW1lICYmIFVSSS5pZG5fZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgcHVueWNvZGUgPSBuYW1lICYmIFVSSS5wdW55Y29kZV9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgfQoKICAgIHN3aXRjaCAod2hhdC50b0xvd2VyQ2FzZSgpKSB7CiAgICAgIGNhc2UgJ3JlbGF0aXZlJzoKICAgICAgICByZXR1cm4gcmVsYXRpdmU7CgogICAgICBjYXNlICdhYnNvbHV0ZSc6CiAgICAgICAgcmV0dXJuICFyZWxhdGl2ZTsKCiAgICAgIC8vIGhvc3RuYW1lIGlkZW50aWZpY2F0aW9uCiAgICAgIGNhc2UgJ2RvbWFpbic6CiAgICAgIGNhc2UgJ25hbWUnOgogICAgICAgIHJldHVybiBuYW1lOwoKICAgICAgY2FzZSAnc2xkJzoKICAgICAgICByZXR1cm4gc2xkOwoKICAgICAgY2FzZSAnaXAnOgogICAgICAgIHJldHVybiBpcDsKCiAgICAgIGNhc2UgJ2lwNCc6CiAgICAgIGNhc2UgJ2lwdjQnOgogICAgICBjYXNlICdpbmV0NCc6CiAgICAgICAgcmV0dXJuIGlwNDsKCiAgICAgIGNhc2UgJ2lwNic6CiAgICAgIGNhc2UgJ2lwdjYnOgogICAgICBjYXNlICdpbmV0Nic6CiAgICAgICAgcmV0dXJuIGlwNjsKCiAgICAgIGNhc2UgJ2lkbic6CiAgICAgICAgcmV0dXJuIGlkbjsKCiAgICAgIGNhc2UgJ3VybCc6CiAgICAgICAgcmV0dXJuICF0aGlzLl9wYXJ0cy51cm47CgogICAgICBjYXNlICd1cm4nOgogICAgICAgIHJldHVybiAhIXRoaXMuX3BhcnRzLnVybjsKCiAgICAgIGNhc2UgJ3B1bnljb2RlJzoKICAgICAgICByZXR1cm4gcHVueWNvZGU7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfTsKCiAgLy8gY29tcG9uZW50IHNwZWNpZmljIGlucHV0IHZhbGlkYXRpb24KICB2YXIgX3Byb3RvY29sID0gcC5wcm90b2NvbDsKICB2YXIgX3BvcnQgPSBwLnBvcnQ7CiAgdmFyIF9ob3N0bmFtZSA9IHAuaG9zdG5hbWU7CgogIHAucHJvdG9jb2wgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodikgewogICAgICAgIC8vIGFjY2VwdCB0cmFpbGluZyA6Ly8KICAgICAgICB2ID0gdi5yZXBsYWNlKC86KFwvXC8pPyQvLCAnJyk7CgogICAgICAgIGlmICghdi5tYXRjaChVUkkucHJvdG9jb2xfZXhwcmVzc2lvbikpIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3RvY29sICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05ListXSBvciBkb2VzblwndCBzdGFydCB3aXRoIFtBLVpdJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gX3Byb3RvY29sLmNhbGwodGhpcywgdiwgYnVpbGQpOwogIH07CiAgcC5zY2hlbWUgPSBwLnByb3RvY29sOwogIHAucG9ydCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodiA9PT0gMCkgewogICAgICAgIHYgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodikgewogICAgICAgIHYgKz0gJyc7CiAgICAgICAgaWYgKHYuY2hhckF0KDApID09PSAnOicpIHsKICAgICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgICB9CgogICAgICAgIGlmICh2Lm1hdGNoKC9bXjAtOV0vKSkgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUG9ydCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gWzAtOV0nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBfcG9ydC5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwogIHAuaG9zdG5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIHggPSB7fTsKICAgICAgdmFyIHJlcyA9IFVSSS5wYXJzZUhvc3QodiwgeCk7CiAgICAgIGlmIChyZXMgIT09ICcvJykgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KCiAgICAgIHYgPSB4Lmhvc3RuYW1lOwogICAgfQogICAgcmV0dXJuIF9ob3N0bmFtZS5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwoKICAvLyBjb21wb3VuZCBhY2Nlc3NvcnMKICBwLm9yaWdpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sKCk7CiAgICAgIHZhciBhdXRob3JpdHkgPSB0aGlzLmF1dGhvcml0eSgpOwogICAgICBpZiAoIWF1dGhvcml0eSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgcmV0dXJuIChwcm90b2NvbCA/IHByb3RvY29sICsgJzovLycgOiAnJykgKyB0aGlzLmF1dGhvcml0eSgpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIG9yaWdpbiA9IFVSSSh2KTsKICAgICAgdGhpcwogICAgICAgIC5wcm90b2NvbChvcmlnaW4ucHJvdG9jb2woKSkKICAgICAgICAuYXV0aG9yaXR5KG9yaWdpbi5hdXRob3JpdHkoKSkKICAgICAgICAuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmhvc3QgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkSG9zdCh0aGlzLl9wYXJ0cykgOiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHRoaXMuX3BhcnRzKTsKICAgICAgaWYgKHJlcyAhPT0gJy8nKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuYXV0aG9yaXR5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/IFVSSS5idWlsZEF1dGhvcml0eSh0aGlzLl9wYXJ0cykgOiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VBdXRob3JpdHkodiwgdGhpcy5fcGFydHMpOwogICAgICBpZiAocmVzICE9PSAnLycpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC51c2VyaW5mbyA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgdCA9IFVSSS5idWlsZFVzZXJpbmZvKHRoaXMuX3BhcnRzKTsKICAgICAgcmV0dXJuIHQgPyB0LnN1YnN0cmluZygwLCB0Lmxlbmd0aCAtMSkgOiB0OwogICAgfSBlbHNlIHsKICAgICAgaWYgKHZbdi5sZW5ndGgtMV0gIT09ICdAJykgewogICAgICAgIHYgKz0gJ0AnOwogICAgICB9CgogICAgICBVUkkucGFyc2VVc2VyaW5mbyh2LCB0aGlzLl9wYXJ0cyk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnJlc291cmNlID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciBwYXJ0czsKCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLnBhdGgoKSArIHRoaXMuc2VhcmNoKCkgKyB0aGlzLmhhc2goKTsKICAgIH0KCiAgICBwYXJ0cyA9IFVSSS5wYXJzZSh2KTsKICAgIHRoaXMuX3BhcnRzLnBhdGggPSBwYXJ0cy5wYXRoOwogICAgdGhpcy5fcGFydHMucXVlcnkgPSBwYXJ0cy5xdWVyeTsKICAgIHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gcGFydHMuZnJhZ21lbnQ7CiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvLyBmcmFjdGlvbiBhY2Nlc3NvcnMKICBwLnN1YmRvbWFpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgLy8gY29udmVuaWVuY2UsIHJldHVybiAid3d3IiBmcm9tICJ3d3cuZXhhbXBsZS5vcmciCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgLy8gZ3JhYiBkb21haW4gYW5kIGFkZCBhbm90aGVyIHNlZ21lbnQKICAgICAgdmFyIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMuZG9tYWluKCkubGVuZ3RoIC0gMTsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlbmQpIHx8ICcnOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLmRvbWFpbigpLmxlbmd0aDsKICAgICAgdmFyIHN1YiA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlKTsKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCdeJyArIGVzY2FwZVJlZ0V4KHN1YikpOwoKICAgICAgaWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy4nKSB7CiAgICAgICAgdiArPSAnLic7CiAgICAgIH0KCiAgICAgIGlmICh2KSB7CiAgICAgICAgVVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUodik7CiAgICAgIH0KCiAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZG9tYWluID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgLy8gY29udmVuaWVuY2UsIHJldHVybiAiZXhhbXBsZS5vcmciIGZyb20gInd3dy5leGFtcGxlLm9yZyIKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBpZiBob3N0bmFtZSBjb25zaXN0cyBvZiAxIG9yIDIgc2VnbWVudHMsIGl0IG11c3QgYmUgdGhlIGRvbWFpbgogICAgICB2YXIgdCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLm1hdGNoKC9cLi9nKTsKICAgICAgaWYgKHQgJiYgdC5sZW5ndGggPCAyKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lOwogICAgICB9CgogICAgICAvLyBncmFiIHRsZCBhbmQgYWRkIGFub3RoZXIgc2VnbWVudAogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy50bGQoYnVpbGQpLmxlbmd0aCAtIDE7CiAgICAgIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxhc3RJbmRleE9mKCcuJywgZW5kIC0xKSArIDE7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoZW5kKSB8fCAnJzsKICAgIH0gZWxzZSB7CiAgICAgIGlmICghdikgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXQgZG9tYWluIGVtcHR5Jyk7CiAgICAgIH0KCiAgICAgIFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpOwoKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB2OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmRvbWFpbigpKSArICckJyk7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC50bGQgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICAvLyByZXR1cm4gIm9yZyIgZnJvbSAid3d3LmV4YW1wbGUub3JnIgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sYXN0SW5kZXhPZignLicpOwogICAgICB2YXIgdGxkID0gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKHBvcyArIDEpOwoKICAgICAgaWYgKGJ1aWxkICE9PSB0cnVlICYmIFNMRCAmJiBTTEQubGlzdFt0bGQudG9Mb3dlckNhc2UoKV0pIHsKICAgICAgICByZXR1cm4gU0xELmdldCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgfHwgdGxkOwogICAgICB9CgogICAgICByZXR1cm4gdGxkOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlcGxhY2U7CgogICAgICBpZiAoIXYpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYW5ub3Qgc2V0IFRMRCBlbXB0eScpOwogICAgICB9IGVsc2UgaWYgKHYubWF0Y2goL1teYS16QS1aMC05LV0vKSkgewogICAgICAgIGlmIChTTEQgJiYgU0xELmlzKHYpKSB7CiAgICAgICAgICByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLnRsZCgpKSArICckJyk7CiAgICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RMRCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOV0nKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ2Nhbm5vdCBzZXQgVExEIG9uIG5vbi1kb21haW4gaG9zdCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMudGxkKCkpICsgJyQnKTsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmRpcmVjdG9yeSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucGF0aCAmJiAhdGhpcy5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgICByZXR1cm4gJy8nOwogICAgICB9CgogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoIC0gMTsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKDAsIGVuZCkgfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpOwoKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aChyZXMpIDogcmVzOwoKICAgIH0gZWxzZSB7CiAgICAgIHZhciBlID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoOwogICAgICB2YXIgZGlyZWN0b3J5ID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZSk7CiAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWdFeChkaXJlY3RvcnkpKTsKCiAgICAgIC8vIGZ1bGx5IHF1YWxpZmllciBkaXJlY3RvcmllcyBiZWdpbiB3aXRoIGEgc2xhc2gKICAgICAgaWYgKCF0aGlzLmlzKCdyZWxhdGl2ZScpKSB7CiAgICAgICAgaWYgKCF2KSB7CiAgICAgICAgICB2ID0gJy8nOwogICAgICAgIH0KCiAgICAgICAgaWYgKHYuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgICAgIHYgPSAnLycgKyB2OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gZGlyZWN0b3JpZXMgYWx3YXlzIGVuZCB3aXRoIGEgc2xhc2gKICAgICAgaWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy8nKSB7CiAgICAgICAgdiArPSAnLyc7CiAgICAgIH0KCiAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZmlsZW5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICB2YXIgcG9zID0gdGhpcy5fcGFydHMucGF0aC5sYXN0SW5kZXhPZignLycpOwogICAgICB2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcocG9zKzEpOwoKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlczsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBtdXRhdGVkRGlyZWN0b3J5ID0gZmFsc2U7CgogICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICcvJykgewogICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgfQoKICAgICAgaWYgKHYubWF0Y2goL1wuP1wvLykpIHsKICAgICAgICBtdXRhdGVkRGlyZWN0b3J5ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMuZmlsZW5hbWUoKSkgKyAnJCcpOwogICAgICB2ID0gVVJJLnJlY29kZVBhdGgodik7CiAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7CgogICAgICBpZiAobXV0YXRlZERpcmVjdG9yeSkgewogICAgICAgIHRoaXMubm9ybWFsaXplUGF0aChidWlsZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuc3VmZml4ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5wYXRoIHx8IHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgdmFyIGZpbGVuYW1lID0gdGhpcy5maWxlbmFtZSgpOwogICAgICB2YXIgcG9zID0gZmlsZW5hbWUubGFzdEluZGV4T2YoJy4nKTsKICAgICAgdmFyIHMsIHJlczsKCiAgICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBzdWZmaXggbWF5IG9ubHkgY29udGFpbiBhbG51bSBjaGFyYWN0ZXJzICh5dXAsIEkgbWFkZSB0aGlzIHVwLikKICAgICAgcyA9IGZpbGVuYW1lLnN1YnN0cmluZyhwb3MrMSk7CiAgICAgIHJlcyA9ICgvXlthLXowLTklXSskL2kpLnRlc3QocykgPyBzIDogJyc7CiAgICAgIHJldHVybiB2ID8gVVJJLmRlY29kZVBhdGhTZWdtZW50KHJlcykgOiByZXM7CiAgICB9IGVsc2UgewogICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICcuJykgewogICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgfQoKICAgICAgdmFyIHN1ZmZpeCA9IHRoaXMuc3VmZml4KCk7CiAgICAgIHZhciByZXBsYWNlOwoKICAgICAgaWYgKCFzdWZmaXgpIHsKICAgICAgICBpZiAoIXYpIHsKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5fcGFydHMucGF0aCArPSAnLicgKyBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgfSBlbHNlIGlmICghdikgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KCcuJyArIHN1ZmZpeCkgKyAnJCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHN1ZmZpeCkgKyAnJCcpOwogICAgICB9CgogICAgICBpZiAocmVwbGFjZSkgewogICAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5zZWdtZW50ID0gZnVuY3Rpb24oc2VnbWVudCwgdiwgYnVpbGQpIHsKICAgIHZhciBzZXBhcmF0b3IgPSB0aGlzLl9wYXJ0cy51cm4gPyAnOicgOiAnLyc7CiAgICB2YXIgcGF0aCA9IHRoaXMucGF0aCgpOwogICAgdmFyIGFic29sdXRlID0gcGF0aC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJzsKICAgIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoc2VwYXJhdG9yKTsKCiAgICBpZiAoc2VnbWVudCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSBzZWdtZW50OwogICAgICBzZWdtZW50ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQmFkIHNlZ21lbnQgIicgKyBzZWdtZW50ICsgJyIsIG11c3QgYmUgMC1iYXNlZCBpbnRlZ2VyJyk7CiAgICB9CgogICAgaWYgKGFic29sdXRlKSB7CiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICB9CgogICAgaWYgKHNlZ21lbnQgPCAwKSB7CiAgICAgIC8vIGFsbG93IG5lZ2F0aXZlIGluZGV4ZXMgdG8gYWRkcmVzcyBmcm9tIHRoZSBlbmQKICAgICAgc2VnbWVudCA9IE1hdGgubWF4KHNlZ21lbnRzLmxlbmd0aCArIHNlZ21lbnQsIDApOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi8KICAgICAgcmV0dXJuIHNlZ21lbnQgPT09IHVuZGVmaW5lZAogICAgICAgID8gc2VnbWVudHMKICAgICAgICA6IHNlZ21lbnRzW3NlZ21lbnRdOwogICAgICAvKmpzaGludCBsYXhicmVhazogZmFsc2UgKi8KICAgIH0gZWxzZSBpZiAoc2VnbWVudCA9PT0gbnVsbCB8fCBzZWdtZW50c1tzZWdtZW50XSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmIChpc0FycmF5KHYpKSB7CiAgICAgICAgc2VnbWVudHMgPSBbXTsKICAgICAgICAvLyBjb2xsYXBzZSBlbXB0eSBlbGVtZW50cyB3aXRoaW4gYXJyYXkKICAgICAgICBmb3IgKHZhciBpPTAsIGw9di5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIGlmICghdltpXS5sZW5ndGggJiYgKCFzZWdtZW50cy5sZW5ndGggfHwgIXNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0ubGVuZ3RoKSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2VnbWVudHMubGVuZ3RoICYmICFzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdLmxlbmd0aCkgewogICAgICAgICAgICBzZWdtZW50cy5wb3AoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBzZWdtZW50cy5wdXNoKHRyaW1TbGFzaGVzKHZbaV0pKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodiB8fCB0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHsKICAgICAgICB2ID0gdHJpbVNsYXNoZXModik7CiAgICAgICAgaWYgKHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPT09ICcnKSB7CiAgICAgICAgICAvLyBlbXB0eSB0cmFpbGluZyBlbGVtZW50cyBoYXZlIHRvIGJlIG92ZXJ3cml0dGVuCiAgICAgICAgICAvLyB0byBwcmV2ZW50IHJlc3VsdHMgc3VjaCBhcyAvZm9vLy9iYXIKICAgICAgICAgIHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPSB2OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZWdtZW50cy5wdXNoKHYpOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKHYpIHsKICAgICAgICBzZWdtZW50c1tzZWdtZW50XSA9IHRyaW1TbGFzaGVzKHYpOwogICAgICB9IGVsc2UgewogICAgICAgIHNlZ21lbnRzLnNwbGljZShzZWdtZW50LCAxKTsKICAgICAgfQogICAgfQoKICAgIGlmIChhYnNvbHV0ZSkgewogICAgICBzZWdtZW50cy51bnNoaWZ0KCcnKTsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5wYXRoKHNlZ21lbnRzLmpvaW4oc2VwYXJhdG9yKSwgYnVpbGQpOwogIH07CiAgcC5zZWdtZW50Q29kZWQgPSBmdW5jdGlvbihzZWdtZW50LCB2LCBidWlsZCkgewogICAgdmFyIHNlZ21lbnRzLCBpLCBsOwoKICAgIGlmICh0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHsKICAgICAgYnVpbGQgPSB2OwogICAgICB2ID0gc2VnbWVudDsKICAgICAgc2VnbWVudCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHNlZ21lbnRzID0gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTsKICAgICAgaWYgKCFpc0FycmF5KHNlZ21lbnRzKSkgewogICAgICAgIHNlZ21lbnRzID0gc2VnbWVudHMgIT09IHVuZGVmaW5lZCA/IFVSSS5kZWNvZGUoc2VnbWVudHMpIDogdW5kZWZpbmVkOwogICAgICB9IGVsc2UgewogICAgICAgIGZvciAoaSA9IDAsIGwgPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIHNlZ21lbnRzW2ldID0gVVJJLmRlY29kZShzZWdtZW50c1tpXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gc2VnbWVudHM7CiAgICB9CgogICAgaWYgKCFpc0FycmF5KHYpKSB7CiAgICAgIHYgPSAodHlwZW9mIHYgPT09ICdzdHJpbmcnIHx8IHYgaW5zdGFuY2VvZiBTdHJpbmcpID8gVVJJLmVuY29kZSh2KSA6IHY7CiAgICB9IGVsc2UgewogICAgICBmb3IgKGkgPSAwLCBsID0gdi5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2W2ldID0gVVJJLmVuY29kZSh2W2ldKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0aGlzLnNlZ21lbnQoc2VnbWVudCwgdiwgYnVpbGQpOwogIH07CgogIC8vIG11dGF0aW5nIHF1ZXJ5IHN0cmluZwogIHZhciBxID0gcC5xdWVyeTsKICBwLnF1ZXJ5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh2ID09PSB0cnVlKSB7CiAgICAgIHJldHVybiBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB2YXIgcmVzdWx0ID0gdi5jYWxsKHRoaXMsIGRhdGEpOwogICAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KHJlc3VsdCB8fCBkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSBlbHNlIGlmICh2ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7CiAgICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkodiwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBxLmNhbGwodGhpcywgdiwgYnVpbGQpOwogICAgfQogIH07CiAgcC5zZXRRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CgogICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyB8fCBuYW1lIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIGRhdGFbbmFtZV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBudWxsOwogICAgfSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkgewogICAgICAgICAgZGF0YVtrZXldID0gbmFtZVtrZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTsKICAgIH0KCiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7CiAgICAgIGJ1aWxkID0gdmFsdWU7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLmFkZFF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7CiAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIFVSSS5hZGRRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZhbHVlKTsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgVVJJLnJlbW92ZVF1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlKTsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAuaGFzUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgcmV0dXJuIFVSSS5oYXNRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpOwogIH07CiAgcC5zZXRTZWFyY2ggPSBwLnNldFF1ZXJ5OwogIHAuYWRkU2VhcmNoID0gcC5hZGRRdWVyeTsKICBwLnJlbW92ZVNlYXJjaCA9IHAucmVtb3ZlUXVlcnk7CiAgcC5oYXNTZWFyY2ggPSBwLmhhc1F1ZXJ5OwoKICAvLyBzYW5pdGl6aW5nIFVSTHMKICBwLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdGhpcwogICAgICAgIC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSkKICAgICAgICAubm9ybWFsaXplUGF0aChmYWxzZSkKICAgICAgICAubm9ybWFsaXplUXVlcnkoZmFsc2UpCiAgICAgICAgLm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKQogICAgICAgIC5idWlsZCgpOwogICAgfQoKICAgIHJldHVybiB0aGlzCiAgICAgIC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZUhvc3RuYW1lKGZhbHNlKQogICAgICAubm9ybWFsaXplUG9ydChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZVBhdGgoZmFsc2UpCiAgICAgIC5ub3JtYWxpemVRdWVyeShmYWxzZSkKICAgICAgLm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKQogICAgICAuYnVpbGQoKTsKICB9OwogIHAubm9ybWFsaXplUHJvdG9jb2wgPSBmdW5jdGlvbihidWlsZCkgewogICAgaWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9PT0gJ3N0cmluZycpIHsKICAgICAgdGhpcy5fcGFydHMucHJvdG9jb2wgPSB0aGlzLl9wYXJ0cy5wcm90b2NvbC50b0xvd2VyQ2FzZSgpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZUhvc3RuYW1lID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICBpZiAodGhpcy5pcygnSUROJykgJiYgcHVueWNvZGUpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXMoJ0lQdjYnKSAmJiBJUHY2KSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSBJUHY2LmJlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICB9CgogICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplUG9ydCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICAvLyByZW1vdmUgcG9ydCBvZiBpdCdzIHRoZSBwcm90b2NvbCdzIGRlZmF1bHQKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wgPT09ICdzdHJpbmcnICYmIHRoaXMuX3BhcnRzLnBvcnQgPT09IFVSSS5kZWZhdWx0UG9ydHNbdGhpcy5fcGFydHMucHJvdG9jb2xdKSB7CiAgICAgIHRoaXMuX3BhcnRzLnBvcnQgPSBudWxsOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVBhdGggPSBmdW5jdGlvbihidWlsZCkgewogICAgdmFyIF9wYXRoID0gdGhpcy5fcGFydHMucGF0aDsKICAgIGlmICghX3BhdGgpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gVVJJLnJlY29kZVVyblBhdGgodGhpcy5fcGFydHMucGF0aCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBfcGF0aCA9IFVSSS5yZWNvZGVQYXRoKF9wYXRoKTsKCiAgICB2YXIgX3dhc19yZWxhdGl2ZTsKICAgIHZhciBfbGVhZGluZ1BhcmVudHMgPSAnJzsKICAgIHZhciBfcGFyZW50LCBfcG9zOwoKICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocwogICAgaWYgKF9wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIF93YXNfcmVsYXRpdmUgPSB0cnVlOwogICAgICBfcGF0aCA9ICcvJyArIF9wYXRoOwogICAgfQoKICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBmaWxlcyAoYXMgb3Bwb3NlZCB0byBkaXJlY3RvcmllcykKICAgIGlmIChfcGF0aC5zbGljZSgtMykgPT09ICcvLi4nIHx8IF9wYXRoLnNsaWNlKC0yKSA9PT0gJy8uJykgewogICAgICBfcGF0aCArPSAnLyc7CiAgICB9CgogICAgLy8gcmVzb2x2ZSBzaW1wbGVzCiAgICBfcGF0aCA9IF9wYXRoCiAgICAgIC5yZXBsYWNlKC8oXC8oXC5cLykrKXwoXC9cLiQpL2csICcvJykKICAgICAgLnJlcGxhY2UoL1wvezIsfS9nLCAnLycpOwoKICAgIC8vIHJlbWVtYmVyIGxlYWRpbmcgcGFyZW50cwogICAgaWYgKF93YXNfcmVsYXRpdmUpIHsKICAgICAgX2xlYWRpbmdQYXJlbnRzID0gX3BhdGguc3Vic3RyaW5nKDEpLm1hdGNoKC9eKFwuXC5cLykrLykgfHwgJyc7CiAgICAgIGlmIChfbGVhZGluZ1BhcmVudHMpIHsKICAgICAgICBfbGVhZGluZ1BhcmVudHMgPSBfbGVhZGluZ1BhcmVudHNbMF07CiAgICAgIH0KICAgIH0KCiAgICAvLyByZXNvbHZlIHBhcmVudHMKICAgIHdoaWxlICh0cnVlKSB7CiAgICAgIF9wYXJlbnQgPSBfcGF0aC5zZWFyY2goL1wvXC5cLihcL3wkKS8pOwogICAgICBpZiAoX3BhcmVudCA9PT0gLTEpIHsKICAgICAgICAvLyBubyBtb3JlIC4uLyB0byByZXNvbHZlCiAgICAgICAgYnJlYWs7CiAgICAgIH0gZWxzZSBpZiAoX3BhcmVudCA9PT0gMCkgewogICAgICAgIC8vIHRvcCBsZXZlbCBjYW5ub3QgYmUgcmVsYXRpdmUsIHNraXAgaXQKICAgICAgICBfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygzKTsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgX3BvcyA9IF9wYXRoLnN1YnN0cmluZygwLCBfcGFyZW50KS5sYXN0SW5kZXhPZignLycpOwogICAgICBpZiAoX3BvcyA9PT0gLTEpIHsKICAgICAgICBfcG9zID0gX3BhcmVudDsKICAgICAgfQogICAgICBfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygwLCBfcG9zKSArIF9wYXRoLnN1YnN0cmluZyhfcGFyZW50ICsgMyk7CiAgICB9CgogICAgLy8gcmV2ZXJ0IHRvIHJlbGF0aXZlCiAgICBpZiAoX3dhc19yZWxhdGl2ZSAmJiB0aGlzLmlzKCdyZWxhdGl2ZScpKSB7CiAgICAgIF9wYXRoID0gX2xlYWRpbmdQYXJlbnRzICsgX3BhdGguc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHRoaXMuX3BhcnRzLnBhdGggPSBfcGF0aDsKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVQYXRobmFtZSA9IHAubm9ybWFsaXplUGF0aDsKICBwLm5vcm1hbGl6ZVF1ZXJ5ID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucXVlcnkgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucXVlcnkubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5fcGFydHMucXVlcnkgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucXVlcnkoVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVGcmFnbWVudCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICBpZiAoIXRoaXMuX3BhcnRzLmZyYWdtZW50KSB7CiAgICAgIHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gbnVsbDsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVTZWFyY2ggPSBwLm5vcm1hbGl6ZVF1ZXJ5OwogIHAubm9ybWFsaXplSGFzaCA9IHAubm9ybWFsaXplRnJhZ21lbnQ7CgogIHAuaXNvODg1OSA9IGZ1bmN0aW9uKCkgewogICAgLy8gZXhwZWN0IHVuaWNvZGUgaW5wdXQsIGlzbzg4NTkgb3V0cHV0CiAgICB2YXIgZSA9IFVSSS5lbmNvZGU7CiAgICB2YXIgZCA9IFVSSS5kZWNvZGU7CgogICAgVVJJLmVuY29kZSA9IGVzY2FwZTsKICAgIFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7CiAgICB0cnkgewogICAgICB0aGlzLm5vcm1hbGl6ZSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgVVJJLmVuY29kZSA9IGU7CiAgICAgIFVSSS5kZWNvZGUgPSBkOwogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC51bmljb2RlID0gZnVuY3Rpb24oKSB7CiAgICAvLyBleHBlY3QgaXNvODg1OSBpbnB1dCwgdW5pY29kZSBvdXRwdXQKICAgIHZhciBlID0gVVJJLmVuY29kZTsKICAgIHZhciBkID0gVVJJLmRlY29kZTsKCiAgICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogICAgVVJJLmRlY29kZSA9IHVuZXNjYXBlOwogICAgdHJ5IHsKICAgICAgdGhpcy5ub3JtYWxpemUoKTsKICAgIH0gZmluYWxseSB7CiAgICAgIFVSSS5lbmNvZGUgPSBlOwogICAgICBVUkkuZGVjb2RlID0gZDsKICAgIH0KICAgIHJldHVybiB0aGlzOwogIH07CgogIHAucmVhZGFibGUgPSBmdW5jdGlvbigpIHsKICAgIHZhciB1cmkgPSB0aGlzLmNsb25lKCk7CiAgICAvLyByZW1vdmluZyB1c2VybmFtZSwgcGFzc3dvcmQsIGJlY2F1c2UgdGhleSBzaG91bGRuJ3QgYmUgZGlzcGxheWVkIGFjY29yZGluZyB0byBSRkMgMzk4NgogICAgdXJpLnVzZXJuYW1lKCcnKS5wYXNzd29yZCgnJykubm9ybWFsaXplKCk7CiAgICB2YXIgdCA9ICcnOwogICAgaWYgKHVyaS5fcGFydHMucHJvdG9jb2wpIHsKICAgICAgdCArPSB1cmkuX3BhcnRzLnByb3RvY29sICsgJzovLyc7CiAgICB9CgogICAgaWYgKHVyaS5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgaWYgKHVyaS5pcygncHVueWNvZGUnKSAmJiBwdW55Y29kZSkgewogICAgICAgIHQgKz0gcHVueWNvZGUudG9Vbmljb2RlKHVyaS5fcGFydHMuaG9zdG5hbWUpOwogICAgICAgIGlmICh1cmkuX3BhcnRzLnBvcnQpIHsKICAgICAgICAgIHQgKz0gJzonICsgdXJpLl9wYXJ0cy5wb3J0OwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0ICs9IHVyaS5ob3N0KCk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAodXJpLl9wYXJ0cy5ob3N0bmFtZSAmJiB1cmkuX3BhcnRzLnBhdGggJiYgdXJpLl9wYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHQgKz0gJy8nOwogICAgfQoKICAgIHQgKz0gdXJpLnBhdGgodHJ1ZSk7CiAgICBpZiAodXJpLl9wYXJ0cy5xdWVyeSkgewogICAgICB2YXIgcSA9ICcnOwogICAgICBmb3IgKHZhciBpID0gMCwgcXAgPSB1cmkuX3BhcnRzLnF1ZXJ5LnNwbGl0KCcmJyksIGwgPSBxcC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2YXIga3YgPSAocXBbaV0gfHwgJycpLnNwbGl0KCc9Jyk7CiAgICAgICAgcSArPSAnJicgKyBVUkkuZGVjb2RlUXVlcnkoa3ZbMF0sIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpCiAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJTI2Jyk7CgogICAgICAgIGlmIChrdlsxXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBxICs9ICc9JyArIFVSSS5kZWNvZGVRdWVyeShrdlsxXSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSkKICAgICAgICAgICAgLnJlcGxhY2UoLyYvZywgJyUyNicpOwogICAgICAgIH0KICAgICAgfQogICAgICB0ICs9ICc/JyArIHEuc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHQgKz0gVVJJLmRlY29kZVF1ZXJ5KHVyaS5oYXNoKCksIHRydWUpOwogICAgcmV0dXJuIHQ7CiAgfTsKCiAgLy8gcmVzb2x2aW5nIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBVUkxzCiAgcC5hYnNvbHV0ZVRvID0gZnVuY3Rpb24oYmFzZSkgewogICAgdmFyIHJlc29sdmVkID0gdGhpcy5jbG9uZSgpOwogICAgdmFyIHByb3BlcnRpZXMgPSBbJ3Byb3RvY29sJywgJ3VzZXJuYW1lJywgJ3Bhc3N3b3JkJywgJ2hvc3RuYW1lJywgJ3BvcnQnXTsKICAgIHZhciBiYXNlZGlyLCBpLCBwOwoKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50cycpOwogICAgfQoKICAgIGlmICghKGJhc2UgaW5zdGFuY2VvZiBVUkkpKSB7CiAgICAgIGJhc2UgPSBuZXcgVVJJKGJhc2UpOwogICAgfQoKICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnByb3RvY29sKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0cy5wcm90b2NvbCA9IGJhc2UuX3BhcnRzLnByb3RvY29sOwogICAgfQoKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICByZXR1cm4gcmVzb2x2ZWQ7CiAgICB9CgogICAgZm9yIChpID0gMDsgKHAgPSBwcm9wZXJ0aWVzW2ldKTsgaSsrKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0c1twXSA9IGJhc2UuX3BhcnRzW3BdOwogICAgfQoKICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnBhdGgpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggPSBiYXNlLl9wYXJ0cy5wYXRoOwogICAgICBpZiAoIXJlc29sdmVkLl9wYXJ0cy5xdWVyeSkgewogICAgICAgIHJlc29sdmVkLl9wYXJ0cy5xdWVyeSA9IGJhc2UuX3BhcnRzLnF1ZXJ5OwogICAgICB9CiAgICB9IGVsc2UgaWYgKHJlc29sdmVkLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygtMikgPT09ICcuLicpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggKz0gJy8nOwogICAgfQoKICAgIGlmIChyZXNvbHZlZC5wYXRoKCkuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgYmFzZWRpciA9IGJhc2UuZGlyZWN0b3J5KCk7CiAgICAgIGJhc2VkaXIgPSBiYXNlZGlyID8gYmFzZWRpciA6IGJhc2UucGF0aCgpLmluZGV4T2YoJy8nKSA9PT0gMCA/ICcvJyA6ICcnOwogICAgICByZXNvbHZlZC5fcGFydHMucGF0aCA9IChiYXNlZGlyID8gKGJhc2VkaXIgKyAnLycpIDogJycpICsgcmVzb2x2ZWQuX3BhcnRzLnBhdGg7CiAgICAgIHJlc29sdmVkLm5vcm1hbGl6ZVBhdGgoKTsKICAgIH0KCiAgICByZXNvbHZlZC5idWlsZCgpOwogICAgcmV0dXJuIHJlc29sdmVkOwogIH07CiAgcC5yZWxhdGl2ZVRvID0gZnVuY3Rpb24oYmFzZSkgewogICAgdmFyIHJlbGF0aXZlID0gdGhpcy5jbG9uZSgpLm5vcm1hbGl6ZSgpOwogICAgdmFyIHJlbGF0aXZlUGFydHMsIGJhc2VQYXJ0cywgY29tbW9uLCByZWxhdGl2ZVBhdGgsIGJhc2VQYXRoOwoKICAgIGlmIChyZWxhdGl2ZS5fcGFydHMudXJuKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHMnKTsKICAgIH0KCiAgICBiYXNlID0gbmV3IFVSSShiYXNlKS5ub3JtYWxpemUoKTsKICAgIHJlbGF0aXZlUGFydHMgPSByZWxhdGl2ZS5fcGFydHM7CiAgICBiYXNlUGFydHMgPSBiYXNlLl9wYXJ0czsKICAgIHJlbGF0aXZlUGF0aCA9IHJlbGF0aXZlLnBhdGgoKTsKICAgIGJhc2VQYXRoID0gYmFzZS5wYXRoKCk7CgogICAgaWYgKHJlbGF0aXZlUGF0aC5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSSSBpcyBhbHJlYWR5IHJlbGF0aXZlJyk7CiAgICB9CgogICAgaWYgKGJhc2VQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBhIFVSSSByZWxhdGl2ZSB0byBhbm90aGVyIHJlbGF0aXZlIFVSSScpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLnByb3RvY29sID09PSBiYXNlUGFydHMucHJvdG9jb2wpIHsKICAgICAgcmVsYXRpdmVQYXJ0cy5wcm90b2NvbCA9IG51bGw7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMudXNlcm5hbWUgIT09IGJhc2VQYXJ0cy51c2VybmFtZSB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBiYXNlUGFydHMucGFzc3dvcmQpIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMucHJvdG9jb2wgIT09IG51bGwgfHwgcmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gbnVsbCB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBudWxsKSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID09PSBiYXNlUGFydHMuaG9zdG5hbWUgJiYgcmVsYXRpdmVQYXJ0cy5wb3J0ID09PSBiYXNlUGFydHMucG9ydCkgewogICAgICByZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID0gbnVsbDsKICAgICAgcmVsYXRpdmVQYXJ0cy5wb3J0ID0gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhdGggPT09IGJhc2VQYXRoKSB7CiAgICAgIHJlbGF0aXZlUGFydHMucGF0aCA9ICcnOwogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICAvLyBkZXRlcm1pbmUgY29tbW9uIHN1YiBwYXRoCiAgICBjb21tb24gPSBVUkkuY29tbW9uUGF0aChyZWxhdGl2ZVBhdGgsIGJhc2VQYXRoKTsKCiAgICAvLyBJZiB0aGUgcGF0aHMgaGF2ZSBub3RoaW5nIGluIGNvbW1vbiwgcmV0dXJuIGEgcmVsYXRpdmUgVVJMIHdpdGggdGhlIGFic29sdXRlIHBhdGguCiAgICBpZiAoIWNvbW1vbikgewogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICB2YXIgcGFyZW50cyA9IGJhc2VQYXJ0cy5wYXRoCiAgICAgIC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkKICAgICAgLnJlcGxhY2UoL1teXC9dKiQvLCAnJykKICAgICAgLnJlcGxhY2UoLy4qP1wvL2csICcuLi8nKTsKCiAgICByZWxhdGl2ZVBhcnRzLnBhdGggPSAocGFyZW50cyArIHJlbGF0aXZlUGFydHMucGF0aC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkpIHx8ICcuLyc7CgogICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgfTsKCiAgLy8gY29tcGFyaW5nIFVSSXMKICBwLmVxdWFscyA9IGZ1bmN0aW9uKHVyaSkgewogICAgdmFyIG9uZSA9IHRoaXMuY2xvbmUoKTsKICAgIHZhciB0d28gPSBuZXcgVVJJKHVyaSk7CiAgICB2YXIgb25lX21hcCA9IHt9OwogICAgdmFyIHR3b19tYXAgPSB7fTsKICAgIHZhciBjaGVja2VkID0ge307CiAgICB2YXIgb25lX3F1ZXJ5LCB0d29fcXVlcnksIGtleTsKCiAgICBvbmUubm9ybWFsaXplKCk7CiAgICB0d28ubm9ybWFsaXplKCk7CgogICAgLy8gZXhhY3QgbWF0Y2gKICAgIGlmIChvbmUudG9TdHJpbmcoKSA9PT0gdHdvLnRvU3RyaW5nKCkpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gZXh0cmFjdCBxdWVyeSBzdHJpbmcKICAgIG9uZV9xdWVyeSA9IG9uZS5xdWVyeSgpOwogICAgdHdvX3F1ZXJ5ID0gdHdvLnF1ZXJ5KCk7CiAgICBvbmUucXVlcnkoJycpOwogICAgdHdvLnF1ZXJ5KCcnKTsKCiAgICAvLyBkZWZpbml0ZWx5IG5vdCBlcXVhbCBpZiBub3QgZXZlbiBub24tcXVlcnkgcGFydHMgbWF0Y2gKICAgIGlmIChvbmUudG9TdHJpbmcoKSAhPT0gdHdvLnRvU3RyaW5nKCkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIHF1ZXJ5IHBhcmFtZXRlcnMgaGF2ZSB0aGUgc2FtZSBsZW5ndGgsIGV2ZW4gaWYgdGhleSdyZSBwZXJtdXRlZAogICAgaWYgKG9uZV9xdWVyeS5sZW5ndGggIT09IHR3b19xdWVyeS5sZW5ndGgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIG9uZV9tYXAgPSBVUkkucGFyc2VRdWVyeShvbmVfcXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgdHdvX21hcCA9IFVSSS5wYXJzZVF1ZXJ5KHR3b19xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CgogICAgZm9yIChrZXkgaW4gb25lX21hcCkgewogICAgICBpZiAoaGFzT3duLmNhbGwob25lX21hcCwga2V5KSkgewogICAgICAgIGlmICghaXNBcnJheShvbmVfbWFwW2tleV0pKSB7CiAgICAgICAgICBpZiAob25lX21hcFtrZXldICE9PSB0d29fbWFwW2tleV0pIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoIWFycmF5c0VxdWFsKG9uZV9tYXBba2V5XSwgdHdvX21hcFtrZXldKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgY2hlY2tlZFtrZXldID0gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIGZvciAoa2V5IGluIHR3b19tYXApIHsKICAgICAgaWYgKGhhc093bi5jYWxsKHR3b19tYXAsIGtleSkpIHsKICAgICAgICBpZiAoIWNoZWNrZWRba2V5XSkgewogICAgICAgICAgLy8gdHdvIGNvbnRhaW5zIGEgcGFyYW1ldGVyIG5vdCBwcmVzZW50IGluIG9uZQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH07CgogIC8vIHN0YXRlCiAgcC5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSBmdW5jdGlvbih2KSB7CiAgICB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSAhIXY7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLmVzY2FwZVF1ZXJ5U3BhY2UgPSBmdW5jdGlvbih2KSB7CiAgICB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlID0gISF2OwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcmV0dXJuIFVSSTsKfSkpOwoKfSx7Ii4vSVB2NiI6NCwiLi9TZWNvbmRMZXZlbERvbWFpbnMiOjUsIi4vcHVueWNvZGUiOjd9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMCBieSBAbWF0aGlhcyAqLwo7KGZ1bmN0aW9uKHJvb3QpIHsKCgkvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovCgl2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmCgkJIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0czsKCXZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYKCQkhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTsKCXZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7CglpZiAoCgkJZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHwKCQlmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fAoJCWZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbAoJKSB7CgkJcm9vdCA9IGZyZWVHbG9iYWw7Cgl9CgoJLyoqCgkgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuCgkgKiBAbmFtZSBwdW55Y29kZQoJICogQHR5cGUgT2JqZWN0CgkgKi8KCXZhciBwdW55Y29kZSwKCgkvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovCgltYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xCgoJLyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqLwoJYmFzZSA9IDM2LAoJdE1pbiA9IDEsCgl0TWF4ID0gMjYsCglza2V3ID0gMzgsCglkYW1wID0gNzAwLAoJaW5pdGlhbEJpYXMgPSA3MiwKCWluaXRpYWxOID0gMTI4LCAvLyAweDgwCglkZWxpbWl0ZXIgPSAnLScsIC8vICdceDJEJwoKCS8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovCglyZWdleFB1bnljb2RlID0gL154bi0tLywKCXJlZ2V4Tm9uQVNDSUkgPSAvW15ceDIwLVx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnMKCXJlZ2V4U2VwYXJhdG9ycyA9IC9bXHgyRVx1MzAwMlx1RkYwRVx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9ycwoKCS8qKiBFcnJvciBtZXNzYWdlcyAqLwoJZXJyb3JzID0gewoJCSdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsCgkJJ25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJywKCQknaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0JwoJfSwKCgkvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovCgliYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sCglmbG9vciA9IE1hdGguZmxvb3IsCglzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLAoKCS8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi8KCWtleTsKCgkvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgkvKioKCSAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLgoJICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLgoJICovCglmdW5jdGlvbiBlcnJvcih0eXBlKSB7CgkJdGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTsKCX0KCgkvKioKCSAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuCgkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXkKCSAqIGl0ZW0uCgkgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uCgkgKi8KCWZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHsKCQl2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOwoJCXZhciByZXN1bHQgPSBbXTsKCQl3aGlsZSAobGVuZ3RoLS0pIHsKCQkJcmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTsKCQl9CgkJcmV0dXJuIHJlc3VsdDsKCX0KCgkvKioKCSAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbAoJICogYWRkcmVzc2VzLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuCgkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkKCSAqIGNoYXJhY3Rlci4KCSAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrCgkgKiBmdW5jdGlvbi4KCSAqLwoJZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHsKCQl2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTsKCQl2YXIgcmVzdWx0ID0gJyc7CgkJaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHsKCQkJLy8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZQoJCQkvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LgoJCQlyZXN1bHQgPSBwYXJ0c1swXSArICdAJzsKCQkJc3RyaW5nID0gcGFydHNbMV07CgkJfQoJCS8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy4KCQlzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdceDJFJyk7CgkJdmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpOwoJCXZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTsKCQlyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDsKCX0KCgkvKioKCSAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGUKCSAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSwKCSAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoCgkgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCwKCSAqIG1hdGNoaW5nIFVURi0xNi4KCSAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYAoJICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+CgkgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMgoJICogQG5hbWUgZGVjb2RlCgkgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLgoJICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLgoJICovCglmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykgewoJCXZhciBvdXRwdXQgPSBbXSwKCQkgICAgY291bnRlciA9IDAsCgkJICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsCgkJICAgIHZhbHVlLAoJCSAgICBleHRyYTsKCQl3aGlsZSAoY291bnRlciA8IGxlbmd0aCkgewoJCQl2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7CgkJCWlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHsKCQkJCS8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlcgoJCQkJZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspOwoJCQkJaWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGUKCQkJCQlvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApOwoJCQkJfSBlbHNlIHsKCQkJCQkvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dAoJCQkJCS8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpcgoJCQkJCW91dHB1dC5wdXNoKHZhbHVlKTsKCQkJCQljb3VudGVyLS07CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlvdXRwdXQucHVzaCh2YWx1ZSk7CgkJCX0KCQl9CgkJcmV0dXJuIG91dHB1dDsKCX0KCgkvKioKCSAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KCSAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYAoJICogQG1lbWJlck9mIHB1bnljb2RlLnVjczIKCSAqIEBuYW1lIGVuY29kZQoJICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS4KCSAqLwoJZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkgewoJCXJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7CgkJCXZhciBvdXRwdXQgPSAnJzsKCQkJaWYgKHZhbHVlID4gMHhGRkZGKSB7CgkJCQl2YWx1ZSAtPSAweDEwMDAwOwoJCQkJb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7CgkJCQl2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7CgkJCX0KCQkJb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7CgkJCXJldHVybiBvdXRwdXQ7CgkJfSkuam9pbignJyk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuCgkgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWAKCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuCgkgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW4KCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWYKCSAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLgoJICovCglmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7CgkJaWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHsKCQkJcmV0dXJuIGNvZGVQb2ludCAtIDIyOwoJCX0KCQlpZiAoY29kZVBvaW50IC0gNjUgPCAyNikgewoJCQlyZXR1cm4gY29kZVBvaW50IC0gNjU7CgkJfQoJCWlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7CgkJCXJldHVybiBjb2RlUG9pbnQgLSA5NzsKCQl9CgkJcmV0dXJuIGJhc2U7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuCgkgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWAKCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LgoJICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3IKCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlCgkgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXMKCSAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkCgkgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLgoJICovCglmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHsKCQkvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWgoJCS8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOQoJCXJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7Cgl9CgoJLyoqCgkgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLgoJICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjQKCSAqIEBwcml2YXRlCgkgKi8KCWZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkgewoJCXZhciBrID0gMDsKCQlkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxOwoJCWRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTsKCQlmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkgewoJCQlkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7CgkJfQoJCXJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGUKCSAqIHN5bWJvbHMuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KCSAqLwoJZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7CgkJLy8gRG9uJ3QgdXNlIFVDUy0yCgkJdmFyIG91dHB1dCA9IFtdLAoJCSAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCwKCQkgICAgb3V0LAoJCSAgICBpID0gMCwKCQkgICAgbiA9IGluaXRpYWxOLAoJCSAgICBiaWFzID0gaW5pdGlhbEJpYXMsCgkJICAgIGJhc2ljLAoJCSAgICBqLAoJCSAgICBpbmRleCwKCQkgICAgb2xkaSwKCQkgICAgdywKCQkgICAgaywKCQkgICAgZGlnaXQsCgkJICAgIHQsCgkJICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqLwoJCSAgICBiYXNlTWludXNUOwoKCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGUKCQkvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weQoJCS8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LgoKCQliYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7CgkJaWYgKGJhc2ljIDwgMCkgewoJCQliYXNpYyA9IDA7CgkJfQoKCQlmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikgewoJCQkvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQKCQkJaWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkgewoJCQkJZXJyb3IoJ25vdC1iYXNpYycpOwoJCQl9CgkJCW91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpOwoJCX0KCgkJLy8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZQoJCS8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuCgoJCWZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7CgoJCQkvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuCgkJCS8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCwKCQkJLy8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXIKCQkJLy8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmcKCQkJLy8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC4KCQkJZm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkgewoKCQkJCWlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkgewoJCQkJCWVycm9yKCdpbnZhbGlkLWlucHV0Jyk7CgkJCQl9CgoJCQkJZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7CgoJCQkJaWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCWkgKz0gZGlnaXQgKiB3OwoJCQkJdCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7CgoJCQkJaWYgKGRpZ2l0IDwgdCkgewoJCQkJCWJyZWFrOwoJCQkJfQoKCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCWlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHsKCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCX0KCgkJCQl3ICo9IGJhc2VNaW51c1Q7CgoJCQl9CgoJCQlvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTsKCQkJYmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7CgoJCQkvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLAoJCQkvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OgoJCQlpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7CgkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJfQoKCQkJbiArPSBmbG9vcihpIC8gb3V0KTsKCQkJaSAlPSBvdXQ7CgoJCQkvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0CgkJCW91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTsKCgkJfQoKCQlyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGEKCSAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqLwoJZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7CgkJdmFyIG4sCgkJICAgIGRlbHRhLAoJCSAgICBoYW5kbGVkQ1BDb3VudCwKCQkgICAgYmFzaWNMZW5ndGgsCgkJICAgIGJpYXMsCgkJICAgIGosCgkJICAgIG0sCgkJICAgIHEsCgkJICAgIGssCgkJICAgIHQsCgkJICAgIGN1cnJlbnRWYWx1ZSwKCQkgICAgb3V0cHV0ID0gW10sCgkJICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovCgkJICAgIGlucHV0TGVuZ3RoLAoJCSAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi8KCQkgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLAoJCSAgICBiYXNlTWludXNULAoJCSAgICBxTWludXNUOwoKCQkvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlCgkJaW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTsKCgkJLy8gQ2FjaGUgdGhlIGxlbmd0aAoJCWlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoOwoKCQkvLyBJbml0aWFsaXplIHRoZSBzdGF0ZQoJCW4gPSBpbml0aWFsTjsKCQlkZWx0YSA9IDA7CgkJYmlhcyA9IGluaXRpYWxCaWFzOwoKCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzCgkJZm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgkJCWlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7CgkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7CgkJCX0KCQl9CgoJCWhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoOwoKCQkvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDsKCQkvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuCgoJCS8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlcgoJCWlmIChiYXNpY0xlbmd0aCkgewoJCQlvdXRwdXQucHVzaChkZWxpbWl0ZXIpOwoJCX0KCgkJLy8gTWFpbiBlbmNvZGluZyBsb29wOgoJCXdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7CgoJCQkvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0CgkJCS8vIGxhcmdlciBvbmU6CgkJCWZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCQkJCWlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7CgkJCQkJbSA9IGN1cnJlbnRWYWx1ZTsKCQkJCX0KCQkJfQoKCQkJLy8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LAoJCQkvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvdwoJCQloYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7CgkJCWlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7CgkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJfQoKCQkJZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTsKCQkJbiA9IG07CgoJCQlmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewoJCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgoJCQkJaWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCWlmIChjdXJyZW50VmFsdWUgPT0gbikgewoJCQkJCS8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyCgkJCQkJZm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkgewoJCQkJCQl0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTsKCQkJCQkJaWYgKHEgPCB0KSB7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCQlxTWludXNUID0gcSAtIHQ7CgkJCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCQkJb3V0cHV0LnB1c2goCgkJCQkJCQlzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpCgkJCQkJCSk7CgkJCQkJCXEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7CgkJCQkJfQoKCQkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7CgkJCQkJYmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTsKCQkJCQlkZWx0YSA9IDA7CgkJCQkJKytoYW5kbGVkQ1BDb3VudDsKCQkJCX0KCQkJfQoKCQkJKytkZWx0YTsKCQkJKytuOwoKCQl9CgkJcmV0dXJuIG91dHB1dC5qb2luKCcnKTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MKCSAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS4KCSAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlbgoJICogY29udmVydGVkIHRvIFVuaWNvZGUuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8KCSAqIGNvbnZlcnQgdG8gVW5pY29kZS4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZQoJICogc3RyaW5nLgoJICovCglmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHsKCQlyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHsKCQkJcmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpCgkJCQk/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSkKCQkJCTogc3RyaW5nOwoJCX0pOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvCgkgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCwKCSAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpbgoJICogQVNDSUkuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhCgkgKiBVbmljb2RlIHN0cmluZy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3IKCSAqIGVtYWlsIGFkZHJlc3MuCgkgKi8KCWZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHsKCQlyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHsKCQkJcmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpCgkJCQk/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpCgkJCQk6IHN0cmluZzsKCQl9KTsKCX0KCgkvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgkvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovCglwdW55Y29kZSA9IHsKCQkvKioKCQkgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuCgkJICogQG1lbWJlck9mIHB1bnljb2RlCgkJICogQHR5cGUgU3RyaW5nCgkJICovCgkJJ3ZlcnNpb24nOiAnMS4zLjInLAoJCS8qKgoJCSAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyCgkJICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay4KCQkgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz4KCQkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCQkgKiBAdHlwZSBPYmplY3QKCQkgKi8KCQkndWNzMic6IHsKCQkJJ2RlY29kZSc6IHVjczJkZWNvZGUsCgkJCSdlbmNvZGUnOiB1Y3MyZW5jb2RlCgkJfSwKCQknZGVjb2RlJzogZGVjb2RlLAoJCSdlbmNvZGUnOiBlbmNvZGUsCgkJJ3RvQVNDSUknOiB0b0FTQ0lJLAoJCSd0b1VuaWNvZGUnOiB0b1VuaWNvZGUKCX07CgoJLyoqIEV4cG9zZSBgcHVueWNvZGVgICovCgkvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnMKCS8vIGxpa2UgdGhlIGZvbGxvd2luZzoKCWlmICgKCQl0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYKCQl0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJgoJCWRlZmluZS5hbWQKCSkgewoJCWRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHB1bnljb2RlOwoJCX0pOwoJfSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7CgkJaWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7CgkJCS8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCsKCQkJZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7CgkJfSBlbHNlIHsKCQkJLy8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC0KCQkJZm9yIChrZXkgaW4gcHVueWNvZGUpIHsKCQkJCXB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTsKCQkJfQoJCX0KCX0gZWxzZSB7CgkJLy8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlcgoJCXJvb3QucHVueWNvZGUgPSBwdW55Y29kZTsKCX0KCn0odGhpcykpOwoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTp0cnVlfSk7ZXhwb3J0cy5kZWZhdWx0PWFjdGl2YXRlO3ZhciBfSHlwZXJ0eURpc2NvdmVyeT1yZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0h5cGVydHlEaXNjb3ZlcnknKTt2YXIgX0h5cGVydHlEaXNjb3ZlcnkyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0h5cGVydHlEaXNjb3ZlcnkpO3ZhciBfSWRlbnRpdHlNYW5hZ2VyPXJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSWRlbnRpdHlNYW5hZ2VyJyk7dmFyIF9JZGVudGl0eU1hbmFnZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0lkZW50aXR5TWFuYWdlcik7dmFyIF91cmlqcz1yZXF1aXJlKCd1cmlqcycpO3ZhciBfdXJpanMyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VyaWpzKTt2YXIgX1N5bmNoZXI9cmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyJyk7dmFyIF9Hcm91cENoYXQ9cmVxdWlyZSgnLi9Hcm91cENoYXQnKTt2YXIgX0dyb3VwQ2hhdDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JvdXBDaGF0KTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian07fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7fX12YXIgQ29tbXVuaWNhdGlvbj1mdW5jdGlvbiBDb21tdW5pY2F0aW9uKG5hbWUscGFydGljaXBhbnRzKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxDb21tdW5pY2F0aW9uKTt0aGlzLnN0YXJ0aW5nVGltZT1EYXRlLm5vdygpO3RoaXMubGFzdE1vZGlmaWVkPURhdGUubm93KCk7dGhpcy5zdGF0dXM9InBlbmRpbmciO3RoaXMucmVzb3VyY2VzPVtdO3RoaXMuY2hpbGRyZW49W107dGhpcy5uYW1lPW5hbWU7dGhpcy5wYXJ0aWNpcGFudHM9cGFydGljaXBhbnRzO307dmFyIEdyb3VwQ2hhdEh5cGVydHk9e19nZXRIeUZvcjpmdW5jdGlvbiBfZ2V0SHlGb3IocGFydGljaXBhbnRzKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gUHJvbWlzZS5hbGwocGFydGljaXBhbnRzLm1hcChmdW5jdGlvbihwKXtyZXR1cm4gX3RoaXMuaHlwZXJ0eURpc2NvdmVyeVNlcnZpY2UuZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyKHAuZW1haWwscC5kb21haW4pLnRoZW4oZnVuY3Rpb24oaHlwZXJ0aWVzKXtyZXR1cm4gT2JqZWN0LmtleXMoaHlwZXJ0aWVzKS5tYXAoZnVuY3Rpb24oa2V5KXtyZXR1cm4ge2tleTprZXksZGVzY3JpcHRvcjpoeXBlcnRpZXNba2V5XS5kZXNjcmlwdG9yLGxhc3RNb2RpZmllZDpoeXBlcnRpZXNba2V5XS5sYXN0TW9kaWZpZWR9O30pLmZpbHRlcihmdW5jdGlvbihkZXNjKXtyZXR1cm4gZGVzYy5kZXNjcmlwdG9yLmVuZHNXaXRoKCdHcm91cENoYXQnKTt9KS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBEYXRlKGEubGFzdE1vZGlmaWVkKTxuZXcgRGF0ZShiLmxhc3RNb2RpZmllZCk/MTotMTt9KS5zaGlmdCgpLmtleTt9KTt9KSk7fSxfY3JlYXRlU3luY2hlcjpmdW5jdGlvbiBfY3JlYXRlU3luY2hlcihuYW1lLGh5cGVydGllcyl7cmV0dXJuIHRoaXMuc3luY2hlci5jcmVhdGUodGhpcy5vYmplY3REZXNjVVJMLGh5cGVydGllcyxuZXcgQ29tbXVuaWNhdGlvbihuYW1lLGh5cGVydGllcy5jb25jYXQoW3RoaXMuaHlwZXJ0eVVSTF0pKSk7fSxfcmVzb2x2ZUlkZW50aXR5OmZ1bmN0aW9uIF9yZXNvbHZlSWRlbnRpdHkoKXt2YXIgX3RoaXMyPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtpZihfdGhpczIuaWRlbnRpdHkpe3Jlc29sdmUoX3RoaXMyLmlkZW50aXR5KTt9ZWxzZSB7X3RoaXMyLmlkZW50aXR5TWFuYWdlclNlcnZpY2UuZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCgnLicsX3RoaXMyLmh5cGVydHlVUkwpLnRoZW4oZnVuY3Rpb24oaWRlbnRpdHkpe190aGlzMi5pZGVudGl0eT1pZGVudGl0eTtyZXNvbHZlKGlkZW50aXR5KTt9KTt9fSk7fSxjcmVhdGU6ZnVuY3Rpb24gY3JlYXRlKG5hbWUscGFydGljaXBhbnRzKXt2YXIgX3RoaXMzPXRoaXM7dmFyIGlkZW50aXR5PXVuZGVmaW5lZDtyZXR1cm4gdGhpcy5fcmVzb2x2ZUlkZW50aXR5KCkudGhlbihmdW5jdGlvbihpZCl7cmV0dXJuIGlkZW50aXR5PWlkO30pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMzLl9nZXRIeUZvcihwYXJ0aWNpcGFudHMpO30pLnRoZW4oZnVuY3Rpb24oaHlwZXJ0aWVzKXtyZXR1cm4gX3RoaXMzLl9jcmVhdGVTeW5jaGVyKG5hbWUsaHlwZXJ0aWVzKTt9KS50aGVuKGZ1bmN0aW9uKGRhdGFPYmplY3RSZXBvcnRlcil7Y29uc29sZS5sb2coJ2NyZWF0aW5nIGdyb3VwIGNoYXQnLGRhdGFPYmplY3RSZXBvcnRlcik7ZGF0YU9iamVjdFJlcG9ydGVyLm9uU3Vic2NyaXB0aW9uKGZ1bmN0aW9uKGV2ZW50KXtyZXR1cm4gZXZlbnQuYWNjZXB0KCk7fSk7cmV0dXJuICgwLF9Hcm91cENoYXQyLmRlZmF1bHQpKGRhdGFPYmplY3RSZXBvcnRlcixfdGhpczMuX3Bvc2l0aW9uLmRhdGEsaWRlbnRpdHkpO30pO30sb25JbnZpdGU6ZnVuY3Rpb24gb25JbnZpdGUoY2FsbGJhY2spe3ZhciBfdGhpczQ9dGhpczt0aGlzLnN5bmNoZXIub25Ob3RpZmljYXRpb24oZnVuY3Rpb24oZXZlbnQpe2lmKGV2ZW50LnNjaGVtYT09PV90aGlzNC5sb2NhdGlvbkRlc2NVUkwpe190aGlzNC5zeW5jaGVyLnN1YnNjcmliZShfdGhpczQubG9jYXRpb25EZXNjVVJMLGV2ZW50LnVybCkudGhlbihmdW5jdGlvbihkYXRhT2JqZWN0KXtfdGhpczQuX3Bvc2l0aW9uPWRhdGFPYmplY3Q7fSk7fWVsc2UgaWYoZXZlbnQuc2NoZW1hPT09X3RoaXM0Lm9iamVjdERlc2NVUkwpeyhmdW5jdGlvbigpe3ZhciBpZGVudGl0eT11bmRlZmluZWQ7X3RoaXM0Ll9yZXNvbHZlSWRlbnRpdHkoKS50aGVuKGZ1bmN0aW9uKGlkKXtyZXR1cm4gaWRlbnRpdHk9aWQ7fSkudGhlbihmdW5jdGlvbigpe3JldHVybiBfdGhpczQuc3luY2hlci5zdWJzY3JpYmUoX3RoaXM0Lm9iamVjdERlc2NVUkwsZXZlbnQudXJsKTt9KS50aGVuKGZ1bmN0aW9uKGRhdGFPYmplY3Qpe2NvbnNvbGUubG9nKCdjcmVhdGluZyBncm91cCBjaGF0IG9uIGludml0ZScsZGF0YU9iamVjdCk7cmV0dXJuIGNhbGxiYWNrKCgwLF9Hcm91cENoYXQyLmRlZmF1bHQpKGRhdGFPYmplY3QsX3RoaXM0Ll9wb3NpdGlvbi5kYXRhLGlkZW50aXR5KSk7fSk7fSkoKTt9fSk7fX07dmFyIGdyb3VwQ2hhdEZhY3Rvcnk9ZnVuY3Rpb24gZ3JvdXBDaGF0RmFjdG9yeShoeXBlcnR5VVJMLGJ1cyxjb25maWcpe3ZhciBzeW5jaGVyPW5ldyBfU3luY2hlci5TeW5jaGVyKGh5cGVydHlVUkwsYnVzLGNvbmZpZyk7dmFyIGh5cGVydHlEaXNjb3Zlcnk9bmV3IF9IeXBlcnR5RGlzY292ZXJ5Mi5kZWZhdWx0KGh5cGVydHlVUkwsYnVzKTt2YXIgaWRlbnRpdHlNYW5hZ2VyPW5ldyBfSWRlbnRpdHlNYW5hZ2VyMi5kZWZhdWx0KGh5cGVydHlVUkwsY29uZmlnLnJ1bnRpbWVVUkwsYnVzKTt2YXIgdXJpPW5ldyBfdXJpanMyLmRlZmF1bHQoaHlwZXJ0eVVSTCk7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShHcm91cENoYXRIeXBlcnR5KSx7J19wb3NpdGlvbic6e2RhdGE6e3ZhbHVlOnt9fX0sJ3N5bmNoZXInOnN5bmNoZXIsJ2h5cGVydHlEaXNjb3ZlcnlTZXJ2aWNlJzpoeXBlcnR5RGlzY292ZXJ5LCdpZGVudGl0eU1hbmFnZXJTZXJ2aWNlJzppZGVudGl0eU1hbmFnZXIsJ29iamVjdERlc2NVUkwnOidoeXBlcnR5LWNhdGFsb2d1ZTovLycrdXJpLmhvc3RuYW1lKCkrJy8ud2VsbC1rbm93bi9kYXRhc2NoZW1hcy9Db21tdW5pY2F0aW9uJywnbG9jYXRpb25EZXNjVVJMJzonaHlwZXJ0eS1jYXRhbG9ndWU6Ly8nK3VyaS5ob3N0bmFtZSgpKycvLndlbGwta25vd24vZGF0YXNjaGVtYXMvQ29udGV4dERhdGFTY2hlbWEnLCdoeXBlcnR5VVJMJzpoeXBlcnR5VVJMfSk7fTtmdW5jdGlvbiBhY3RpdmF0ZShoeXBlcnR5VVJMLGJ1cyxjb25maWcpe3JldHVybiB7bmFtZTonR3JvdXBDaGF0JyxpbnN0YW5jZTpncm91cENoYXRGYWN0b3J5KGh5cGVydHlVUkwsYnVzLGNvbmZpZyl9O31tb2R1bGUuZXhwb3J0cz1leHBvcnRzWydkZWZhdWx0J107Cgp9LHsiLi9Hcm91cENoYXQiOjksInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSHlwZXJ0eURpc2NvdmVyeSI6MSwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9JZGVudGl0eU1hbmFnZXIiOjIsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlciI6MywidXJpanMiOjZ9XSw5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO2V4cG9ydHMuZGVmYXVsdD1mdW5jdGlvbihkYXRhT2JqZWN0LHBvc2l0aW9uLGlkZW50aXR5KXtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEdyb3VwQ2hhdCkse19kYXRhT2JqZWN0OmRhdGFPYmplY3QsbmFtZTpkYXRhT2JqZWN0LmRhdGEubmFtZSxzdGFydGluZ1RpbWU6ZGF0YU9iamVjdC5kYXRhLnN0YXJ0aW5nVGltZSxtZXNzYWdlczpbXSxwb3NpdGlvbjpwb3NpdGlvbixwYXJ0aWNpcGFudHM6ZGF0YU9iamVjdC5kYXRhLnBhcnRpY2lwYW50cyxpZGVudGl0eTppZGVudGl0eX0pO307dmFyIF9Hcm91cENoYXRNZXNzYWdlPXJlcXVpcmUoJy4vR3JvdXBDaGF0TWVzc2FnZScpO3ZhciBfR3JvdXBDaGF0TWVzc2FnZTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JvdXBDaGF0TWVzc2FnZSk7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9O312YXIgR3JvdXBDaGF0PXtzZW5kTWVzc2FnZTpmdW5jdGlvbiBzZW5kTWVzc2FnZShtZXNzYWdlLGRpc3RhbmNlKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gdGhpcy5fZGF0YU9iamVjdC5hZGRDaGlsZCgnY2hhdG1lc3NhZ2VzJyx7Y2hhdE1lc3NhZ2U6bWVzc2FnZSxkaXN0YW5jZTpkaXN0YW5jZSxwb3NpdGlvbjp0aGlzLnBvc2l0aW9uLnZhbHVlLHN0YXJ0aW5nVGltZTpEYXRlLm5vdygpfSkudGhlbihmdW5jdGlvbihjaGlsZCl7Y29uc29sZS5sb2coJ21lc3NhZ2Ugc2VuZGVkJyxjaGlsZCk7X3RoaXMubWVzc2FnZXMucHVzaCgoMCxfR3JvdXBDaGF0TWVzc2FnZTIuZGVmYXVsdCkoY2hpbGQsdHJ1ZSxfdGhpcy5pZGVudGl0eSkpO3JldHVybiBfdGhpcy5tZXNzYWdlc1tfdGhpcy5tZXNzYWdlcy5sZW5ndGgtMV07fSk7fSxvbk1lc3NhZ2U6ZnVuY3Rpb24gb25NZXNzYWdlKGNhbGxiYWNrKXt2YXIgX3RoaXMyPXRoaXM7dGhpcy5fZGF0YU9iamVjdC5vbkFkZENoaWxkKGZ1bmN0aW9uKGNoaWxkKXtjb25zb2xlLmxvZygnbWVzc2FnZSByZWNlaXZlZCcsY2hpbGQpO3ZhciBjaGlsZERhdGE9Y2hpbGQuZGF0YT9jaGlsZC5kYXRhOmNoaWxkLnZhbHVlO2lmKGNoaWxkRGF0YS5kaXN0YW5jZSYmX3RoaXMyLl9kaXN0YW5jZShfdGhpczIucG9zaXRpb24udmFsdWUubGF0aXR1ZGUsX3RoaXMyLnBvc2l0aW9uLnZhbHVlLmxvbmdpdHVkZSxjaGlsZERhdGEucG9zaXRpb24ubGF0aXR1ZGUsY2hpbGREYXRhLnBvc2l0aW9uLmxvbmdpdHVkZSwnSycpPmNoaWxkRGF0YS5kaXN0YW5jZSlyZXR1cm47X3RoaXMyLm1lc3NhZ2VzLnB1c2goKDAsX0dyb3VwQ2hhdE1lc3NhZ2UyLmRlZmF1bHQpKGNoaWxkLGZhbHNlLGNoaWxkLmlkZW50aXR5LnVzZXJQcm9maWxlKSk7Y2FsbGJhY2soX3RoaXMyLm1lc3NhZ2VzW190aGlzMi5tZXNzYWdlcy5sZW5ndGgtMV0pO30pO30sX2Rpc3RhbmNlOmZ1bmN0aW9uIF9kaXN0YW5jZShsYXQxLGxvbjEsbGF0Mixsb24yLHVuaXQpe3ZhciByYWRsYXQxPU1hdGguUEkqbGF0MS8xODA7dmFyIHJhZGxhdDI9TWF0aC5QSSpsYXQyLzE4MDt2YXIgdGhldGE9bG9uMS1sb24yO3ZhciByYWR0aGV0YT1NYXRoLlBJKnRoZXRhLzE4MDt2YXIgZGlzdD1NYXRoLnNpbihyYWRsYXQxKSpNYXRoLnNpbihyYWRsYXQyKStNYXRoLmNvcyhyYWRsYXQxKSpNYXRoLmNvcyhyYWRsYXQyKSpNYXRoLmNvcyhyYWR0aGV0YSk7ZGlzdD1NYXRoLmFjb3MoZGlzdCk7ZGlzdD1kaXN0KjE4MC9NYXRoLlBJO2Rpc3Q9ZGlzdCo2MCoxLjE1MTU7aWYodW5pdD09IksiKXtkaXN0PWRpc3QqMS42MDkzNDQ7fWlmKHVuaXQ9PSJOIil7ZGlzdD1kaXN0KjAuODY4NDt9cmV0dXJuIGRpc3Q7fX07bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4vR3JvdXBDaGF0TWVzc2FnZSI6MTB9XSwxMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTtleHBvcnRzLmRlZmF1bHQ9ZnVuY3Rpb24oZGF0YU9iamVjdENoaWxkLGlzTWUsaWRlbnRpdHkpe3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoR3JvdXBDaGF0TWVzc2FnZSkse19kYXRhT2JqZWN0Q2hpbGQ6ZGF0YU9iamVjdENoaWxkLGlzTWU6aXNNZSx0ZXh0OmRhdGFPYmplY3RDaGlsZC5kYXRhP2RhdGFPYmplY3RDaGlsZC5kYXRhLmNoYXRNZXNzYWdlOmRhdGFPYmplY3RDaGlsZC52YWx1ZS5jaGF0TWVzc2FnZSxzdGFydGluZ1RpbWU6ZGF0YU9iamVjdENoaWxkLmRhdGE/ZGF0YU9iamVjdENoaWxkLmRhdGEuc3RhcnRpbmdUaW1lOmRhdGFPYmplY3RDaGlsZC52YWx1ZS5zdGFydGluZ1RpbWUsaWRlbnRpdHk6aWRlbnRpdHl9KTt9O3ZhciBHcm91cENoYXRNZXNzYWdlPXtlbGFwc2VkTWludXRlczpmdW5jdGlvbiBlbGFwc2VkTWludXRlcygpe3JldHVybiBNYXRoLnJvdW5kKChEYXRlLm5vdygpLXRoaXMuc3RhcnRpbmdUaW1lKSU4NjQwMDAwMCUzNjAwMDAwLzYwMDAwKTt9fTttb2R1bGUuZXhwb3J0cz1leHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XX0se30sWzhdKSg4KQp9KTs=",
      "sourceCodeClassname": "GroupChat",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10005,
    "type": "Hyperties",
    "version": "0.1",
    "description": "Description of GroupChat",
    "objectName": "GroupChat",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "FakeLocationObserver": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjIuMAoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlN5bmNoZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGEpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGM9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJmMpcmV0dXJuIGMocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBsPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGwsbC5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlJiYhQXJyYXkub2JzZXJ2ZSYmZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ZS5nZXROb3RpZmllcixuPSJwZXJmb3JtQ2hhbmdlIixvPSJfb3JpZ2luYWwiLGk9InNwbGljZSIscz17cHVzaDpmdW5jdGlvbiBjKGUpe3ZhciB0PWFyZ3VtZW50cyxzPWNbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnMtdC5sZW5ndGgsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHVuc2hpZnQ6ZnVuY3Rpb24gdShlKXt2YXIgdD1hcmd1bWVudHMscz11W29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSxwb3A6ZnVuY3Rpb24gbCgpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9bFtvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDp0aGlzLmxlbmd0aCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzaGlmdDpmdW5jdGlvbiBmKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1mW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc3BsaWNlOmZ1bmN0aW9uIGQoZSx0KXt2YXIgcz1hcmd1bWVudHMsYT1kW29dLmFwcGx5KHRoaXMscyk7cmV0dXJuKGEubGVuZ3RofHxzLmxlbmd0aD4yKSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OmUsYWRkZWRDb3VudDpzLmxlbmd0aC0yLHJlbW92ZWQ6YX19LHRoaXMpLGF9fTtmb3IodmFyIGEgaW4gcylzW2FdW29dPXQucHJvdG90eXBlW2FdLHQucHJvdG90eXBlW2FdPXNbYV07dC5vYnNlcnZlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUub2JzZXJ2ZSh0LHIsWyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLGldKX0sdC51bm9ic2VydmU9ZS51bm9ic2VydmV9KE9iamVjdCxBcnJheSl9LHt9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IjoxN31dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIjoxOH1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoxOX1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoyMH1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjIxfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6MjJ9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjoyM31dLDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoyNH1dLDEwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiOjI1fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIGk9ZSxzPXQsYT1yO289ITEsbnVsbD09PWkmJihpPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGM9bihpLHMpO2lmKHZvaWQgMCE9PWMpe2lmKCJ2YWx1ZSJpbiBjKXJldHVybiBjLnZhbHVlO3ZhciB1PWMuZ2V0O2lmKHZvaWQgMD09PXUpcmV0dXJuO3JldHVybiB1LmNhbGwoYSl9dmFyIGw9T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpO2lmKG51bGw9PT1sKXJldHVybjtlPWwsdD1zLHI9YSxvPSEwLGM9bD12b2lkIDB9fSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjV9XSwxNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPW4odCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihvP28oZSx0KTplLl9fcHJvdG9fXz10KX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjh9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE2fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmNvbnN0cnVjdG9yPT09bj8ic3ltYm9sIjp0eXBlb2YgZX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjEwfV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4obi5KU09OJiZuLkpTT04uc3RyaW5naWZ5fHxKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZ2V0RGVzYyhlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo4MX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiI6ODJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6ODN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjg0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzLyQuY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6ODYsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6ODcsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6ODl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjo4OH1dLDI2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6NDl9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjMwLCIuLyQud2tzIjo3OH1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoyNn1dLDMzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDM0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjozOH1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDM2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0S2V5cyhlKSxyPW4uZ2V0U3ltYm9scztpZihyKWZvcih2YXIgbyxpPXIoZSkscz1uLmlzRW51bSxhPTA7aS5sZW5ndGg+YTspcy5jYWxsKGUsbz1pW2ErK10pJiZ0LnB1c2gobyk7cmV0dXJuIHR9fSx7Ii4vJCI6NTZ9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuY3R4Iikscz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyx1LGwsZj1lJmEuRixkPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHY9ZSZhLlcseT1kP286b1t0XXx8KG9bdF09e30pLF89ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihjIGluIHIpdT0hZiYmXyYmYyBpbiBfLHUmJmMgaW4geXx8KGw9dT9fW2NdOnJbY10seVtjXT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgX1tjXT9yW2NdOmgmJnU/aShsLG4pOnYmJl9bY109PWw/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlP25ldyBlKHQpOmUodCl9O3JldHVybiB0W3NdPWVbc10sdH0obCk6YiYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsYiYmKCh5W3NdfHwoeVtzXT17fSkpW2NdPWwpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMix0LmV4cG9ydHM9YX0seyIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZ2xvYmFsIjo0MX1dLDM4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY3R4Iiksbz1lKCIuLyQuaXRlci1jYWxsIiksaT1lKCIuLyQuaXMtYXJyYXktaXRlciIpLHM9ZSgiLi8kLmFuLW9iamVjdCIpLGE9ZSgiLi8kLnRvLWxlbmd0aCIpLGM9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dmFyIGwsZixkLHA9YyhlKSxiPW4ocix1LHQ/MjoxKSxoPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHApdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShwKSlmb3IobD1hKGUubGVuZ3RoKTtsPmg7aCsrKXQ/YihzKGY9ZVtoXSlbMF0sZlsxXSk6YihlW2hdKTtlbHNlIGZvcihkPXAuY2FsbChlKTshKGY9ZC5uZXh0KCkpLmRvbmU7KW8oZCxiLGYudmFsdWUsdCl9fSx7Ii4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLWFycmF5LWl0ZXIiOjQ3LCIuLyQuaXRlci1jYWxsIjo1MCwiLi8kLnRvLWxlbmd0aCI6NzUsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo3OX1dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKSxvPWUoIi4vJCIpLmdldE5hbWVzLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbChlKT9hKGUpOm8obihlKSl9fSx7Ii4vJCI6NTYsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vJC5kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuLyQiOjU2LCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQucHJvcGVydHktZGVzYyI6NjF9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuLyQuZ2xvYmFsIjo0MX1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi8kLmNvZiI6MzB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LHsiLi8kLmNvZiI6MzB9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3RyeXtyZXR1cm4gbz90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZuKHMuY2FsbChlKSksaX19fSx7Ii4vJC5hbi1vYmplY3QiOjI4fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpLGk9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuLyQuaGlkZSIpKHMsZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4uY3JlYXRlKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuLyQiOjU2LCIuLyQuaGlkZSI6NDMsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQubGlicmFyeSIpLG89ZSgiLi8kLmV4cG9ydCIpLGk9ZSgiLi8kLnJlZGVmaW5lIikscz1lKCIuLyQuaGlkZSIpLGE9ZSgiLi8kLmhhcyIpLGM9ZSgiLi8kLml0ZXJhdG9ycyIpLHU9ZSgiLi8kLml0ZXItY3JlYXRlIiksbD1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vJCIpLmdldFByb3RvLGQ9ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksYj0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGcsbSxqKXt1KHIsdCxfKTt2YXIgJCxPLHc9ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gRSlyZXR1cm4gRVtlXTtzd2l0Y2goZSl7Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0saz10KyIgSXRlcmF0b3IiLHg9Zz09dixDPSExLEU9ZS5wcm90b3R5cGUsUz1FW2RdfHxFW2JdfHxnJiZFW2ddLFQ9U3x8dyhnKTtpZihTKXt2YXIgUj1mKFQuY2FsbChuZXcgZSkpO2woUixrLCEwKSwhbiYmYShFLGIpJiZzKFIsZCx5KSx4JiZTLm5hbWUhPT12JiYoQz0hMCxUPWZ1bmN0aW9uKCl7cmV0dXJuIFMuY2FsbCh0aGlzKX0pfWlmKG4mJiFqfHwhcCYmIUMmJkVbZF18fHMoRSxkLFQpLGNbdF09VCxjW2tdPXksZylpZigkPXt2YWx1ZXM6eD9UOncodiksa2V5czptP1Q6dyhoKSxlbnRyaWVzOng/dygiZW50cmllcyIpOlR9LGopZm9yKE8gaW4gJClPIGluIEV8fGkoRSxPLCRbT10pO2Vsc2UgbyhvLlArby5GKihwfHxDKSx0LCQpO3JldHVybiAkfX0seyIuLyQiOjU2LCIuLyQuZXhwb3J0IjozNywiLi8kLmhhcyI6NDIsIi4vJC5oaWRlIjo0MywiLi8kLml0ZXItY3JlYXRlIjo1MSwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cj0hMH0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGEpe31yZXR1cm4gcn19LHsiLi8kLndrcyI6Nzh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDU2OltmdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0O3QuZXhwb3J0cz17Y3JlYXRlOm4uY3JlYXRlLGdldFByb3RvOm4uZ2V0UHJvdG90eXBlT2YsaXNFbnVtOnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGdldERlc2M6bi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isc2V0RGVzYzpuLmRlZmluZVByb3BlcnR5LHNldERlc2NzOm4uZGVmaW5lUHJvcGVydGllcyxnZXRLZXlzOm4ua2V5cyxnZXROYW1lczpuLmdldE93blByb3BlcnR5TmFtZXMsZ2V0U3ltYm9sczpuLmdldE93blByb3BlcnR5U3ltYm9scyxlYWNoOltdLmZvckVhY2h9fSx7fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9byhlKSxzPW4uZ2V0S2V5cyhpKSxhPXMubGVuZ3RoLGM9MDthPmM7KWlmKGlbcj1zW2MrK11dPT09dClyZXR1cm4gcn19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC50YXNrIikuc2V0LGM9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsdT1zLnByb2Nlc3MsbD1zLlByb21pc2UsZj0icHJvY2VzcyI9PWUoIi4vJC5jb2YiKSh1KSxkPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO2ZvcihmJiYoZT11LmRvbWFpbikmJih1LmRvbWFpbj1udWxsLGUuZXhpdCgpKTtuOyl0PW4uZG9tYWluLHI9bi5mbix0JiZ0LmVudGVyKCkscigpLHQmJnQuZXhpdCgpLG49bi5uZXh0O289dm9pZCAwLGUmJmUuZW50ZXIoKX07aWYoZilpPWZ1bmN0aW9uKCl7dS5uZXh0VGljayhkKX07ZWxzZSBpZihjKXt2YXIgcD0xLGI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBjKGQpLm9ic2VydmUoYix7Y2hhcmFjdGVyRGF0YTohMH0pLGk9ZnVuY3Rpb24oKXtiLmRhdGE9cD0tcH19ZWxzZSBpPWwmJmwucmVzb2x2ZT9mdW5jdGlvbigpe2wucmVzb2x2ZSgpLnRoZW4oZCl9OmZ1bmN0aW9uKCl7YS5jYWxsKHMsZCl9O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMCxkb21haW46ZiYmdS5kb21haW59O28mJihvLm5leHQ9dCksbnx8KG49dCxpKCkpLG89dH19LHsiLi8kLmNvZiI6MzAsIi4vJC5nbG9iYWwiOjQxLCIuLyQudGFzayI6NzJ9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuLyQuY29yZSI6MzEsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQucmVkZWZpbmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCluKGUscix0W3JdKTtyZXR1cm4gZX19LHsiLi8kLnJlZGVmaW5lIjo2M31dLDYzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5oaWRlIil9LHsiLi8kLmhpZGUiOjQzfV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9T2JqZWN0LmlzfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OmUhPWUmJnQhPXR9fSx7fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5nZXREZXNjLG89ZSgiLi8kLmlzLW9iamVjdCIpLGk9ZSgiLi8kLmFuLW9iamVjdCIpLHM9ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vJC5jdHgiKShGdW5jdGlvbi5jYWxsLG4oT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG8odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goaSl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhlLHQpLHI/ZS5fX3Byb3RvX189dDpvKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOnN9fSx7Ii4vJCI6NTYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLW9iamVjdCI6NDl9XSw2NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuY29yZSIpLG89ZSgiLi8kIiksaT1lKCIuLyQuZGVzY3JpcHRvcnMiKSxzPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W3NdJiZvLnNldERlc2ModCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vJCI6NTYsIi4vJC5jb3JlIjozMSwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLndrcyI6Nzh9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLnNldERlc2Msbz1lKCIuLyQuaGFzIiksaT1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vJCI6NTYsIi4vJC5oYXMiOjQyLCIuLyQud2tzIjo3OH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iiksbz1lKCIuLyQuYS1mdW5jdGlvbiIpLGk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbaV0pP3Q6byhyKX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLndrcyI6Nzh9XSw3MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKHIrIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciEiKTtyZXR1cm4gZX19LHt9XSw3MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGE9U3RyaW5nKG8odCkpLGM9bihyKSx1PWEubGVuZ3RoO3JldHVybiAwPmN8fGM+PXU/ZT8iIjp2b2lkIDA6KGk9YS5jaGFyQ29kZUF0KGMpLDU1Mjk2Pml8fGk+NTYzMTl8fGMrMT09PXV8fChzPWEuY2hhckNvZGVBdChjKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2EuY2hhckF0KGMpOmk6ZT9hLnNsaWNlKGMsYysyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC50by1pbnRlZ2VyIjo3M31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmN0eCIpLGE9ZSgiLi8kLmludm9rZSIpLGM9ZSgiLi8kLmh0bWwiKSx1PWUoIi4vJC5kb20tY3JlYXRlIiksbD1lKCIuLyQuZ2xvYmFsIiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxwPWwuY2xlYXJJbW1lZGlhdGUsYj1sLk1lc3NhZ2VDaGFubmVsLGg9MCx2PXt9LHk9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsXz1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKHYuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PXZbZV07ZGVsZXRlIHZbZV0sdCgpfX0sZz1mdW5jdGlvbihlKXtfLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIHZbKytoXT1mdW5jdGlvbigpe2EoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbihoKSxofSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSB2W2VdfSwicHJvY2VzcyI9PWUoIi4vJC5jb2YiKShmKT9uPWZ1bmN0aW9uKGUpe2YubmV4dFRpY2socyhfLGUsMSkpfTpiPyhvPW5ldyBiLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1nLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmwuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhbC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2wucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGcsITEpKTpuPXkgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7Yy5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbeV09ZnVuY3Rpb24oKXtjLnJlbW92ZUNoaWxkKHRoaXMpLF8uY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhfLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vJC5jb2YiOjMwLCIuLyQuY3R4IjozMiwiLi8kLmRvbS1jcmVhdGUiOjM1LCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmh0bWwiOjQ0LCIuLyQuaW52b2tlIjo0NX1dLDczOltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlvYmplY3QiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC5pb2JqZWN0Ijo0Nn1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuLyQudG8taW50ZWdlciI6NzN9XSw3NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSx7Ii4vJC5kZWZpbmVkIjozM31dLDc3OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnNoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vJC51aWQiKSxpPWUoIi4vJC5nbG9iYWwiKS5TeW1ib2w7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1pJiZpW2VdfHwoaXx8bykoIlN5bWJvbC4iK2UpKX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5zaGFyZWQiOjY4LCIuLyQudWlkIjo3N31dLDc5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNsYXNzb2YiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi8kLmNvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vJC5jbGFzc29mIjoyOSwiLi8kLmNvcmUiOjMxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw4MDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuLyQuaXRlci1zdGVwIiksaT1lKCIuLyQuaXRlcmF0b3JzIikscz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuLyQuaXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vJC5hZGQtdG8tdW5zY29wYWJsZXMiOjI3LCIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuaXRlci1zdGVwIjo1NCwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBlKG4odCkscil9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8taW9iamVjdCI6NzR9XSw4MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLW9iamVjdCI6NzZ9XSw4MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDg0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpO24obi5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjplKCIuLyQuc2V0LXByb3RvIikuc2V0fSl9LHsiLi8kLmV4cG9ydCI6MzcsIi4vJC5zZXQtcHJvdG8iOjY1fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw4NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvPWUoIi4vJCIpLGk9ZSgiLi8kLmxpYnJhcnkiKSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5jbGFzc29mIiksdT1lKCIuLyQuZXhwb3J0IiksbD1lKCIuLyQuaXMtb2JqZWN0IiksZj1lKCIuLyQuYW4tb2JqZWN0IiksZD1lKCIuLyQuYS1mdW5jdGlvbiIpLHA9ZSgiLi8kLnN0cmljdC1uZXciKSxiPWUoIi4vJC5mb3Itb2YiKSxoPWUoIi4vJC5zZXQtcHJvdG8iKS5zZXQsdj1lKCIuLyQuc2FtZS12YWx1ZSIpLHk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIiksXz1lKCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciIpLGc9ZSgiLi8kLm1pY3JvdGFzayIpLG09IlByb21pc2UiLGo9cy5wcm9jZXNzLCQ9InByb2Nlc3MiPT1jKGopLE89c1ttXSx3PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBPKGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGUmJih0LmNvbnN0cnVjdG9yPU9iamVjdCksTy5yZXNvbHZlKHQpPT09dH0saz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9bmV3IE8oZSk7cmV0dXJuIGgocix0LnByb3RvdHlwZSkscn12YXIgcj0hMTt0cnl7aWYocj1PJiZPLnJlc29sdmUmJncoKSxoKHQsTyksdC5wcm90b3R5cGU9by5jcmVhdGUoTy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0fX0pLHQucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCl7fSlpbnN0YW5jZW9mIHR8fChyPSExKSxyJiZlKCIuLyQuZGVzY3JpcHRvcnMiKSl7dmFyIG49ITE7Ty5yZXNvbHZlKG8uc2V0RGVzYyh7fSwidGhlbiIse2dldDpmdW5jdGlvbigpe249ITB9fSkpLHI9bn19Y2F0Y2goaSl7cj0hMX1yZXR1cm4gcn0oKSx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkmJmU9PT1PJiZ0PT09bj8hMDp2KGUsdCl9LEM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZihlKVt5XTtyZXR1cm4gdm9pZCAwIT10P3Q6ZX0sRT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbChlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxTPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFQ9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxSPWZ1bmN0aW9uKGUsdCl7aWYoIWUubil7ZS5uPSEwO3ZhciByPWUuYztnKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUudixvPTE9PWUucyxpPTAsYT1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxhPXQucmVzb2x2ZSxjPXQucmVqZWN0O3RyeXtzPyhvfHwoZS5oPSEwKSxyPXM9PT0hMD9uOnMobikscj09PXQucHJvbWlzZT9jKFR5cGVFcnJvcigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1FKHIpKT9pLmNhbGwocixhLGMpOmEocikpOmMobil9Y2F0Y2godSl7Yyh1KX19O3IubGVuZ3RoPmk7KWEocltpKytdKTtyLmxlbmd0aD0wLGUubj0hMSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQscixvPWUucDtNKG8pJiYoJD9qLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbixvKToodD1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT90KHtwcm9taXNlOm8scmVhc29uOm59KToocj1zLmNvbnNvbGUpJiZyLmVycm9yJiZyLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG4pKSxlLmE9dm9pZCAwfSwxKX0pfX0sTT1mdW5jdGlvbihlKXt2YXIgdCxyPWUuX2Qsbj1yLmF8fHIuYyxvPTA7aWYoci5oKXJldHVybiExO2Zvcig7bi5sZW5ndGg+bzspaWYodD1uW28rK10sdC5mYWlsfHwhTSh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxOPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5kfHwodC5kPSEwLHQ9dC5yfHx0LHQudj1lLHQucz0yLHQuYT10LmMuc2xpY2UoKSxSKHQsITApKX0sRD1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuZCl7ci5kPSEwLHI9ci5yfHxyO3RyeXtpZihyLnA9PT1lKXRocm93IFR5cGVFcnJvcigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1FKGUpKT9nKGZ1bmN0aW9uKCl7dmFyIG49e3I6cixkOiExfTt0cnl7dC5jYWxsKGUsYShELG4sMSksYShOLG4sMSkpfWNhdGNoKG8pe04uY2FsbChuLG8pfX0pOihyLnY9ZSxyLnM9MSxSKHIsITEpKX1jYXRjaChuKXtOLmNhbGwoe3I6cixkOiExfSxuKX19fTtrfHwoTz1mdW5jdGlvbihlKXtkKGUpO3ZhciB0PXRoaXMuX2Q9e3A6cCh0aGlzLE8sbSksYzpbXSxhOnZvaWQgMCxzOjAsZDohMSx2OnZvaWQgMCxoOiExLG46ITF9O3RyeXtlKGEoRCx0LDEpLGEoTix0LDEpKX1jYXRjaChyKXtOLmNhbGwodCxyKX19LGUoIi4vJC5yZWRlZmluZS1hbGwiKShPLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBTKF8odGhpcyxPKSksbj1yLnByb21pc2Usbz10aGlzLl9kO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LG8uYy5wdXNoKHIpLG8uYSYmby5hLnB1c2gociksby5zJiZSKG8sITEpLG59LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSkpLHUodS5HK3UuVyt1LkYqIWsse1Byb21pc2U6T30pLGUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpKE8sbSksZSgiLi8kLnNldC1zcGVjaWVzIikobSksbj1lKCIuLyQuY29yZSIpW21dLHUodS5TK3UuRiohayxtLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFModGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKigha3x8dyghMCkpLG0se3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIE8mJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKiEoayYmZSgiLi8kLml0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7Ty5hbGwoZSlbImNhdGNoIl0oZnVuY3Rpb24oKXt9KX0pKSxtLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9Qyh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qscz1bXSxhPVQoZnVuY3Rpb24oKXtiKGUsITEscy5wdXNoLHMpO3ZhciByPXMubGVuZ3RoLGE9QXJyYXkocik7cj9vLmVhY2guY2FsbChzLGZ1bmN0aW9uKGUsbyl7dmFyIHM9ITE7dC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7c3x8KHM9ITAsYVtvXT1lLC0tcnx8bihhKSl9LGkpfSk6bihhKX0pO3JldHVybiBhJiZpKGEuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlamVjdCxvPVQoZnVuY3Rpb24oKXtiKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi8kIjo1NiwiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQuZXhwb3J0IjozNywiLi8kLmZvci1vZiI6MzksIi4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OSwiLi8kLml0ZXItZGV0ZWN0Ijo1MywiLi8kLmxpYnJhcnkiOjU4LCIuLyQubWljcm90YXNrIjo1OSwiLi8kLnJlZGVmaW5lLWFsbCI6NjIsIi4vJC5zYW1lLXZhbHVlIjo2NCwiLi8kLnNldC1wcm90byI6NjUsIi4vJC5zZXQtc3BlY2llcyI6NjYsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIjo2OSwiLi8kLnN0cmljdC1uZXciOjcwLCIuLyQud2tzIjo3OH1dLDg3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5zdHJpbmctYXQiKSghMCk7ZSgiLi8kLml0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuc3RyaW5nLWF0Ijo3MX1dLDg4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLmdsb2JhbCIpLGk9ZSgiLi8kLmhhcyIpLHM9ZSgiLi8kLmRlc2NyaXB0b3JzIiksYT1lKCIuLyQuZXhwb3J0IiksYz1lKCIuLyQucmVkZWZpbmUiKSx1PWUoIi4vJC5mYWlscyIpLGw9ZSgiLi8kLnNoYXJlZCIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksZD1lKCIuLyQudWlkIikscD1lKCIuLyQud2tzIiksYj1lKCIuLyQua2V5b2YiKSxoPWUoIi4vJC5nZXQtbmFtZXMiKSx2PWUoIi4vJC5lbnVtLWtleXMiKSx5PWUoIi4vJC5pcy1hcnJheSIpLF89ZSgiLi8kLmFuLW9iamVjdCIpLGc9ZSgiLi8kLnRvLWlvYmplY3QiKSxtPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaj1uLmdldERlc2MsJD1uLnNldERlc2MsTz1uLmNyZWF0ZSx3PWguZ2V0LGs9by5TeW1ib2wseD1vLkpTT04sQz14JiZ4LnN0cmluZ2lmeSxFPSExLFM9cCgiX2hpZGRlbiIpLFQ9bi5pc0VudW0sUj1sKCJzeW1ib2wtcmVnaXN0cnkiKSxNPWwoInN5bWJvbHMiKSxOPSJmdW5jdGlvbiI9PXR5cGVvZiBrLEQ9T2JqZWN0LnByb3RvdHlwZSxQPXMmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9TygkKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuICQodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWooRCx0KTtuJiZkZWxldGUgRFt0XSwkKGUsdCxyKSxuJiZlIT09RCYmJChELHQsbil9OiQsTD1mdW5jdGlvbihlKXt2YXIgdD1NW2VdPU8oay5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUscyYmRSYmUChELGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZnVuY3Rpb24odCl7aSh0aGlzLFMpJiZpKHRoaXNbU10sZSkmJih0aGlzW1NdW2VdPSExKSxQKHRoaXMsZSxtKDEsdCkpfX0pLHR9LEE9ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfSxGPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gciYmaShNLHQpPyhyLmVudW1lcmFibGU/KGkoZSxTKSYmZVtTXVt0XSYmKGVbU11bdF09ITEpLHI9TyhyLHtlbnVtZXJhYmxlOm0oMCwhMSl9KSk6KGkoZSxTKXx8JChlLFMsbSgxLHt9KSksZVtTXVt0XT0hMCksUChlLHQscikpOiQoZSx0LHIpfSxJPWZ1bmN0aW9uKGUsdCl7XyhlKTtmb3IodmFyIHIsbj12KHQ9Zyh0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylGKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LFU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9PKGUpOkkoTyhlKSx0KX0sVj1mdW5jdGlvbihlKXt2YXIgdD1ULmNhbGwodGhpcyxlKTtyZXR1cm4gdHx8IWkodGhpcyxlKXx8IWkoTSxlKXx8aSh0aGlzLFMpJiZ0aGlzW1NdW2VdP3Q6ITB9LHo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1qKGU9ZyhlKSx0KTtyZXR1cm4hcnx8IWkoTSx0KXx8aShlLFMpJiZlW1NdW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfSxIPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPXcoZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKXx8dD09U3x8bi5wdXNoKHQpO3JldHVybiBufSxCPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPXcoZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKSYmbi5wdXNoKE1bdF0pO3JldHVybiBufSxKPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUmJiFBKGUpKXtmb3IodmFyIHQscixuPVtlXSxvPTEsaT1hcmd1bWVudHM7aS5sZW5ndGg+bzspbi5wdXNoKGlbbysrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnkodCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLEEodCk/dm9pZCAwOnR9KSxuWzFdPXQsQy5hcHBseSh4LG4pfX0sVz11KGZ1bmN0aW9uKCl7dmFyIGU9aygpO3JldHVybiJbbnVsbF0iIT1DKFtlXSl8fCJ7fSIhPUMoe2E6ZX0pfHwie30iIT1DKE9iamVjdChlKSl9KTtOfHwoaz1mdW5jdGlvbigpe2lmKEEodGhpcykpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTtyZXR1cm4gTChkKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSl9LGMoay5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksQT1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGt9LG4uY3JlYXRlPVUsbi5pc0VudW09VixuLmdldERlc2M9eixuLnNldERlc2M9RixuLnNldERlc2NzPUksbi5nZXROYW1lcz1oLmdldD1ILG4uZ2V0U3ltYm9scz1CLHMmJiFlKCIuLyQubGlicmFyeSIpJiZjKEQsInByb3BlcnR5SXNFbnVtZXJhYmxlIixWLCEwKSk7dmFyIFk9eyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBpKFIsZSs9IiIpP1JbZV06UltlXT1rKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGIoUixlKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7RT0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7RT0hMX19O24uZWFjaC5jYWxsKCJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD1wKGUpO1lbZV09Tj90OkwodCl9KSxFPSEwLGEoYS5HK2EuVyx7U3ltYm9sOmt9KSxhKGEuUywiU3ltYm9sIixZKSxhKGEuUythLkYqIU4sIk9iamVjdCIse2NyZWF0ZTpVLGRlZmluZVByb3BlcnR5OkYsZGVmaW5lUHJvcGVydGllczpJLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjp6LGdldE93blByb3BlcnR5TmFtZXM6SCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Qn0pLHgmJmEoYS5TK2EuRiooIU58fFcpLCJKU09OIix7c3RyaW5naWZ5Okp9KSxmKGssIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5lbnVtLWtleXMiOjM2LCIuLyQuZXhwb3J0IjozNywiLi8kLmZhaWxzIjozOCwiLi8kLmdldC1uYW1lcyI6NDAsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaGFzIjo0MiwiLi8kLmlzLWFycmF5Ijo0OCwiLi8kLmtleW9mIjo1NywiLi8kLmxpYnJhcnkiOjU4LCIuLyQucHJvcGVydHktZGVzYyI6NjEsIi4vJC5yZWRlZmluZSI6NjMsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zaGFyZWQiOjY4LCIuLyQudG8taW9iamVjdCI6NzQsIi4vJC51aWQiOjc3LCIuLyQud2tzIjo3OH1dLDg5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIik7bi5Ob2RlTGlzdD1uLkhUTUxDb2xsZWN0aW9uPW4uQXJyYXl9LHsiLi8kLml0ZXJhdG9ycyI6NTUsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo4MH1dLDkwOltmdW5jdGlvbihlLHQscil7d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuZz1bXSx0aGlzLms9ZX1mdW5jdGlvbiByKGUpeyFmdW5jdGlvbiByKCl7dmFyIG49ZS50YWtlUmVjb3JkcygpO24ubGVuZ3RoJiZlLmsobixlKSxlLmY9c2V0VGltZW91dChyLHQuX3BlcmlvZCl9KCl9ZnVuY3Rpb24gbih0KXt2YXIgcixuPXt0eXBlOm51bGwsdGFyZ2V0Om51bGwsYWRkZWROb2RlczpbXSxyZW1vdmVkTm9kZXM6W10scHJldmlvdXNTaWJsaW5nOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxhdHRyaWJ1dGVOYW1lOm51bGwsYXR0cmlidXRlTmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6bnVsbH07Zm9yKHIgaW4gdCluW3JdIT09ZSYmdFtyXSE9PWUmJihuW3JdPXRbcl0pO3JldHVybiBufWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj1hKGUsdCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvLGM9bi5sZW5ndGg7dC5hJiZyLmEmJmkobixlLHIuYSx0LmQpLCh0LmJ8fHQuZSkmJihvPXMobixlLHIsdCkpLChvfHxuLmxlbmd0aCE9PWMpJiYocj1hKGUsdCkpfX1mdW5jdGlvbiBpKHQscixvLGkpe2Zvcih2YXIgcyxhLGM9e30sdT1yLmF0dHJpYnV0ZXMsbD11Lmxlbmd0aDtsLS07KXM9dVtsXSxhPXMubmFtZSxpJiZpW2FdPT09ZXx8KHMudmFsdWUhPT1vW2FdJiZ0LnB1c2gobih7dHlwZToiYXR0cmlidXRlcyIsdGFyZ2V0OnIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV0sYXR0cmlidXRlTmFtZXNwYWNlOnMubmFtZXNwYWNlVVJJfSkpLGNbYV09ITApO2ZvcihhIGluIG8pY1thXXx8dC5wdXNoKG4oe3RhcmdldDpyLHR5cGU6ImF0dHJpYnV0ZXMiLGF0dHJpYnV0ZU5hbWU6YSxvbGRWYWx1ZTpvW2FdfSkpfWZ1bmN0aW9uIHModCxyLG8scyl7ZnVuY3Rpb24gYShlLHIsbyxhLGMpe3ZhciBsPWUubGVuZ3RoLTE7Yz0tfigobC1jKS8yKTtmb3IodmFyIGYsZCxwO3A9ZS5wb3AoKTspZj1vW3AuaF0sZD1hW3AuaV0scy5iJiZjJiZNYXRoLmFicyhwLmgtcC5pKT49bCYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2ZdLHJlbW92ZWROb2RlczpbZl0sbmV4dFNpYmxpbmc6Zi5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6Zi5wcmV2aW91c1NpYmxpbmd9KSksYy0tKSxzLmEmJmQuYSYmaSh0LGYsZC5hLHMuZCkscy5jJiYzPT09Zi5ub2RlVHlwZSYmZi5ub2RlVmFsdWUhPT1kLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6Zn0pKSxzLmUmJnUoZixkKX1mdW5jdGlvbiB1KHIsbyl7Zm9yKHZhciBkLHAsYixoLHYseT1yLmNoaWxkTm9kZXMsXz1vLmIsZz15Lmxlbmd0aCxtPV8/Xy5sZW5ndGg6MCxqPTAsJD0wLE89MDtnPiR8fG0+TzspaD15WyRdLHY9KGI9X1tPXSkmJmIuaixoPT09dj8ocy5hJiZiLmEmJmkodCxoLGIuYSxzLmQpLHMuYyYmYi5jIT09ZSYmaC5ub2RlVmFsdWUhPT1iLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6aH0pKSxwJiZhKHAscix5LF8saikscy5lJiYoaC5jaGlsZE5vZGVzLmxlbmd0aHx8Yi5iJiZiLmIubGVuZ3RoKSYmdShoLGIpLCQrKyxPKyspOihsPSEwLGR8fChkPXt9LHA9W10pLGgmJihkW2I9YyhoKV18fChkW2JdPSEwLC0xPT09KGI9ZihfLGgsTywiaiIpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltoXSxuZXh0U2libGluZzpoLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpoLnByZXZpb3VzU2libGluZ30pKSxqKyspOnAucHVzaCh7aDokLGk6Yn0pKSwkKyspLHYmJnYhPT15WyRdJiYoZFtiPWModildfHwoZFtiXT0hMCwtMT09PShiPWYoeSx2LCQpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6by5qLHJlbW92ZWROb2Rlczpbdl0sbmV4dFNpYmxpbmc6X1tPKzFdLHByZXZpb3VzU2libGluZzpfW08tMV19KSksai0tKTpwLnB1c2goe2g6YixpOk99KSksTysrKSk7cCYmYShwLHIseSxfLGopfXZhciBsO3JldHVybiB1KHIsbyksbH1mdW5jdGlvbiBhKGUsdCl7dmFyIHI9ITA7cmV0dXJuIGZ1bmN0aW9uIG4oZSl7dmFyIG89e2o6ZX07cmV0dXJuIXQuY3x8MyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlPyh0LmEmJnImJjE9PT1lLm5vZGVUeXBlJiYoby5hPWwoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuZCYmIXQuZFtyLm5hbWVdfHwoZVtyLm5hbWVdPXIudmFsdWUpLGV9KSksciYmKHQuYnx8dC5jfHx0LmEmJnQuZSkmJihvLmI9dShlLmNoaWxkTm9kZXMsbikpLHI9dC5lKTpvLmM9ZS5ub2RlVmFsdWUsb30oZSl9ZnVuY3Rpb24gYyhlKXt0cnl7cmV0dXJuIGUuaWR8fChlLm1vX2lkPWUubW9faWR8fGQrKyl9Y2F0Y2godCl7dHJ5e3JldHVybiBlLm5vZGVWYWx1ZX1jYXRjaChyKXtyZXR1cm4gZCsrfX19ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgcj1bXSxuPTA7bjxlLmxlbmd0aDtuKyspcltuXT10KGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciByPXt9LG49MDtuPGUubGVuZ3RoO24rKylyPXQocixlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gZihlLHQscixuKXtmb3IoO3I8ZS5sZW5ndGg7cisrKWlmKChuP2Vbcl1bbl06ZVtyXSk9PT10KXJldHVybiByO3JldHVybi0xfXQuX3BlcmlvZD0zMCx0LnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17YTohISh0LmF0dHJpYnV0ZXN8fHQuYXR0cmlidXRlRmlsdGVyfHx0LmF0dHJpYnV0ZU9sZFZhbHVlKSxiOiEhdC5jaGlsZExpc3QsZTohIXQuc3VidHJlZSxjOiEoIXQuY2hhcmFjdGVyRGF0YSYmIXQuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKX0saT10aGlzLmcscz0wO3M8aS5sZW5ndGg7cysrKWlbc10ubT09PWUmJmkuc3BsaWNlKHMsMSk7dC5hdHRyaWJ1dGVGaWx0ZXImJihuLmQ9bCh0LmF0dHJpYnV0ZUZpbHRlcixmdW5jdGlvbihlLHQpewpyZXR1cm4gZVt0XT0hMCxlfSkpLGkucHVzaCh7bTplLGw6byhlLG4pfSksdGhpcy5mfHxyKHRoaXMpfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZyxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXS5sKGUpO3JldHVybiBlfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5nPVtdLGNsZWFyVGltZW91dCh0aGlzLmYpLHRoaXMuZj1udWxsfX07dmFyIGQ9MTtyZXR1cm4gdH0odm9pZCAwKX0se31dLDkxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmV8fGZ1bmN0aW9uKGUsdCxyLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxpLHM9WyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLCJyZWNvbmZpZ3VyZSIsInNldFByb3RvdHlwZSIsInByZXZlbnRFeHRlbnNpb25zIl0sYT10LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09ZS5jYWxsKHQpfX0oZS5wcm90b3R5cGUudG9TdHJpbmcpLGM9dC5wcm90b3R5cGUuaW5kZXhPZj90LmluZGV4T2Z8fGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gdC5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUscixuKX06ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1yfHwwO248ZS5sZW5ndGg7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSx1PXIuTWFwIT09biYmTWFwLnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKCl7cmV0dXJuIG5ldyBNYXB9OmZ1bmN0aW9uKCl7dmFyIGU9W10sdD1bXTtyZXR1cm57c2l6ZTowLGhhczpmdW5jdGlvbih0KXtyZXR1cm4gYyhlLHQpPi0xfSxnZXQ6ZnVuY3Rpb24ocil7cmV0dXJuIHRbYyhlLHIpXX0sc2V0OmZ1bmN0aW9uKHIsbil7dmFyIG89YyhlLHIpOy0xPT09bz8oZS5wdXNoKHIpLHQucHVzaChuKSx0aGlzLnNpemUrKyk6dFtvXT1ufSwiZGVsZXRlIjpmdW5jdGlvbihyKXt2YXIgbj1jKGUscik7bj4tMSYmKGUuc3BsaWNlKG4sMSksdC5zcGxpY2UobiwxKSx0aGlzLnNpemUtLSl9LGZvckVhY2g6ZnVuY3Rpb24ocil7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspci5jYWxsKGFyZ3VtZW50c1sxXSx0W25dLGVbbl0sdGhpcyl9fX0sbD1lLmdldE93blByb3BlcnR5TmFtZXM/ZnVuY3Rpb24oKXt2YXIgdD1lLmdldE93blByb3BlcnR5TmFtZXM7dHJ5e2FyZ3VtZW50cy5jYWxsZWV9Y2F0Y2gocil7dmFyIG49KHQoYykuam9pbigiICIpKyIgIikucmVwbGFjZSgvcHJvdG90eXBlIHxsZW5ndGggfG5hbWUgL2csIiIpLnNsaWNlKDAsLTEpLnNwbGl0KCIgIik7bi5sZW5ndGgmJih0PWZ1bmN0aW9uKHQpe3ZhciByPWUuZ2V0T3duUHJvcGVydHlOYW1lcyh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClmb3IodmFyIG8saT0wO2k8bi5sZW5ndGg7KShvPWMocixuW2krK10pKT4tMSYmci5zcGxpY2UobywxKTtyZXR1cm4gcn0pfXJldHVybiB0fSgpOmZ1bmN0aW9uKHQpe3ZhciByLG4sbz1bXTtpZigiaGFzT3duUHJvcGVydHkiaW4gdClmb3IociBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJm8ucHVzaChyKTtlbHNle249ZS5oYXNPd25Qcm9wZXJ0eTtmb3IociBpbiB0KW4uY2FsbCh0LHIpJiZvLnB1c2gocil9cmV0dXJuIGEodCkmJm8ucHVzaCgibGVuZ3RoIiksb30sZj1lLmdldFByb3RvdHlwZU9mLGQ9ZS5kZWZpbmVQcm9wZXJ0aWVzJiZlLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixwPXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxyLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oKXt2YXIgZT0rbmV3IERhdGUsdD1lO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3IoKHQ9K25ldyBEYXRlKS1lKX0sMTcpfX0oKSxiPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1vLmdldChlKTtuPyh2KG4sZSksbShlLG4sdCxyKSk6KG49aChlKSxtKGUsbix0LHIpLDE9PT1vLnNpemUmJnAoeSkpfSxoPWZ1bmN0aW9uKHQscil7dmFyIG4saT1sKHQpLHM9W10sYT0wLHI9e2hhbmRsZXJzOnUoKSxmcm96ZW46ZS5pc0Zyb3plbj9lLmlzRnJvemVuKHQpOiExLGV4dGVuc2libGU6ZS5pc0V4dGVuc2libGU/ZS5pc0V4dGVuc2libGUodCk6ITAscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6Zyh0LHIpfTtpZihkKWZvcihuPXIuZGVzY3JpcHRvcnM9W107YTxpLmxlbmd0aDspblthXT1kKHQsaVthXSksc1thXT10W2lbYSsrXV07ZWxzZSBmb3IoO2E8aS5sZW5ndGg7KXNbYV09dFtpW2ErK11dO3JldHVybiBvLnNldCh0LHIpLHJ9LHY9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxhPXQudmFsdWVzW3JdLGM9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbyYmKGE9PT1zPzA9PT1hJiYxL2EhPT0xL3M6YT09PWF8fHM9PT1zKSYmKGooZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LnZhbHVlc1tyXT1zKSwhYy5jb25maWd1cmFibGV8fG8uY29uZmlndXJhYmxlJiZvLndyaXRhYmxlPT09Yy53cml0YWJsZSYmby5lbnVtZXJhYmxlPT09Yy5lbnVtZXJhYmxlJiZvLmdldD09PWMuZ2V0JiZvLnNldD09PWMuc2V0fHwoaihlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6YX0sbiksdC5kZXNjcmlwdG9yc1tyXT1vKX06ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dC5wcm9wZXJ0aWVzW3JdLGk9ZVtvXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihqKGUsdCx7bmFtZTpvLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbiksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbixvLGkpe2Zvcih2YXIgcyxhPXIubGVuZ3RoO24mJmEtLTspbnVsbCE9PXJbYV0mJihzPWQoZSxyW2FdKSxuLS0scz90KGUsbyxhLGkscyk6KGooZSxvLHtuYW1lOnJbYV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1thXX0saSksby5wcm9wZXJ0aWVzLnNwbGljZShhLDEpLG8udmFsdWVzLnNwbGljZShhLDEpLG8uZGVzY3JpcHRvcnMuc3BsaWNlKGEsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbixvKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGooZSxuLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tpXX0sbyksbi5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG4udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihuLG8saSl7aWYobi5oYW5kbGVycy5zaXplJiYhbi5mcm96ZW4pe3ZhciBzLGEsdSxwLGIsaCx2LHksXz1uLnZhbHVlcyxnPW4uZGVzY3JpcHRvcnMsbT0wO2lmKG4uZXh0ZW5zaWJsZSlpZihzPW4ucHJvcGVydGllcy5zbGljZSgpLGE9cy5sZW5ndGgsdT1sKG8pLGcpe2Zvcig7bTx1Lmxlbmd0aDspYj11W20rK10scD1jKHMsYikseT1kKG8sYiksLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChvW2JdKSxnLnB1c2goeSkpOihzW3BdPW51bGwsYS0tLHQobyxuLHAsaSx5KSk7cihvLHMsYSxuLGkpLGUuaXNFeHRlbnNpYmxlKG8pfHwobi5leHRlbnNpYmxlPSExLGoobyxuLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om99LGkpLG4uZnJvemVuPWUuaXNGcm96ZW4obykpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSxoPW9bYl0sLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChoKSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpKSk7cihvLHMsYSxuLGkpfWVsc2UgaWYoIW4uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKWI9c1ttXSx0KG8sbixtLGksZChvLGIpKTtlLmlzRnJvemVuKG8pJiYobi5mcm96ZW49ITApfWYmJih2PWYobyksdiE9PW4ucHJvdG8mJihqKG8sbix7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpvLG9sZFZhbHVlOm4ucHJvdG99KSxuLnByb3RvPXYpKX19fSgpLHk9ZnVuY3Rpb24oKXtvLnNpemUmJihvLmZvckVhY2godiksaS5mb3JFYWNoKF8pLHAoeSkpfSxfPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9by5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW8uZ2V0KGUpO2lmKHIpe3ZhciBuLGk9e29iamVjdDplfTtmb3IobiBpbiB0KSJvYmplY3QiIT09biYmKGlbbl09dFtuXSk7aihlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxhPW8uZ2V0KGUpLGM9YXJndW1lbnRzWzJdLHU9Yz09PW4/cigpOnIuY2FsbChjKTtpZihhJiZ2KGEsZSx0KSxhJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2ooZSxhLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWkuZ2V0KHIpO298fGkuc2V0KHIsbz17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxvLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om4uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG8pfSxqPWZ1bmN0aW9uKGUsdCxyLG4pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbz10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG58fC0xPT09YyhvLG4pKSYmYyhvLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O289dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbyl7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobz09PW4pbz1zO2Vsc2UgaWYoIW98fCJvYmplY3QiIT10eXBlb2Ygbyl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIGIodCxyLG8pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG49aS5nZXQodCk7cmV0dXJuIG4mJihyPW4ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG4ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSkscChmdW5jdGlvbigpe18obix0KX0pLDE9PT1uLm9ic2VydmVkLnNpemUmJm4ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm4ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9vWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6Zyh0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSksXyh0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDkyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuRGF0YU9iamVjdE9ic2VydmVyPXIuRGF0YU9iamVjdFJlcG9ydGVyPXIuU3luY2hlcj12b2lkIDAsZSgibXV0YXRpb25vYnNlcnZlci1zaGltIiksZSgib2JqZWN0Lm9ic2VydmUiKSxlKCJhcnJheS5vYnNlcnZlIik7dmFyIG89ZSgiLi9zeW5jaGVyL1N5bmNoZXIiKSxpPW4obykscz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIiksYT1uKHMpLGM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciIpLHU9bihjKTtyLlN5bmNoZXI9aVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdFJlcG9ydGVyPWFbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RPYnNlcnZlcj11WyJkZWZhdWx0Il19LHsiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL3N5bmNoZXIvU3luY2hlciI6OTksImFycmF5Lm9ic2VydmUiOjEsIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSI6OTAsIm9iamVjdC5vYnNlcnZlIjo5MX1dLDkzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IikscD1uKGQpLGI9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxoPW4oYiksdj1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9zeW5jaGVyPXQsYS5fdXJsPXIsYS5fc2NoZW1hPW4sYS5fc3RhdHVzPW8sYS5fc3luY09iaj1uZXcgcFsiZGVmYXVsdCJdKGkpLGEuX2NoaWxkcmVucz1zLGEuX3ZlcnNpb249MCxhLl9jaGlsZElkPTAsYS5fY2hpbGRyZW5PYmplY3RzPXt9LGEuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGEuX293bmVyPXQuX293bmVyLGEuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG89cituLGk9dC5fYnVzLmFkZExpc3RlbmVyKG8sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsYVsiZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBuPXIuX293bmVyKyIjIityLl9jaGlsZElkLG89ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpvLGJvZHk6e3Jlc291cmNlOm4sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYT1uZXcgaFsiZGVmYXVsdCJdKHIsbix0LHIuX293bmVyLGkpO2Eub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpvLGNoaWxkSWQ6bn0pfSksci5fY2hpbGRyZW5PYmplY3RzW25dPWEsZShhKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBuPW5ldyBoWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW4sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbz17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixvKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihvKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG49e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYobi5ib2R5LnZhbHVlPWUuZGF0YSk6KG4uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsbi5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG4uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihuLnRvPXQucGF0aCxuLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobil9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG49dC5ib2R5LmF0dHJpYnV0ZSxvPSgwLHYuZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixhPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2EsMF0uY29uY2F0KG8pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYz1pLm9iaix1PWkubGFzdDtjLnNwbGljZSh1LG8pfWVsc2UgaS5vYmpbaS5sYXN0XT1vO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bzpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxuPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtuP3QuX2NoYW5nZU9iamVjdChuLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCIuL1N5bmNPYmplY3QiOjk4LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYT1uKHMpLGM9ZSgiLi9TeW5jT2JqZWN0IiksdT1uKGMpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBhPXRoaXM7YS5fcGFyZW50PXQsYS5fY2hpbGRJZD1yLGEuX293bmVyPW8sYS5fbXNnSWQ9cyxhLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obiksYS5fYnVzPXQuX2J1cyxhLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGo9bihtKSwkPXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSxPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxzLGMsbCl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBmPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLHMuZGF0YSxjKSksZD1mO3JldHVybiBkLl92ZXJzaW9uPWwsZC5fZmlsdGVycz17fSxkLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ZC5fb25GaWx0ZXIoZSl9KSwoMCxpWyJkZWZhdWx0Il0pKHMuY2hpbGRyZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXMuY2hpbGRyZW5zW2VdO2QuX2NoaWxkcmVuT2JqZWN0c1tlXT1uZXcgalsiZGVmYXVsdCJdKGQsZSx0KX0pLGQuX2FsbG9jYXRlTGlzdGVuZXJzKCksZn1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG49e3R5cGU6JC5FWEFDVCxjYWxsYmFjazp0fSxvPWUuaW5kZXhPZigiKiIpO289PT1lLmxlbmd0aC0xJiYoMD09PW8/bi50eXBlPSQuQU5ZOihuLnR5cGU9JC5TVEFSVCxyPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpKSx0aGlzLl9maWx0ZXJzW3JdPW59fSx7a2V5OiJfb25GaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0Ll9maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXQuX2ZpbHRlcnNbcl07bi50eXBlPT09JC5BTlk/bi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLlNUQVJUPzA9PT1lLmZpZWxkLmluZGV4T2YocikmJm4uY2FsbGJhY2soZSk6bi50eXBlPT09JC5FWEFDVCYmZS5maWVsZD09PXImJm4uY2FsbGJhY2soZSl9KX19XSksdH0oZ1siZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09Tyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdCI6OTMsIi4vRGF0YU9iamVjdENoaWxkIjo5NCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuLi91dGlscy91dGlscy5qcyIpLGo9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBjPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLGkscykpLGw9YztyZXR1cm4gbC5fc3Vic2NyaXB0aW9ucz17fSxsLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGwuX29uQ2hhbmdlKGUpfSksbC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxjfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9yZXNwb25zZUxpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmZS5fb25SZXNwb25zZSh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9yZXNwb25zZUxpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiaW52aXRlT2JzZXJ2ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImNyZWF0ZSIsZnJvbTp0Ll9zeW5jaGVyLl9vd25lcix0bzp0Ll9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6dC5fdXJsLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6dC5fc3luY09iai5kYXRhLGF1dGhvcmlzZTplfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci1SQ1Y6ICIsZSksZS5ib2R5LnR5cGUpe2Nhc2Uic3Vic2NyaWJlIjp0Ll9vblN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjp0Ll9vblVuU3Vic2NyaWJlKGUpfX19LHtrZXk6Il9vblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsYWNjZXB0OmZ1bmN0aW9uKCl7dmFyIG49e3VybDpyLHN0YXR1czoib24ifTt0Ll9zdWJzY3JpcHRpb25zW3JdPW47dmFyIG89e307cmV0dXJuKDAsaVsiZGVmYXVsdCJdKSh0Ll9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dC5fY2hpbGRyZW5PYmplY3RzW2VdLmRhdGE7b1tlXT0oMCxtLmRlZXBDbG9uZSkocil9KSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc2NoZW1hOnQuX3NjaGVtYSx2ZXJzaW9uOnQuX3ZlcnNpb24sdmFsdWU6e2RhdGE6KDAsbS5kZWVwQ2xvbmUpKHQuZGF0YSksY2hpbGRyZW5zOm99fX0pLG59LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDMsZGVzYzpyfX0pfX07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlNVQlNDUklQVElPTi1FVkVOVDogIixuKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uVW5TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXQuX3N1YnNjcmlwdGlvbnNbcl07ZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl07dmFyIG89e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsb2JqZWN0Om59O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJVTi1TVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbyksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG8pKX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJihjb25zb2xlLmxvZygiUkVTUE9OU0UtRVZFTlQ6ICIsciksdC5fb25SZXNwb25zZUhhbmRsZXIocikpfX0se2tleToic3Vic2NyaXB0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnN9fV0pLHR9KGdbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPWosdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3QiOjkzLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bihzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1uLHMuX2NoaWxkcmVuPW8scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09Yyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLk9iamVjdFR5cGU9ci5DaGFuZ2VUeXBlPXZvaWQgMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYyksbD1lKCIuLi91dGlscy91dGlscy5qcyIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgcj10aGlzO3IuX29ic2VydmVycz1bXSxyLl9maWx0ZXJzPXt9LHQ/ci5fZGF0YT0oMCxsLmRlZXBDbG9uZSkodCk6ci5fZGF0YT17fSxyLl9pbnRlcm5hbE9ic2VydmUobmV3IGQsci5fZGF0YSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMucHVzaChlKX19LHtrZXk6ImZpbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi4iKTtyZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdCh0KX19LHtrZXk6ImZpbmRCZWZvcmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZS5zcGxpdCgiLiIpO3JldHVybiB0Lmxhc3Q9ci5wb3AoKSx0Lm9iaj10aGlzLl9maW5kV2l0aFNwbGl0KHIpLHR9fSx7a2V5OiJfZmluZFdpdGhTcGxpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dFtlXX0pLHR9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0KGUpfSl9fSx7a2V5OiJfaXNPYnNlcnZhYmxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8ZS5jb25zdHJ1Y3Rvcj09PUFycmF5fX0se2tleToiX2ludGVybmFsT2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG49ZnVuY3Rpb24odCl7ci5fb25DaGFuZ2VzKGUsdCl9O2lmKHQuY29uc3RydWN0b3I9PT1PYmplY3Qpe09iamVjdC5vYnNlcnZlKHQsbik7Zm9yKHZhciBvIGluIHQpci5faXNPYnNlcnZhYmxlKHRbb10pJiZyLl9pbnRlcm5hbE9ic2VydmUoZVsibmV3Il0obyksdFtvXSl9ZWxzZSBpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkpe0FycmF5Lm9ic2VydmUodCxuKTtmb3IodmFyIGkgaW4gdClpZihyLl9pc09ic2VydmFibGUodFtpXSkpe3ZhciBzPWVbIm5ldyJdKG5ldyBwKHRbaV0saSkpO3IuX2ludGVybmFsT2JzZXJ2ZShzLHRbaV0pfX19fX0se2tleToiX29uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiB0KXt2YXIgbz10W25dLm9iamVjdCxpPXZvaWQgMDtpZihvLmNvbnN0cnVjdG9yPT09T2JqZWN0JiYoaT1oLk9CSkVDVCksby5jb25zdHJ1Y3Rvcj09PUFycmF5JiYoaT1oLkFSUkFZKSwic3BsaWNlIj09PXRbbl0udHlwZSkhZnVuY3Rpb24oKXt2YXIgcz10W25dLmluZGV4LGE9ZVsibmV3Il0oIiIrcyksYz1hLnRvU3RyaW5nKCksdT10W25dLnJlbW92ZWQubGVuZ3RoO2lmKDAhPT11KXt2YXIgZj10W25dLnJlbW92ZWQ7Zi5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7ci5faXNPYnNlcnZhYmxlKHQpJiZlLnJlbW92ZUluZGV4KHMrbil9KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YyxkYXRhOnV9KX12YXIgZD10W25dLmFkZGVkQ291bnQ7aWYoMCE9PWQpe3ZhciBoPW8uc2xpY2UocyxzK2QpO2guZm9yRWFjaChmdW5jdGlvbih0LG4pe2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG89ZVsibmV3Il0obmV3IHAodCxzK24pKTtyLl9pbnRlcm5hbE9ic2VydmUobyx0KX19KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShoKX0pfXMhPT1vLmxlbmd0aC0xJiZlLnJlSW5kZXhGcm9tKG8pfSgpO2Vsc2V7dmFyIHM9ZVsibmV3Il0odFtuXS5uYW1lKSxhPXMudG9TdHJpbmcoKTtpZigtMSE9PWEuaW5kZXhPZigiU3ltYm9sIikpY29udGludWU7dmFyIGM9b1t0W25dLm5hbWVdOyJ1cGRhdGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuVVBEQVRFLG9UeXBlOmksZmllbGQ6YSxkYXRhOigwLGwuZGVlcENsb25lKShjKX0pLCJhZGQiPT09dFtuXS50eXBlJiYodGhpcy5faW50ZXJuYWxPYnNlcnZlKHMsYyksdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSksImRlbGV0ZSI9PT10W25dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5SRU1PVkUsb1R5cGU6aSxmaWVsZDphfSl9fX19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfX1dKSxlfSgpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMuX3BhdGg9W10sdGhpcy5fb2JzZXJ2YWJsZXM9e319cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJyZW1vdmVJbmRleCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX29ic2VydmFibGVzW2VdfX0se2tleToicmVJbmRleEZyb20iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLl9vYnNlcnZhYmxlcykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9vYnNlcnZhYmxlc1tyXSxvPWUuaW5kZXhPZihuLm9iaik7bi5pZHghPW8mJihuLmlkeD1vLGRlbGV0ZSB0Ll9vYnNlcnZhYmxlc1tyXSx0Ll9vYnNlcnZhYmxlc1tvXT1uKX0pfX0se2tleToibmV3Iix2YWx1ZTpmdW5jdGlvbihlKXtlLmNvbnN0cnVjdG9yPT1wJiYodGhpcy5fb2JzZXJ2YWJsZXNbZS5pZHhdPWUpO3ZhciB0PXRoaXMuY2xvbmUoKTtyZXR1cm4gdC5fcGF0aC5wdXNoKGUpLHR9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZTtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX3BhdGgucHVzaChlKX0pLHR9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7MD09PXI/ZT10LnRvU3RyaW5nKCk6ZSs9Ii4iK3QudG9TdHJpbmcoKX0pLGV9fV0pLGV9KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5vYmo9dCx0aGlzLmlkeD1yfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR4LnRvU3RyaW5nKCl9fV0pLGV9KCksYj1yLkNoYW5nZVR5cGU9e1VQREFURToidXBkYXRlIixBREQ6ImFkZCIsUkVNT1ZFOiJyZW1vdmUifSxoPXIuT2JqZWN0VHlwZT17T0JKRUNUOiJvYmplY3QiLEFSUkFZOiJhcnJheSJ9O3JbImRlZmF1bHQiXT1mfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMDAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW4obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLHA9bihkKSxiPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksaD1uKGIpLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLl9vd25lcj10LG8uX2J1cz1yLG8uX3N1YlVSTD1uLnJ1bnRpbWVVUkwrIi9zbSIsby5fcmVwb3J0ZXJzPXt9LG8uX29ic2VydmVycz17fSxvLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6by5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpvLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6by5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3IucmVwb3J0ZXI9bi5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4uX293bmVyLHRvOm4uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtuLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihvKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG8pLDIwMD09PW8uYm9keS5jb2RlKXt2YXIgcz1vLmJvZHkucmVzb3VyY2UsYT1uZXcgZlsiZGVmYXVsdCJdKG4scyxlLCJvbiIscixvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO24uX3JlcG9ydGVyc1tzXT1hLHQoYSl9ZWxzZSBpKG8uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihvLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbik7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG4uYm9keS5jb2RlPDIwMClzPW5ldyBoWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsbi5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW4uYm9keS5jb2RlKXt2YXIgYT1uZXcgcFsiZGVmYXVsdCJdKHIsdCxlLCJvbiIsbi5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sbi5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1hLG8oYSkscy5hcHBseShhKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6Im9uTm90aWZpY2F0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbk5vdGlmaWNhdGlvbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10Ll9yZXBvcnRlcnNbZS5ib2R5LnRvXTtyLl9vbkZvcndhcmQoZSl9fSx7a2V5OiJfb25SZW1vdGVDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb20uc2xpY2UoMCwtMTMpLG49e3R5cGU6ZS50eXBlLGZyb206ZS5ib2R5LnNvdXJjZSx1cmw6cixzY2hlbWE6ZS5ib2R5LnNjaGVtYSx2YWx1ZTplLmJvZHkudmFsdWUsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbj0yMDA7ciYmKG49ciksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbiksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblJlbW90ZURlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZSxuPXQuX29ic2VydmVyc1tyXTtpZihuKXt2YXIgbz17dHlwZTplLnR5cGUsdXJsOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbz0yMDA7ciYmKG89ciksMjAwPT09byYmblsiZGVsZXRlIl0oKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpvLHNvdXJjZTp0Ll9vd25lcn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbyksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG8pKX1lbHNlIHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwNCxzb3VyY2U6dC5fb3duZXJ9fSl9fSx7a2V5OiJvd25lciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX293bmVyfX0se2tleToicmVwb3J0ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVwb3J0ZXJzfX0se2tleToib2JzZXJ2ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT12LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjk1LCIuL0RhdGFPYmplY3RSZXBvcnRlciI6OTYsIi4vRGF0YVByb3Zpc2lvbmFsIjo5NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSwxMDA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsYlsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiBjKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGwoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYyhlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGY9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGYpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYj1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1hLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1jLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1sfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3fV19LHt9LFs5Ml0pKDkyKX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO2V4cG9ydHMuZGVmYXVsdD1hY3RpdmF0ZTt2YXIgX1N5bmNoZXI9cmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyJyk7dmFyIEZha2VMb2NhdGlvbk9ic2VydmVySHlwZXJ0eT17cmVjZWl2ZWRQb3NpdGlvbjpmYWxzZSxwb3NpdGlvbjp1bmRlZmluZWR9O3ZhciBGYWtlTG9hY2F0aW9uRmFjdG9yeT1mdW5jdGlvbiBGYWtlTG9hY2F0aW9uRmFjdG9yeShoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKXt2YXIgb2JqZWN0RGVzY1VSTD0naHlwZXJ0eS1jYXRhbG9ndWU6Ly9sb2NhbGhvc3QvLndlbGwta25vd24vZGF0YXNjaGVtYXMvTG9jYXRpb25EYXRhU2NoZW1hJzt2YXIgc3luY2hlcj1uZXcgX1N5bmNoZXIuU3luY2hlcihoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKTtzeW5jaGVyLm9uTm90aWZpY2F0aW9uKGZ1bmN0aW9uKGV2ZW50KXtldmVudC5hY2soKTtzeW5jaGVyLnN1YnNjcmliZShvYmplY3REZXNjVVJMLGV2ZW50LnVybCkudGhlbihmdW5jdGlvbihvYnNlcnZlcil7b2JzZXJ2ZXIub25DaGFuZ2UoJyonLGZ1bmN0aW9uKGV2ZW50KXtGYWtlTG9jYXRpb25PYnNlcnZlckh5cGVydHkucmVjZWl2ZWRQb3NpdGlvbj10cnVlO0Zha2VMb2NhdGlvbk9ic2VydmVySHlwZXJ0eS5wb3NpdGlvbj1ldmVudC5kYXRhLmdlb3Bvc2l0aW9uO30pO30pO30pO3JldHVybiBGYWtlTG9jYXRpb25PYnNlcnZlckh5cGVydHk7fTtmdW5jdGlvbiBhY3RpdmF0ZShoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKXtyZXR1cm4ge25hbWU6J0Zha2VMb2NhdGlvbk9ic2VydmVyJyxpbnN0YW5jZTpGYWtlTG9hY2F0aW9uRmFjdG9yeShoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKX07fW1vZHVsZS5leHBvcnRzPWV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXIiOjF9XX0se30sWzJdKSgyKQp9KTs=",
      "sourceCodeClassname": "FakeLocationObserver",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10006,
    "type": "Hyperties",
    "version": "0.1",
    "description": "Description of FakeLocationObserver",
    "objectName": "FakeLocationObserver",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "Location": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjIuMAoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlN5bmNoZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGEpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGM9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJmMpcmV0dXJuIGMocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBsPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGwsbC5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlJiYhQXJyYXkub2JzZXJ2ZSYmZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ZS5nZXROb3RpZmllcixuPSJwZXJmb3JtQ2hhbmdlIixvPSJfb3JpZ2luYWwiLGk9InNwbGljZSIscz17cHVzaDpmdW5jdGlvbiBjKGUpe3ZhciB0PWFyZ3VtZW50cyxzPWNbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnMtdC5sZW5ndGgsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHVuc2hpZnQ6ZnVuY3Rpb24gdShlKXt2YXIgdD1hcmd1bWVudHMscz11W29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSxwb3A6ZnVuY3Rpb24gbCgpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9bFtvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDp0aGlzLmxlbmd0aCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzaGlmdDpmdW5jdGlvbiBmKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1mW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc3BsaWNlOmZ1bmN0aW9uIGQoZSx0KXt2YXIgcz1hcmd1bWVudHMsYT1kW29dLmFwcGx5KHRoaXMscyk7cmV0dXJuKGEubGVuZ3RofHxzLmxlbmd0aD4yKSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OmUsYWRkZWRDb3VudDpzLmxlbmd0aC0yLHJlbW92ZWQ6YX19LHRoaXMpLGF9fTtmb3IodmFyIGEgaW4gcylzW2FdW29dPXQucHJvdG90eXBlW2FdLHQucHJvdG90eXBlW2FdPXNbYV07dC5vYnNlcnZlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUub2JzZXJ2ZSh0LHIsWyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLGldKX0sdC51bm9ic2VydmU9ZS51bm9ic2VydmV9KE9iamVjdCxBcnJheSl9LHt9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IjoxN31dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIjoxOH1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoxOX1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoyMH1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjIxfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6MjJ9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjoyM31dLDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoyNH1dLDEwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiOjI1fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIGk9ZSxzPXQsYT1yO289ITEsbnVsbD09PWkmJihpPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGM9bihpLHMpO2lmKHZvaWQgMCE9PWMpe2lmKCJ2YWx1ZSJpbiBjKXJldHVybiBjLnZhbHVlO3ZhciB1PWMuZ2V0O2lmKHZvaWQgMD09PXUpcmV0dXJuO3JldHVybiB1LmNhbGwoYSl9dmFyIGw9T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpO2lmKG51bGw9PT1sKXJldHVybjtlPWwsdD1zLHI9YSxvPSEwLGM9bD12b2lkIDB9fSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjV9XSwxNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPW4odCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihvP28oZSx0KTplLl9fcHJvdG9fXz10KX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjh9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE2fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmNvbnN0cnVjdG9yPT09bj8ic3ltYm9sIjp0eXBlb2YgZX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjEwfV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4obi5KU09OJiZuLkpTT04uc3RyaW5naWZ5fHxKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZ2V0RGVzYyhlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo4MX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiI6ODJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6ODN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjg0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzLyQuY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6ODYsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6ODcsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6ODl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjo4OH1dLDI2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6NDl9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjMwLCIuLyQud2tzIjo3OH1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoyNn1dLDMzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDM0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjozOH1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDM2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0S2V5cyhlKSxyPW4uZ2V0U3ltYm9scztpZihyKWZvcih2YXIgbyxpPXIoZSkscz1uLmlzRW51bSxhPTA7aS5sZW5ndGg+YTspcy5jYWxsKGUsbz1pW2ErK10pJiZ0LnB1c2gobyk7cmV0dXJuIHR9fSx7Ii4vJCI6NTZ9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuY3R4Iikscz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyx1LGwsZj1lJmEuRixkPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHY9ZSZhLlcseT1kP286b1t0XXx8KG9bdF09e30pLF89ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihjIGluIHIpdT0hZiYmXyYmYyBpbiBfLHUmJmMgaW4geXx8KGw9dT9fW2NdOnJbY10seVtjXT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgX1tjXT9yW2NdOmgmJnU/aShsLG4pOnYmJl9bY109PWw/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlP25ldyBlKHQpOmUodCl9O3JldHVybiB0W3NdPWVbc10sdH0obCk6YiYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsYiYmKCh5W3NdfHwoeVtzXT17fSkpW2NdPWwpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMix0LmV4cG9ydHM9YX0seyIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZ2xvYmFsIjo0MX1dLDM4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY3R4Iiksbz1lKCIuLyQuaXRlci1jYWxsIiksaT1lKCIuLyQuaXMtYXJyYXktaXRlciIpLHM9ZSgiLi8kLmFuLW9iamVjdCIpLGE9ZSgiLi8kLnRvLWxlbmd0aCIpLGM9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dmFyIGwsZixkLHA9YyhlKSxiPW4ocix1LHQ/MjoxKSxoPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHApdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShwKSlmb3IobD1hKGUubGVuZ3RoKTtsPmg7aCsrKXQ/YihzKGY9ZVtoXSlbMF0sZlsxXSk6YihlW2hdKTtlbHNlIGZvcihkPXAuY2FsbChlKTshKGY9ZC5uZXh0KCkpLmRvbmU7KW8oZCxiLGYudmFsdWUsdCl9fSx7Ii4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLWFycmF5LWl0ZXIiOjQ3LCIuLyQuaXRlci1jYWxsIjo1MCwiLi8kLnRvLWxlbmd0aCI6NzUsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo3OX1dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKSxvPWUoIi4vJCIpLmdldE5hbWVzLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbChlKT9hKGUpOm8obihlKSl9fSx7Ii4vJCI6NTYsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vJC5kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuLyQiOjU2LCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQucHJvcGVydHktZGVzYyI6NjF9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuLyQuZ2xvYmFsIjo0MX1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi8kLmNvZiI6MzB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LHsiLi8kLmNvZiI6MzB9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3RyeXtyZXR1cm4gbz90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZuKHMuY2FsbChlKSksaX19fSx7Ii4vJC5hbi1vYmplY3QiOjI4fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpLGk9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuLyQuaGlkZSIpKHMsZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4uY3JlYXRlKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuLyQiOjU2LCIuLyQuaGlkZSI6NDMsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQubGlicmFyeSIpLG89ZSgiLi8kLmV4cG9ydCIpLGk9ZSgiLi8kLnJlZGVmaW5lIikscz1lKCIuLyQuaGlkZSIpLGE9ZSgiLi8kLmhhcyIpLGM9ZSgiLi8kLml0ZXJhdG9ycyIpLHU9ZSgiLi8kLml0ZXItY3JlYXRlIiksbD1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vJCIpLmdldFByb3RvLGQ9ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksYj0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGcsbSxqKXt1KHIsdCxfKTt2YXIgJCxPLHc9ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gRSlyZXR1cm4gRVtlXTtzd2l0Y2goZSl7Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0saz10KyIgSXRlcmF0b3IiLHg9Zz09dixDPSExLEU9ZS5wcm90b3R5cGUsUz1FW2RdfHxFW2JdfHxnJiZFW2ddLFQ9U3x8dyhnKTtpZihTKXt2YXIgUj1mKFQuY2FsbChuZXcgZSkpO2woUixrLCEwKSwhbiYmYShFLGIpJiZzKFIsZCx5KSx4JiZTLm5hbWUhPT12JiYoQz0hMCxUPWZ1bmN0aW9uKCl7cmV0dXJuIFMuY2FsbCh0aGlzKX0pfWlmKG4mJiFqfHwhcCYmIUMmJkVbZF18fHMoRSxkLFQpLGNbdF09VCxjW2tdPXksZylpZigkPXt2YWx1ZXM6eD9UOncodiksa2V5czptP1Q6dyhoKSxlbnRyaWVzOng/dygiZW50cmllcyIpOlR9LGopZm9yKE8gaW4gJClPIGluIEV8fGkoRSxPLCRbT10pO2Vsc2UgbyhvLlArby5GKihwfHxDKSx0LCQpO3JldHVybiAkfX0seyIuLyQiOjU2LCIuLyQuZXhwb3J0IjozNywiLi8kLmhhcyI6NDIsIi4vJC5oaWRlIjo0MywiLi8kLml0ZXItY3JlYXRlIjo1MSwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cj0hMH0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGEpe31yZXR1cm4gcn19LHsiLi8kLndrcyI6Nzh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDU2OltmdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0O3QuZXhwb3J0cz17Y3JlYXRlOm4uY3JlYXRlLGdldFByb3RvOm4uZ2V0UHJvdG90eXBlT2YsaXNFbnVtOnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGdldERlc2M6bi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isc2V0RGVzYzpuLmRlZmluZVByb3BlcnR5LHNldERlc2NzOm4uZGVmaW5lUHJvcGVydGllcyxnZXRLZXlzOm4ua2V5cyxnZXROYW1lczpuLmdldE93blByb3BlcnR5TmFtZXMsZ2V0U3ltYm9sczpuLmdldE93blByb3BlcnR5U3ltYm9scyxlYWNoOltdLmZvckVhY2h9fSx7fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9byhlKSxzPW4uZ2V0S2V5cyhpKSxhPXMubGVuZ3RoLGM9MDthPmM7KWlmKGlbcj1zW2MrK11dPT09dClyZXR1cm4gcn19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC50YXNrIikuc2V0LGM9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsdT1zLnByb2Nlc3MsbD1zLlByb21pc2UsZj0icHJvY2VzcyI9PWUoIi4vJC5jb2YiKSh1KSxkPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO2ZvcihmJiYoZT11LmRvbWFpbikmJih1LmRvbWFpbj1udWxsLGUuZXhpdCgpKTtuOyl0PW4uZG9tYWluLHI9bi5mbix0JiZ0LmVudGVyKCkscigpLHQmJnQuZXhpdCgpLG49bi5uZXh0O289dm9pZCAwLGUmJmUuZW50ZXIoKX07aWYoZilpPWZ1bmN0aW9uKCl7dS5uZXh0VGljayhkKX07ZWxzZSBpZihjKXt2YXIgcD0xLGI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBjKGQpLm9ic2VydmUoYix7Y2hhcmFjdGVyRGF0YTohMH0pLGk9ZnVuY3Rpb24oKXtiLmRhdGE9cD0tcH19ZWxzZSBpPWwmJmwucmVzb2x2ZT9mdW5jdGlvbigpe2wucmVzb2x2ZSgpLnRoZW4oZCl9OmZ1bmN0aW9uKCl7YS5jYWxsKHMsZCl9O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMCxkb21haW46ZiYmdS5kb21haW59O28mJihvLm5leHQ9dCksbnx8KG49dCxpKCkpLG89dH19LHsiLi8kLmNvZiI6MzAsIi4vJC5nbG9iYWwiOjQxLCIuLyQudGFzayI6NzJ9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuLyQuY29yZSI6MzEsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQucmVkZWZpbmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCluKGUscix0W3JdKTtyZXR1cm4gZX19LHsiLi8kLnJlZGVmaW5lIjo2M31dLDYzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5oaWRlIil9LHsiLi8kLmhpZGUiOjQzfV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9T2JqZWN0LmlzfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OmUhPWUmJnQhPXR9fSx7fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5nZXREZXNjLG89ZSgiLi8kLmlzLW9iamVjdCIpLGk9ZSgiLi8kLmFuLW9iamVjdCIpLHM9ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vJC5jdHgiKShGdW5jdGlvbi5jYWxsLG4oT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG8odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goaSl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhlLHQpLHI/ZS5fX3Byb3RvX189dDpvKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOnN9fSx7Ii4vJCI6NTYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLW9iamVjdCI6NDl9XSw2NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuY29yZSIpLG89ZSgiLi8kIiksaT1lKCIuLyQuZGVzY3JpcHRvcnMiKSxzPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W3NdJiZvLnNldERlc2ModCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vJCI6NTYsIi4vJC5jb3JlIjozMSwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLndrcyI6Nzh9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLnNldERlc2Msbz1lKCIuLyQuaGFzIiksaT1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vJCI6NTYsIi4vJC5oYXMiOjQyLCIuLyQud2tzIjo3OH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iiksbz1lKCIuLyQuYS1mdW5jdGlvbiIpLGk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbaV0pP3Q6byhyKX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLndrcyI6Nzh9XSw3MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKHIrIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciEiKTtyZXR1cm4gZX19LHt9XSw3MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGE9U3RyaW5nKG8odCkpLGM9bihyKSx1PWEubGVuZ3RoO3JldHVybiAwPmN8fGM+PXU/ZT8iIjp2b2lkIDA6KGk9YS5jaGFyQ29kZUF0KGMpLDU1Mjk2Pml8fGk+NTYzMTl8fGMrMT09PXV8fChzPWEuY2hhckNvZGVBdChjKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2EuY2hhckF0KGMpOmk6ZT9hLnNsaWNlKGMsYysyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC50by1pbnRlZ2VyIjo3M31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmN0eCIpLGE9ZSgiLi8kLmludm9rZSIpLGM9ZSgiLi8kLmh0bWwiKSx1PWUoIi4vJC5kb20tY3JlYXRlIiksbD1lKCIuLyQuZ2xvYmFsIiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxwPWwuY2xlYXJJbW1lZGlhdGUsYj1sLk1lc3NhZ2VDaGFubmVsLGg9MCx2PXt9LHk9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsXz1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKHYuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PXZbZV07ZGVsZXRlIHZbZV0sdCgpfX0sZz1mdW5jdGlvbihlKXtfLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIHZbKytoXT1mdW5jdGlvbigpe2EoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbihoKSxofSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSB2W2VdfSwicHJvY2VzcyI9PWUoIi4vJC5jb2YiKShmKT9uPWZ1bmN0aW9uKGUpe2YubmV4dFRpY2socyhfLGUsMSkpfTpiPyhvPW5ldyBiLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1nLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmwuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhbC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2wucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGcsITEpKTpuPXkgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7Yy5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbeV09ZnVuY3Rpb24oKXtjLnJlbW92ZUNoaWxkKHRoaXMpLF8uY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhfLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vJC5jb2YiOjMwLCIuLyQuY3R4IjozMiwiLi8kLmRvbS1jcmVhdGUiOjM1LCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmh0bWwiOjQ0LCIuLyQuaW52b2tlIjo0NX1dLDczOltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlvYmplY3QiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC5pb2JqZWN0Ijo0Nn1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuLyQudG8taW50ZWdlciI6NzN9XSw3NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSx7Ii4vJC5kZWZpbmVkIjozM31dLDc3OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnNoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vJC51aWQiKSxpPWUoIi4vJC5nbG9iYWwiKS5TeW1ib2w7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1pJiZpW2VdfHwoaXx8bykoIlN5bWJvbC4iK2UpKX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5zaGFyZWQiOjY4LCIuLyQudWlkIjo3N31dLDc5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNsYXNzb2YiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi8kLmNvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vJC5jbGFzc29mIjoyOSwiLi8kLmNvcmUiOjMxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw4MDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuLyQuaXRlci1zdGVwIiksaT1lKCIuLyQuaXRlcmF0b3JzIikscz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuLyQuaXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vJC5hZGQtdG8tdW5zY29wYWJsZXMiOjI3LCIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuaXRlci1zdGVwIjo1NCwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBlKG4odCkscil9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8taW9iamVjdCI6NzR9XSw4MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLW9iamVjdCI6NzZ9XSw4MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDg0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpO24obi5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjplKCIuLyQuc2V0LXByb3RvIikuc2V0fSl9LHsiLi8kLmV4cG9ydCI6MzcsIi4vJC5zZXQtcHJvdG8iOjY1fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw4NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvPWUoIi4vJCIpLGk9ZSgiLi8kLmxpYnJhcnkiKSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5jbGFzc29mIiksdT1lKCIuLyQuZXhwb3J0IiksbD1lKCIuLyQuaXMtb2JqZWN0IiksZj1lKCIuLyQuYW4tb2JqZWN0IiksZD1lKCIuLyQuYS1mdW5jdGlvbiIpLHA9ZSgiLi8kLnN0cmljdC1uZXciKSxiPWUoIi4vJC5mb3Itb2YiKSxoPWUoIi4vJC5zZXQtcHJvdG8iKS5zZXQsdj1lKCIuLyQuc2FtZS12YWx1ZSIpLHk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIiksXz1lKCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciIpLGc9ZSgiLi8kLm1pY3JvdGFzayIpLG09IlByb21pc2UiLGo9cy5wcm9jZXNzLCQ9InByb2Nlc3MiPT1jKGopLE89c1ttXSx3PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBPKGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGUmJih0LmNvbnN0cnVjdG9yPU9iamVjdCksTy5yZXNvbHZlKHQpPT09dH0saz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9bmV3IE8oZSk7cmV0dXJuIGgocix0LnByb3RvdHlwZSkscn12YXIgcj0hMTt0cnl7aWYocj1PJiZPLnJlc29sdmUmJncoKSxoKHQsTyksdC5wcm90b3R5cGU9by5jcmVhdGUoTy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0fX0pLHQucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCl7fSlpbnN0YW5jZW9mIHR8fChyPSExKSxyJiZlKCIuLyQuZGVzY3JpcHRvcnMiKSl7dmFyIG49ITE7Ty5yZXNvbHZlKG8uc2V0RGVzYyh7fSwidGhlbiIse2dldDpmdW5jdGlvbigpe249ITB9fSkpLHI9bn19Y2F0Y2goaSl7cj0hMX1yZXR1cm4gcn0oKSx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkmJmU9PT1PJiZ0PT09bj8hMDp2KGUsdCl9LEM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZihlKVt5XTtyZXR1cm4gdm9pZCAwIT10P3Q6ZX0sRT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbChlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxTPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFQ9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxSPWZ1bmN0aW9uKGUsdCl7aWYoIWUubil7ZS5uPSEwO3ZhciByPWUuYztnKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUudixvPTE9PWUucyxpPTAsYT1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxhPXQucmVzb2x2ZSxjPXQucmVqZWN0O3RyeXtzPyhvfHwoZS5oPSEwKSxyPXM9PT0hMD9uOnMobikscj09PXQucHJvbWlzZT9jKFR5cGVFcnJvcigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1FKHIpKT9pLmNhbGwocixhLGMpOmEocikpOmMobil9Y2F0Y2godSl7Yyh1KX19O3IubGVuZ3RoPmk7KWEocltpKytdKTtyLmxlbmd0aD0wLGUubj0hMSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQscixvPWUucDtNKG8pJiYoJD9qLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbixvKToodD1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT90KHtwcm9taXNlOm8scmVhc29uOm59KToocj1zLmNvbnNvbGUpJiZyLmVycm9yJiZyLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG4pKSxlLmE9dm9pZCAwfSwxKX0pfX0sTT1mdW5jdGlvbihlKXt2YXIgdCxyPWUuX2Qsbj1yLmF8fHIuYyxvPTA7aWYoci5oKXJldHVybiExO2Zvcig7bi5sZW5ndGg+bzspaWYodD1uW28rK10sdC5mYWlsfHwhTSh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxOPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5kfHwodC5kPSEwLHQ9dC5yfHx0LHQudj1lLHQucz0yLHQuYT10LmMuc2xpY2UoKSxSKHQsITApKX0sRD1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuZCl7ci5kPSEwLHI9ci5yfHxyO3RyeXtpZihyLnA9PT1lKXRocm93IFR5cGVFcnJvcigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1FKGUpKT9nKGZ1bmN0aW9uKCl7dmFyIG49e3I6cixkOiExfTt0cnl7dC5jYWxsKGUsYShELG4sMSksYShOLG4sMSkpfWNhdGNoKG8pe04uY2FsbChuLG8pfX0pOihyLnY9ZSxyLnM9MSxSKHIsITEpKX1jYXRjaChuKXtOLmNhbGwoe3I6cixkOiExfSxuKX19fTtrfHwoTz1mdW5jdGlvbihlKXtkKGUpO3ZhciB0PXRoaXMuX2Q9e3A6cCh0aGlzLE8sbSksYzpbXSxhOnZvaWQgMCxzOjAsZDohMSx2OnZvaWQgMCxoOiExLG46ITF9O3RyeXtlKGEoRCx0LDEpLGEoTix0LDEpKX1jYXRjaChyKXtOLmNhbGwodCxyKX19LGUoIi4vJC5yZWRlZmluZS1hbGwiKShPLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBTKF8odGhpcyxPKSksbj1yLnByb21pc2Usbz10aGlzLl9kO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LG8uYy5wdXNoKHIpLG8uYSYmby5hLnB1c2gociksby5zJiZSKG8sITEpLG59LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSkpLHUodS5HK3UuVyt1LkYqIWsse1Byb21pc2U6T30pLGUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpKE8sbSksZSgiLi8kLnNldC1zcGVjaWVzIikobSksbj1lKCIuLyQuY29yZSIpW21dLHUodS5TK3UuRiohayxtLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFModGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKigha3x8dyghMCkpLG0se3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIE8mJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKiEoayYmZSgiLi8kLml0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7Ty5hbGwoZSlbImNhdGNoIl0oZnVuY3Rpb24oKXt9KX0pKSxtLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9Qyh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qscz1bXSxhPVQoZnVuY3Rpb24oKXtiKGUsITEscy5wdXNoLHMpO3ZhciByPXMubGVuZ3RoLGE9QXJyYXkocik7cj9vLmVhY2guY2FsbChzLGZ1bmN0aW9uKGUsbyl7dmFyIHM9ITE7dC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7c3x8KHM9ITAsYVtvXT1lLC0tcnx8bihhKSl9LGkpfSk6bihhKX0pO3JldHVybiBhJiZpKGEuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlamVjdCxvPVQoZnVuY3Rpb24oKXtiKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi8kIjo1NiwiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQuZXhwb3J0IjozNywiLi8kLmZvci1vZiI6MzksIi4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OSwiLi8kLml0ZXItZGV0ZWN0Ijo1MywiLi8kLmxpYnJhcnkiOjU4LCIuLyQubWljcm90YXNrIjo1OSwiLi8kLnJlZGVmaW5lLWFsbCI6NjIsIi4vJC5zYW1lLXZhbHVlIjo2NCwiLi8kLnNldC1wcm90byI6NjUsIi4vJC5zZXQtc3BlY2llcyI6NjYsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIjo2OSwiLi8kLnN0cmljdC1uZXciOjcwLCIuLyQud2tzIjo3OH1dLDg3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5zdHJpbmctYXQiKSghMCk7ZSgiLi8kLml0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuc3RyaW5nLWF0Ijo3MX1dLDg4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLmdsb2JhbCIpLGk9ZSgiLi8kLmhhcyIpLHM9ZSgiLi8kLmRlc2NyaXB0b3JzIiksYT1lKCIuLyQuZXhwb3J0IiksYz1lKCIuLyQucmVkZWZpbmUiKSx1PWUoIi4vJC5mYWlscyIpLGw9ZSgiLi8kLnNoYXJlZCIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksZD1lKCIuLyQudWlkIikscD1lKCIuLyQud2tzIiksYj1lKCIuLyQua2V5b2YiKSxoPWUoIi4vJC5nZXQtbmFtZXMiKSx2PWUoIi4vJC5lbnVtLWtleXMiKSx5PWUoIi4vJC5pcy1hcnJheSIpLF89ZSgiLi8kLmFuLW9iamVjdCIpLGc9ZSgiLi8kLnRvLWlvYmplY3QiKSxtPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaj1uLmdldERlc2MsJD1uLnNldERlc2MsTz1uLmNyZWF0ZSx3PWguZ2V0LGs9by5TeW1ib2wseD1vLkpTT04sQz14JiZ4LnN0cmluZ2lmeSxFPSExLFM9cCgiX2hpZGRlbiIpLFQ9bi5pc0VudW0sUj1sKCJzeW1ib2wtcmVnaXN0cnkiKSxNPWwoInN5bWJvbHMiKSxOPSJmdW5jdGlvbiI9PXR5cGVvZiBrLEQ9T2JqZWN0LnByb3RvdHlwZSxQPXMmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9TygkKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuICQodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWooRCx0KTtuJiZkZWxldGUgRFt0XSwkKGUsdCxyKSxuJiZlIT09RCYmJChELHQsbil9OiQsTD1mdW5jdGlvbihlKXt2YXIgdD1NW2VdPU8oay5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUscyYmRSYmUChELGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZnVuY3Rpb24odCl7aSh0aGlzLFMpJiZpKHRoaXNbU10sZSkmJih0aGlzW1NdW2VdPSExKSxQKHRoaXMsZSxtKDEsdCkpfX0pLHR9LEE9ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfSxGPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gciYmaShNLHQpPyhyLmVudW1lcmFibGU/KGkoZSxTKSYmZVtTXVt0XSYmKGVbU11bdF09ITEpLHI9TyhyLHtlbnVtZXJhYmxlOm0oMCwhMSl9KSk6KGkoZSxTKXx8JChlLFMsbSgxLHt9KSksZVtTXVt0XT0hMCksUChlLHQscikpOiQoZSx0LHIpfSxJPWZ1bmN0aW9uKGUsdCl7XyhlKTtmb3IodmFyIHIsbj12KHQ9Zyh0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylGKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LFU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9PKGUpOkkoTyhlKSx0KX0sVj1mdW5jdGlvbihlKXt2YXIgdD1ULmNhbGwodGhpcyxlKTtyZXR1cm4gdHx8IWkodGhpcyxlKXx8IWkoTSxlKXx8aSh0aGlzLFMpJiZ0aGlzW1NdW2VdP3Q6ITB9LHo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1qKGU9ZyhlKSx0KTtyZXR1cm4hcnx8IWkoTSx0KXx8aShlLFMpJiZlW1NdW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfSxIPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPXcoZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKXx8dD09U3x8bi5wdXNoKHQpO3JldHVybiBufSxCPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPXcoZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKSYmbi5wdXNoKE1bdF0pO3JldHVybiBufSxKPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUmJiFBKGUpKXtmb3IodmFyIHQscixuPVtlXSxvPTEsaT1hcmd1bWVudHM7aS5sZW5ndGg+bzspbi5wdXNoKGlbbysrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnkodCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLEEodCk/dm9pZCAwOnR9KSxuWzFdPXQsQy5hcHBseSh4LG4pfX0sVz11KGZ1bmN0aW9uKCl7dmFyIGU9aygpO3JldHVybiJbbnVsbF0iIT1DKFtlXSl8fCJ7fSIhPUMoe2E6ZX0pfHwie30iIT1DKE9iamVjdChlKSl9KTtOfHwoaz1mdW5jdGlvbigpe2lmKEEodGhpcykpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTtyZXR1cm4gTChkKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSl9LGMoay5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksQT1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGt9LG4uY3JlYXRlPVUsbi5pc0VudW09VixuLmdldERlc2M9eixuLnNldERlc2M9RixuLnNldERlc2NzPUksbi5nZXROYW1lcz1oLmdldD1ILG4uZ2V0U3ltYm9scz1CLHMmJiFlKCIuLyQubGlicmFyeSIpJiZjKEQsInByb3BlcnR5SXNFbnVtZXJhYmxlIixWLCEwKSk7dmFyIFk9eyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBpKFIsZSs9IiIpP1JbZV06UltlXT1rKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGIoUixlKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7RT0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7RT0hMX19O24uZWFjaC5jYWxsKCJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD1wKGUpO1lbZV09Tj90OkwodCl9KSxFPSEwLGEoYS5HK2EuVyx7U3ltYm9sOmt9KSxhKGEuUywiU3ltYm9sIixZKSxhKGEuUythLkYqIU4sIk9iamVjdCIse2NyZWF0ZTpVLGRlZmluZVByb3BlcnR5OkYsZGVmaW5lUHJvcGVydGllczpJLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjp6LGdldE93blByb3BlcnR5TmFtZXM6SCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Qn0pLHgmJmEoYS5TK2EuRiooIU58fFcpLCJKU09OIix7c3RyaW5naWZ5Okp9KSxmKGssIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5lbnVtLWtleXMiOjM2LCIuLyQuZXhwb3J0IjozNywiLi8kLmZhaWxzIjozOCwiLi8kLmdldC1uYW1lcyI6NDAsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaGFzIjo0MiwiLi8kLmlzLWFycmF5Ijo0OCwiLi8kLmtleW9mIjo1NywiLi8kLmxpYnJhcnkiOjU4LCIuLyQucHJvcGVydHktZGVzYyI6NjEsIi4vJC5yZWRlZmluZSI6NjMsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zaGFyZWQiOjY4LCIuLyQudG8taW9iamVjdCI6NzQsIi4vJC51aWQiOjc3LCIuLyQud2tzIjo3OH1dLDg5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIik7bi5Ob2RlTGlzdD1uLkhUTUxDb2xsZWN0aW9uPW4uQXJyYXl9LHsiLi8kLml0ZXJhdG9ycyI6NTUsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo4MH1dLDkwOltmdW5jdGlvbihlLHQscil7d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuZz1bXSx0aGlzLms9ZX1mdW5jdGlvbiByKGUpeyFmdW5jdGlvbiByKCl7dmFyIG49ZS50YWtlUmVjb3JkcygpO24ubGVuZ3RoJiZlLmsobixlKSxlLmY9c2V0VGltZW91dChyLHQuX3BlcmlvZCl9KCl9ZnVuY3Rpb24gbih0KXt2YXIgcixuPXt0eXBlOm51bGwsdGFyZ2V0Om51bGwsYWRkZWROb2RlczpbXSxyZW1vdmVkTm9kZXM6W10scHJldmlvdXNTaWJsaW5nOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxhdHRyaWJ1dGVOYW1lOm51bGwsYXR0cmlidXRlTmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6bnVsbH07Zm9yKHIgaW4gdCluW3JdIT09ZSYmdFtyXSE9PWUmJihuW3JdPXRbcl0pO3JldHVybiBufWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj1hKGUsdCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvLGM9bi5sZW5ndGg7dC5hJiZyLmEmJmkobixlLHIuYSx0LmQpLCh0LmJ8fHQuZSkmJihvPXMobixlLHIsdCkpLChvfHxuLmxlbmd0aCE9PWMpJiYocj1hKGUsdCkpfX1mdW5jdGlvbiBpKHQscixvLGkpe2Zvcih2YXIgcyxhLGM9e30sdT1yLmF0dHJpYnV0ZXMsbD11Lmxlbmd0aDtsLS07KXM9dVtsXSxhPXMubmFtZSxpJiZpW2FdPT09ZXx8KHMudmFsdWUhPT1vW2FdJiZ0LnB1c2gobih7dHlwZToiYXR0cmlidXRlcyIsdGFyZ2V0OnIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV0sYXR0cmlidXRlTmFtZXNwYWNlOnMubmFtZXNwYWNlVVJJfSkpLGNbYV09ITApO2ZvcihhIGluIG8pY1thXXx8dC5wdXNoKG4oe3RhcmdldDpyLHR5cGU6ImF0dHJpYnV0ZXMiLGF0dHJpYnV0ZU5hbWU6YSxvbGRWYWx1ZTpvW2FdfSkpfWZ1bmN0aW9uIHModCxyLG8scyl7ZnVuY3Rpb24gYShlLHIsbyxhLGMpe3ZhciBsPWUubGVuZ3RoLTE7Yz0tfigobC1jKS8yKTtmb3IodmFyIGYsZCxwO3A9ZS5wb3AoKTspZj1vW3AuaF0sZD1hW3AuaV0scy5iJiZjJiZNYXRoLmFicyhwLmgtcC5pKT49bCYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2ZdLHJlbW92ZWROb2RlczpbZl0sbmV4dFNpYmxpbmc6Zi5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6Zi5wcmV2aW91c1NpYmxpbmd9KSksYy0tKSxzLmEmJmQuYSYmaSh0LGYsZC5hLHMuZCkscy5jJiYzPT09Zi5ub2RlVHlwZSYmZi5ub2RlVmFsdWUhPT1kLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6Zn0pKSxzLmUmJnUoZixkKX1mdW5jdGlvbiB1KHIsbyl7Zm9yKHZhciBkLHAsYixoLHYseT1yLmNoaWxkTm9kZXMsXz1vLmIsZz15Lmxlbmd0aCxtPV8/Xy5sZW5ndGg6MCxqPTAsJD0wLE89MDtnPiR8fG0+TzspaD15WyRdLHY9KGI9X1tPXSkmJmIuaixoPT09dj8ocy5hJiZiLmEmJmkodCxoLGIuYSxzLmQpLHMuYyYmYi5jIT09ZSYmaC5ub2RlVmFsdWUhPT1iLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6aH0pKSxwJiZhKHAscix5LF8saikscy5lJiYoaC5jaGlsZE5vZGVzLmxlbmd0aHx8Yi5iJiZiLmIubGVuZ3RoKSYmdShoLGIpLCQrKyxPKyspOihsPSEwLGR8fChkPXt9LHA9W10pLGgmJihkW2I9YyhoKV18fChkW2JdPSEwLC0xPT09KGI9ZihfLGgsTywiaiIpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltoXSxuZXh0U2libGluZzpoLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpoLnByZXZpb3VzU2libGluZ30pKSxqKyspOnAucHVzaCh7aDokLGk6Yn0pKSwkKyspLHYmJnYhPT15WyRdJiYoZFtiPWModildfHwoZFtiXT0hMCwtMT09PShiPWYoeSx2LCQpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6by5qLHJlbW92ZWROb2Rlczpbdl0sbmV4dFNpYmxpbmc6X1tPKzFdLHByZXZpb3VzU2libGluZzpfW08tMV19KSksai0tKTpwLnB1c2goe2g6YixpOk99KSksTysrKSk7cCYmYShwLHIseSxfLGopfXZhciBsO3JldHVybiB1KHIsbyksbH1mdW5jdGlvbiBhKGUsdCl7dmFyIHI9ITA7cmV0dXJuIGZ1bmN0aW9uIG4oZSl7dmFyIG89e2o6ZX07cmV0dXJuIXQuY3x8MyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlPyh0LmEmJnImJjE9PT1lLm5vZGVUeXBlJiYoby5hPWwoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuZCYmIXQuZFtyLm5hbWVdfHwoZVtyLm5hbWVdPXIudmFsdWUpLGV9KSksciYmKHQuYnx8dC5jfHx0LmEmJnQuZSkmJihvLmI9dShlLmNoaWxkTm9kZXMsbikpLHI9dC5lKTpvLmM9ZS5ub2RlVmFsdWUsb30oZSl9ZnVuY3Rpb24gYyhlKXt0cnl7cmV0dXJuIGUuaWR8fChlLm1vX2lkPWUubW9faWR8fGQrKyl9Y2F0Y2godCl7dHJ5e3JldHVybiBlLm5vZGVWYWx1ZX1jYXRjaChyKXtyZXR1cm4gZCsrfX19ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgcj1bXSxuPTA7bjxlLmxlbmd0aDtuKyspcltuXT10KGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciByPXt9LG49MDtuPGUubGVuZ3RoO24rKylyPXQocixlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gZihlLHQscixuKXtmb3IoO3I8ZS5sZW5ndGg7cisrKWlmKChuP2Vbcl1bbl06ZVtyXSk9PT10KXJldHVybiByO3JldHVybi0xfXQuX3BlcmlvZD0zMCx0LnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17YTohISh0LmF0dHJpYnV0ZXN8fHQuYXR0cmlidXRlRmlsdGVyfHx0LmF0dHJpYnV0ZU9sZFZhbHVlKSxiOiEhdC5jaGlsZExpc3QsZTohIXQuc3VidHJlZSxjOiEoIXQuY2hhcmFjdGVyRGF0YSYmIXQuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKX0saT10aGlzLmcscz0wO3M8aS5sZW5ndGg7cysrKWlbc10ubT09PWUmJmkuc3BsaWNlKHMsMSk7dC5hdHRyaWJ1dGVGaWx0ZXImJihuLmQ9bCh0LmF0dHJpYnV0ZUZpbHRlcixmdW5jdGlvbihlLHQpewpyZXR1cm4gZVt0XT0hMCxlfSkpLGkucHVzaCh7bTplLGw6byhlLG4pfSksdGhpcy5mfHxyKHRoaXMpfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZyxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXS5sKGUpO3JldHVybiBlfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5nPVtdLGNsZWFyVGltZW91dCh0aGlzLmYpLHRoaXMuZj1udWxsfX07dmFyIGQ9MTtyZXR1cm4gdH0odm9pZCAwKX0se31dLDkxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmV8fGZ1bmN0aW9uKGUsdCxyLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxpLHM9WyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLCJyZWNvbmZpZ3VyZSIsInNldFByb3RvdHlwZSIsInByZXZlbnRFeHRlbnNpb25zIl0sYT10LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09ZS5jYWxsKHQpfX0oZS5wcm90b3R5cGUudG9TdHJpbmcpLGM9dC5wcm90b3R5cGUuaW5kZXhPZj90LmluZGV4T2Z8fGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gdC5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUscixuKX06ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1yfHwwO248ZS5sZW5ndGg7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSx1PXIuTWFwIT09biYmTWFwLnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKCl7cmV0dXJuIG5ldyBNYXB9OmZ1bmN0aW9uKCl7dmFyIGU9W10sdD1bXTtyZXR1cm57c2l6ZTowLGhhczpmdW5jdGlvbih0KXtyZXR1cm4gYyhlLHQpPi0xfSxnZXQ6ZnVuY3Rpb24ocil7cmV0dXJuIHRbYyhlLHIpXX0sc2V0OmZ1bmN0aW9uKHIsbil7dmFyIG89YyhlLHIpOy0xPT09bz8oZS5wdXNoKHIpLHQucHVzaChuKSx0aGlzLnNpemUrKyk6dFtvXT1ufSwiZGVsZXRlIjpmdW5jdGlvbihyKXt2YXIgbj1jKGUscik7bj4tMSYmKGUuc3BsaWNlKG4sMSksdC5zcGxpY2UobiwxKSx0aGlzLnNpemUtLSl9LGZvckVhY2g6ZnVuY3Rpb24ocil7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspci5jYWxsKGFyZ3VtZW50c1sxXSx0W25dLGVbbl0sdGhpcyl9fX0sbD1lLmdldE93blByb3BlcnR5TmFtZXM/ZnVuY3Rpb24oKXt2YXIgdD1lLmdldE93blByb3BlcnR5TmFtZXM7dHJ5e2FyZ3VtZW50cy5jYWxsZWV9Y2F0Y2gocil7dmFyIG49KHQoYykuam9pbigiICIpKyIgIikucmVwbGFjZSgvcHJvdG90eXBlIHxsZW5ndGggfG5hbWUgL2csIiIpLnNsaWNlKDAsLTEpLnNwbGl0KCIgIik7bi5sZW5ndGgmJih0PWZ1bmN0aW9uKHQpe3ZhciByPWUuZ2V0T3duUHJvcGVydHlOYW1lcyh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClmb3IodmFyIG8saT0wO2k8bi5sZW5ndGg7KShvPWMocixuW2krK10pKT4tMSYmci5zcGxpY2UobywxKTtyZXR1cm4gcn0pfXJldHVybiB0fSgpOmZ1bmN0aW9uKHQpe3ZhciByLG4sbz1bXTtpZigiaGFzT3duUHJvcGVydHkiaW4gdClmb3IociBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJm8ucHVzaChyKTtlbHNle249ZS5oYXNPd25Qcm9wZXJ0eTtmb3IociBpbiB0KW4uY2FsbCh0LHIpJiZvLnB1c2gocil9cmV0dXJuIGEodCkmJm8ucHVzaCgibGVuZ3RoIiksb30sZj1lLmdldFByb3RvdHlwZU9mLGQ9ZS5kZWZpbmVQcm9wZXJ0aWVzJiZlLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixwPXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxyLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oKXt2YXIgZT0rbmV3IERhdGUsdD1lO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3IoKHQ9K25ldyBEYXRlKS1lKX0sMTcpfX0oKSxiPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1vLmdldChlKTtuPyh2KG4sZSksbShlLG4sdCxyKSk6KG49aChlKSxtKGUsbix0LHIpLDE9PT1vLnNpemUmJnAoeSkpfSxoPWZ1bmN0aW9uKHQscil7dmFyIG4saT1sKHQpLHM9W10sYT0wLHI9e2hhbmRsZXJzOnUoKSxmcm96ZW46ZS5pc0Zyb3plbj9lLmlzRnJvemVuKHQpOiExLGV4dGVuc2libGU6ZS5pc0V4dGVuc2libGU/ZS5pc0V4dGVuc2libGUodCk6ITAscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6Zyh0LHIpfTtpZihkKWZvcihuPXIuZGVzY3JpcHRvcnM9W107YTxpLmxlbmd0aDspblthXT1kKHQsaVthXSksc1thXT10W2lbYSsrXV07ZWxzZSBmb3IoO2E8aS5sZW5ndGg7KXNbYV09dFtpW2ErK11dO3JldHVybiBvLnNldCh0LHIpLHJ9LHY9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxhPXQudmFsdWVzW3JdLGM9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbyYmKGE9PT1zPzA9PT1hJiYxL2EhPT0xL3M6YT09PWF8fHM9PT1zKSYmKGooZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LnZhbHVlc1tyXT1zKSwhYy5jb25maWd1cmFibGV8fG8uY29uZmlndXJhYmxlJiZvLndyaXRhYmxlPT09Yy53cml0YWJsZSYmby5lbnVtZXJhYmxlPT09Yy5lbnVtZXJhYmxlJiZvLmdldD09PWMuZ2V0JiZvLnNldD09PWMuc2V0fHwoaihlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6YX0sbiksdC5kZXNjcmlwdG9yc1tyXT1vKX06ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dC5wcm9wZXJ0aWVzW3JdLGk9ZVtvXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihqKGUsdCx7bmFtZTpvLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbiksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbixvLGkpe2Zvcih2YXIgcyxhPXIubGVuZ3RoO24mJmEtLTspbnVsbCE9PXJbYV0mJihzPWQoZSxyW2FdKSxuLS0scz90KGUsbyxhLGkscyk6KGooZSxvLHtuYW1lOnJbYV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1thXX0saSksby5wcm9wZXJ0aWVzLnNwbGljZShhLDEpLG8udmFsdWVzLnNwbGljZShhLDEpLG8uZGVzY3JpcHRvcnMuc3BsaWNlKGEsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbixvKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGooZSxuLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tpXX0sbyksbi5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG4udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihuLG8saSl7aWYobi5oYW5kbGVycy5zaXplJiYhbi5mcm96ZW4pe3ZhciBzLGEsdSxwLGIsaCx2LHksXz1uLnZhbHVlcyxnPW4uZGVzY3JpcHRvcnMsbT0wO2lmKG4uZXh0ZW5zaWJsZSlpZihzPW4ucHJvcGVydGllcy5zbGljZSgpLGE9cy5sZW5ndGgsdT1sKG8pLGcpe2Zvcig7bTx1Lmxlbmd0aDspYj11W20rK10scD1jKHMsYikseT1kKG8sYiksLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChvW2JdKSxnLnB1c2goeSkpOihzW3BdPW51bGwsYS0tLHQobyxuLHAsaSx5KSk7cihvLHMsYSxuLGkpLGUuaXNFeHRlbnNpYmxlKG8pfHwobi5leHRlbnNpYmxlPSExLGoobyxuLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om99LGkpLG4uZnJvemVuPWUuaXNGcm96ZW4obykpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSxoPW9bYl0sLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChoKSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpKSk7cihvLHMsYSxuLGkpfWVsc2UgaWYoIW4uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKWI9c1ttXSx0KG8sbixtLGksZChvLGIpKTtlLmlzRnJvemVuKG8pJiYobi5mcm96ZW49ITApfWYmJih2PWYobyksdiE9PW4ucHJvdG8mJihqKG8sbix7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpvLG9sZFZhbHVlOm4ucHJvdG99KSxuLnByb3RvPXYpKX19fSgpLHk9ZnVuY3Rpb24oKXtvLnNpemUmJihvLmZvckVhY2godiksaS5mb3JFYWNoKF8pLHAoeSkpfSxfPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9by5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW8uZ2V0KGUpO2lmKHIpe3ZhciBuLGk9e29iamVjdDplfTtmb3IobiBpbiB0KSJvYmplY3QiIT09biYmKGlbbl09dFtuXSk7aihlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxhPW8uZ2V0KGUpLGM9YXJndW1lbnRzWzJdLHU9Yz09PW4/cigpOnIuY2FsbChjKTtpZihhJiZ2KGEsZSx0KSxhJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2ooZSxhLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWkuZ2V0KHIpO298fGkuc2V0KHIsbz17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxvLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om4uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG8pfSxqPWZ1bmN0aW9uKGUsdCxyLG4pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbz10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG58fC0xPT09YyhvLG4pKSYmYyhvLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O289dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbyl7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobz09PW4pbz1zO2Vsc2UgaWYoIW98fCJvYmplY3QiIT10eXBlb2Ygbyl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIGIodCxyLG8pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG49aS5nZXQodCk7cmV0dXJuIG4mJihyPW4ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG4ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSkscChmdW5jdGlvbigpe18obix0KX0pLDE9PT1uLm9ic2VydmVkLnNpemUmJm4ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm4ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9vWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6Zyh0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSksXyh0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDkyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuRGF0YU9iamVjdE9ic2VydmVyPXIuRGF0YU9iamVjdFJlcG9ydGVyPXIuU3luY2hlcj12b2lkIDAsZSgibXV0YXRpb25vYnNlcnZlci1zaGltIiksZSgib2JqZWN0Lm9ic2VydmUiKSxlKCJhcnJheS5vYnNlcnZlIik7dmFyIG89ZSgiLi9zeW5jaGVyL1N5bmNoZXIiKSxpPW4obykscz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIiksYT1uKHMpLGM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciIpLHU9bihjKTtyLlN5bmNoZXI9aVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdFJlcG9ydGVyPWFbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RPYnNlcnZlcj11WyJkZWZhdWx0Il19LHsiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL3N5bmNoZXIvU3luY2hlciI6OTksImFycmF5Lm9ic2VydmUiOjEsIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSI6OTAsIm9iamVjdC5vYnNlcnZlIjo5MX1dLDkzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IikscD1uKGQpLGI9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxoPW4oYiksdj1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9zeW5jaGVyPXQsYS5fdXJsPXIsYS5fc2NoZW1hPW4sYS5fc3RhdHVzPW8sYS5fc3luY09iaj1uZXcgcFsiZGVmYXVsdCJdKGkpLGEuX2NoaWxkcmVucz1zLGEuX3ZlcnNpb249MCxhLl9jaGlsZElkPTAsYS5fY2hpbGRyZW5PYmplY3RzPXt9LGEuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGEuX293bmVyPXQuX293bmVyLGEuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG89cituLGk9dC5fYnVzLmFkZExpc3RlbmVyKG8sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsYVsiZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBuPXIuX293bmVyKyIjIityLl9jaGlsZElkLG89ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpvLGJvZHk6e3Jlc291cmNlOm4sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYT1uZXcgaFsiZGVmYXVsdCJdKHIsbix0LHIuX293bmVyLGkpO2Eub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpvLGNoaWxkSWQ6bn0pfSksci5fY2hpbGRyZW5PYmplY3RzW25dPWEsZShhKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBuPW5ldyBoWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW4sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbz17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixvKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihvKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG49e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYobi5ib2R5LnZhbHVlPWUuZGF0YSk6KG4uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsbi5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG4uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihuLnRvPXQucGF0aCxuLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobil9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG49dC5ib2R5LmF0dHJpYnV0ZSxvPSgwLHYuZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixhPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2EsMF0uY29uY2F0KG8pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYz1pLm9iaix1PWkubGFzdDtjLnNwbGljZSh1LG8pfWVsc2UgaS5vYmpbaS5sYXN0XT1vO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bzpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxuPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtuP3QuX2NoYW5nZU9iamVjdChuLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCIuL1N5bmNPYmplY3QiOjk4LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYT1uKHMpLGM9ZSgiLi9TeW5jT2JqZWN0IiksdT1uKGMpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBhPXRoaXM7YS5fcGFyZW50PXQsYS5fY2hpbGRJZD1yLGEuX293bmVyPW8sYS5fbXNnSWQ9cyxhLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obiksYS5fYnVzPXQuX2J1cyxhLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGo9bihtKSwkPXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSxPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxzLGMsbCl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBmPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLHMuZGF0YSxjKSksZD1mO3JldHVybiBkLl92ZXJzaW9uPWwsZC5fZmlsdGVycz17fSxkLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ZC5fb25GaWx0ZXIoZSl9KSwoMCxpWyJkZWZhdWx0Il0pKHMuY2hpbGRyZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXMuY2hpbGRyZW5zW2VdO2QuX2NoaWxkcmVuT2JqZWN0c1tlXT1uZXcgalsiZGVmYXVsdCJdKGQsZSx0KX0pLGQuX2FsbG9jYXRlTGlzdGVuZXJzKCksZn1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG49e3R5cGU6JC5FWEFDVCxjYWxsYmFjazp0fSxvPWUuaW5kZXhPZigiKiIpO289PT1lLmxlbmd0aC0xJiYoMD09PW8/bi50eXBlPSQuQU5ZOihuLnR5cGU9JC5TVEFSVCxyPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpKSx0aGlzLl9maWx0ZXJzW3JdPW59fSx7a2V5OiJfb25GaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0Ll9maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXQuX2ZpbHRlcnNbcl07bi50eXBlPT09JC5BTlk/bi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLlNUQVJUPzA9PT1lLmZpZWxkLmluZGV4T2YocikmJm4uY2FsbGJhY2soZSk6bi50eXBlPT09JC5FWEFDVCYmZS5maWVsZD09PXImJm4uY2FsbGJhY2soZSl9KX19XSksdH0oZ1siZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09Tyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdCI6OTMsIi4vRGF0YU9iamVjdENoaWxkIjo5NCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuLi91dGlscy91dGlscy5qcyIpLGo9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBjPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLGkscykpLGw9YztyZXR1cm4gbC5fc3Vic2NyaXB0aW9ucz17fSxsLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGwuX29uQ2hhbmdlKGUpfSksbC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxjfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9yZXNwb25zZUxpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmZS5fb25SZXNwb25zZSh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9yZXNwb25zZUxpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiaW52aXRlT2JzZXJ2ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImNyZWF0ZSIsZnJvbTp0Ll9zeW5jaGVyLl9vd25lcix0bzp0Ll9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6dC5fdXJsLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6dC5fc3luY09iai5kYXRhLGF1dGhvcmlzZTplfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci1SQ1Y6ICIsZSksZS5ib2R5LnR5cGUpe2Nhc2Uic3Vic2NyaWJlIjp0Ll9vblN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjp0Ll9vblVuU3Vic2NyaWJlKGUpfX19LHtrZXk6Il9vblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsYWNjZXB0OmZ1bmN0aW9uKCl7dmFyIG49e3VybDpyLHN0YXR1czoib24ifTt0Ll9zdWJzY3JpcHRpb25zW3JdPW47dmFyIG89e307cmV0dXJuKDAsaVsiZGVmYXVsdCJdKSh0Ll9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dC5fY2hpbGRyZW5PYmplY3RzW2VdLmRhdGE7b1tlXT0oMCxtLmRlZXBDbG9uZSkocil9KSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc2NoZW1hOnQuX3NjaGVtYSx2ZXJzaW9uOnQuX3ZlcnNpb24sdmFsdWU6e2RhdGE6KDAsbS5kZWVwQ2xvbmUpKHQuZGF0YSksY2hpbGRyZW5zOm99fX0pLG59LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDMsZGVzYzpyfX0pfX07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlNVQlNDUklQVElPTi1FVkVOVDogIixuKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uVW5TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXQuX3N1YnNjcmlwdGlvbnNbcl07ZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl07dmFyIG89e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsb2JqZWN0Om59O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJVTi1TVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbyksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG8pKX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJihjb25zb2xlLmxvZygiUkVTUE9OU0UtRVZFTlQ6ICIsciksdC5fb25SZXNwb25zZUhhbmRsZXIocikpfX0se2tleToic3Vic2NyaXB0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnN9fV0pLHR9KGdbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPWosdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3QiOjkzLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bihzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1uLHMuX2NoaWxkcmVuPW8scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09Yyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLk9iamVjdFR5cGU9ci5DaGFuZ2VUeXBlPXZvaWQgMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYyksbD1lKCIuLi91dGlscy91dGlscy5qcyIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgcj10aGlzO3IuX29ic2VydmVycz1bXSxyLl9maWx0ZXJzPXt9LHQ/ci5fZGF0YT0oMCxsLmRlZXBDbG9uZSkodCk6ci5fZGF0YT17fSxyLl9pbnRlcm5hbE9ic2VydmUobmV3IGQsci5fZGF0YSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMucHVzaChlKX19LHtrZXk6ImZpbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi4iKTtyZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdCh0KX19LHtrZXk6ImZpbmRCZWZvcmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZS5zcGxpdCgiLiIpO3JldHVybiB0Lmxhc3Q9ci5wb3AoKSx0Lm9iaj10aGlzLl9maW5kV2l0aFNwbGl0KHIpLHR9fSx7a2V5OiJfZmluZFdpdGhTcGxpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dFtlXX0pLHR9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0KGUpfSl9fSx7a2V5OiJfaXNPYnNlcnZhYmxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8ZS5jb25zdHJ1Y3Rvcj09PUFycmF5fX0se2tleToiX2ludGVybmFsT2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG49ZnVuY3Rpb24odCl7ci5fb25DaGFuZ2VzKGUsdCl9O2lmKHQuY29uc3RydWN0b3I9PT1PYmplY3Qpe09iamVjdC5vYnNlcnZlKHQsbik7Zm9yKHZhciBvIGluIHQpci5faXNPYnNlcnZhYmxlKHRbb10pJiZyLl9pbnRlcm5hbE9ic2VydmUoZVsibmV3Il0obyksdFtvXSl9ZWxzZSBpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkpe0FycmF5Lm9ic2VydmUodCxuKTtmb3IodmFyIGkgaW4gdClpZihyLl9pc09ic2VydmFibGUodFtpXSkpe3ZhciBzPWVbIm5ldyJdKG5ldyBwKHRbaV0saSkpO3IuX2ludGVybmFsT2JzZXJ2ZShzLHRbaV0pfX19fX0se2tleToiX29uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiB0KXt2YXIgbz10W25dLm9iamVjdCxpPXZvaWQgMDtpZihvLmNvbnN0cnVjdG9yPT09T2JqZWN0JiYoaT1oLk9CSkVDVCksby5jb25zdHJ1Y3Rvcj09PUFycmF5JiYoaT1oLkFSUkFZKSwic3BsaWNlIj09PXRbbl0udHlwZSkhZnVuY3Rpb24oKXt2YXIgcz10W25dLmluZGV4LGE9ZVsibmV3Il0oIiIrcyksYz1hLnRvU3RyaW5nKCksdT10W25dLnJlbW92ZWQubGVuZ3RoO2lmKDAhPT11KXt2YXIgZj10W25dLnJlbW92ZWQ7Zi5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7ci5faXNPYnNlcnZhYmxlKHQpJiZlLnJlbW92ZUluZGV4KHMrbil9KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YyxkYXRhOnV9KX12YXIgZD10W25dLmFkZGVkQ291bnQ7aWYoMCE9PWQpe3ZhciBoPW8uc2xpY2UocyxzK2QpO2guZm9yRWFjaChmdW5jdGlvbih0LG4pe2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG89ZVsibmV3Il0obmV3IHAodCxzK24pKTtyLl9pbnRlcm5hbE9ic2VydmUobyx0KX19KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShoKX0pfXMhPT1vLmxlbmd0aC0xJiZlLnJlSW5kZXhGcm9tKG8pfSgpO2Vsc2V7dmFyIHM9ZVsibmV3Il0odFtuXS5uYW1lKSxhPXMudG9TdHJpbmcoKTtpZigtMSE9PWEuaW5kZXhPZigiU3ltYm9sIikpY29udGludWU7dmFyIGM9b1t0W25dLm5hbWVdOyJ1cGRhdGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuVVBEQVRFLG9UeXBlOmksZmllbGQ6YSxkYXRhOigwLGwuZGVlcENsb25lKShjKX0pLCJhZGQiPT09dFtuXS50eXBlJiYodGhpcy5faW50ZXJuYWxPYnNlcnZlKHMsYyksdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSksImRlbGV0ZSI9PT10W25dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5SRU1PVkUsb1R5cGU6aSxmaWVsZDphfSl9fX19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfX1dKSxlfSgpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMuX3BhdGg9W10sdGhpcy5fb2JzZXJ2YWJsZXM9e319cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJyZW1vdmVJbmRleCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX29ic2VydmFibGVzW2VdfX0se2tleToicmVJbmRleEZyb20iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLl9vYnNlcnZhYmxlcykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9vYnNlcnZhYmxlc1tyXSxvPWUuaW5kZXhPZihuLm9iaik7bi5pZHghPW8mJihuLmlkeD1vLGRlbGV0ZSB0Ll9vYnNlcnZhYmxlc1tyXSx0Ll9vYnNlcnZhYmxlc1tvXT1uKX0pfX0se2tleToibmV3Iix2YWx1ZTpmdW5jdGlvbihlKXtlLmNvbnN0cnVjdG9yPT1wJiYodGhpcy5fb2JzZXJ2YWJsZXNbZS5pZHhdPWUpO3ZhciB0PXRoaXMuY2xvbmUoKTtyZXR1cm4gdC5fcGF0aC5wdXNoKGUpLHR9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZTtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX3BhdGgucHVzaChlKX0pLHR9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7MD09PXI/ZT10LnRvU3RyaW5nKCk6ZSs9Ii4iK3QudG9TdHJpbmcoKX0pLGV9fV0pLGV9KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5vYmo9dCx0aGlzLmlkeD1yfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR4LnRvU3RyaW5nKCl9fV0pLGV9KCksYj1yLkNoYW5nZVR5cGU9e1VQREFURToidXBkYXRlIixBREQ6ImFkZCIsUkVNT1ZFOiJyZW1vdmUifSxoPXIuT2JqZWN0VHlwZT17T0JKRUNUOiJvYmplY3QiLEFSUkFZOiJhcnJheSJ9O3JbImRlZmF1bHQiXT1mfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMDAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW4obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLHA9bihkKSxiPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksaD1uKGIpLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLl9vd25lcj10LG8uX2J1cz1yLG8uX3N1YlVSTD1uLnJ1bnRpbWVVUkwrIi9zbSIsby5fcmVwb3J0ZXJzPXt9LG8uX29ic2VydmVycz17fSxvLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6by5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpvLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6by5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3IucmVwb3J0ZXI9bi5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4uX293bmVyLHRvOm4uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtuLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihvKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG8pLDIwMD09PW8uYm9keS5jb2RlKXt2YXIgcz1vLmJvZHkucmVzb3VyY2UsYT1uZXcgZlsiZGVmYXVsdCJdKG4scyxlLCJvbiIscixvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO24uX3JlcG9ydGVyc1tzXT1hLHQoYSl9ZWxzZSBpKG8uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihvLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbik7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG4uYm9keS5jb2RlPDIwMClzPW5ldyBoWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsbi5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW4uYm9keS5jb2RlKXt2YXIgYT1uZXcgcFsiZGVmYXVsdCJdKHIsdCxlLCJvbiIsbi5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sbi5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1hLG8oYSkscy5hcHBseShhKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6Im9uTm90aWZpY2F0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbk5vdGlmaWNhdGlvbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10Ll9yZXBvcnRlcnNbZS5ib2R5LnRvXTtyLl9vbkZvcndhcmQoZSl9fSx7a2V5OiJfb25SZW1vdGVDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb20uc2xpY2UoMCwtMTMpLG49e3R5cGU6ZS50eXBlLGZyb206ZS5ib2R5LnNvdXJjZSx1cmw6cixzY2hlbWE6ZS5ib2R5LnNjaGVtYSx2YWx1ZTplLmJvZHkudmFsdWUsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbj0yMDA7ciYmKG49ciksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbiksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblJlbW90ZURlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZSxuPXQuX29ic2VydmVyc1tyXTtpZihuKXt2YXIgbz17dHlwZTplLnR5cGUsdXJsOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbz0yMDA7ciYmKG89ciksMjAwPT09byYmblsiZGVsZXRlIl0oKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpvLHNvdXJjZTp0Ll9vd25lcn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbyksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG8pKX1lbHNlIHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwNCxzb3VyY2U6dC5fb3duZXJ9fSl9fSx7a2V5OiJvd25lciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX293bmVyfX0se2tleToicmVwb3J0ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVwb3J0ZXJzfX0se2tleToib2JzZXJ2ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT12LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjk1LCIuL0RhdGFPYmplY3RSZXBvcnRlciI6OTYsIi4vRGF0YVByb3Zpc2lvbmFsIjo5NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSwxMDA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsYlsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiBjKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGwoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYyhlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGY9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGYpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYj1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1hLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1jLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1sfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3fV19LHt9LFs5Ml0pKDkyKX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKLyohCiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHMKICogSVB2NiBTdXBwb3J0CiAqCiAqIFZlcnNpb246IDEuMTguMQogKgogKiBBdXRob3I6IFJvZG5leSBSZWhtCiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzLwogKgogKiBMaWNlbnNlZCB1bmRlcgogKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UKICoKICovCgooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7CiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsKICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgIGRlZmluZShmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuSVB2NiA9IGZhY3Rvcnkocm9vdCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChyb290KSB7CiAgJ3VzZSBzdHJpY3QnOwoKICAvKgogIHZhciBfaW4gPSAiZmU4MDowMDAwOjAwMDA6MDAwMDowMjA0OjYxZmY6ZmU5ZDpmMTU2IjsKICB2YXIgX291dCA9IElQdjYuYmVzdChfaW4pOwogIHZhciBfZXhwZWN0ZWQgPSAiZmU4MDo6MjA0OjYxZmY6ZmU5ZDpmMTU2IjsKCiAgY29uc29sZS5sb2coX2luLCBfb3V0LCBfZXhwZWN0ZWQsIF9vdXQgPT09IF9leHBlY3RlZCk7CiAgKi8KCiAgLy8gc2F2ZSBjdXJyZW50IElQdjYgdmFyaWFibGUsIGlmIGFueQogIHZhciBfSVB2NiA9IHJvb3QgJiYgcm9vdC5JUHY2OwoKICBmdW5jdGlvbiBiZXN0UHJlc2VudGF0aW9uKGFkZHJlc3MpIHsKICAgIC8vIGJhc2VkIG9uOgogICAgLy8gSmF2YXNjcmlwdCB0byB0ZXN0IGFuIElQdjYgYWRkcmVzcyBmb3IgcHJvcGVyIGZvcm1hdCwgYW5kIHRvCiAgICAvLyBwcmVzZW50IHRoZSAiYmVzdCB0ZXh0IHJlcHJlc2VudGF0aW9uIiBhY2NvcmRpbmcgdG8gSUVURiBEcmFmdCBSRkMgYXQKICAgIC8vIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtNm1hbi10ZXh0LWFkZHItcmVwcmVzZW50YXRpb24tMDQKICAgIC8vIDggRmViIDIwMTAgUmljaCBCcm93biwgRGFydHdhcmUsIExMQwogICAgLy8gUGxlYXNlIGZlZWwgZnJlZSB0byB1c2UgdGhpcyBjb2RlIGFzIGxvbmcgYXMgeW91IHByb3ZpZGUgYSBsaW5rIHRvCiAgICAvLyBodHRwOi8vd3d3LmludGVybWFwcGVyLmNvbQogICAgLy8gaHR0cDovL2ludGVybWFwcGVyLmNvbS9zdXBwb3J0L3Rvb2xzL0lQVjYtVmFsaWRhdG9yLmFzcHgKICAgIC8vIGh0dHA6Ly9kb3dubG9hZC5kYXJ0d2FyZS5jb20vdGhpcmRwYXJ0eS9pcHY2dmFsaWRhdG9yLmpzCgogICAgdmFyIF9hZGRyZXNzID0gYWRkcmVzcy50b0xvd2VyQ2FzZSgpOwogICAgdmFyIHNlZ21lbnRzID0gX2FkZHJlc3Muc3BsaXQoJzonKTsKICAgIHZhciBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CiAgICB2YXIgdG90YWwgPSA4OwoKICAgIC8vIHRyaW0gY29sb25zICg6OiBvciA6OmE6Yjpj4oCmIG9yIOKApmE6YjpjOjopCiAgICBpZiAoc2VnbWVudHNbMF0gPT09ICcnICYmIHNlZ21lbnRzWzFdID09PSAnJyAmJiBzZWdtZW50c1syXSA9PT0gJycpIHsKICAgICAgLy8gbXVzdCBoYXZlIGJlZW4gOjoKICAgICAgLy8gcmVtb3ZlIGZpcnN0IHR3byBpdGVtcwogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgfSBlbHNlIGlmIChzZWdtZW50c1swXSA9PT0gJycgJiYgc2VnbWVudHNbMV0gPT09ICcnKSB7CiAgICAgIC8vIG11c3QgaGF2ZSBiZWVuIDo6eHh4eAogICAgICAvLyByZW1vdmUgdGhlIGZpcnN0IGl0ZW0KICAgICAgc2VnbWVudHMuc2hpZnQoKTsKICAgIH0gZWxzZSBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0gPT09ICcnICYmIHNlZ21lbnRzW2xlbmd0aCAtIDJdID09PSAnJykgewogICAgICAvLyBtdXN0IGhhdmUgYmVlbiB4eHh4OjoKICAgICAgc2VnbWVudHMucG9wKCk7CiAgICB9CgogICAgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOwoKICAgIC8vIGFkanVzdCB0b3RhbCBzZWdtZW50cyBmb3IgSVB2NCB0cmFpbGVyCiAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0uaW5kZXhPZignLicpICE9PSAtMSkgewogICAgICAvLyBmb3VuZCBhICIuIiB3aGljaCBtZWFucyBJUHY0CiAgICAgIHRvdGFsID0gNzsKICAgIH0KCiAgICAvLyBmaWxsIGVtcHR5IHNlZ21lbnRzIHRoZW0gd2l0aCAiMDAwMCIKICAgIHZhciBwb3M7CiAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKHNlZ21lbnRzW3Bvc10gPT09ICcnKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocG9zIDwgdG90YWwpIHsKICAgICAgc2VnbWVudHMuc3BsaWNlKHBvcywgMSwgJzAwMDAnKTsKICAgICAgd2hpbGUgKHNlZ21lbnRzLmxlbmd0aCA8IHRvdGFsKSB7CiAgICAgICAgc2VnbWVudHMuc3BsaWNlKHBvcywgMCwgJzAwMDAnKTsKICAgICAgfQogICAgfQoKICAgIC8vIHN0cmlwIGxlYWRpbmcgemVyb3MKICAgIHZhciBfc2VnbWVudHM7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHsKICAgICAgX3NlZ21lbnRzID0gc2VnbWVudHNbaV0uc3BsaXQoJycpOwogICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDMgOyBqKyspIHsKICAgICAgICBpZiAoX3NlZ21lbnRzWzBdID09PSAnMCcgJiYgX3NlZ21lbnRzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIF9zZWdtZW50cy5zcGxpY2UoMCwxKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICBzZWdtZW50c1tpXSA9IF9zZWdtZW50cy5qb2luKCcnKTsKICAgIH0KCiAgICAvLyBmaW5kIGxvbmdlc3Qgc2VxdWVuY2Ugb2YgemVyb2VzIGFuZCBjb2FsZXNjZSB0aGVtIGludG8gb25lIHNlZ21lbnQKICAgIHZhciBiZXN0ID0gLTE7CiAgICB2YXIgX2Jlc3QgPSAwOwogICAgdmFyIF9jdXJyZW50ID0gMDsKICAgIHZhciBjdXJyZW50ID0gLTE7CiAgICB2YXIgaW56ZXJvZXMgPSBmYWxzZTsKICAgIC8vIGk7IGFscmVhZHkgZGVjbGFyZWQKCiAgICBmb3IgKGkgPSAwOyBpIDwgdG90YWw7IGkrKykgewogICAgICBpZiAoaW56ZXJvZXMpIHsKICAgICAgICBpZiAoc2VnbWVudHNbaV0gPT09ICcwJykgewogICAgICAgICAgX2N1cnJlbnQgKz0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaW56ZXJvZXMgPSBmYWxzZTsKICAgICAgICAgIGlmIChfY3VycmVudCA+IF9iZXN0KSB7CiAgICAgICAgICAgIGJlc3QgPSBjdXJyZW50OwogICAgICAgICAgICBfYmVzdCA9IF9jdXJyZW50OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoc2VnbWVudHNbaV0gPT09ICcwJykgewogICAgICAgICAgaW56ZXJvZXMgPSB0cnVlOwogICAgICAgICAgY3VycmVudCA9IGk7CiAgICAgICAgICBfY3VycmVudCA9IDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKF9jdXJyZW50ID4gX2Jlc3QpIHsKICAgICAgYmVzdCA9IGN1cnJlbnQ7CiAgICAgIF9iZXN0ID0gX2N1cnJlbnQ7CiAgICB9CgogICAgaWYgKF9iZXN0ID4gMSkgewogICAgICBzZWdtZW50cy5zcGxpY2UoYmVzdCwgX2Jlc3QsICcnKTsKICAgIH0KCiAgICBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CgogICAgLy8gYXNzZW1ibGUgcmVtYWluaW5nIHNlZ21lbnRzCiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICBpZiAoc2VnbWVudHNbMF0gPT09ICcnKSAgewogICAgICByZXN1bHQgPSAnOic7CiAgICB9CgogICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHJlc3VsdCArPSBzZWdtZW50c1tpXTsKICAgICAgaWYgKGkgPT09IGxlbmd0aCAtIDEpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgcmVzdWx0ICs9ICc6JzsKICAgIH0KCiAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0gPT09ICcnKSB7CiAgICAgIHJlc3VsdCArPSAnOic7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7CiAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi8KICAgIGlmIChyb290LklQdjYgPT09IHRoaXMpIHsKICAgICAgcm9vdC5JUHY2ID0gX0lQdjY7CiAgICB9CiAgCiAgICByZXR1cm4gdGhpczsKICB9CgogIHJldHVybiB7CiAgICBiZXN0OiBiZXN0UHJlc2VudGF0aW9uLAogICAgbm9Db25mbGljdDogbm9Db25mbGljdAogIH07Cn0pKTsKCn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKiBTZWNvbmQgTGV2ZWwgRG9tYWluIChTTEQpIFN1cHBvcnQKICoKICogVmVyc2lvbjogMS4xOC4xCiAqCiAqIEF1dGhvcjogUm9kbmV5IFJlaG0KICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvCiAqCiAqIExpY2Vuc2VkIHVuZGVyCiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZQogKgogKi8KCihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgewogICd1c2Ugc3RyaWN0JzsKICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanMKICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICAvLyBOb2RlCiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewogICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLgogICAgZGVmaW5lKGZhY3RvcnkpOwogIH0gZWxzZSB7CiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KQogICAgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPSBmYWN0b3J5KHJvb3QpOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAocm9vdCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLy8gc2F2ZSBjdXJyZW50IFNlY29uZExldmVsRG9tYWlucyB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9TZWNvbmRMZXZlbERvbWFpbnMgPSByb290ICYmIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zOwoKICB2YXIgU0xEID0gewogICAgLy8gbGlzdCBvZiBrbm93biBTZWNvbmQgTGV2ZWwgRG9tYWlucwogICAgLy8gY29udmVydGVkIGxpc3Qgb2YgU0xEcyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9nYXZpbmdtaWxsZXIvc2Vjb25kLWxldmVsLWRvbWFpbnMKICAgIC8vIC0tLS0KICAgIC8vIHB1YmxpY3N1ZmZpeC5vcmcgaXMgbW9yZSBjdXJyZW50IGFuZCBhY3R1YWxseSB1c2VkIGJ5IGEgY291cGxlIG9mIGJyb3dzZXJzIGludGVybmFsbHkuCiAgICAvLyBkb3duc2lkZSBpcyBpdCBhbHNvIGNvbnRhaW5zIGRvbWFpbnMgbGlrZSAiZHluZG5zLm9yZyIgLSB3aGljaCBpcyBmaW5lIGZvciB0aGUgc2VjdXJpdHkKICAgIC8vIGlzc3VlcyBicm93c2VyIGhhdmUgdG8gZGVhbCB3aXRoIChTT1AgZm9yIGNvb2tpZXMsIGV0YykgLSBidXQgaXMgd2F5IG92ZXJib2FyZCBmb3IgVVJJLmpzCiAgICAvLyAtLS0tCiAgICBsaXN0OiB7CiAgICAgICdhYyc6JyBjb20gZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdhZSc6JyBhYyBjbyBnb3YgbWlsIG5hbWUgbmV0IG9yZyBwcm8gc2NoICcsCiAgICAgICdhZic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdhbCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnYW8nOicgY28gZWQgZ3YgaXQgb2cgcGIgJywKICAgICAgJ2FyJzonIGNvbSBlZHUgZ29iIGdvdiBpbnQgbWlsIG5ldCBvcmcgdHVyICcsCiAgICAgICdhdCc6JyBhYyBjbyBndiBvciAnLAogICAgICAnYXUnOicgYXNuIGNvbSBjc2lybyBlZHUgZ292IGlkIG5ldCBvcmcgJywKICAgICAgJ2JhJzonIGNvIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnIHJzIHVuYmkgdW5tbyB1bnNhIHVudHogdW56ZSAnLAogICAgICAnYmInOicgYml6IGNvIGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyBzdG9yZSB0diAnLAogICAgICAnYmgnOicgYml6IGNjIGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnYm4nOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnYm8nOicgY29tIGVkdSBnb2IgZ292IGludCBtaWwgbmV0IG9yZyB0diAnLAogICAgICAnYnInOicgYWRtIGFkdiBhZ3IgYW0gYXJxIGFydCBhdG8gYiBiaW8gYmxvZyBibWQgY2ltIGNuZyBjbnQgY29tIGNvb3AgZWNuIGVkdSBlbmcgZXNwIGV0YyBldGkgZmFyIGZsb2cgZm0gZm5kIGZvdCBmc3QgZzEyIGdnZiBnb3YgaW1iIGluZCBpbmYgam9yIGp1cyBsZWwgbWF0IG1lZCBtaWwgbXVzIG5ldCBub20gbm90IG50ciBvZG8gb3JnIHBwZyBwcm8gcHNjIHBzaSBxc2wgcmVjIHNsZyBzcnYgdG1wIHRyZCB0dXIgdHYgdmV0IHZsb2cgd2lraSB6bGcgJywKICAgICAgJ2JzJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2J6JzonIGR1IGV0IG9tIG92IHJnICcsCiAgICAgICdjYSc6JyBhYiBiYyBtYiBuYiBuZiBubCBucyBudCBudSBvbiBwZSBxYyBzayB5ayAnLAogICAgICAnY2snOicgYml6IGNvIGVkdSBnZW4gZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnY24nOicgYWMgYWggYmogY29tIGNxIGVkdSBmaiBnZCBnb3YgZ3MgZ3ggZ3ogaGEgaGIgaGUgaGkgaGwgaG4gamwganMganggbG4gbWlsIG5ldCBubSBueCBvcmcgcWggc2Mgc2Qgc2ggc24gc3ggdGogdHcgeGogeHogeW4gemogJywKICAgICAgJ2NvJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgbm9tIG9yZyAnLAogICAgICAnY3InOicgYWMgYyBjbyBlZCBmaSBnbyBvciBzYSAnLAogICAgICAnY3knOicgYWMgYml6IGNvbSBla2xvZ2VzIGdvdiBsdGQgbmFtZSBuZXQgb3JnIHBhcmxpYW1lbnQgcHJlc3MgcHJvIHRtICcsCiAgICAgICdkbyc6JyBhcnQgY29tIGVkdSBnb2IgZ292IG1pbCBuZXQgb3JnIHNsZCB3ZWIgJywKICAgICAgJ2R6JzonIGFydCBhc3NvIGNvbSBlZHUgZ292IG5ldCBvcmcgcG9sICcsCiAgICAgICdlYyc6JyBjb20gZWR1IGZpbiBnb3YgaW5mbyBtZWQgbWlsIG5ldCBvcmcgcHJvICcsCiAgICAgICdlZyc6JyBjb20gZWR1IGV1biBnb3YgbWlsIG5hbWUgbmV0IG9yZyBzY2kgJywKICAgICAgJ2VyJzonIGNvbSBlZHUgZ292IGluZCBtaWwgbmV0IG9yZyByb2NoZXN0IHcgJywKICAgICAgJ2VzJzonIGNvbSBlZHUgZ29iIG5vbSBvcmcgJywKICAgICAgJ2V0JzonIGJpeiBjb20gZWR1IGdvdiBpbmZvIG5hbWUgbmV0IG9yZyAnLAogICAgICAnZmonOicgYWMgYml6IGNvbSBpbmZvIG1pbCBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICdmayc6JyBhYyBjbyBnb3YgbmV0IG5vbSBvcmcgJywKICAgICAgJ2ZyJzonIGFzc28gY29tIGYgZ291diBub20gcHJkIHByZXNzZSB0bSAnLAogICAgICAnZ2cnOicgY28gbmV0IG9yZyAnLAogICAgICAnZ2gnOicgY29tIGVkdSBnb3YgbWlsIG9yZyAnLAogICAgICAnZ24nOicgYWMgY29tIGdvdiBuZXQgb3JnICcsCiAgICAgICdncic6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnZ3QnOicgY29tIGVkdSBnb2IgaW5kIG1pbCBuZXQgb3JnICcsCiAgICAgICdndSc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdoayc6JyBjb20gZWR1IGdvdiBpZHYgbmV0IG9yZyAnLAogICAgICAnaHUnOicgMjAwMCBhZ3JhciBib2x0IGNhc2lubyBjaXR5IGNvIGVyb3RpY2EgZXJvdGlrYSBmaWxtIGZvcnVtIGdhbWVzIGhvdGVsIGluZm8gaW5nYXRsYW4gam9nYXN6IGtvbnl2ZWxvIGxha2FzIG1lZGlhIG5ld3Mgb3JnIHByaXYgcmVrbGFtIHNleCBzaG9wIHNwb3J0IHN1bGkgc3pleCB0bSB0b3pzZGUgdXRhemFzIHZpZGVvICcsCiAgICAgICdpZCc6JyBhYyBjbyBnbyBtaWwgbmV0IG9yIHNjaCB3ZWIgJywKICAgICAgJ2lsJzonIGFjIGNvIGdvdiBpZGYgazEyIG11bmkgbmV0IG9yZyAnLAogICAgICAnaW4nOicgYWMgY28gZWR1IGVybmV0IGZpcm0gZ2VuIGdvdiBpIGluZCBtaWwgbmV0IG5pYyBvcmcgcmVzICcsCiAgICAgICdpcSc6JyBjb20gZWR1IGdvdiBpIG1pbCBuZXQgb3JnICcsCiAgICAgICdpcic6JyBhYyBjbyBkbnNzZWMgZ292IGkgaWQgbmV0IG9yZyBzY2ggJywKICAgICAgJ2l0JzonIGVkdSBnb3YgJywKICAgICAgJ2plJzonIGNvIG5ldCBvcmcgJywKICAgICAgJ2pvJzonIGNvbSBlZHUgZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICdqcCc6JyBhYyBhZCBjbyBlZCBnbyBnciBsZyBuZSBvciAnLAogICAgICAna2UnOicgYWMgY28gZ28gaW5mbyBtZSBtb2JpIG5lIG9yIHNjICcsCiAgICAgICdraCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyBwZXIgJywKICAgICAgJ2tpJzonIGJpeiBjb20gZGUgZWR1IGdvdiBpbmZvIG1vYiBuZXQgb3JnIHRlbCAnLAogICAgICAna20nOicgYXNzbyBjb20gY29vcCBlZHUgZ291diBrIG1lZGVjaW4gbWlsIG5vbSBub3RhaXJlcyBwaGFybWFjaWVucyBwcmVzc2UgdG0gdmV0ZXJpbmFpcmUgJywKICAgICAgJ2tuJzonIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAna3InOicgYWMgYnVzYW4gY2h1bmdidWsgY2h1bmduYW0gY28gZGFlZ3UgZGFlamVvbiBlcyBnYW5nd29uIGdvIGd3YW5nanUgZ3llb25nYnVrIGd5ZW9uZ2dpIGd5ZW9uZ25hbSBocyBpbmNoZW9uIGplanUgamVvbmJ1ayBqZW9ubmFtIGsga2cgbWlsIG1zIG5lIG9yIHBlIHJlIHNjIHNlb3VsIHVsc2FuICcsCiAgICAgICdrdyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdreSc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdreic6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbGInOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbGsnOicgYXNzbiBjb20gZWR1IGdvdiBncnAgaG90ZWwgaW50IGx0ZCBuZXQgbmdvIG9yZyBzY2ggc29jIHdlYiAnLAogICAgICAnbHInOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbHYnOicgYXNuIGNvbSBjb25mIGVkdSBnb3YgaWQgbWlsIG5ldCBvcmcgJywKICAgICAgJ2x5JzonIGNvbSBlZHUgZ292IGlkIG1lZCBuZXQgb3JnIHBsYyBzY2ggJywKICAgICAgJ21hJzonIGFjIGNvIGdvdiBtIG5ldCBvcmcgcHJlc3MgJywKICAgICAgJ21jJzonIGFzc28gdG0gJywKICAgICAgJ21lJzonIGFjIGNvIGVkdSBnb3YgaXRzIG5ldCBvcmcgcHJpdiAnLAogICAgICAnbWcnOicgY29tIGVkdSBnb3YgbWlsIG5vbSBvcmcgcHJkIHRtICcsCiAgICAgICdtayc6JyBjb20gZWR1IGdvdiBpbmYgbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnbWwnOicgY29tIGVkdSBnb3YgbmV0IG9yZyBwcmVzc2UgJywKICAgICAgJ21uJzonIGVkdSBnb3Ygb3JnICcsCiAgICAgICdtbyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdtdCc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdtdic6JyBhZXJvIGJpeiBjb20gY29vcCBlZHUgZ292IGluZm8gaW50IG1pbCBtdXNldW0gbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnbXcnOicgYWMgY28gY29tIGNvb3AgZWR1IGdvdiBpbnQgbXVzZXVtIG5ldCBvcmcgJywKICAgICAgJ214JzonIGNvbSBlZHUgZ29iIG5ldCBvcmcgJywKICAgICAgJ215JzonIGNvbSBlZHUgZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICduZic6JyBhcnRzIGNvbSBmaXJtIGluZm8gbmV0IG90aGVyIHBlciByZWMgc3RvcmUgd2ViICcsCiAgICAgICduZyc6JyBiaXogY29tIGVkdSBnb3YgbWlsIG1vYmkgbmFtZSBuZXQgb3JnIHNjaCAnLAogICAgICAnbmknOicgYWMgY28gY29tIGVkdSBnb2IgbWlsIG5ldCBub20gb3JnICcsCiAgICAgICducCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbnInOicgYml6IGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnb20nOicgYWMgYml6IGNvIGNvbSBlZHUgZ292IG1lZCBtaWwgbXVzZXVtIG5ldCBvcmcgcHJvIHNjaCAnLAogICAgICAncGUnOicgY29tIGVkdSBnb2IgbWlsIG5ldCBub20gb3JnIHNsZCAnLAogICAgICAncGgnOicgY29tIGVkdSBnb3YgaSBtaWwgbmV0IG5nbyBvcmcgJywKICAgICAgJ3BrJzonIGJpeiBjb20gZWR1IGZhbSBnb2IgZ29rIGdvbiBnb3AgZ29zIGdvdiBuZXQgb3JnIHdlYiAnLAogICAgICAncGwnOicgYXJ0IGJpYWx5c3RvayBiaXogY29tIGVkdSBnZGEgZ2RhbnNrIGdvcnpvdyBnb3YgaW5mbyBrYXRvd2ljZSBrcmFrb3cgbG9keiBsdWJsaW4gbWlsIG5ldCBuZ28gb2xzenR5biBvcmcgcG96bmFuIHB3ciByYWRvbSBzbHVwc2sgc3pjemVjaW4gdG9ydW4gd2Fyc3phd2Egd2F3IHdyb2Mgd3JvY2xhdyB6Z29yYSAnLAogICAgICAncHInOicgYWMgYml6IGNvbSBlZHUgZXN0IGdvdiBpbmZvIGlzbGEgbmFtZSBuZXQgb3JnIHBybyBwcm9mICcsCiAgICAgICdwcyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnIHBsbyBzZWMgJywKICAgICAgJ3B3JzonIGJlbGF1IGNvIGVkIGdvIG5lIG9yICcsCiAgICAgICdybyc6JyBhcnRzIGNvbSBmaXJtIGluZm8gbm9tIG50IG9yZyByZWMgc3RvcmUgdG0gd3d3ICcsCiAgICAgICdycyc6JyBhYyBjbyBlZHUgZ292IGluIG9yZyAnLAogICAgICAnc2InOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc2MnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc2gnOicgY28gY29tIGVkdSBnb3YgbmV0IG5vbSBvcmcgJywKICAgICAgJ3NsJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ3N0JzonIGNvIGNvbSBjb25zdWxhZG8gZWR1IGVtYmFpeGFkYSBnb3YgbWlsIG5ldCBvcmcgcHJpbmNpcGUgc2FvdG9tZSBzdG9yZSAnLAogICAgICAnc3YnOicgY29tIGVkdSBnb2Igb3JnIHJlZCAnLAogICAgICAnc3onOicgYWMgY28gb3JnICcsCiAgICAgICd0cic6JyBhdiBiYnMgYmVsIGJpeiBjb20gZHIgZWR1IGdlbiBnb3YgaW5mbyBrMTIgbmFtZSBuZXQgb3JnIHBvbCB0ZWwgdHNrIHR2IHdlYiAnLAogICAgICAndHQnOicgYWVybyBiaXogY2F0IGNvIGNvbSBjb29wIGVkdSBnb3YgaW5mbyBpbnQgam9icyBtaWwgbW9iaSBtdXNldW0gbmFtZSBuZXQgb3JnIHBybyB0ZWwgdHJhdmVsICcsCiAgICAgICd0dyc6JyBjbHViIGNvbSBlYml6IGVkdSBnYW1lIGdvdiBpZHYgbWlsIG5ldCBvcmcgJywKICAgICAgJ211JzonIGFjIGNvIGNvbSBnb3YgbmV0IG9yIG9yZyAnLAogICAgICAnbXonOicgYWMgY28gZWR1IGdvdiBvcmcgJywKICAgICAgJ25hJzonIGNvIGNvbSAnLAogICAgICAnbnonOicgYWMgY28gY3JpIGdlZWsgZ2VuIGdvdnQgaGVhbHRoIGl3aSBtYW9yaSBtaWwgbmV0IG9yZyBwYXJsaWFtZW50IHNjaG9vbCAnLAogICAgICAncGEnOicgYWJvIGFjIGNvbSBlZHUgZ29iIGluZyBtZWQgbmV0IG5vbSBvcmcgc2xkICcsCiAgICAgICdwdCc6JyBjb20gZWR1IGdvdiBpbnQgbmV0IG5vbWUgb3JnIHB1YmwgJywKICAgICAgJ3B5JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdxYSc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAncmUnOicgYXNzbyBjb20gbm9tICcsCiAgICAgICdydSc6JyBhYyBhZHlnZXlhIGFsdGFpIGFtdXIgYXJraGFuZ2Vsc2sgYXN0cmFraGFuIGJhc2hraXJpYSBiZWxnb3JvZCBiaXIgYnJ5YW5zayBidXJ5YXRpYSBjYmcgY2hlbCBjaGVseWFiaW5zayBjaGl0YSBjaHVrb3RrYSBjaHV2YXNoaWEgY29tIGRhZ2VzdGFuIGUtYnVyZyBlZHUgZ292IGdyb3pueSBpbnQgaXJrdXRzayBpdmFub3ZvIGl6aGV2c2sgamFyIGpvc2hrYXItb2xhIGthbG15a2lhIGthbHVnYSBrYW1jaGF0a2Ega2FyZWxpYSBrYXphbiBrY2hyIGtlbWVyb3ZvIGtoYWJhcm92c2sga2hha2Fzc2lhIGtodiBraXJvdiBrb2VuaWcga29taSBrb3N0cm9tYSBrcmFub3lhcnNrIGt1YmFuIGt1cmdhbiBrdXJzayBsaXBldHNrIG1hZ2FkYW4gbWFyaSBtYXJpLWVsIG1hcmluZSBtaWwgbW9yZG92aWEgbW9zcmVnIG1zayBtdXJtYW5zayBuYWxjaGlrIG5ldCBubm92IG5vdiBub3Zvc2liaXJzayBuc2sgb21zayBvcmVuYnVyZyBvcmcgb3J5b2wgcGVuemEgcGVybSBwcCBwc2tvdiBwdHogcm5kIHJ5YXphbiBzYWtoYWxpbiBzYW1hcmEgc2FyYXRvdiBzaW1iaXJzayBzbW9sZW5zayBzcGIgc3RhdnJvcG9sIHN0diBzdXJndXQgdGFtYm92IHRhdGFyc3RhbiB0b20gdG9tc2sgdHNhcml0c3luIHRzayB0dWxhIHR1dmEgdHZlciB0eXVtZW4gdWRtIHVkbXVydGlhIHVsYW4tdWRlIHZsYWRpa2F2a2F6IHZsYWRpbWlyIHZsYWRpdm9zdG9rIHZvbGdvZ3JhZCB2b2xvZ2RhIHZvcm9uZXpoIHZybiB2eWF0a2EgeWFrdXRpYSB5YW1hbCB5ZWthdGVyaW5idXJnIHl1emhuby1zYWtoYWxpbnNrICcsCiAgICAgICdydyc6JyBhYyBjbyBjb20gZWR1IGdvdXYgZ292IGludCBtaWwgbmV0ICcsCiAgICAgICdzYSc6JyBjb20gZWR1IGdvdiBtZWQgbmV0IG9yZyBwdWIgc2NoICcsCiAgICAgICdzZCc6JyBjb20gZWR1IGdvdiBpbmZvIG1lZCBuZXQgb3JnIHR2ICcsCiAgICAgICdzZSc6JyBhIGFjIGIgYmQgYyBkIGUgZiBnIGggaSBrIGwgbSBuIG8gb3JnIHAgcGFydGkgcHAgcHJlc3MgciBzIHQgdG0gdSB3IHggeSB6ICcsCiAgICAgICdzZyc6JyBjb20gZWR1IGdvdiBpZG4gbmV0IG9yZyBwZXIgJywKICAgICAgJ3NuJzonIGFydCBjb20gZWR1IGdvdXYgb3JnIHBlcnNvIHVuaXYgJywKICAgICAgJ3N5JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgbmV3cyBvcmcgJywKICAgICAgJ3RoJzonIGFjIGNvIGdvIGluIG1pIG5ldCBvciAnLAogICAgICAndGonOicgYWMgYml6IGNvIGNvbSBlZHUgZ28gZ292IGluZm8gaW50IG1pbCBuYW1lIG5ldCBuaWMgb3JnIHRlc3Qgd2ViICcsCiAgICAgICd0bic6JyBhZ3JpbmV0IGNvbSBkZWZlbnNlIGVkdW5ldCBlbnMgZmluIGdvdiBpbmQgaW5mbyBpbnRsIG1pbmNvbSBuYXQgbmV0IG9yZyBwZXJzbyBybnJ0IHJucyBybnUgdG91cmlzbSAnLAogICAgICAndHonOicgYWMgY28gZ28gbmUgb3IgJywKICAgICAgJ3VhJzonIGJpeiBjaGVya2Fzc3kgY2hlcm5pZ292IGNoZXJub3Z0c3kgY2sgY24gY28gY29tIGNyaW1lYSBjdiBkbiBkbmVwcm9wZXRyb3ZzayBkb25ldHNrIGRwIGVkdSBnb3YgaWYgaW4gaXZhbm8tZnJhbmtpdnNrIGtoIGtoYXJrb3Yga2hlcnNvbiBraG1lbG5pdHNraXkga2lldiBraXJvdm9ncmFkIGttIGtyIGtzIGt2IGxnIGx1Z2Fuc2sgbHV0c2sgbHZpdiBtZSBtayBuZXQgbmlrb2xhZXYgb2Qgb2Rlc3NhIG9yZyBwbCBwb2x0YXZhIHBwIHJvdm5vIHJ2IHNlYmFzdG9wb2wgc3VteSB0ZSB0ZXJub3BpbCB1emhnb3JvZCB2aW5uaWNhIHZuIHphcG9yaXpoemhlIHpoaXRvbWlyIHpwIHp0ICcsCiAgICAgICd1Zyc6JyBhYyBjbyBnbyBuZSBvciBvcmcgc2MgJywKICAgICAgJ3VrJzonIGFjIGJsIGJyaXRpc2gtbGlicmFyeSBjbyBjeW0gZ292IGdvdnQgaWNuZXQgamV0IGxlYSBsdGQgbWUgbWlsIG1vZCBuYXRpb25hbC1saWJyYXJ5LXNjb3RsYW5kIG5lbCBuZXQgbmhzIG5pYyBubHMgb3JnIG9yZ24gcGFybGlhbWVudCBwbGMgcG9saWNlIHNjaCBzY290IHNvYyAnLAogICAgICAndXMnOicgZG5pIGZlZCBpc2Ega2lkcyBuc24gJywKICAgICAgJ3V5JzonIGNvbSBlZHUgZ3ViIG1pbCBuZXQgb3JnICcsCiAgICAgICd2ZSc6JyBjbyBjb20gZWR1IGdvYiBpbmZvIG1pbCBuZXQgb3JnIHdlYiAnLAogICAgICAndmknOicgY28gY29tIGsxMiBuZXQgb3JnICcsCiAgICAgICd2bic6JyBhYyBiaXogY29tIGVkdSBnb3YgaGVhbHRoIGluZm8gaW50IG5hbWUgbmV0IG9yZyBwcm8gJywKICAgICAgJ3llJzonIGNvIGNvbSBnb3YgbHRkIG1lIG5ldCBvcmcgcGxjICcsCiAgICAgICd5dSc6JyBhYyBjbyBlZHUgZ292IG9yZyAnLAogICAgICAnemEnOicgYWMgYWdyaWMgYWx0IGJvdXJzZSBjaXR5IGNvIGN5YmVybmV0IGRiIGVkdSBnb3YgZ3JvbmRhciBpYWNjZXNzIGltdCBpbmNhIGxhbmRlc2lnbiBsYXcgbWlsIG5ldCBuZ28gbmlzIG5vbSBvbGl2ZXR0aSBvcmcgcGl4IHNjaG9vbCB0bSB3ZWIgJywKICAgICAgJ3ptJzonIGFjIGNvIGNvbSBlZHUgZ292IG5ldCBvcmcgc2NoICcKICAgIH0sCiAgICAvLyBnb3JoaWxsIDIwMTMtMTAtMjU6IFVzaW5nIGluZGV4T2YoKSBpbnN0ZWFkIFJlZ2V4cCgpLiBTaWduaWZpY2FudCBib29zdAogICAgLy8gaW4gYm90aCBwZXJmb3JtYW5jZSBhbmQgbWVtb3J5IGZvb3RwcmludC4gTm8gaW5pdGlhbGl6YXRpb24gcmVxdWlyZWQuCiAgICAvLyBodHRwOi8vanNwZXJmLmNvbS91cmktanMtc2xkLXJlZ2V4LXZzLWJpbmFyeS1zZWFyY2gvNAogICAgLy8gRm9sbG93aW5nIG1ldGhvZHMgdXNlIGxhc3RJbmRleE9mKCkgcmF0aGVyIHRoYW4gYXJyYXkuc3BsaXQoKSBpbiBvcmRlcgogICAgLy8gdG8gYXZvaWQgYW55IG1lbW9yeSBhbGxvY2F0aW9ucy4KICAgIGhhczogZnVuY3Rpb24oZG9tYWluKSB7CiAgICAgIHZhciB0bGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKHRsZE9mZnNldCA8PSAwIHx8IHRsZE9mZnNldCA+PSAoZG9tYWluLmxlbmd0aC0xKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0IDw9IDAgfHwgc2xkT2Zmc2V0ID49ICh0bGRPZmZzZXQtMSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIHNsZExpc3QgPSBTTEQubGlzdFtkb21haW4uc2xpY2UodGxkT2Zmc2V0KzEpXTsKICAgICAgaWYgKCFzbGRMaXN0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiBzbGRMaXN0LmluZGV4T2YoJyAnICsgZG9tYWluLnNsaWNlKHNsZE9mZnNldCsxLCB0bGRPZmZzZXQpICsgJyAnKSA+PSAwOwogICAgfSwKICAgIGlzOiBmdW5jdGlvbihkb21haW4pIHsKICAgICAgdmFyIHRsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicpOwogICAgICBpZiAodGxkT2Zmc2V0IDw9IDAgfHwgdGxkT2Zmc2V0ID49IChkb21haW4ubGVuZ3RoLTEpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nLCB0bGRPZmZzZXQtMSk7CiAgICAgIGlmIChzbGRPZmZzZXQgPj0gMCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHNsZExpc3QuaW5kZXhPZignICcgKyBkb21haW4uc2xpY2UoMCwgdGxkT2Zmc2V0KSArICcgJykgPj0gMDsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uKGRvbWFpbikgewogICAgICB2YXIgdGxkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIGlmICh0bGRPZmZzZXQgPD0gMCB8fCB0bGRPZmZzZXQgPj0gKGRvbWFpbi5sZW5ndGgtMSkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0IDw9IDAgfHwgc2xkT2Zmc2V0ID49ICh0bGRPZmZzZXQtMSkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICBpZiAoc2xkTGlzdC5pbmRleE9mKCcgJyArIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSwgdGxkT2Zmc2V0KSArICcgJykgPCAwKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgcmV0dXJuIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSk7CiAgICB9LAogICAgbm9Db25mbGljdDogZnVuY3Rpb24oKXsKICAgICAgaWYgKHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zID09PSB0aGlzKSB7CiAgICAgICAgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPSBfU2Vjb25kTGV2ZWxEb21haW5zOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CgogIHJldHVybiBTTEQ7Cn0pKTsKCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKgogKiBWZXJzaW9uOiAxLjE4LjEKICoKICogQXV0aG9yOiBSb2RuZXkgUmVobQogKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy8KICoKICogTGljZW5zZWQgdW5kZXIKICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlCiAqCiAqLwooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJy4vcHVueWNvZGUnKSwgcmVxdWlyZSgnLi9JUHY2JyksIHJlcXVpcmUoJy4vU2Vjb25kTGV2ZWxEb21haW5zJykpOwogIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuCiAgICBkZWZpbmUoWycuL3B1bnljb2RlJywgJy4vSVB2NicsICcuL1NlY29uZExldmVsRG9tYWlucyddLCBmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuVVJJID0gZmFjdG9yeShyb290LnB1bnljb2RlLCByb290LklQdjYsIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLCByb290KTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKHB1bnljb2RlLCBJUHY2LCBTTEQsIHJvb3QpIHsKICAndXNlIHN0cmljdCc7CiAgLypnbG9iYWwgbG9jYXRpb24sIGVzY2FwZSwgdW5lc2NhcGUgKi8KICAvLyBGSVhNRTogdjIuMC4wIHJlbmFtY2Ugbm9uLWNhbWVsQ2FzZSBwcm9wZXJ0aWVzIHRvIHVwcGVyY2FzZQogIC8qanNoaW50IGNhbWVsY2FzZTogZmFsc2UgKi8KCiAgLy8gc2F2ZSBjdXJyZW50IFVSSSB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9VUkkgPSByb290ICYmIHJvb3QuVVJJOwoKICBmdW5jdGlvbiBVUkkodXJsLCBiYXNlKSB7CiAgICB2YXIgX3VybFN1cHBsaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+PSAxOwogICAgdmFyIF9iYXNlU3VwcGxpZWQgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7CgogICAgLy8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkCiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVVJJKSkgewogICAgICBpZiAoX3VybFN1cHBsaWVkKSB7CiAgICAgICAgaWYgKF9iYXNlU3VwcGxpZWQpIHsKICAgICAgICAgIHJldHVybiBuZXcgVVJJKHVybCwgYmFzZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbmV3IFVSSSh1cmwpOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IFVSSSgpOwogICAgfQoKICAgIGlmICh1cmwgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoX3VybFN1cHBsaWVkKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIGFyZ3VtZW50IGZvciBVUkknKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB1cmwgPSBsb2NhdGlvbi5ocmVmICsgJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdXJsID0gJyc7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmhyZWYodXJsKTsKCiAgICAvLyByZXNvbHZlIHRvIGJhc2UgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29uc3RydWN0b3IKICAgIGlmIChiYXNlICE9PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuYWJzb2x1dGVUbyhiYXNlKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CgogIFVSSS52ZXJzaW9uID0gJzEuMTguMSc7CgogIHZhciBwID0gVVJJLnByb3RvdHlwZTsKICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTsKCiAgZnVuY3Rpb24gZXNjYXBlUmVnRXgoc3RyaW5nKSB7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9jb21taXQvODVhYzIxNzgzYzExZjhjY2FiMDYxMDZkYmE5NzM1YTMxYTg2OTI0ZCNjb21taXRjb21tZW50LTgyMTk2MwogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7CiAgfQoKICBmdW5jdGlvbiBnZXRUeXBlKHZhbHVlKSB7CiAgICAvLyBJRTggZG9lc24ndCByZXR1cm4gW09iamVjdCBVbmRlZmluZWRdIGJ1dCBbT2JqZWN0IE9iamVjdF0gZm9yIHVuZGVmaW5lZCB2YWx1ZQogICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuICdVbmRlZmluZWQnOwogICAgfQoKICAgIHJldHVybiBTdHJpbmcoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSkuc2xpY2UoOCwgLTEpOwogIH0KCiAgZnVuY3Rpb24gaXNBcnJheShvYmopIHsKICAgIHJldHVybiBnZXRUeXBlKG9iaikgPT09ICdBcnJheSc7CiAgfQoKICBmdW5jdGlvbiBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhLCB2YWx1ZSkgewogICAgdmFyIGxvb2t1cCA9IHt9OwogICAgdmFyIGksIGxlbmd0aDsKCiAgICBpZiAoZ2V0VHlwZSh2YWx1ZSkgPT09ICdSZWdFeHAnKSB7CiAgICAgIGxvb2t1cCA9IG51bGw7CiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7CiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgbG9va3VwW3ZhbHVlW2ldXSA9IHRydWU7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGxvb2t1cFt2YWx1ZV0gPSB0cnVlOwogICAgfQoKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi8KICAgICAgdmFyIF9tYXRjaCA9IGxvb2t1cCAmJiBsb29rdXBbZGF0YVtpXV0gIT09IHVuZGVmaW5lZAogICAgICAgIHx8ICFsb29rdXAgJiYgdmFsdWUudGVzdChkYXRhW2ldKTsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IGZhbHNlICovCiAgICAgIGlmIChfbWF0Y2gpIHsKICAgICAgICBkYXRhLnNwbGljZShpLCAxKTsKICAgICAgICBsZW5ndGgtLTsKICAgICAgICBpLS07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZGF0YTsKICB9CgogIGZ1bmN0aW9uIGFycmF5Q29udGFpbnMobGlzdCwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGg7CgogICAgLy8gdmFsdWUgbWF5IGJlIHN0cmluZywgbnVtYmVyLCBhcnJheSwgcmVnZXhwCiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgLy8gTm90ZTogdGhpcyBjYW4gYmUgb3B0aW1pemVkIHRvIE8obikgKGluc3RlYWQgb2YgY3VycmVudCBPKG0gKiBuKSkKICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoIWFycmF5Q29udGFpbnMobGlzdCwgdmFsdWVbaV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICB2YXIgX3R5cGUgPSBnZXRUeXBlKHZhbHVlKTsKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKF90eXBlID09PSAnUmVnRXhwJykgewogICAgICAgIGlmICh0eXBlb2YgbGlzdFtpXSA9PT0gJ3N0cmluZycgJiYgbGlzdFtpXS5tYXRjaCh2YWx1ZSkpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChsaXN0W2ldID09PSB2YWx1ZSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gYXJyYXlzRXF1YWwob25lLCB0d28pIHsKICAgIGlmICghaXNBcnJheShvbmUpIHx8ICFpc0FycmF5KHR3bykpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGFycmF5cyBjYW4ndCBiZSBlcXVhbCBpZiB0aGV5IGhhdmUgZGlmZmVyZW50IGFtb3VudCBvZiBjb250ZW50CiAgICBpZiAob25lLmxlbmd0aCAhPT0gdHdvLmxlbmd0aCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgb25lLnNvcnQoKTsKICAgIHR3by5zb3J0KCk7CgogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvbmUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIGlmIChvbmVbaV0gIT09IHR3b1tpXSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gdHJpbVNsYXNoZXModGV4dCkgewogICAgdmFyIHRyaW1fZXhwcmVzc2lvbiA9IC9eXC8rfFwvKyQvZzsKICAgIHJldHVybiB0ZXh0LnJlcGxhY2UodHJpbV9leHByZXNzaW9uLCAnJyk7CiAgfQoKICBVUkkuX3BhcnRzID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBwcm90b2NvbDogbnVsbCwKICAgICAgdXNlcm5hbWU6IG51bGwsCiAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICBob3N0bmFtZTogbnVsbCwKICAgICAgdXJuOiBudWxsLAogICAgICBwb3J0OiBudWxsLAogICAgICBwYXRoOiBudWxsLAogICAgICBxdWVyeTogbnVsbCwKICAgICAgZnJhZ21lbnQ6IG51bGwsCiAgICAgIC8vIHN0YXRlCiAgICAgIGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVyczogVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywKICAgICAgZXNjYXBlUXVlcnlTcGFjZTogVVJJLmVzY2FwZVF1ZXJ5U3BhY2UKICAgIH07CiAgfTsKICAvLyBzdGF0ZTogYWxsb3cgZHVwbGljYXRlIHF1ZXJ5IHBhcmFtZXRlcnMgKGE9MSZhPTEpCiAgVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9IGZhbHNlOwogIC8vIHN0YXRlOiByZXBsYWNlcyArIHdpdGggJTIwIChzcGFjZSBpbiBxdWVyeSBzdHJpbmdzKQogIFVSSS5lc2NhcGVRdWVyeVNwYWNlID0gdHJ1ZTsKICAvLyBzdGF0aWMgcHJvcGVydGllcwogIFVSSS5wcm90b2NvbF9leHByZXNzaW9uID0gL15bYS16XVthLXowLTkuKy1dKiQvaTsKICBVUkkuaWRuX2V4cHJlc3Npb24gPSAvW15hLXowLTlcLi1dL2k7CiAgVVJJLnB1bnljb2RlX2V4cHJlc3Npb24gPSAvKHhuLS0pL2k7CiAgLy8gd2VsbCwgMzMzLjQ0NC41NTUuNjY2IG1hdGNoZXMsIGJ1dCBpdCBzdXJlIGFpbid0IG5vIElQdjQgLSBkbyB3ZSBjYXJlPwogIFVSSS5pcDRfZXhwcmVzc2lvbiA9IC9eXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfSQvOwogIC8vIGNyZWRpdHMgdG8gUmljaCBCcm93bgogIC8vIHNvdXJjZTogaHR0cDovL2ZvcnVtcy5pbnRlcm1hcHBlci5jb20vdmlld3RvcGljLnBocD9wPTEwOTYjMTA5NgogIC8vIHNwZWNpZmljYXRpb246IGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzQyOTEudHh0CiAgVVJJLmlwNl9leHByZXNzaW9uID0gL15ccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKSkoJS4rKT9ccyokLzsKICAvLyBleHByZXNzaW9uIHVzZWQgaXMgImdydWJlciByZXZpc2VkIiAoQGdydWJlciB2MikgZGV0ZXJtaW5lZCB0byBiZSB0aGUKICAvLyBiZXN0IHNvbHV0aW9uIGluIGEgcmVnZXgtZ29sZiB3ZSBkaWQgYSBjb3VwbGUgb2YgYWdlcyBhZ28gYXQKICAvLyAqIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4CiAgLy8gKiBodHRwOi8vcm9kbmV5cmVobS5kZS90L3VybC1yZWdleC5odG1sCiAgVVJJLmZpbmRfdXJpX2V4cHJlc3Npb24gPSAvXGIoKD86W2Etel1bXHctXSs6KD86XC97MSwzfXxbYS16MC05JV0pfHd3d1xkezAsM31bLl18W2EtejAtOS5cLV0rWy5dW2Etel17Miw0fVwvKSg/OlteXHMoKTw+XSt8XCgoW15ccygpPD5dK3woXChbXlxzKCk8Pl0rXCkpKSpcKSkrKD86XCgoW15ccygpPD5dK3woXChbXlxzKCk8Pl0rXCkpKSpcKXxbXlxzYCEoKVxbXF17fTs6JyIuLDw+P8KrwrvigJzigJ3igJjigJldKSkvaWc7CiAgVVJJLmZpbmRVcmkgPSB7CiAgICAvLyB2YWxpZCAic2NoZW1lOi8vIiBvciAid3d3LiIKICAgIHN0YXJ0OiAvXGIoPzooW2Etel1bYS16MC05ListXSo6XC9cLyl8d3d3XC4pL2dpLAogICAgLy8gZXZlcnl0aGluZyB1cCB0byB0aGUgbmV4dCB3aGl0ZXNwYWNlCiAgICBlbmQ6IC9bXHNcclxuXXwkLywKICAgIC8vIHRyaW0gdHJhaWxpbmcgcHVuY3R1YXRpb24gY2FwdHVyZWQgYnkgZW5kIFJlZ0V4cAogICAgdHJpbTogL1tgISgpXFtcXXt9OzonIi4sPD4/wqvCu+KAnOKAneKAnuKAmOKAmV0rJC8KICB9OwogIC8vIGh0dHA6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvdXJpLXNjaGVtZXMuaHRtbAogIC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9UQ1BfYW5kX1VEUF9wb3J0X251bWJlcnMjV2VsbC1rbm93bl9wb3J0cwogIFVSSS5kZWZhdWx0UG9ydHMgPSB7CiAgICBodHRwOiAnODAnLAogICAgaHR0cHM6ICc0NDMnLAogICAgZnRwOiAnMjEnLAogICAgZ29waGVyOiAnNzAnLAogICAgd3M6ICc4MCcsCiAgICB3c3M6ICc0NDMnCiAgfTsKICAvLyBhbGxvd2VkIGhvc3RuYW1lIGNoYXJhY3RlcnMgYWNjb3JkaW5nIHRvIFJGQyAzOTg2CiAgLy8gQUxQSEEgRElHSVQgIi0iICIuIiAiXyIgIn4iICIhIiAiJCIgIiYiICInIiAiKCIgIikiICIqIiAiKyIgIiwiICI7IiAiPSIgJWVuY29kZWQKICAvLyBJJ3ZlIG5ldmVyIHNlZW4gYSAobm9uLUlETikgaG9zdG5hbWUgb3RoZXIgdGhhbjogQUxQSEEgRElHSVQgLiAtCiAgVVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycyA9IC9bXmEtekEtWjAtOVwuLV0vOwogIC8vIG1hcCBET00gRWxlbWVudHMgdG8gdGhlaXIgVVJJIGF0dHJpYnV0ZQogIFVSSS5kb21BdHRyaWJ1dGVzID0gewogICAgJ2EnOiAnaHJlZicsCiAgICAnYmxvY2txdW90ZSc6ICdjaXRlJywKICAgICdsaW5rJzogJ2hyZWYnLAogICAgJ2Jhc2UnOiAnaHJlZicsCiAgICAnc2NyaXB0JzogJ3NyYycsCiAgICAnZm9ybSc6ICdhY3Rpb24nLAogICAgJ2ltZyc6ICdzcmMnLAogICAgJ2FyZWEnOiAnaHJlZicsCiAgICAnaWZyYW1lJzogJ3NyYycsCiAgICAnZW1iZWQnOiAnc3JjJywKICAgICdzb3VyY2UnOiAnc3JjJywKICAgICd0cmFjayc6ICdzcmMnLAogICAgJ2lucHV0JzogJ3NyYycsIC8vIGJ1dCBvbmx5IGlmIHR5cGU9ImltYWdlIgogICAgJ2F1ZGlvJzogJ3NyYycsCiAgICAndmlkZW8nOiAnc3JjJwogIH07CiAgVVJJLmdldERvbUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCAhbm9kZS5ub2RlTmFtZSkgewogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQoKICAgIHZhciBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgIC8vIDxpbnB1dD4gc2hvdWxkIG9ubHkgZXhwb3NlIHNyYyBmb3IgdHlwZT0iaW1hZ2UiCiAgICBpZiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgbm9kZS50eXBlICE9PSAnaW1hZ2UnKSB7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIFVSSS5kb21BdHRyaWJ1dGVzW25vZGVOYW1lXTsKICB9OwoKICBmdW5jdGlvbiBlc2NhcGVGb3JEdW1iRmlyZWZveDM2KHZhbHVlKSB7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTEKICAgIHJldHVybiBlc2NhcGUodmFsdWUpOwogIH0KCiAgLy8gZW5jb2RpbmcgLyBkZWNvZGluZyBhY2NvcmRpbmcgdG8gUkZDMzk4NgogIGZ1bmN0aW9uIHN0cmljdEVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpIHsKICAgIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2VuY29kZVVSSUNvbXBvbmVudAogICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpCiAgICAgIC5yZXBsYWNlKC9bIScoKSpdL2csIGVzY2FwZUZvckR1bWJGaXJlZm94MzYpCiAgICAgIC5yZXBsYWNlKC9cKi9nLCAnJTJBJyk7CiAgfQogIFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7CiAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICBVUkkuaXNvODg1OSA9IGZ1bmN0aW9uKCkgewogICAgVVJJLmVuY29kZSA9IGVzY2FwZTsKICAgIFVSSS5kZWNvZGUgPSB1bmVzY2FwZTsKICB9OwogIFVSSS51bmljb2RlID0gZnVuY3Rpb24oKSB7CiAgICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogICAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICB9OwogIFVSSS5jaGFyYWN0ZXJzID0gewogICAgcGF0aG5hbWU6IHsKICAgICAgZW5jb2RlOiB7CiAgICAgICAgLy8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkCiAgICAgICAgLy8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy4KICAgICAgICBleHByZXNzaW9uOiAvJSgyNHwyNnwyQnwyQ3wzQnwzRHwzQXw0MCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAvLyAtLl9+IScoKSoKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI2JzogJyYnLAogICAgICAgICAgJyUyQic6ICcrJywKICAgICAgICAgICclMkMnOiAnLCcsCiAgICAgICAgICAnJTNCJzogJzsnLAogICAgICAgICAgJyUzRCc6ICc9JywKICAgICAgICAgICclM0EnOiAnOicsCiAgICAgICAgICAnJTQwJzogJ0AnCiAgICAgICAgfQogICAgICB9LAogICAgICBkZWNvZGU6IHsKICAgICAgICBleHByZXNzaW9uOiAvW1wvXD8jXS9nLAogICAgICAgIG1hcDogewogICAgICAgICAgJy8nOiAnJTJGJywKICAgICAgICAgICc/JzogJyUzRicsCiAgICAgICAgICAnIyc6ICclMjMnCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVzZXJ2ZWQ6IHsKICAgICAgZW5jb2RlOiB7CiAgICAgICAgLy8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkCiAgICAgICAgLy8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy4KICAgICAgICBleHByZXNzaW9uOiAvJSgyMXwyM3wyNHwyNnwyN3wyOHwyOXwyQXwyQnwyQ3wyRnwzQXwzQnwzRHwzRnw0MHw1Qnw1RCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAvLyBnZW4tZGVsaW1zCiAgICAgICAgICAnJTNBJzogJzonLAogICAgICAgICAgJyUyRic6ICcvJywKICAgICAgICAgICclM0YnOiAnPycsCiAgICAgICAgICAnJTIzJzogJyMnLAogICAgICAgICAgJyU1Qic6ICdbJywKICAgICAgICAgICclNUQnOiAnXScsCiAgICAgICAgICAnJTQwJzogJ0AnLAogICAgICAgICAgLy8gc3ViLWRlbGltcwogICAgICAgICAgJyUyMSc6ICchJywKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI2JzogJyYnLAogICAgICAgICAgJyUyNyc6ICdcJycsCiAgICAgICAgICAnJTI4JzogJygnLAogICAgICAgICAgJyUyOSc6ICcpJywKICAgICAgICAgICclMkEnOiAnKicsCiAgICAgICAgICAnJTJCJzogJysnLAogICAgICAgICAgJyUyQyc6ICcsJywKICAgICAgICAgICclM0InOiAnOycsCiAgICAgICAgICAnJTNEJzogJz0nCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdXJucGF0aDogewogICAgICAvLyBUaGUgY2hhcmFjdGVycyB1bmRlciBgZW5jb2RlYCBhcmUgdGhlIGNoYXJhY3RlcnMgY2FsbGVkIG91dCBieSBSRkMgMjE0MSBhcyBiZWluZyBhY2NlcHRhYmxlCiAgICAgIC8vIGZvciB1c2FnZSBpbiBhIFVSTi4gUkZDMjE0MSBhbHNvIGNhbGxzIG91dCAiLSIsICIuIiwgYW5kICJfIiBhcyBhY2NlcHRhYmxlIGNoYXJhY3RlcnMsIGJ1dAogICAgICAvLyB0aGVzZSBhcmVuJ3QgZW5jb2RlZCBieSBlbmNvZGVVUklDb21wb25lbnQsIHNvIHdlIGRvbid0IGhhdmUgdG8gY2FsbCB0aGVtIG91dCBoZXJlLiBBbHNvCiAgICAgIC8vIG5vdGUgdGhhdCB0aGUgY29sb24gY2hhcmFjdGVyIGlzIG5vdCBmZWF0dXJlZCBpbiB0aGUgZW5jb2RpbmcgbWFwOyB0aGlzIGlzIGJlY2F1c2UgVVJJLmpzCiAgICAgIC8vIGdpdmVzIHRoZSBjb2xvbnMgaW4gVVJOcyBzZW1hbnRpYyBtZWFuaW5nIGFzIHRoZSBkZWxpbWl0ZXJzIG9mIHBhdGggc2VnZW1lbnRzLCBhbmQgc28gaXQKICAgICAgLy8gc2hvdWxkIG5vdCBhcHBlYXIgdW5lbmNvZGVkIGluIGEgc2VnbWVudCBpdHNlbGYuCiAgICAgIC8vIFNlZSBhbHNvIHRoZSBub3RlIGFib3ZlIGFib3V0IFJGQzM5ODYgYW5kIGNhcGl0YWxhbGl6ZWQgaGV4IGRpZ2l0cy4KICAgICAgZW5jb2RlOiB7CiAgICAgICAgZXhwcmVzc2lvbjogLyUoMjF8MjR8Mjd8Mjh8Mjl8MkF8MkJ8MkN8M0J8M0R8NDApL2lnLAogICAgICAgIG1hcDogewogICAgICAgICAgJyUyMSc6ICchJywKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI3JzogJ1wnJywKICAgICAgICAgICclMjgnOiAnKCcsCiAgICAgICAgICAnJTI5JzogJyknLAogICAgICAgICAgJyUyQSc6ICcqJywKICAgICAgICAgICclMkInOiAnKycsCiAgICAgICAgICAnJTJDJzogJywnLAogICAgICAgICAgJyUzQic6ICc7JywKICAgICAgICAgICclM0QnOiAnPScsCiAgICAgICAgICAnJTQwJzogJ0AnCiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBUaGVzZSBjaGFyYWN0ZXJzIGFyZSB0aGUgY2hhcmFjdGVycyBjYWxsZWQgb3V0IGJ5IFJGQzIxNDEgYXMgInJlc2VydmVkIiBjaGFyYWN0ZXJzIHRoYXQKICAgICAgLy8gc2hvdWxkIG5ldmVyIGFwcGVhciBpbiBhIFVSTiwgcGx1cyB0aGUgY29sb24gY2hhcmFjdGVyIChzZWUgbm90ZSBhYm92ZSkuCiAgICAgIGRlY29kZTogewogICAgICAgIGV4cHJlc3Npb246IC9bXC9cPyM6XS9nLAogICAgICAgIG1hcDogewogICAgICAgICAgJy8nOiAnJTJGJywKICAgICAgICAgICc/JzogJyUzRicsCiAgICAgICAgICAnIyc6ICclMjMnLAogICAgICAgICAgJzonOiAnJTNBJwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CiAgVVJJLmVuY29kZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICB2YXIgZXNjYXBlZCA9IFVSSS5lbmNvZGUoc3RyaW5nICsgJycpOwogICAgaWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkgewogICAgICBlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7CiAgICB9CgogICAgcmV0dXJuIGVzY2FwZVF1ZXJ5U3BhY2UgPyBlc2NhcGVkLnJlcGxhY2UoLyUyMC9nLCAnKycpIDogZXNjYXBlZDsKICB9OwogIFVSSS5kZWNvZGVRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgc3RyaW5nICs9ICcnOwogICAgaWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkgewogICAgICBlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7CiAgICB9CgogICAgdHJ5IHsKICAgICAgcmV0dXJuIFVSSS5kZWNvZGUoZXNjYXBlUXVlcnlTcGFjZSA/IHN0cmluZy5yZXBsYWNlKC9cKy9nLCAnJTIwJykgOiBzdHJpbmcpOwogICAgfSBjYXRjaChlKSB7CiAgICAgIC8vIHdlJ3JlIG5vdCBnb2luZyB0byBtZXNzIHdpdGggd2VpcmQgZW5jb2RpbmdzLAogICAgICAvLyBnaXZlIHVwIGFuZCByZXR1cm4gdGhlIHVuZGVjb2RlZCBvcmlnaW5hbCBzdHJpbmcKICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84NwogICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkyCiAgICAgIHJldHVybiBzdHJpbmc7CiAgICB9CiAgfTsKICAvLyBnZW5lcmF0ZSBlbmNvZGUvZGVjb2RlIHBhdGggZnVuY3Rpb25zCiAgdmFyIF9wYXJ0cyA9IHsnZW5jb2RlJzonZW5jb2RlJywgJ2RlY29kZSc6J2RlY29kZSd9OwogIHZhciBfcGFydDsKICB2YXIgZ2VuZXJhdGVBY2Nlc3NvciA9IGZ1bmN0aW9uKF9ncm91cCwgX3BhcnQpIHsKICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gVVJJW19wYXJ0XShzdHJpbmcgKyAnJykucmVwbGFjZShVUkkuY2hhcmFjdGVyc1tfZ3JvdXBdW19wYXJ0XS5leHByZXNzaW9uLCBmdW5jdGlvbihjKSB7CiAgICAgICAgICByZXR1cm4gVVJJLmNoYXJhY3RlcnNbX2dyb3VwXVtfcGFydF0ubWFwW2NdOwogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8gd2UncmUgbm90IGdvaW5nIHRvIG1lc3Mgd2l0aCB3ZWlyZCBlbmNvZGluZ3MsCiAgICAgICAgLy8gZ2l2ZSB1cCBhbmQgcmV0dXJuIHRoZSB1bmRlY29kZWQgb3JpZ2luYWwgc3RyaW5nCiAgICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84NwogICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTIKICAgICAgICByZXR1cm4gc3RyaW5nOwogICAgICB9CiAgICB9OwogIH07CgogIGZvciAoX3BhcnQgaW4gX3BhcnRzKSB7CiAgICBVUklbX3BhcnQgKyAnUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3BhdGhuYW1lJywgX3BhcnRzW19wYXJ0XSk7CiAgICBVUklbX3BhcnQgKyAnVXJuUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3VybnBhdGgnLCBfcGFydHNbX3BhcnRdKTsKICB9CgogIHZhciBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbiA9IGZ1bmN0aW9uKF9zZXAsIF9jb2RpbmdGdW5jTmFtZSwgX2lubmVyQ29kaW5nRnVuY05hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgLy8gV2h5IHBhc3MgaW4gbmFtZXMgb2YgZnVuY3Rpb25zLCByYXRoZXIgdGhhbiB0aGUgZnVuY3Rpb24gb2JqZWN0cyB0aGVtc2VsdmVzPyBUaGUKICAgICAgLy8gZGVmaW5pdGlvbnMgb2Ygc29tZSBmdW5jdGlvbnMgKGJ1dCBpbiBwYXJ0aWN1bGFyLCBVUkkuZGVjb2RlKSB3aWxsIG9jY2FzaW9uYWxseSBjaGFuZ2UgZHVlCiAgICAgIC8vIHRvIFVSSS5qcyBoYXZpbmcgSVNPODg1OSBhbmQgVW5pY29kZSBtb2Rlcy4gUGFzc2luZyBpbiB0aGUgbmFtZSBhbmQgZ2V0dGluZyBpdCB3aWxsIGVuc3VyZQogICAgICAvLyB0aGF0IHRoZSBmdW5jdGlvbnMgd2UgdXNlIGhlcmUgYXJlICJmcmVzaCIuCiAgICAgIHZhciBhY3R1YWxDb2RpbmdGdW5jOwogICAgICBpZiAoIV9pbm5lckNvZGluZ0Z1bmNOYW1lKSB7CiAgICAgICAgYWN0dWFsQ29kaW5nRnVuYyA9IFVSSVtfY29kaW5nRnVuY05hbWVdOwogICAgICB9IGVsc2UgewogICAgICAgIGFjdHVhbENvZGluZ0Z1bmMgPSBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgICAgIHJldHVybiBVUklbX2NvZGluZ0Z1bmNOYW1lXShVUklbX2lubmVyQ29kaW5nRnVuY05hbWVdKHN0cmluZykpOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBzZWdtZW50cyA9IChzdHJpbmcgKyAnJykuc3BsaXQoX3NlcCk7CgogICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBzZWdtZW50c1tpXSA9IGFjdHVhbENvZGluZ0Z1bmMoc2VnbWVudHNbaV0pOwogICAgICB9CgogICAgICByZXR1cm4gc2VnbWVudHMuam9pbihfc2VwKTsKICAgIH07CiAgfTsKCiAgLy8gVGhpcyB0YWtlcyBwbGFjZSBvdXRzaWRlIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCwgZS5nLiwgZW5jb2RlVXJuUGF0aCBmdW5jdGlvbnMuCiAgVVJJLmRlY29kZVBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignLycsICdkZWNvZGVQYXRoU2VnbWVudCcpOwogIFVSSS5kZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZGVjb2RlVXJuUGF0aFNlZ21lbnQnKTsKICBVUkkucmVjb2RlUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCcvJywgJ2VuY29kZVBhdGhTZWdtZW50JywgJ2RlY29kZScpOwogIFVSSS5yZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZW5jb2RlVXJuUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7CgogIFVSSS5lbmNvZGVSZXNlcnZlZCA9IGdlbmVyYXRlQWNjZXNzb3IoJ3Jlc2VydmVkJywgJ2VuY29kZScpOwoKICBVUkkucGFyc2UgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICB2YXIgcG9zOwogICAgaWYgKCFwYXJ0cykgewogICAgICBwYXJ0cyA9IHt9OwogICAgfQogICAgLy8gW3Byb3RvY29sIjovLyJbdXNlcm5hbWVbIjoicGFzc3dvcmRdIkAiXWhvc3RuYW1lWyI6InBvcnRdIi8iP11bcGF0aF1bIj8icXVlcnlzdHJpbmddWyIjImZyYWdtZW50XQoKICAgIC8vIGV4dHJhY3QgZnJhZ21lbnQKICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKCcjJyk7CiAgICBpZiAocG9zID4gLTEpIHsKICAgICAgLy8gZXNjYXBpbmc/CiAgICAgIHBhcnRzLmZyYWdtZW50ID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKSB8fCBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcyk7CiAgICB9CgogICAgLy8gZXh0cmFjdCBxdWVyeQogICAgcG9zID0gc3RyaW5nLmluZGV4T2YoJz8nKTsKICAgIGlmIChwb3MgPiAtMSkgewogICAgICAvLyBlc2NhcGluZz8KICAgICAgcGFydHMucXVlcnkgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpIHx8IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKTsKICAgIH0KCiAgICAvLyBleHRyYWN0IHByb3RvY29sCiAgICBpZiAoc3RyaW5nLnN1YnN0cmluZygwLCAyKSA9PT0gJy8vJykgewogICAgICAvLyByZWxhdGl2ZS1zY2hlbWUKICAgICAgcGFydHMucHJvdG9jb2wgPSBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDIpOwogICAgICAvLyBleHRyYWN0ICJ1c2VyOnBhc3NAaG9zdDpwb3J0IgogICAgICBzdHJpbmcgPSBVUkkucGFyc2VBdXRob3JpdHkoc3RyaW5nLCBwYXJ0cyk7CiAgICB9IGVsc2UgewogICAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZignOicpOwogICAgICBpZiAocG9zID4gLTEpIHsKICAgICAgICBwYXJ0cy5wcm90b2NvbCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKSB8fCBudWxsOwogICAgICAgIGlmIChwYXJ0cy5wcm90b2NvbCAmJiAhcGFydHMucHJvdG9jb2wubWF0Y2goVVJJLnByb3RvY29sX2V4cHJlc3Npb24pKSB7CiAgICAgICAgICAvLyA6IG1heSBiZSB3aXRoaW4gdGhlIHBhdGgKICAgICAgICAgIHBhcnRzLnByb3RvY29sID0gdW5kZWZpbmVkOwogICAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxLCBwb3MgKyAzKSA9PT0gJy8vJykgewogICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAzKTsKCiAgICAgICAgICAvLyBleHRyYWN0ICJ1c2VyOnBhc3NAaG9zdDpwb3J0IgogICAgICAgICAgc3RyaW5nID0gVVJJLnBhcnNlQXV0aG9yaXR5KHN0cmluZywgcGFydHMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpOwogICAgICAgICAgcGFydHMudXJuID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAvLyB3aGF0J3MgbGVmdCBtdXN0IGJlIHRoZSBwYXRoCiAgICBwYXJ0cy5wYXRoID0gc3RyaW5nOwoKICAgIC8vIGFuZCB3ZSdyZSBkb25lCiAgICByZXR1cm4gcGFydHM7CiAgfTsKICBVUkkucGFyc2VIb3N0ID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykgewogICAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuCiAgICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXMKICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2Jsb2IvMzg2ZmQyNGY0OWIwZTlkMWE4YTA3NjU5MmE0MDQxNjhmYWVlY2MzNC9saWIvdXJsLmpzI0wxMTUtTDEyNAogICAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTYKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL3B1bGwvMjMzCiAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXFwvZywgJy8nKTsKCiAgICAvLyBleHRyYWN0IGhvc3Q6cG9ydAogICAgdmFyIHBvcyA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICB2YXIgYnJhY2tldFBvczsKICAgIHZhciB0OwoKICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgIHBvcyA9IHN0cmluZy5sZW5ndGg7CiAgICB9CgogICAgaWYgKHN0cmluZy5jaGFyQXQoMCkgPT09ICdbJykgewogICAgICAvLyBJUHY2IGhvc3QgLSBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLTZtYW4tdGV4dC1hZGRyLXJlcHJlc2VudGF0aW9uLTA0I3NlY3Rpb24tNgogICAgICAvLyBJIGNsYWltIG1vc3QgY2xpZW50IHNvZnR3YXJlIGJyZWFrcyBvbiBJUHY2IGFueXdheXMuIFRvIHNpbXBsaWZ5IHRoaW5ncywgVVJJIG9ubHkgYWNjZXB0cwogICAgICAvLyBJUHY2K3BvcnQgaW4gdGhlIGZvcm1hdCBbMjAwMTpkYjg6OjFdOjgwIChmb3IgdGhlIHRpbWUgYmVpbmcpCiAgICAgIGJyYWNrZXRQb3MgPSBzdHJpbmcuaW5kZXhPZignXScpOwogICAgICBwYXJ0cy5ob3N0bmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMSwgYnJhY2tldFBvcykgfHwgbnVsbDsKICAgICAgcGFydHMucG9ydCA9IHN0cmluZy5zdWJzdHJpbmcoYnJhY2tldFBvcyArIDIsIHBvcykgfHwgbnVsbDsKICAgICAgaWYgKHBhcnRzLnBvcnQgPT09ICcvJykgewogICAgICAgIHBhcnRzLnBvcnQgPSBudWxsOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIgZmlyc3RDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6Jyk7CiAgICAgIHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTsKICAgICAgdmFyIG5leHRDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6JywgZmlyc3RDb2xvbiArIDEpOwogICAgICBpZiAobmV4dENvbG9uICE9PSAtMSAmJiAoZmlyc3RTbGFzaCA9PT0gLTEgfHwgbmV4dENvbG9uIDwgZmlyc3RTbGFzaCkpIHsKICAgICAgICAvLyBJUHY2IGhvc3QgY29udGFpbnMgbXVsdGlwbGUgY29sb25zIC0gYnV0IG5vIHBvcnQKICAgICAgICAvLyB0aGlzIG5vdGF0aW9uIGlzIGFjdHVhbGx5IG5vdCBhbGxvd2VkIGJ5IFJGQyAzOTg2LCBidXQgd2UncmUgYSBsaWJlcmFsIHBhcnNlcgogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpIHx8IG51bGw7CiAgICAgICAgcGFydHMucG9ydCA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnOicpOwogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gdFswXSB8fCBudWxsOwogICAgICAgIHBhcnRzLnBvcnQgPSB0WzFdIHx8IG51bGw7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocGFydHMuaG9zdG5hbWUgJiYgc3RyaW5nLnN1YnN0cmluZyhwb3MpLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHBvcysrOwogICAgICBzdHJpbmcgPSAnLycgKyBzdHJpbmc7CiAgICB9CgogICAgcmV0dXJuIHN0cmluZy5zdWJzdHJpbmcocG9zKSB8fCAnLyc7CiAgfTsKICBVUkkucGFyc2VBdXRob3JpdHkgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICBzdHJpbmcgPSBVUkkucGFyc2VVc2VyaW5mbyhzdHJpbmcsIHBhcnRzKTsKICAgIHJldHVybiBVUkkucGFyc2VIb3N0KHN0cmluZywgcGFydHMpOwogIH07CiAgVVJJLnBhcnNlVXNlcmluZm8gPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICAvLyBleHRyYWN0IHVzZXJuYW1lOnBhc3N3b3JkCiAgICB2YXIgZmlyc3RTbGFzaCA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICB2YXIgcG9zID0gc3RyaW5nLmxhc3RJbmRleE9mKCdAJywgZmlyc3RTbGFzaCA+IC0xID8gZmlyc3RTbGFzaCA6IHN0cmluZy5sZW5ndGggLSAxKTsKICAgIHZhciB0OwoKICAgIC8vIGF1dGhvcml0eUAgbXVzdCBjb21lIGJlZm9yZSAvcGF0aAogICAgaWYgKHBvcyA+IC0xICYmIChmaXJzdFNsYXNoID09PSAtMSB8fCBwb3MgPCBmaXJzdFNsYXNoKSkgewogICAgICB0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCc6Jyk7CiAgICAgIHBhcnRzLnVzZXJuYW1lID0gdFswXSA/IFVSSS5kZWNvZGUodFswXSkgOiBudWxsOwogICAgICB0LnNoaWZ0KCk7CiAgICAgIHBhcnRzLnBhc3N3b3JkID0gdFswXSA/IFVSSS5kZWNvZGUodC5qb2luKCc6JykpIDogbnVsbDsKICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKTsKICAgIH0gZWxzZSB7CiAgICAgIHBhcnRzLnVzZXJuYW1lID0gbnVsbDsKICAgICAgcGFydHMucGFzc3dvcmQgPSBudWxsOwogICAgfQoKICAgIHJldHVybiBzdHJpbmc7CiAgfTsKICBVUkkucGFyc2VRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgaWYgKCFzdHJpbmcpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfQoKICAgIC8vIHRocm93IG91dCB0aGUgZnVua3kgYnVzaW5lc3MgLSAiPyJbbmFtZSI9InZhbHVlIiYiXSsKICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC8mKy9nLCAnJicpLnJlcGxhY2UoL15cPyomKnwmKyQvZywgJycpOwoKICAgIGlmICghc3RyaW5nKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KCiAgICB2YXIgaXRlbXMgPSB7fTsKICAgIHZhciBzcGxpdHMgPSBzdHJpbmcuc3BsaXQoJyYnKTsKICAgIHZhciBsZW5ndGggPSBzcGxpdHMubGVuZ3RoOwogICAgdmFyIHYsIG5hbWUsIHZhbHVlOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgdiA9IHNwbGl0c1tpXS5zcGxpdCgnPScpOwogICAgICBuYW1lID0gVVJJLmRlY29kZVF1ZXJ5KHYuc2hpZnQoKSwgZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIC8vIG5vICI9IiBpcyBudWxsIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnMKICAgICAgdmFsdWUgPSB2Lmxlbmd0aCA/IFVSSS5kZWNvZGVRdWVyeSh2LmpvaW4oJz0nKSwgZXNjYXBlUXVlcnlTcGFjZSkgOiBudWxsOwoKICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZW1zLCBuYW1lKSkgewogICAgICAgIGlmICh0eXBlb2YgaXRlbXNbbmFtZV0gPT09ICdzdHJpbmcnIHx8IGl0ZW1zW25hbWVdID09PSBudWxsKSB7CiAgICAgICAgICBpdGVtc1tuYW1lXSA9IFtpdGVtc1tuYW1lXV07CiAgICAgICAgfQoKICAgICAgICBpdGVtc1tuYW1lXS5wdXNoKHZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpdGVtc1tuYW1lXSA9IHZhbHVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGl0ZW1zOwogIH07CgogIFVSSS5idWlsZCA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmIChwYXJ0cy5wcm90b2NvbCkgewogICAgICB0ICs9IHBhcnRzLnByb3RvY29sICsgJzonOwogICAgfQoKICAgIGlmICghcGFydHMudXJuICYmICh0IHx8IHBhcnRzLmhvc3RuYW1lKSkgewogICAgICB0ICs9ICcvLyc7CiAgICB9CgogICAgdCArPSAoVVJJLmJ1aWxkQXV0aG9yaXR5KHBhcnRzKSB8fCAnJyk7CgogICAgaWYgKHR5cGVvZiBwYXJ0cy5wYXRoID09PSAnc3RyaW5nJykgewogICAgICBpZiAocGFydHMucGF0aC5jaGFyQXQoMCkgIT09ICcvJyAmJiB0eXBlb2YgcGFydHMuaG9zdG5hbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgdCArPSAnLyc7CiAgICAgIH0KCiAgICAgIHQgKz0gcGFydHMucGF0aDsKICAgIH0KCiAgICBpZiAodHlwZW9mIHBhcnRzLnF1ZXJ5ID09PSAnc3RyaW5nJyAmJiBwYXJ0cy5xdWVyeSkgewogICAgICB0ICs9ICc/JyArIHBhcnRzLnF1ZXJ5OwogICAgfQoKICAgIGlmICh0eXBlb2YgcGFydHMuZnJhZ21lbnQgPT09ICdzdHJpbmcnICYmIHBhcnRzLmZyYWdtZW50KSB7CiAgICAgIHQgKz0gJyMnICsgcGFydHMuZnJhZ21lbnQ7CiAgICB9CiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZEhvc3QgPSBmdW5jdGlvbihwYXJ0cykgewogICAgdmFyIHQgPSAnJzsKCiAgICBpZiAoIXBhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJldHVybiAnJzsKICAgIH0gZWxzZSBpZiAoVVJJLmlwNl9leHByZXNzaW9uLnRlc3QocGFydHMuaG9zdG5hbWUpKSB7CiAgICAgIHQgKz0gJ1snICsgcGFydHMuaG9zdG5hbWUgKyAnXSc7CiAgICB9IGVsc2UgewogICAgICB0ICs9IHBhcnRzLmhvc3RuYW1lOwogICAgfQoKICAgIGlmIChwYXJ0cy5wb3J0KSB7CiAgICAgIHQgKz0gJzonICsgcGFydHMucG9ydDsKICAgIH0KCiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZEF1dGhvcml0eSA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICByZXR1cm4gVVJJLmJ1aWxkVXNlcmluZm8ocGFydHMpICsgVVJJLmJ1aWxkSG9zdChwYXJ0cyk7CiAgfTsKICBVUkkuYnVpbGRVc2VyaW5mbyA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmIChwYXJ0cy51c2VybmFtZSkgewogICAgICB0ICs9IFVSSS5lbmNvZGUocGFydHMudXNlcm5hbWUpOwogICAgfQoKICAgIGlmIChwYXJ0cy5wYXNzd29yZCkgewogICAgICB0ICs9ICc6JyArIFVSSS5lbmNvZGUocGFydHMucGFzc3dvcmQpOwogICAgfQoKICAgIGlmICh0KSB7CiAgICAgIHQgKz0gJ0AnOwogICAgfQoKICAgIHJldHVybiB0OwogIH07CiAgVVJJLmJ1aWxkUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIC8vIGFjY29yZGluZyB0byBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2IG9yIGh0dHA6Ly9sYWJzLmFwYWNoZS5vcmcvd2ViYXJjaC91cmkvcmZjL3JmYzM5ODYuaHRtbAogICAgLy8gYmVpbmcgwrstLl9+ISQmJygpKissOz06QC8/wqsgJUhFWCBhbmQgYWxudW0gYXJlIGFsbG93ZWQKICAgIC8vIHRoZSBSRkMgZXhwbGljaXRseSBzdGF0ZXMgPy9mb28gYmVpbmcgYSB2YWxpZCB1c2UgY2FzZSwgbm8gbWVudGlvbiBvZiBwYXJhbWV0ZXIgc3ludGF4IQogICAgLy8gVVJJLmpzIHRyZWF0cyB0aGUgcXVlcnkgc3RyaW5nIGFzIGJlaW5nIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZAogICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZQoKICAgIHZhciB0ID0gJyc7CiAgICB2YXIgdW5pcXVlLCBrZXksIGksIGxlbmd0aDsKICAgIGZvciAoa2V5IGluIGRhdGEpIHsKICAgICAgaWYgKGhhc093bi5jYWxsKGRhdGEsIGtleSkgJiYga2V5KSB7CiAgICAgICAgaWYgKGlzQXJyYXkoZGF0YVtrZXldKSkgewogICAgICAgICAgdW5pcXVlID0ge307CiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBkYXRhW2tleV0ubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGRhdGFba2V5XVtpXSAhPT0gdW5kZWZpbmVkICYmIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV1baV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgICAgICAgIGlmIChkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgIT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0LnN1YnN0cmluZygxKTsKICB9OwogIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZSAtLSBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQKICAgIC8vIGRvbid0IGFwcGVuZCAiPSIgZm9yIG51bGwgdmFsdWVzLCBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCN1cmwtcGFyYW1ldGVyLXNlcmlhbGl6YXRpb24KICAgIHJldHVybiBVUkkuZW5jb2RlUXVlcnkobmFtZSwgZXNjYXBlUXVlcnlTcGFjZSkgKyAodmFsdWUgIT09IG51bGwgPyAnPScgKyBVUkkuZW5jb2RlUXVlcnkodmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIDogJycpOwogIH07CgogIFVSSS5hZGRRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlKSB7CiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIFVSSS5hZGRRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAoZGF0YVtuYW1lXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgZGF0YVtuYW1lXSA9IHZhbHVlOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YVtuYW1lXSA9PT0gJ3N0cmluZycpIHsKICAgICAgICBkYXRhW25hbWVdID0gW2RhdGFbbmFtZV1dOwogICAgICB9CgogICAgICBpZiAoIWlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgdmFsdWUgPSBbdmFsdWVdOwogICAgICB9CgogICAgICBkYXRhW25hbWVdID0gKGRhdGFbbmFtZV0gfHwgW10pLmNvbmNhdCh2YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQogIH07CiAgVVJJLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGgsIGtleTsKCiAgICBpZiAoaXNBcnJheShuYW1lKSkgewogICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBuYW1lLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgZGF0YVtuYW1lW2ldXSA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfSBlbHNlIGlmIChnZXRUeXBlKG5hbWUpID09PSAnUmVnRXhwJykgewogICAgICBmb3IgKGtleSBpbiBkYXRhKSB7CiAgICAgICAgaWYgKG5hbWUudGVzdChrZXkpKSB7CiAgICAgICAgICBkYXRhW2tleV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0JykgewogICAgICBmb3IgKGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIFVSSS5yZW1vdmVRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSAmJiB2YWx1ZS50ZXN0KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtuYW1lXSA9PT0gU3RyaW5nKHZhbHVlKSAmJiAoIWlzQXJyYXkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkpIHsKICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhW25hbWVdID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkucmVtb3ZlUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nLCBSZWdFeHAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlcicpOwogICAgfQogIH07CiAgVVJJLmhhc1F1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KSB7CiAgICBzd2l0Y2ggKGdldFR5cGUobmFtZSkpIHsKICAgICAgY2FzZSAnU3RyaW5nJzoKICAgICAgICAvLyBOb3RoaW5nIHRvIGRvIGhlcmUKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ1JlZ0V4cCc6CiAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHsKICAgICAgICAgIGlmIChoYXNPd24uY2FsbChkYXRhLCBrZXkpKSB7CiAgICAgICAgICAgIGlmIChuYW1lLnRlc3Qoa2V5KSAmJiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCBVUkkuaGFzUXVlcnkoZGF0YSwga2V5LCB2YWx1ZSkpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgIGNhc2UgJ09iamVjdCc6CiAgICAgICAgZm9yICh2YXIgX2tleSBpbiBuYW1lKSB7CiAgICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwgX2tleSkpIHsKICAgICAgICAgICAgaWYgKCFVUkkuaGFzUXVlcnkoZGF0YSwgX2tleSwgbmFtZVtfa2V5XSkpIHsKICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIGEgc3RyaW5nLCByZWd1bGFyIGV4cHJlc3Npb24gb3Igb2JqZWN0IGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQoKICAgIHN3aXRjaCAoZ2V0VHlwZSh2YWx1ZSkpIHsKICAgICAgY2FzZSAnVW5kZWZpbmVkJzoKICAgICAgICAvLyB0cnVlIGlmIGV4aXN0cyAoYnV0IG1heSBiZSBlbXB0eSkKICAgICAgICByZXR1cm4gbmFtZSBpbiBkYXRhOyAvLyBkYXRhW25hbWVdICE9PSB1bmRlZmluZWQ7CgogICAgICBjYXNlICdCb29sZWFuJzoKICAgICAgICAvLyB0cnVlIGlmIGV4aXN0cyBhbmQgbm9uLWVtcHR5CiAgICAgICAgdmFyIF9ib29seSA9IEJvb2xlYW4oaXNBcnJheShkYXRhW25hbWVdKSA/IGRhdGFbbmFtZV0ubGVuZ3RoIDogZGF0YVtuYW1lXSk7CiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBfYm9vbHk7CgogICAgICBjYXNlICdGdW5jdGlvbic6CiAgICAgICAgLy8gYWxsb3cgY29tcGxleCBjb21wYXJpc29uCiAgICAgICAgcmV0dXJuICEhdmFsdWUoZGF0YVtuYW1lXSwgbmFtZSwgZGF0YSk7CgogICAgICBjYXNlICdBcnJheSc6CiAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB2YXIgb3AgPSB3aXRoaW5BcnJheSA/IGFycmF5Q29udGFpbnMgOiBhcnJheXNFcXVhbDsKICAgICAgICByZXR1cm4gb3AoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgY2FzZSAnUmVnRXhwJzoKICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgIHJldHVybiBCb29sZWFuKGRhdGFbbmFtZV0gJiYgZGF0YVtuYW1lXS5tYXRjaCh2YWx1ZSkpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF3aXRoaW5BcnJheSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgY2FzZSAnTnVtYmVyJzoKICAgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7CiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqLwogICAgICBjYXNlICdTdHJpbmcnOgogICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSkgewogICAgICAgICAgcmV0dXJuIGRhdGFbbmFtZV0gPT09IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF3aXRoaW5BcnJheSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIHVuZGVmaW5lZCwgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIsIFJlZ0V4cCwgRnVuY3Rpb24gYXMgdGhlIHZhbHVlIHBhcmFtZXRlcicpOwogICAgfQogIH07CgoKICBVUkkuam9pblBhdGhzID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgaW5wdXQgPSBbXTsKICAgIHZhciBzZWdtZW50cyA9IFtdOwogICAgdmFyIG5vbkVtcHR5U2VnbWVudHMgPSAwOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciB1cmwgPSBuZXcgVVJJKGFyZ3VtZW50c1tpXSk7CiAgICAgIGlucHV0LnB1c2godXJsKTsKICAgICAgdmFyIF9zZWdtZW50cyA9IHVybC5zZWdtZW50KCk7CiAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgX3NlZ21lbnRzLmxlbmd0aDsgcysrKSB7CiAgICAgICAgaWYgKHR5cGVvZiBfc2VnbWVudHNbc10gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICBzZWdtZW50cy5wdXNoKF9zZWdtZW50c1tzXSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3NlZ21lbnRzW3NdKSB7CiAgICAgICAgICBub25FbXB0eVNlZ21lbnRzKys7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKCFzZWdtZW50cy5sZW5ndGggfHwgIW5vbkVtcHR5U2VnbWVudHMpIHsKICAgICAgcmV0dXJuIG5ldyBVUkkoJycpOwogICAgfQoKICAgIHZhciB1cmkgPSBuZXcgVVJJKCcnKS5zZWdtZW50KHNlZ21lbnRzKTsKCiAgICBpZiAoaW5wdXRbMF0ucGF0aCgpID09PSAnJyB8fCBpbnB1dFswXS5wYXRoKCkuc2xpY2UoMCwgMSkgPT09ICcvJykgewogICAgICB1cmkucGF0aCgnLycgKyB1cmkucGF0aCgpKTsKICAgIH0KCiAgICByZXR1cm4gdXJpLm5vcm1hbGl6ZSgpOwogIH07CgogIFVSSS5jb21tb25QYXRoID0gZnVuY3Rpb24ob25lLCB0d28pIHsKICAgIHZhciBsZW5ndGggPSBNYXRoLm1pbihvbmUubGVuZ3RoLCB0d28ubGVuZ3RoKTsKICAgIHZhciBwb3M7CgogICAgLy8gZmluZCBmaXJzdCBub24tbWF0Y2hpbmcgY2hhcmFjdGVyCiAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKG9uZS5jaGFyQXQocG9zKSAhPT0gdHdvLmNoYXJBdChwb3MpKSB7CiAgICAgICAgcG9zLS07CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocG9zIDwgMSkgewogICAgICByZXR1cm4gb25lLmNoYXJBdCgwKSA9PT0gdHdvLmNoYXJBdCgwKSAmJiBvbmUuY2hhckF0KDApID09PSAnLycgPyAnLycgOiAnJzsKICAgIH0KCiAgICAvLyByZXZlcnQgdG8gbGFzdCAvCiAgICBpZiAob25lLmNoYXJBdChwb3MpICE9PSAnLycgfHwgdHdvLmNoYXJBdChwb3MpICE9PSAnLycpIHsKICAgICAgcG9zID0gb25lLnN1YnN0cmluZygwLCBwb3MpLmxhc3RJbmRleE9mKCcvJyk7CiAgICB9CgogICAgcmV0dXJuIG9uZS5zdWJzdHJpbmcoMCwgcG9zICsgMSk7CiAgfTsKCiAgVVJJLndpdGhpblN0cmluZyA9IGZ1bmN0aW9uKHN0cmluZywgY2FsbGJhY2ssIG9wdGlvbnMpIHsKICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7CiAgICB2YXIgX3N0YXJ0ID0gb3B0aW9ucy5zdGFydCB8fCBVUkkuZmluZFVyaS5zdGFydDsKICAgIHZhciBfZW5kID0gb3B0aW9ucy5lbmQgfHwgVVJJLmZpbmRVcmkuZW5kOwogICAgdmFyIF90cmltID0gb3B0aW9ucy50cmltIHx8IFVSSS5maW5kVXJpLnRyaW07CiAgICB2YXIgX2F0dHJpYnV0ZU9wZW4gPSAvW2EtejAtOS1dPVsiJ10/JC9pOwoKICAgIF9zdGFydC5sYXN0SW5kZXggPSAwOwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgdmFyIG1hdGNoID0gX3N0YXJ0LmV4ZWMoc3RyaW5nKTsKICAgICAgaWYgKCFtYXRjaCkgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICB2YXIgc3RhcnQgPSBtYXRjaC5pbmRleDsKICAgICAgaWYgKG9wdGlvbnMuaWdub3JlSHRtbCkgewogICAgICAgIC8vIGF0dHJpYnV0KGU9WyInXT8kKQogICAgICAgIHZhciBhdHRyaWJ1dGVPcGVuID0gc3RyaW5nLnNsaWNlKE1hdGgubWF4KHN0YXJ0IC0gMywgMCksIHN0YXJ0KTsKICAgICAgICBpZiAoYXR0cmlidXRlT3BlbiAmJiBfYXR0cmlidXRlT3Blbi50ZXN0KGF0dHJpYnV0ZU9wZW4pKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBlbmQgPSBzdGFydCArIHN0cmluZy5zbGljZShzdGFydCkuc2VhcmNoKF9lbmQpOwogICAgICB2YXIgc2xpY2UgPSBzdHJpbmcuc2xpY2Uoc3RhcnQsIGVuZCkucmVwbGFjZShfdHJpbSwgJycpOwogICAgICBpZiAob3B0aW9ucy5pZ25vcmUgJiYgb3B0aW9ucy5pZ25vcmUudGVzdChzbGljZSkpIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgZW5kID0gc3RhcnQgKyBzbGljZS5sZW5ndGg7CiAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhzbGljZSwgc3RhcnQsIGVuZCwgc3RyaW5nKTsKICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIHN0YXJ0KSArIHJlc3VsdCArIHN0cmluZy5zbGljZShlbmQpOwogICAgICBfc3RhcnQubGFzdEluZGV4ID0gc3RhcnQgKyByZXN1bHQubGVuZ3RoOwogICAgfQoKICAgIF9zdGFydC5sYXN0SW5kZXggPSAwOwogICAgcmV0dXJuIHN0cmluZzsKICB9OwoKICBVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSA9IGZ1bmN0aW9uKHYpIHsKICAgIC8vIFRoZW9yZXRpY2FsbHkgVVJJcyBhbGxvdyBwZXJjZW50LWVuY29kaW5nIGluIEhvc3RuYW1lcyAoYWNjb3JkaW5nIHRvIFJGQyAzOTg2KQogICAgLy8gdGhleSBhcmUgbm90IHBhcnQgb2YgRE5TIGFuZCB0aGVyZWZvcmUgaWdub3JlZCBieSBVUkkuanMKCiAgICBpZiAodi5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkgewogICAgICAvLyB0ZXN0IHB1bnljb2RlCiAgICAgIGlmICghcHVueWNvZGUpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXSBhbmQgUHVueWNvZGUuanMgaXMgbm90IGF2YWlsYWJsZScpOwogICAgICB9CgogICAgICBpZiAocHVueWNvZGUudG9BU0NJSSh2KS5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBub0NvbmZsaWN0CiAgVVJJLm5vQ29uZmxpY3QgPSBmdW5jdGlvbihyZW1vdmVBbGwpIHsKICAgIGlmIChyZW1vdmVBbGwpIHsKICAgICAgdmFyIHVuY29uZmxpY3RlZCA9IHsKICAgICAgICBVUkk6IHRoaXMubm9Db25mbGljdCgpCiAgICAgIH07CgogICAgICBpZiAocm9vdC5VUklUZW1wbGF0ZSAmJiB0eXBlb2Ygcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLlVSSVRlbXBsYXRlID0gcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0KCk7CiAgICAgIH0KCiAgICAgIGlmIChyb290LklQdjYgJiYgdHlwZW9mIHJvb3QuSVB2Ni5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLklQdjYgPSByb290LklQdjYubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICBpZiAocm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgJiYgdHlwZW9mIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB1bmNvbmZsaWN0ZWQuU2Vjb25kTGV2ZWxEb21haW5zID0gcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICByZXR1cm4gdW5jb25mbGljdGVkOwogICAgfSBlbHNlIGlmIChyb290LlVSSSA9PT0gdGhpcykgewogICAgICByb290LlVSSSA9IF9VUkk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5idWlsZCA9IGZ1bmN0aW9uKGRlZmVyQnVpbGQpIHsKICAgIGlmIChkZWZlckJ1aWxkID09PSB0cnVlKSB7CiAgICAgIHRoaXMuX2RlZmVycmVkX2J1aWxkID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZGVmZXJCdWlsZCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX2RlZmVycmVkX2J1aWxkKSB7CiAgICAgIHRoaXMuX3N0cmluZyA9IFVSSS5idWlsZCh0aGlzLl9wYXJ0cyk7CiAgICAgIHRoaXMuX2RlZmVycmVkX2J1aWxkID0gZmFsc2U7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5jbG9uZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIG5ldyBVUkkodGhpcyk7CiAgfTsKCiAgcC52YWx1ZU9mID0gcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMuYnVpbGQoZmFsc2UpLl9zdHJpbmc7CiAgfTsKCgogIGZ1bmN0aW9uIGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoX3BhcnQpewogICAgcmV0dXJuIGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5fcGFydHNbX3BhcnRdIHx8ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX3BhcnRzW19wYXJ0XSA9IHYgfHwgbnVsbDsKICAgICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKF9wYXJ0LCBfa2V5KXsKICAgIHJldHVybiBmdW5jdGlvbih2LCBidWlsZCkgewogICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodiAhPT0gbnVsbCkgewogICAgICAgICAgdiA9IHYgKyAnJzsKICAgICAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gX2tleSkgewogICAgICAgICAgICB2ID0gdi5zdWJzdHJpbmcoMSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9wYXJ0c1tfcGFydF0gPSB2OwogICAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQogICAgfTsKICB9CgogIHAucHJvdG9jb2wgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwcm90b2NvbCcpOwogIHAudXNlcm5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCd1c2VybmFtZScpOwogIHAucGFzc3dvcmQgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwYXNzd29yZCcpOwogIHAuaG9zdG5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdob3N0bmFtZScpOwogIHAucG9ydCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3BvcnQnKTsKICBwLnF1ZXJ5ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcigncXVlcnknLCAnPycpOwogIHAuZnJhZ21lbnQgPSBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKCdmcmFnbWVudCcsICcjJyk7CgogIHAuc2VhcmNoID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciB0ID0gdGhpcy5xdWVyeSh2LCBidWlsZCk7CiAgICByZXR1cm4gdHlwZW9mIHQgPT09ICdzdHJpbmcnICYmIHQubGVuZ3RoID8gKCc/JyArIHQpIDogdDsKICB9OwogIHAuaGFzaCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICB2YXIgdCA9IHRoaXMuZnJhZ21lbnQodiwgYnVpbGQpOwogICAgcmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICgnIycgKyB0KSA6IHQ7CiAgfTsKCiAgcC5wYXRobmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGggfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpOwogICAgICByZXR1cm4gdiA/ICh0aGlzLl9wYXJ0cy51cm4gPyBVUkkuZGVjb2RlVXJuUGF0aCA6IFVSSS5kZWNvZGVQYXRoKShyZXMpIDogcmVzOwogICAgfSBlbHNlIHsKICAgICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVVyblBhdGgodikgOiAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdiA/IFVSSS5yZWNvZGVQYXRoKHYpIDogJy8nOwogICAgICB9CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnBhdGggPSBwLnBhdGhuYW1lOwogIHAuaHJlZiA9IGZ1bmN0aW9uKGhyZWYsIGJ1aWxkKSB7CiAgICB2YXIga2V5OwoKICAgIGlmIChocmVmID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsKICAgIH0KCiAgICB0aGlzLl9zdHJpbmcgPSAnJzsKICAgIHRoaXMuX3BhcnRzID0gVVJJLl9wYXJ0cygpOwoKICAgIHZhciBfVVJJID0gaHJlZiBpbnN0YW5jZW9mIFVSSTsKICAgIHZhciBfb2JqZWN0ID0gdHlwZW9mIGhyZWYgPT09ICdvYmplY3QnICYmIChocmVmLmhvc3RuYW1lIHx8IGhyZWYucGF0aCB8fCBocmVmLnBhdGhuYW1lKTsKICAgIGlmIChocmVmLm5vZGVOYW1lKSB7CiAgICAgIHZhciBhdHRyaWJ1dGUgPSBVUkkuZ2V0RG9tQXR0cmlidXRlKGhyZWYpOwogICAgICBocmVmID0gaHJlZlthdHRyaWJ1dGVdIHx8ICcnOwogICAgICBfb2JqZWN0ID0gZmFsc2U7CiAgICB9CgogICAgLy8gd2luZG93LmxvY2F0aW9uIGlzIHJlcG9ydGVkIHRvIGJlIGFuIG9iamVjdCwgYnV0IGl0J3Mgbm90IHRoZSBzb3J0CiAgICAvLyBvZiBvYmplY3Qgd2UncmUgbG9va2luZyBmb3I6CiAgICAvLyAqIGxvY2F0aW9uLnByb3RvY29sIGVuZHMgd2l0aCBhIGNvbG9uCiAgICAvLyAqIGxvY2F0aW9uLnF1ZXJ5ICE9IG9iamVjdC5zZWFyY2gKICAgIC8vICogbG9jYXRpb24uaGFzaCAhPSBvYmplY3QuZnJhZ21lbnQKICAgIC8vIHNpbXBseSBzZXJpYWxpemluZyB0aGUgdW5rbm93biBvYmplY3Qgc2hvdWxkIGRvIHRoZSB0cmljawogICAgLy8gKGZvciBsb2NhdGlvbiwgbm90IGZvciBldmVyeXRoaW5nLi4uKQogICAgaWYgKCFfVVJJICYmIF9vYmplY3QgJiYgaHJlZi5wYXRobmFtZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGhyZWYgPSBocmVmLnRvU3RyaW5nKCk7CiAgICB9CgogICAgaWYgKHR5cGVvZiBocmVmID09PSAnc3RyaW5nJyB8fCBocmVmIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIHRoaXMuX3BhcnRzID0gVVJJLnBhcnNlKFN0cmluZyhocmVmKSwgdGhpcy5fcGFydHMpOwogICAgfSBlbHNlIGlmIChfVVJJIHx8IF9vYmplY3QpIHsKICAgICAgdmFyIHNyYyA9IF9VUkkgPyBocmVmLl9wYXJ0cyA6IGhyZWY7CiAgICAgIGZvciAoa2V5IGluIHNyYykgewogICAgICAgIGlmIChoYXNPd24uY2FsbCh0aGlzLl9wYXJ0cywga2V5KSkgewogICAgICAgICAgdGhpcy5fcGFydHNba2V5XSA9IHNyY1trZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBpbnB1dCcpOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIGlkZW50aWZpY2F0aW9uIGFjY2Vzc29ycwogIHAuaXMgPSBmdW5jdGlvbih3aGF0KSB7CiAgICB2YXIgaXAgPSBmYWxzZTsKICAgIHZhciBpcDQgPSBmYWxzZTsKICAgIHZhciBpcDYgPSBmYWxzZTsKICAgIHZhciBuYW1lID0gZmFsc2U7CiAgICB2YXIgc2xkID0gZmFsc2U7CiAgICB2YXIgaWRuID0gZmFsc2U7CiAgICB2YXIgcHVueWNvZGUgPSBmYWxzZTsKICAgIHZhciByZWxhdGl2ZSA9ICF0aGlzLl9wYXJ0cy51cm47CgogICAgaWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJlbGF0aXZlID0gZmFsc2U7CiAgICAgIGlwNCA9IFVSSS5pcDRfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgaXA2ID0gVVJJLmlwNl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpcCA9IGlwNCB8fCBpcDY7CiAgICAgIG5hbWUgPSAhaXA7CiAgICAgIHNsZCA9IG5hbWUgJiYgU0xEICYmIFNMRC5oYXModGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpZG4gPSBuYW1lICYmIFVSSS5pZG5fZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgcHVueWNvZGUgPSBuYW1lICYmIFVSSS5wdW55Y29kZV9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgfQoKICAgIHN3aXRjaCAod2hhdC50b0xvd2VyQ2FzZSgpKSB7CiAgICAgIGNhc2UgJ3JlbGF0aXZlJzoKICAgICAgICByZXR1cm4gcmVsYXRpdmU7CgogICAgICBjYXNlICdhYnNvbHV0ZSc6CiAgICAgICAgcmV0dXJuICFyZWxhdGl2ZTsKCiAgICAgIC8vIGhvc3RuYW1lIGlkZW50aWZpY2F0aW9uCiAgICAgIGNhc2UgJ2RvbWFpbic6CiAgICAgIGNhc2UgJ25hbWUnOgogICAgICAgIHJldHVybiBuYW1lOwoKICAgICAgY2FzZSAnc2xkJzoKICAgICAgICByZXR1cm4gc2xkOwoKICAgICAgY2FzZSAnaXAnOgogICAgICAgIHJldHVybiBpcDsKCiAgICAgIGNhc2UgJ2lwNCc6CiAgICAgIGNhc2UgJ2lwdjQnOgogICAgICBjYXNlICdpbmV0NCc6CiAgICAgICAgcmV0dXJuIGlwNDsKCiAgICAgIGNhc2UgJ2lwNic6CiAgICAgIGNhc2UgJ2lwdjYnOgogICAgICBjYXNlICdpbmV0Nic6CiAgICAgICAgcmV0dXJuIGlwNjsKCiAgICAgIGNhc2UgJ2lkbic6CiAgICAgICAgcmV0dXJuIGlkbjsKCiAgICAgIGNhc2UgJ3VybCc6CiAgICAgICAgcmV0dXJuICF0aGlzLl9wYXJ0cy51cm47CgogICAgICBjYXNlICd1cm4nOgogICAgICAgIHJldHVybiAhIXRoaXMuX3BhcnRzLnVybjsKCiAgICAgIGNhc2UgJ3B1bnljb2RlJzoKICAgICAgICByZXR1cm4gcHVueWNvZGU7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfTsKCiAgLy8gY29tcG9uZW50IHNwZWNpZmljIGlucHV0IHZhbGlkYXRpb24KICB2YXIgX3Byb3RvY29sID0gcC5wcm90b2NvbDsKICB2YXIgX3BvcnQgPSBwLnBvcnQ7CiAgdmFyIF9ob3N0bmFtZSA9IHAuaG9zdG5hbWU7CgogIHAucHJvdG9jb2wgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodikgewogICAgICAgIC8vIGFjY2VwdCB0cmFpbGluZyA6Ly8KICAgICAgICB2ID0gdi5yZXBsYWNlKC86KFwvXC8pPyQvLCAnJyk7CgogICAgICAgIGlmICghdi5tYXRjaChVUkkucHJvdG9jb2xfZXhwcmVzc2lvbikpIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3RvY29sICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05ListXSBvciBkb2VzblwndCBzdGFydCB3aXRoIFtBLVpdJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gX3Byb3RvY29sLmNhbGwodGhpcywgdiwgYnVpbGQpOwogIH07CiAgcC5zY2hlbWUgPSBwLnByb3RvY29sOwogIHAucG9ydCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodiA9PT0gMCkgewogICAgICAgIHYgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodikgewogICAgICAgIHYgKz0gJyc7CiAgICAgICAgaWYgKHYuY2hhckF0KDApID09PSAnOicpIHsKICAgICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgICB9CgogICAgICAgIGlmICh2Lm1hdGNoKC9bXjAtOV0vKSkgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUG9ydCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gWzAtOV0nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBfcG9ydC5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwogIHAuaG9zdG5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIHggPSB7fTsKICAgICAgdmFyIHJlcyA9IFVSSS5wYXJzZUhvc3QodiwgeCk7CiAgICAgIGlmIChyZXMgIT09ICcvJykgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KCiAgICAgIHYgPSB4Lmhvc3RuYW1lOwogICAgfQogICAgcmV0dXJuIF9ob3N0bmFtZS5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwoKICAvLyBjb21wb3VuZCBhY2Nlc3NvcnMKICBwLm9yaWdpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sKCk7CiAgICAgIHZhciBhdXRob3JpdHkgPSB0aGlzLmF1dGhvcml0eSgpOwogICAgICBpZiAoIWF1dGhvcml0eSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgcmV0dXJuIChwcm90b2NvbCA/IHByb3RvY29sICsgJzovLycgOiAnJykgKyB0aGlzLmF1dGhvcml0eSgpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIG9yaWdpbiA9IFVSSSh2KTsKICAgICAgdGhpcwogICAgICAgIC5wcm90b2NvbChvcmlnaW4ucHJvdG9jb2woKSkKICAgICAgICAuYXV0aG9yaXR5KG9yaWdpbi5hdXRob3JpdHkoKSkKICAgICAgICAuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmhvc3QgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkSG9zdCh0aGlzLl9wYXJ0cykgOiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHRoaXMuX3BhcnRzKTsKICAgICAgaWYgKHJlcyAhPT0gJy8nKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuYXV0aG9yaXR5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/IFVSSS5idWlsZEF1dGhvcml0eSh0aGlzLl9wYXJ0cykgOiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VBdXRob3JpdHkodiwgdGhpcy5fcGFydHMpOwogICAgICBpZiAocmVzICE9PSAnLycpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC51c2VyaW5mbyA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgdCA9IFVSSS5idWlsZFVzZXJpbmZvKHRoaXMuX3BhcnRzKTsKICAgICAgcmV0dXJuIHQgPyB0LnN1YnN0cmluZygwLCB0Lmxlbmd0aCAtMSkgOiB0OwogICAgfSBlbHNlIHsKICAgICAgaWYgKHZbdi5sZW5ndGgtMV0gIT09ICdAJykgewogICAgICAgIHYgKz0gJ0AnOwogICAgICB9CgogICAgICBVUkkucGFyc2VVc2VyaW5mbyh2LCB0aGlzLl9wYXJ0cyk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnJlc291cmNlID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciBwYXJ0czsKCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLnBhdGgoKSArIHRoaXMuc2VhcmNoKCkgKyB0aGlzLmhhc2goKTsKICAgIH0KCiAgICBwYXJ0cyA9IFVSSS5wYXJzZSh2KTsKICAgIHRoaXMuX3BhcnRzLnBhdGggPSBwYXJ0cy5wYXRoOwogICAgdGhpcy5fcGFydHMucXVlcnkgPSBwYXJ0cy5xdWVyeTsKICAgIHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gcGFydHMuZnJhZ21lbnQ7CiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvLyBmcmFjdGlvbiBhY2Nlc3NvcnMKICBwLnN1YmRvbWFpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgLy8gY29udmVuaWVuY2UsIHJldHVybiAid3d3IiBmcm9tICJ3d3cuZXhhbXBsZS5vcmciCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgLy8gZ3JhYiBkb21haW4gYW5kIGFkZCBhbm90aGVyIHNlZ21lbnQKICAgICAgdmFyIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMuZG9tYWluKCkubGVuZ3RoIC0gMTsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlbmQpIHx8ICcnOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLmRvbWFpbigpLmxlbmd0aDsKICAgICAgdmFyIHN1YiA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlKTsKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCdeJyArIGVzY2FwZVJlZ0V4KHN1YikpOwoKICAgICAgaWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy4nKSB7CiAgICAgICAgdiArPSAnLic7CiAgICAgIH0KCiAgICAgIGlmICh2KSB7CiAgICAgICAgVVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUodik7CiAgICAgIH0KCiAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZG9tYWluID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgLy8gY29udmVuaWVuY2UsIHJldHVybiAiZXhhbXBsZS5vcmciIGZyb20gInd3dy5leGFtcGxlLm9yZyIKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBpZiBob3N0bmFtZSBjb25zaXN0cyBvZiAxIG9yIDIgc2VnbWVudHMsIGl0IG11c3QgYmUgdGhlIGRvbWFpbgogICAgICB2YXIgdCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLm1hdGNoKC9cLi9nKTsKICAgICAgaWYgKHQgJiYgdC5sZW5ndGggPCAyKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lOwogICAgICB9CgogICAgICAvLyBncmFiIHRsZCBhbmQgYWRkIGFub3RoZXIgc2VnbWVudAogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy50bGQoYnVpbGQpLmxlbmd0aCAtIDE7CiAgICAgIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxhc3RJbmRleE9mKCcuJywgZW5kIC0xKSArIDE7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoZW5kKSB8fCAnJzsKICAgIH0gZWxzZSB7CiAgICAgIGlmICghdikgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXQgZG9tYWluIGVtcHR5Jyk7CiAgICAgIH0KCiAgICAgIFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpOwoKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB2OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmRvbWFpbigpKSArICckJyk7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC50bGQgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICAvLyByZXR1cm4gIm9yZyIgZnJvbSAid3d3LmV4YW1wbGUub3JnIgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sYXN0SW5kZXhPZignLicpOwogICAgICB2YXIgdGxkID0gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKHBvcyArIDEpOwoKICAgICAgaWYgKGJ1aWxkICE9PSB0cnVlICYmIFNMRCAmJiBTTEQubGlzdFt0bGQudG9Mb3dlckNhc2UoKV0pIHsKICAgICAgICByZXR1cm4gU0xELmdldCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgfHwgdGxkOwogICAgICB9CgogICAgICByZXR1cm4gdGxkOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlcGxhY2U7CgogICAgICBpZiAoIXYpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYW5ub3Qgc2V0IFRMRCBlbXB0eScpOwogICAgICB9IGVsc2UgaWYgKHYubWF0Y2goL1teYS16QS1aMC05LV0vKSkgewogICAgICAgIGlmIChTTEQgJiYgU0xELmlzKHYpKSB7CiAgICAgICAgICByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLnRsZCgpKSArICckJyk7CiAgICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RMRCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOV0nKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ2Nhbm5vdCBzZXQgVExEIG9uIG5vbi1kb21haW4gaG9zdCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMudGxkKCkpICsgJyQnKTsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmRpcmVjdG9yeSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucGF0aCAmJiAhdGhpcy5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgICByZXR1cm4gJy8nOwogICAgICB9CgogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoIC0gMTsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKDAsIGVuZCkgfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpOwoKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aChyZXMpIDogcmVzOwoKICAgIH0gZWxzZSB7CiAgICAgIHZhciBlID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoOwogICAgICB2YXIgZGlyZWN0b3J5ID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZSk7CiAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWdFeChkaXJlY3RvcnkpKTsKCiAgICAgIC8vIGZ1bGx5IHF1YWxpZmllciBkaXJlY3RvcmllcyBiZWdpbiB3aXRoIGEgc2xhc2gKICAgICAgaWYgKCF0aGlzLmlzKCdyZWxhdGl2ZScpKSB7CiAgICAgICAgaWYgKCF2KSB7CiAgICAgICAgICB2ID0gJy8nOwogICAgICAgIH0KCiAgICAgICAgaWYgKHYuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgICAgIHYgPSAnLycgKyB2OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gZGlyZWN0b3JpZXMgYWx3YXlzIGVuZCB3aXRoIGEgc2xhc2gKICAgICAgaWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy8nKSB7CiAgICAgICAgdiArPSAnLyc7CiAgICAgIH0KCiAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZmlsZW5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICB2YXIgcG9zID0gdGhpcy5fcGFydHMucGF0aC5sYXN0SW5kZXhPZignLycpOwogICAgICB2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcocG9zKzEpOwoKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlczsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBtdXRhdGVkRGlyZWN0b3J5ID0gZmFsc2U7CgogICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICcvJykgewogICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgfQoKICAgICAgaWYgKHYubWF0Y2goL1wuP1wvLykpIHsKICAgICAgICBtdXRhdGVkRGlyZWN0b3J5ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMuZmlsZW5hbWUoKSkgKyAnJCcpOwogICAgICB2ID0gVVJJLnJlY29kZVBhdGgodik7CiAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7CgogICAgICBpZiAobXV0YXRlZERpcmVjdG9yeSkgewogICAgICAgIHRoaXMubm9ybWFsaXplUGF0aChidWlsZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuc3VmZml4ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5wYXRoIHx8IHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgdmFyIGZpbGVuYW1lID0gdGhpcy5maWxlbmFtZSgpOwogICAgICB2YXIgcG9zID0gZmlsZW5hbWUubGFzdEluZGV4T2YoJy4nKTsKICAgICAgdmFyIHMsIHJlczsKCiAgICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBzdWZmaXggbWF5IG9ubHkgY29udGFpbiBhbG51bSBjaGFyYWN0ZXJzICh5dXAsIEkgbWFkZSB0aGlzIHVwLikKICAgICAgcyA9IGZpbGVuYW1lLnN1YnN0cmluZyhwb3MrMSk7CiAgICAgIHJlcyA9ICgvXlthLXowLTklXSskL2kpLnRlc3QocykgPyBzIDogJyc7CiAgICAgIHJldHVybiB2ID8gVVJJLmRlY29kZVBhdGhTZWdtZW50KHJlcykgOiByZXM7CiAgICB9IGVsc2UgewogICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICcuJykgewogICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgfQoKICAgICAgdmFyIHN1ZmZpeCA9IHRoaXMuc3VmZml4KCk7CiAgICAgIHZhciByZXBsYWNlOwoKICAgICAgaWYgKCFzdWZmaXgpIHsKICAgICAgICBpZiAoIXYpIHsKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5fcGFydHMucGF0aCArPSAnLicgKyBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgfSBlbHNlIGlmICghdikgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KCcuJyArIHN1ZmZpeCkgKyAnJCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHN1ZmZpeCkgKyAnJCcpOwogICAgICB9CgogICAgICBpZiAocmVwbGFjZSkgewogICAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5zZWdtZW50ID0gZnVuY3Rpb24oc2VnbWVudCwgdiwgYnVpbGQpIHsKICAgIHZhciBzZXBhcmF0b3IgPSB0aGlzLl9wYXJ0cy51cm4gPyAnOicgOiAnLyc7CiAgICB2YXIgcGF0aCA9IHRoaXMucGF0aCgpOwogICAgdmFyIGFic29sdXRlID0gcGF0aC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJzsKICAgIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoc2VwYXJhdG9yKTsKCiAgICBpZiAoc2VnbWVudCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSBzZWdtZW50OwogICAgICBzZWdtZW50ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQmFkIHNlZ21lbnQgIicgKyBzZWdtZW50ICsgJyIsIG11c3QgYmUgMC1iYXNlZCBpbnRlZ2VyJyk7CiAgICB9CgogICAgaWYgKGFic29sdXRlKSB7CiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICB9CgogICAgaWYgKHNlZ21lbnQgPCAwKSB7CiAgICAgIC8vIGFsbG93IG5lZ2F0aXZlIGluZGV4ZXMgdG8gYWRkcmVzcyBmcm9tIHRoZSBlbmQKICAgICAgc2VnbWVudCA9IE1hdGgubWF4KHNlZ21lbnRzLmxlbmd0aCArIHNlZ21lbnQsIDApOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi8KICAgICAgcmV0dXJuIHNlZ21lbnQgPT09IHVuZGVmaW5lZAogICAgICAgID8gc2VnbWVudHMKICAgICAgICA6IHNlZ21lbnRzW3NlZ21lbnRdOwogICAgICAvKmpzaGludCBsYXhicmVhazogZmFsc2UgKi8KICAgIH0gZWxzZSBpZiAoc2VnbWVudCA9PT0gbnVsbCB8fCBzZWdtZW50c1tzZWdtZW50XSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmIChpc0FycmF5KHYpKSB7CiAgICAgICAgc2VnbWVudHMgPSBbXTsKICAgICAgICAvLyBjb2xsYXBzZSBlbXB0eSBlbGVtZW50cyB3aXRoaW4gYXJyYXkKICAgICAgICBmb3IgKHZhciBpPTAsIGw9di5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIGlmICghdltpXS5sZW5ndGggJiYgKCFzZWdtZW50cy5sZW5ndGggfHwgIXNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0ubGVuZ3RoKSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2VnbWVudHMubGVuZ3RoICYmICFzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdLmxlbmd0aCkgewogICAgICAgICAgICBzZWdtZW50cy5wb3AoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBzZWdtZW50cy5wdXNoKHRyaW1TbGFzaGVzKHZbaV0pKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodiB8fCB0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHsKICAgICAgICB2ID0gdHJpbVNsYXNoZXModik7CiAgICAgICAgaWYgKHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPT09ICcnKSB7CiAgICAgICAgICAvLyBlbXB0eSB0cmFpbGluZyBlbGVtZW50cyBoYXZlIHRvIGJlIG92ZXJ3cml0dGVuCiAgICAgICAgICAvLyB0byBwcmV2ZW50IHJlc3VsdHMgc3VjaCBhcyAvZm9vLy9iYXIKICAgICAgICAgIHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPSB2OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZWdtZW50cy5wdXNoKHYpOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKHYpIHsKICAgICAgICBzZWdtZW50c1tzZWdtZW50XSA9IHRyaW1TbGFzaGVzKHYpOwogICAgICB9IGVsc2UgewogICAgICAgIHNlZ21lbnRzLnNwbGljZShzZWdtZW50LCAxKTsKICAgICAgfQogICAgfQoKICAgIGlmIChhYnNvbHV0ZSkgewogICAgICBzZWdtZW50cy51bnNoaWZ0KCcnKTsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5wYXRoKHNlZ21lbnRzLmpvaW4oc2VwYXJhdG9yKSwgYnVpbGQpOwogIH07CiAgcC5zZWdtZW50Q29kZWQgPSBmdW5jdGlvbihzZWdtZW50LCB2LCBidWlsZCkgewogICAgdmFyIHNlZ21lbnRzLCBpLCBsOwoKICAgIGlmICh0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHsKICAgICAgYnVpbGQgPSB2OwogICAgICB2ID0gc2VnbWVudDsKICAgICAgc2VnbWVudCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHNlZ21lbnRzID0gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTsKICAgICAgaWYgKCFpc0FycmF5KHNlZ21lbnRzKSkgewogICAgICAgIHNlZ21lbnRzID0gc2VnbWVudHMgIT09IHVuZGVmaW5lZCA/IFVSSS5kZWNvZGUoc2VnbWVudHMpIDogdW5kZWZpbmVkOwogICAgICB9IGVsc2UgewogICAgICAgIGZvciAoaSA9IDAsIGwgPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIHNlZ21lbnRzW2ldID0gVVJJLmRlY29kZShzZWdtZW50c1tpXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gc2VnbWVudHM7CiAgICB9CgogICAgaWYgKCFpc0FycmF5KHYpKSB7CiAgICAgIHYgPSAodHlwZW9mIHYgPT09ICdzdHJpbmcnIHx8IHYgaW5zdGFuY2VvZiBTdHJpbmcpID8gVVJJLmVuY29kZSh2KSA6IHY7CiAgICB9IGVsc2UgewogICAgICBmb3IgKGkgPSAwLCBsID0gdi5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2W2ldID0gVVJJLmVuY29kZSh2W2ldKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0aGlzLnNlZ21lbnQoc2VnbWVudCwgdiwgYnVpbGQpOwogIH07CgogIC8vIG11dGF0aW5nIHF1ZXJ5IHN0cmluZwogIHZhciBxID0gcC5xdWVyeTsKICBwLnF1ZXJ5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh2ID09PSB0cnVlKSB7CiAgICAgIHJldHVybiBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB2YXIgcmVzdWx0ID0gdi5jYWxsKHRoaXMsIGRhdGEpOwogICAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KHJlc3VsdCB8fCBkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSBlbHNlIGlmICh2ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7CiAgICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkodiwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBxLmNhbGwodGhpcywgdiwgYnVpbGQpOwogICAgfQogIH07CiAgcC5zZXRRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CgogICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyB8fCBuYW1lIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIGRhdGFbbmFtZV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBudWxsOwogICAgfSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkgewogICAgICAgICAgZGF0YVtrZXldID0gbmFtZVtrZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTsKICAgIH0KCiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7CiAgICAgIGJ1aWxkID0gdmFsdWU7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLmFkZFF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7CiAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIFVSSS5hZGRRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZhbHVlKTsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgVVJJLnJlbW92ZVF1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlKTsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAuaGFzUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgcmV0dXJuIFVSSS5oYXNRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpOwogIH07CiAgcC5zZXRTZWFyY2ggPSBwLnNldFF1ZXJ5OwogIHAuYWRkU2VhcmNoID0gcC5hZGRRdWVyeTsKICBwLnJlbW92ZVNlYXJjaCA9IHAucmVtb3ZlUXVlcnk7CiAgcC5oYXNTZWFyY2ggPSBwLmhhc1F1ZXJ5OwoKICAvLyBzYW5pdGl6aW5nIFVSTHMKICBwLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdGhpcwogICAgICAgIC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSkKICAgICAgICAubm9ybWFsaXplUGF0aChmYWxzZSkKICAgICAgICAubm9ybWFsaXplUXVlcnkoZmFsc2UpCiAgICAgICAgLm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKQogICAgICAgIC5idWlsZCgpOwogICAgfQoKICAgIHJldHVybiB0aGlzCiAgICAgIC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZUhvc3RuYW1lKGZhbHNlKQogICAgICAubm9ybWFsaXplUG9ydChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZVBhdGgoZmFsc2UpCiAgICAgIC5ub3JtYWxpemVRdWVyeShmYWxzZSkKICAgICAgLm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKQogICAgICAuYnVpbGQoKTsKICB9OwogIHAubm9ybWFsaXplUHJvdG9jb2wgPSBmdW5jdGlvbihidWlsZCkgewogICAgaWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9PT0gJ3N0cmluZycpIHsKICAgICAgdGhpcy5fcGFydHMucHJvdG9jb2wgPSB0aGlzLl9wYXJ0cy5wcm90b2NvbC50b0xvd2VyQ2FzZSgpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZUhvc3RuYW1lID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICBpZiAodGhpcy5pcygnSUROJykgJiYgcHVueWNvZGUpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXMoJ0lQdjYnKSAmJiBJUHY2KSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSBJUHY2LmJlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICB9CgogICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplUG9ydCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICAvLyByZW1vdmUgcG9ydCBvZiBpdCdzIHRoZSBwcm90b2NvbCdzIGRlZmF1bHQKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wgPT09ICdzdHJpbmcnICYmIHRoaXMuX3BhcnRzLnBvcnQgPT09IFVSSS5kZWZhdWx0UG9ydHNbdGhpcy5fcGFydHMucHJvdG9jb2xdKSB7CiAgICAgIHRoaXMuX3BhcnRzLnBvcnQgPSBudWxsOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVBhdGggPSBmdW5jdGlvbihidWlsZCkgewogICAgdmFyIF9wYXRoID0gdGhpcy5fcGFydHMucGF0aDsKICAgIGlmICghX3BhdGgpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gVVJJLnJlY29kZVVyblBhdGgodGhpcy5fcGFydHMucGF0aCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBfcGF0aCA9IFVSSS5yZWNvZGVQYXRoKF9wYXRoKTsKCiAgICB2YXIgX3dhc19yZWxhdGl2ZTsKICAgIHZhciBfbGVhZGluZ1BhcmVudHMgPSAnJzsKICAgIHZhciBfcGFyZW50LCBfcG9zOwoKICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocwogICAgaWYgKF9wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIF93YXNfcmVsYXRpdmUgPSB0cnVlOwogICAgICBfcGF0aCA9ICcvJyArIF9wYXRoOwogICAgfQoKICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBmaWxlcyAoYXMgb3Bwb3NlZCB0byBkaXJlY3RvcmllcykKICAgIGlmIChfcGF0aC5zbGljZSgtMykgPT09ICcvLi4nIHx8IF9wYXRoLnNsaWNlKC0yKSA9PT0gJy8uJykgewogICAgICBfcGF0aCArPSAnLyc7CiAgICB9CgogICAgLy8gcmVzb2x2ZSBzaW1wbGVzCiAgICBfcGF0aCA9IF9wYXRoCiAgICAgIC5yZXBsYWNlKC8oXC8oXC5cLykrKXwoXC9cLiQpL2csICcvJykKICAgICAgLnJlcGxhY2UoL1wvezIsfS9nLCAnLycpOwoKICAgIC8vIHJlbWVtYmVyIGxlYWRpbmcgcGFyZW50cwogICAgaWYgKF93YXNfcmVsYXRpdmUpIHsKICAgICAgX2xlYWRpbmdQYXJlbnRzID0gX3BhdGguc3Vic3RyaW5nKDEpLm1hdGNoKC9eKFwuXC5cLykrLykgfHwgJyc7CiAgICAgIGlmIChfbGVhZGluZ1BhcmVudHMpIHsKICAgICAgICBfbGVhZGluZ1BhcmVudHMgPSBfbGVhZGluZ1BhcmVudHNbMF07CiAgICAgIH0KICAgIH0KCiAgICAvLyByZXNvbHZlIHBhcmVudHMKICAgIHdoaWxlICh0cnVlKSB7CiAgICAgIF9wYXJlbnQgPSBfcGF0aC5zZWFyY2goL1wvXC5cLihcL3wkKS8pOwogICAgICBpZiAoX3BhcmVudCA9PT0gLTEpIHsKICAgICAgICAvLyBubyBtb3JlIC4uLyB0byByZXNvbHZlCiAgICAgICAgYnJlYWs7CiAgICAgIH0gZWxzZSBpZiAoX3BhcmVudCA9PT0gMCkgewogICAgICAgIC8vIHRvcCBsZXZlbCBjYW5ub3QgYmUgcmVsYXRpdmUsIHNraXAgaXQKICAgICAgICBfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygzKTsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgX3BvcyA9IF9wYXRoLnN1YnN0cmluZygwLCBfcGFyZW50KS5sYXN0SW5kZXhPZignLycpOwogICAgICBpZiAoX3BvcyA9PT0gLTEpIHsKICAgICAgICBfcG9zID0gX3BhcmVudDsKICAgICAgfQogICAgICBfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygwLCBfcG9zKSArIF9wYXRoLnN1YnN0cmluZyhfcGFyZW50ICsgMyk7CiAgICB9CgogICAgLy8gcmV2ZXJ0IHRvIHJlbGF0aXZlCiAgICBpZiAoX3dhc19yZWxhdGl2ZSAmJiB0aGlzLmlzKCdyZWxhdGl2ZScpKSB7CiAgICAgIF9wYXRoID0gX2xlYWRpbmdQYXJlbnRzICsgX3BhdGguc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHRoaXMuX3BhcnRzLnBhdGggPSBfcGF0aDsKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVQYXRobmFtZSA9IHAubm9ybWFsaXplUGF0aDsKICBwLm5vcm1hbGl6ZVF1ZXJ5ID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucXVlcnkgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucXVlcnkubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5fcGFydHMucXVlcnkgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucXVlcnkoVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVGcmFnbWVudCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICBpZiAoIXRoaXMuX3BhcnRzLmZyYWdtZW50KSB7CiAgICAgIHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gbnVsbDsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVTZWFyY2ggPSBwLm5vcm1hbGl6ZVF1ZXJ5OwogIHAubm9ybWFsaXplSGFzaCA9IHAubm9ybWFsaXplRnJhZ21lbnQ7CgogIHAuaXNvODg1OSA9IGZ1bmN0aW9uKCkgewogICAgLy8gZXhwZWN0IHVuaWNvZGUgaW5wdXQsIGlzbzg4NTkgb3V0cHV0CiAgICB2YXIgZSA9IFVSSS5lbmNvZGU7CiAgICB2YXIgZCA9IFVSSS5kZWNvZGU7CgogICAgVVJJLmVuY29kZSA9IGVzY2FwZTsKICAgIFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7CiAgICB0cnkgewogICAgICB0aGlzLm5vcm1hbGl6ZSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgVVJJLmVuY29kZSA9IGU7CiAgICAgIFVSSS5kZWNvZGUgPSBkOwogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC51bmljb2RlID0gZnVuY3Rpb24oKSB7CiAgICAvLyBleHBlY3QgaXNvODg1OSBpbnB1dCwgdW5pY29kZSBvdXRwdXQKICAgIHZhciBlID0gVVJJLmVuY29kZTsKICAgIHZhciBkID0gVVJJLmRlY29kZTsKCiAgICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogICAgVVJJLmRlY29kZSA9IHVuZXNjYXBlOwogICAgdHJ5IHsKICAgICAgdGhpcy5ub3JtYWxpemUoKTsKICAgIH0gZmluYWxseSB7CiAgICAgIFVSSS5lbmNvZGUgPSBlOwogICAgICBVUkkuZGVjb2RlID0gZDsKICAgIH0KICAgIHJldHVybiB0aGlzOwogIH07CgogIHAucmVhZGFibGUgPSBmdW5jdGlvbigpIHsKICAgIHZhciB1cmkgPSB0aGlzLmNsb25lKCk7CiAgICAvLyByZW1vdmluZyB1c2VybmFtZSwgcGFzc3dvcmQsIGJlY2F1c2UgdGhleSBzaG91bGRuJ3QgYmUgZGlzcGxheWVkIGFjY29yZGluZyB0byBSRkMgMzk4NgogICAgdXJpLnVzZXJuYW1lKCcnKS5wYXNzd29yZCgnJykubm9ybWFsaXplKCk7CiAgICB2YXIgdCA9ICcnOwogICAgaWYgKHVyaS5fcGFydHMucHJvdG9jb2wpIHsKICAgICAgdCArPSB1cmkuX3BhcnRzLnByb3RvY29sICsgJzovLyc7CiAgICB9CgogICAgaWYgKHVyaS5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgaWYgKHVyaS5pcygncHVueWNvZGUnKSAmJiBwdW55Y29kZSkgewogICAgICAgIHQgKz0gcHVueWNvZGUudG9Vbmljb2RlKHVyaS5fcGFydHMuaG9zdG5hbWUpOwogICAgICAgIGlmICh1cmkuX3BhcnRzLnBvcnQpIHsKICAgICAgICAgIHQgKz0gJzonICsgdXJpLl9wYXJ0cy5wb3J0OwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0ICs9IHVyaS5ob3N0KCk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAodXJpLl9wYXJ0cy5ob3N0bmFtZSAmJiB1cmkuX3BhcnRzLnBhdGggJiYgdXJpLl9wYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHQgKz0gJy8nOwogICAgfQoKICAgIHQgKz0gdXJpLnBhdGgodHJ1ZSk7CiAgICBpZiAodXJpLl9wYXJ0cy5xdWVyeSkgewogICAgICB2YXIgcSA9ICcnOwogICAgICBmb3IgKHZhciBpID0gMCwgcXAgPSB1cmkuX3BhcnRzLnF1ZXJ5LnNwbGl0KCcmJyksIGwgPSBxcC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2YXIga3YgPSAocXBbaV0gfHwgJycpLnNwbGl0KCc9Jyk7CiAgICAgICAgcSArPSAnJicgKyBVUkkuZGVjb2RlUXVlcnkoa3ZbMF0sIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpCiAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJTI2Jyk7CgogICAgICAgIGlmIChrdlsxXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBxICs9ICc9JyArIFVSSS5kZWNvZGVRdWVyeShrdlsxXSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSkKICAgICAgICAgICAgLnJlcGxhY2UoLyYvZywgJyUyNicpOwogICAgICAgIH0KICAgICAgfQogICAgICB0ICs9ICc/JyArIHEuc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHQgKz0gVVJJLmRlY29kZVF1ZXJ5KHVyaS5oYXNoKCksIHRydWUpOwogICAgcmV0dXJuIHQ7CiAgfTsKCiAgLy8gcmVzb2x2aW5nIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBVUkxzCiAgcC5hYnNvbHV0ZVRvID0gZnVuY3Rpb24oYmFzZSkgewogICAgdmFyIHJlc29sdmVkID0gdGhpcy5jbG9uZSgpOwogICAgdmFyIHByb3BlcnRpZXMgPSBbJ3Byb3RvY29sJywgJ3VzZXJuYW1lJywgJ3Bhc3N3b3JkJywgJ2hvc3RuYW1lJywgJ3BvcnQnXTsKICAgIHZhciBiYXNlZGlyLCBpLCBwOwoKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50cycpOwogICAgfQoKICAgIGlmICghKGJhc2UgaW5zdGFuY2VvZiBVUkkpKSB7CiAgICAgIGJhc2UgPSBuZXcgVVJJKGJhc2UpOwogICAgfQoKICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnByb3RvY29sKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0cy5wcm90b2NvbCA9IGJhc2UuX3BhcnRzLnByb3RvY29sOwogICAgfQoKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICByZXR1cm4gcmVzb2x2ZWQ7CiAgICB9CgogICAgZm9yIChpID0gMDsgKHAgPSBwcm9wZXJ0aWVzW2ldKTsgaSsrKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0c1twXSA9IGJhc2UuX3BhcnRzW3BdOwogICAgfQoKICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnBhdGgpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggPSBiYXNlLl9wYXJ0cy5wYXRoOwogICAgICBpZiAoIXJlc29sdmVkLl9wYXJ0cy5xdWVyeSkgewogICAgICAgIHJlc29sdmVkLl9wYXJ0cy5xdWVyeSA9IGJhc2UuX3BhcnRzLnF1ZXJ5OwogICAgICB9CiAgICB9IGVsc2UgaWYgKHJlc29sdmVkLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygtMikgPT09ICcuLicpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggKz0gJy8nOwogICAgfQoKICAgIGlmIChyZXNvbHZlZC5wYXRoKCkuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgYmFzZWRpciA9IGJhc2UuZGlyZWN0b3J5KCk7CiAgICAgIGJhc2VkaXIgPSBiYXNlZGlyID8gYmFzZWRpciA6IGJhc2UucGF0aCgpLmluZGV4T2YoJy8nKSA9PT0gMCA/ICcvJyA6ICcnOwogICAgICByZXNvbHZlZC5fcGFydHMucGF0aCA9IChiYXNlZGlyID8gKGJhc2VkaXIgKyAnLycpIDogJycpICsgcmVzb2x2ZWQuX3BhcnRzLnBhdGg7CiAgICAgIHJlc29sdmVkLm5vcm1hbGl6ZVBhdGgoKTsKICAgIH0KCiAgICByZXNvbHZlZC5idWlsZCgpOwogICAgcmV0dXJuIHJlc29sdmVkOwogIH07CiAgcC5yZWxhdGl2ZVRvID0gZnVuY3Rpb24oYmFzZSkgewogICAgdmFyIHJlbGF0aXZlID0gdGhpcy5jbG9uZSgpLm5vcm1hbGl6ZSgpOwogICAgdmFyIHJlbGF0aXZlUGFydHMsIGJhc2VQYXJ0cywgY29tbW9uLCByZWxhdGl2ZVBhdGgsIGJhc2VQYXRoOwoKICAgIGlmIChyZWxhdGl2ZS5fcGFydHMudXJuKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHMnKTsKICAgIH0KCiAgICBiYXNlID0gbmV3IFVSSShiYXNlKS5ub3JtYWxpemUoKTsKICAgIHJlbGF0aXZlUGFydHMgPSByZWxhdGl2ZS5fcGFydHM7CiAgICBiYXNlUGFydHMgPSBiYXNlLl9wYXJ0czsKICAgIHJlbGF0aXZlUGF0aCA9IHJlbGF0aXZlLnBhdGgoKTsKICAgIGJhc2VQYXRoID0gYmFzZS5wYXRoKCk7CgogICAgaWYgKHJlbGF0aXZlUGF0aC5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSSSBpcyBhbHJlYWR5IHJlbGF0aXZlJyk7CiAgICB9CgogICAgaWYgKGJhc2VQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBhIFVSSSByZWxhdGl2ZSB0byBhbm90aGVyIHJlbGF0aXZlIFVSSScpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLnByb3RvY29sID09PSBiYXNlUGFydHMucHJvdG9jb2wpIHsKICAgICAgcmVsYXRpdmVQYXJ0cy5wcm90b2NvbCA9IG51bGw7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMudXNlcm5hbWUgIT09IGJhc2VQYXJ0cy51c2VybmFtZSB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBiYXNlUGFydHMucGFzc3dvcmQpIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMucHJvdG9jb2wgIT09IG51bGwgfHwgcmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gbnVsbCB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBudWxsKSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID09PSBiYXNlUGFydHMuaG9zdG5hbWUgJiYgcmVsYXRpdmVQYXJ0cy5wb3J0ID09PSBiYXNlUGFydHMucG9ydCkgewogICAgICByZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID0gbnVsbDsKICAgICAgcmVsYXRpdmVQYXJ0cy5wb3J0ID0gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhdGggPT09IGJhc2VQYXRoKSB7CiAgICAgIHJlbGF0aXZlUGFydHMucGF0aCA9ICcnOwogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICAvLyBkZXRlcm1pbmUgY29tbW9uIHN1YiBwYXRoCiAgICBjb21tb24gPSBVUkkuY29tbW9uUGF0aChyZWxhdGl2ZVBhdGgsIGJhc2VQYXRoKTsKCiAgICAvLyBJZiB0aGUgcGF0aHMgaGF2ZSBub3RoaW5nIGluIGNvbW1vbiwgcmV0dXJuIGEgcmVsYXRpdmUgVVJMIHdpdGggdGhlIGFic29sdXRlIHBhdGguCiAgICBpZiAoIWNvbW1vbikgewogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICB2YXIgcGFyZW50cyA9IGJhc2VQYXJ0cy5wYXRoCiAgICAgIC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkKICAgICAgLnJlcGxhY2UoL1teXC9dKiQvLCAnJykKICAgICAgLnJlcGxhY2UoLy4qP1wvL2csICcuLi8nKTsKCiAgICByZWxhdGl2ZVBhcnRzLnBhdGggPSAocGFyZW50cyArIHJlbGF0aXZlUGFydHMucGF0aC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkpIHx8ICcuLyc7CgogICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgfTsKCiAgLy8gY29tcGFyaW5nIFVSSXMKICBwLmVxdWFscyA9IGZ1bmN0aW9uKHVyaSkgewogICAgdmFyIG9uZSA9IHRoaXMuY2xvbmUoKTsKICAgIHZhciB0d28gPSBuZXcgVVJJKHVyaSk7CiAgICB2YXIgb25lX21hcCA9IHt9OwogICAgdmFyIHR3b19tYXAgPSB7fTsKICAgIHZhciBjaGVja2VkID0ge307CiAgICB2YXIgb25lX3F1ZXJ5LCB0d29fcXVlcnksIGtleTsKCiAgICBvbmUubm9ybWFsaXplKCk7CiAgICB0d28ubm9ybWFsaXplKCk7CgogICAgLy8gZXhhY3QgbWF0Y2gKICAgIGlmIChvbmUudG9TdHJpbmcoKSA9PT0gdHdvLnRvU3RyaW5nKCkpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gZXh0cmFjdCBxdWVyeSBzdHJpbmcKICAgIG9uZV9xdWVyeSA9IG9uZS5xdWVyeSgpOwogICAgdHdvX3F1ZXJ5ID0gdHdvLnF1ZXJ5KCk7CiAgICBvbmUucXVlcnkoJycpOwogICAgdHdvLnF1ZXJ5KCcnKTsKCiAgICAvLyBkZWZpbml0ZWx5IG5vdCBlcXVhbCBpZiBub3QgZXZlbiBub24tcXVlcnkgcGFydHMgbWF0Y2gKICAgIGlmIChvbmUudG9TdHJpbmcoKSAhPT0gdHdvLnRvU3RyaW5nKCkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIHF1ZXJ5IHBhcmFtZXRlcnMgaGF2ZSB0aGUgc2FtZSBsZW5ndGgsIGV2ZW4gaWYgdGhleSdyZSBwZXJtdXRlZAogICAgaWYgKG9uZV9xdWVyeS5sZW5ndGggIT09IHR3b19xdWVyeS5sZW5ndGgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIG9uZV9tYXAgPSBVUkkucGFyc2VRdWVyeShvbmVfcXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgdHdvX21hcCA9IFVSSS5wYXJzZVF1ZXJ5KHR3b19xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CgogICAgZm9yIChrZXkgaW4gb25lX21hcCkgewogICAgICBpZiAoaGFzT3duLmNhbGwob25lX21hcCwga2V5KSkgewogICAgICAgIGlmICghaXNBcnJheShvbmVfbWFwW2tleV0pKSB7CiAgICAgICAgICBpZiAob25lX21hcFtrZXldICE9PSB0d29fbWFwW2tleV0pIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoIWFycmF5c0VxdWFsKG9uZV9tYXBba2V5XSwgdHdvX21hcFtrZXldKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgY2hlY2tlZFtrZXldID0gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIGZvciAoa2V5IGluIHR3b19tYXApIHsKICAgICAgaWYgKGhhc093bi5jYWxsKHR3b19tYXAsIGtleSkpIHsKICAgICAgICBpZiAoIWNoZWNrZWRba2V5XSkgewogICAgICAgICAgLy8gdHdvIGNvbnRhaW5zIGEgcGFyYW1ldGVyIG5vdCBwcmVzZW50IGluIG9uZQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH07CgogIC8vIHN0YXRlCiAgcC5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSBmdW5jdGlvbih2KSB7CiAgICB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSAhIXY7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLmVzY2FwZVF1ZXJ5U3BhY2UgPSBmdW5jdGlvbih2KSB7CiAgICB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlID0gISF2OwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcmV0dXJuIFVSSTsKfSkpOwoKfSx7Ii4vSVB2NiI6MiwiLi9TZWNvbmRMZXZlbERvbWFpbnMiOjMsIi4vcHVueWNvZGUiOjV9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMCBieSBAbWF0aGlhcyAqLwo7KGZ1bmN0aW9uKHJvb3QpIHsKCgkvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovCgl2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmCgkJIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0czsKCXZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYKCQkhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTsKCXZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7CglpZiAoCgkJZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHwKCQlmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fAoJCWZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbAoJKSB7CgkJcm9vdCA9IGZyZWVHbG9iYWw7Cgl9CgoJLyoqCgkgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuCgkgKiBAbmFtZSBwdW55Y29kZQoJICogQHR5cGUgT2JqZWN0CgkgKi8KCXZhciBwdW55Y29kZSwKCgkvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovCgltYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xCgoJLyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqLwoJYmFzZSA9IDM2LAoJdE1pbiA9IDEsCgl0TWF4ID0gMjYsCglza2V3ID0gMzgsCglkYW1wID0gNzAwLAoJaW5pdGlhbEJpYXMgPSA3MiwKCWluaXRpYWxOID0gMTI4LCAvLyAweDgwCglkZWxpbWl0ZXIgPSAnLScsIC8vICdceDJEJwoKCS8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovCglyZWdleFB1bnljb2RlID0gL154bi0tLywKCXJlZ2V4Tm9uQVNDSUkgPSAvW15ceDIwLVx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnMKCXJlZ2V4U2VwYXJhdG9ycyA9IC9bXHgyRVx1MzAwMlx1RkYwRVx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9ycwoKCS8qKiBFcnJvciBtZXNzYWdlcyAqLwoJZXJyb3JzID0gewoJCSdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsCgkJJ25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJywKCQknaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0JwoJfSwKCgkvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovCgliYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sCglmbG9vciA9IE1hdGguZmxvb3IsCglzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLAoKCS8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi8KCWtleTsKCgkvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgkvKioKCSAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLgoJICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLgoJICovCglmdW5jdGlvbiBlcnJvcih0eXBlKSB7CgkJdGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTsKCX0KCgkvKioKCSAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuCgkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXkKCSAqIGl0ZW0uCgkgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uCgkgKi8KCWZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHsKCQl2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOwoJCXZhciByZXN1bHQgPSBbXTsKCQl3aGlsZSAobGVuZ3RoLS0pIHsKCQkJcmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTsKCQl9CgkJcmV0dXJuIHJlc3VsdDsKCX0KCgkvKioKCSAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbAoJICogYWRkcmVzc2VzLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuCgkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkKCSAqIGNoYXJhY3Rlci4KCSAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrCgkgKiBmdW5jdGlvbi4KCSAqLwoJZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHsKCQl2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTsKCQl2YXIgcmVzdWx0ID0gJyc7CgkJaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHsKCQkJLy8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZQoJCQkvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LgoJCQlyZXN1bHQgPSBwYXJ0c1swXSArICdAJzsKCQkJc3RyaW5nID0gcGFydHNbMV07CgkJfQoJCS8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy4KCQlzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdceDJFJyk7CgkJdmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpOwoJCXZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTsKCQlyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDsKCX0KCgkvKioKCSAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGUKCSAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSwKCSAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoCgkgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCwKCSAqIG1hdGNoaW5nIFVURi0xNi4KCSAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYAoJICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+CgkgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMgoJICogQG5hbWUgZGVjb2RlCgkgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLgoJICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLgoJICovCglmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykgewoJCXZhciBvdXRwdXQgPSBbXSwKCQkgICAgY291bnRlciA9IDAsCgkJICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsCgkJICAgIHZhbHVlLAoJCSAgICBleHRyYTsKCQl3aGlsZSAoY291bnRlciA8IGxlbmd0aCkgewoJCQl2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7CgkJCWlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHsKCQkJCS8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlcgoJCQkJZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspOwoJCQkJaWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGUKCQkJCQlvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApOwoJCQkJfSBlbHNlIHsKCQkJCQkvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dAoJCQkJCS8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpcgoJCQkJCW91dHB1dC5wdXNoKHZhbHVlKTsKCQkJCQljb3VudGVyLS07CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlvdXRwdXQucHVzaCh2YWx1ZSk7CgkJCX0KCQl9CgkJcmV0dXJuIG91dHB1dDsKCX0KCgkvKioKCSAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KCSAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYAoJICogQG1lbWJlck9mIHB1bnljb2RlLnVjczIKCSAqIEBuYW1lIGVuY29kZQoJICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS4KCSAqLwoJZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkgewoJCXJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7CgkJCXZhciBvdXRwdXQgPSAnJzsKCQkJaWYgKHZhbHVlID4gMHhGRkZGKSB7CgkJCQl2YWx1ZSAtPSAweDEwMDAwOwoJCQkJb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7CgkJCQl2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7CgkJCX0KCQkJb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7CgkJCXJldHVybiBvdXRwdXQ7CgkJfSkuam9pbignJyk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuCgkgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWAKCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuCgkgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW4KCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWYKCSAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLgoJICovCglmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7CgkJaWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHsKCQkJcmV0dXJuIGNvZGVQb2ludCAtIDIyOwoJCX0KCQlpZiAoY29kZVBvaW50IC0gNjUgPCAyNikgewoJCQlyZXR1cm4gY29kZVBvaW50IC0gNjU7CgkJfQoJCWlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7CgkJCXJldHVybiBjb2RlUG9pbnQgLSA5NzsKCQl9CgkJcmV0dXJuIGJhc2U7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuCgkgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWAKCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LgoJICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3IKCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlCgkgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXMKCSAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkCgkgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLgoJICovCglmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHsKCQkvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWgoJCS8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOQoJCXJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7Cgl9CgoJLyoqCgkgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLgoJICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjQKCSAqIEBwcml2YXRlCgkgKi8KCWZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkgewoJCXZhciBrID0gMDsKCQlkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxOwoJCWRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTsKCQlmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkgewoJCQlkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7CgkJfQoJCXJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGUKCSAqIHN5bWJvbHMuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KCSAqLwoJZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7CgkJLy8gRG9uJ3QgdXNlIFVDUy0yCgkJdmFyIG91dHB1dCA9IFtdLAoJCSAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCwKCQkgICAgb3V0LAoJCSAgICBpID0gMCwKCQkgICAgbiA9IGluaXRpYWxOLAoJCSAgICBiaWFzID0gaW5pdGlhbEJpYXMsCgkJICAgIGJhc2ljLAoJCSAgICBqLAoJCSAgICBpbmRleCwKCQkgICAgb2xkaSwKCQkgICAgdywKCQkgICAgaywKCQkgICAgZGlnaXQsCgkJICAgIHQsCgkJICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqLwoJCSAgICBiYXNlTWludXNUOwoKCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGUKCQkvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weQoJCS8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LgoKCQliYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7CgkJaWYgKGJhc2ljIDwgMCkgewoJCQliYXNpYyA9IDA7CgkJfQoKCQlmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikgewoJCQkvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQKCQkJaWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkgewoJCQkJZXJyb3IoJ25vdC1iYXNpYycpOwoJCQl9CgkJCW91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpOwoJCX0KCgkJLy8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZQoJCS8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuCgoJCWZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7CgoJCQkvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuCgkJCS8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCwKCQkJLy8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXIKCQkJLy8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmcKCQkJLy8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC4KCQkJZm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkgewoKCQkJCWlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkgewoJCQkJCWVycm9yKCdpbnZhbGlkLWlucHV0Jyk7CgkJCQl9CgoJCQkJZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7CgoJCQkJaWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCWkgKz0gZGlnaXQgKiB3OwoJCQkJdCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7CgoJCQkJaWYgKGRpZ2l0IDwgdCkgewoJCQkJCWJyZWFrOwoJCQkJfQoKCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCWlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHsKCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCX0KCgkJCQl3ICo9IGJhc2VNaW51c1Q7CgoJCQl9CgoJCQlvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTsKCQkJYmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7CgoJCQkvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLAoJCQkvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OgoJCQlpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7CgkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJfQoKCQkJbiArPSBmbG9vcihpIC8gb3V0KTsKCQkJaSAlPSBvdXQ7CgoJCQkvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0CgkJCW91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTsKCgkJfQoKCQlyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGEKCSAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqLwoJZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7CgkJdmFyIG4sCgkJICAgIGRlbHRhLAoJCSAgICBoYW5kbGVkQ1BDb3VudCwKCQkgICAgYmFzaWNMZW5ndGgsCgkJICAgIGJpYXMsCgkJICAgIGosCgkJICAgIG0sCgkJICAgIHEsCgkJICAgIGssCgkJICAgIHQsCgkJICAgIGN1cnJlbnRWYWx1ZSwKCQkgICAgb3V0cHV0ID0gW10sCgkJICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovCgkJICAgIGlucHV0TGVuZ3RoLAoJCSAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi8KCQkgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLAoJCSAgICBiYXNlTWludXNULAoJCSAgICBxTWludXNUOwoKCQkvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlCgkJaW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTsKCgkJLy8gQ2FjaGUgdGhlIGxlbmd0aAoJCWlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoOwoKCQkvLyBJbml0aWFsaXplIHRoZSBzdGF0ZQoJCW4gPSBpbml0aWFsTjsKCQlkZWx0YSA9IDA7CgkJYmlhcyA9IGluaXRpYWxCaWFzOwoKCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzCgkJZm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgkJCWlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7CgkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7CgkJCX0KCQl9CgoJCWhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoOwoKCQkvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDsKCQkvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuCgoJCS8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlcgoJCWlmIChiYXNpY0xlbmd0aCkgewoJCQlvdXRwdXQucHVzaChkZWxpbWl0ZXIpOwoJCX0KCgkJLy8gTWFpbiBlbmNvZGluZyBsb29wOgoJCXdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7CgoJCQkvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0CgkJCS8vIGxhcmdlciBvbmU6CgkJCWZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCQkJCWlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7CgkJCQkJbSA9IGN1cnJlbnRWYWx1ZTsKCQkJCX0KCQkJfQoKCQkJLy8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LAoJCQkvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvdwoJCQloYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7CgkJCWlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7CgkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJfQoKCQkJZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTsKCQkJbiA9IG07CgoJCQlmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewoJCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgoJCQkJaWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCWlmIChjdXJyZW50VmFsdWUgPT0gbikgewoJCQkJCS8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyCgkJCQkJZm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkgewoJCQkJCQl0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTsKCQkJCQkJaWYgKHEgPCB0KSB7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCQlxTWludXNUID0gcSAtIHQ7CgkJCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCQkJb3V0cHV0LnB1c2goCgkJCQkJCQlzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpCgkJCQkJCSk7CgkJCQkJCXEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7CgkJCQkJfQoKCQkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7CgkJCQkJYmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTsKCQkJCQlkZWx0YSA9IDA7CgkJCQkJKytoYW5kbGVkQ1BDb3VudDsKCQkJCX0KCQkJfQoKCQkJKytkZWx0YTsKCQkJKytuOwoKCQl9CgkJcmV0dXJuIG91dHB1dC5qb2luKCcnKTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MKCSAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS4KCSAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlbgoJICogY29udmVydGVkIHRvIFVuaWNvZGUuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8KCSAqIGNvbnZlcnQgdG8gVW5pY29kZS4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZQoJICogc3RyaW5nLgoJICovCglmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHsKCQlyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHsKCQkJcmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpCgkJCQk/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSkKCQkJCTogc3RyaW5nOwoJCX0pOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvCgkgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCwKCSAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpbgoJICogQVNDSUkuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhCgkgKiBVbmljb2RlIHN0cmluZy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3IKCSAqIGVtYWlsIGFkZHJlc3MuCgkgKi8KCWZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHsKCQlyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHsKCQkJcmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpCgkJCQk/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpCgkJCQk6IHN0cmluZzsKCQl9KTsKCX0KCgkvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgkvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovCglwdW55Y29kZSA9IHsKCQkvKioKCQkgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuCgkJICogQG1lbWJlck9mIHB1bnljb2RlCgkJICogQHR5cGUgU3RyaW5nCgkJICovCgkJJ3ZlcnNpb24nOiAnMS4zLjInLAoJCS8qKgoJCSAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyCgkJICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay4KCQkgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz4KCQkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCQkgKiBAdHlwZSBPYmplY3QKCQkgKi8KCQkndWNzMic6IHsKCQkJJ2RlY29kZSc6IHVjczJkZWNvZGUsCgkJCSdlbmNvZGUnOiB1Y3MyZW5jb2RlCgkJfSwKCQknZGVjb2RlJzogZGVjb2RlLAoJCSdlbmNvZGUnOiBlbmNvZGUsCgkJJ3RvQVNDSUknOiB0b0FTQ0lJLAoJCSd0b1VuaWNvZGUnOiB0b1VuaWNvZGUKCX07CgoJLyoqIEV4cG9zZSBgcHVueWNvZGVgICovCgkvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnMKCS8vIGxpa2UgdGhlIGZvbGxvd2luZzoKCWlmICgKCQl0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYKCQl0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJgoJCWRlZmluZS5hbWQKCSkgewoJCWRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHB1bnljb2RlOwoJCX0pOwoJfSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7CgkJaWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7CgkJCS8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCsKCQkJZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7CgkJfSBlbHNlIHsKCQkJLy8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC0KCQkJZm9yIChrZXkgaW4gcHVueWNvZGUpIHsKCQkJCXB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTsKCQkJfQoJCX0KCX0gZWxzZSB7CgkJLy8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlcgoJCXJvb3QucHVueWNvZGUgPSBwdW55Y29kZTsKCX0KCn0odGhpcykpOwoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTp0cnVlfSk7ZXhwb3J0cy5kZWZhdWx0PWFjdGl2YXRlO3ZhciBfU3luY2hlcj1yZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXInKTt2YXIgX3VyaWpzPXJlcXVpcmUoJ3VyaWpzJyk7dmFyIF91cmlqczI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXJpanMpO3ZhciBfcG9zaXRpb249cmVxdWlyZSgnLi9wb3NpdGlvbicpO3ZhciBfcG9zaXRpb24yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc2l0aW9uKTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian07fXZhciBMb2NhdGlvbkh5cGVydHk9e2dldEN1cnJlbnRQb3NpdGlvbjpmdW5jdGlvbiBnZXRDdXJyZW50UG9zaXRpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3JldHVybiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uKHBvc2l0aW9uKXtyZXR1cm4gcmVzb2x2ZShwb3NpdGlvbik7fSk7fSk7fSxzdGFydFBvc2l0aW9uQnJvYWRjYXN0OmZ1bmN0aW9uIHN0YXJ0UG9zaXRpb25Ccm9hZGNhc3Qoc3Vic2NyaWJlcnMpe3RoaXMuX3N5bmNoZXIuY3JlYXRlKHRoaXMuX29iamVjdERlc2NVUkwsc3Vic2NyaWJlcnMsX3Bvc2l0aW9uMi5kZWZhdWx0KS50aGVuKGZ1bmN0aW9uKHJlcG9ydGVyKXtyZXBvcnRlci5vblN1YnNjcmlwdGlvbihmdW5jdGlvbihldmVudCl7cmV0dXJuIGV2ZW50LmFjY2VwdCgpO30pO25hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKGZ1bmN0aW9uKHBvc2l0aW9uKXsgLy9yZXBvcnRlci5kYXRhLnZhbHVlLmFjY3VhcmljeSA9IHBvc2l0aW9uLmNvb3Jkcy5hY2N1YXJpY3kKLy9yZXBvcnRlci5kYXRhLnZhbHVlLmFsdGl0dWRlID0gcG9zaXRpb24uY29vcmRzLmFsdGl0dWRlCi8vcmVwb3J0ZXIuZGF0YS52YWx1ZS5hbHRpdHVkZUFjY3VyYWN5ID0gcG9zaXRpb24uY29vcmRzLmFsdGl0dWRlQWNjdXJhY3kKLy9yZXBvcnRlci5kYXRhLnZhbHVlLmhlYWRpbmcgPSBwb3NpdGlvbi5jb29yZHMuaGVhZGluZwpyZXBvcnRlci5kYXRhLnZhbHVlLmxhdGl0dWRlPXBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtyZXBvcnRlci5kYXRhLnZhbHVlLmxvbmdpdHVkZT1wb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlOyAvL3JlcG9ydGVyLmRhdGEudmFsdWUuc3BlZWQgPSBwb3NpdGlvbi5jb29yZHMuc3BlZWQKcmVwb3J0ZXIuZGF0YS52YWx1ZS50aW1lc3RhbXA9cG9zaXRpb24udGltZXN0YW1wO30pO30pO319O3ZhciBMb2NhdGlvbkh5cGVydHlGYWN0b3J5PWZ1bmN0aW9uIExvY2F0aW9uSHlwZXJ0eUZhY3RvcnkoaHlwZXJ0eVVSTCxidXMsY29uZmlnKXt2YXIgdXJpPW5ldyBfdXJpanMyLmRlZmF1bHQoaHlwZXJ0eVVSTCk7TG9jYXRpb25IeXBlcnR5Ll9vYmplY3REZXNjVVJMPSdoeXBlcnR5LWNhdGFsb2d1ZTovLycrdXJpLmhvc3RuYW1lKCkrJy8ud2VsbC1rbm93bi9kYXRhc2NoZW1hcy9Db250ZXh0RGF0YVNjaGVtYSc7TG9jYXRpb25IeXBlcnR5Ll9zeW5jaGVyPW5ldyBfU3luY2hlci5TeW5jaGVyKGh5cGVydHlVUkwsYnVzLGNvbmZpZyk7cmV0dXJuIExvY2F0aW9uSHlwZXJ0eTt9O2Z1bmN0aW9uIGFjdGl2YXRlKGh5cGVydHlVUkwsYnVzLGNvbmZpZyl7cmV0dXJuIHtuYW1lOidMb2NhdGlvbicsaW5zdGFuY2U6TG9jYXRpb25IeXBlcnR5RmFjdG9yeShoeXBlcnR5VVJMLGJ1cyxjb25maWcpfTt9bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4vcG9zaXRpb24iOjcsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlciI6MSwidXJpanMiOjR9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO2V4cG9ydHMuZGVmYXVsdD17aWQ6IkxvY2F0aW9uT2JqZWN0Iix0eXBlOiJvYmplY3QiLHZhbHVlOntsYXRpdHVkZTowLGxvbmdpdHVkZTowLGFsdGl0dWRlOjAsYWNjdXJhY3k6MCxhbHRpdHVkZUFjY3VyYWN5OjAsaGVhZGluZzowLHNwZWVkOjAsdGltZXN0YW1wOjB9fTttb2R1bGUuZXhwb3J0cz1leHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XX0se30sWzZdKSg2KQp9KTs=",
      "sourceCodeClassname": "Location",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10007,
    "type": "Hyperties",
    "version": "0.1",
    "description": "Description of Location",
    "objectName": "Location",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "RoomUIObserver": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuRGlzY292ZXJ5PWUoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG4pe2Z1bmN0aW9uIG8ocyxjKXtpZighcltzXSl7aWYoIXRbc10pe3ZhciBhPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFjJiZhKXJldHVybiBhKHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIHU9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IHUuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsdX12YXIgZj1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciByPXRbc11bMV1bZV07cmV0dXJuIG8ocj9yOmUpfSxmLGYuZXhwb3J0cyxlLHQscixuKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxuLmxlbmd0aDtzKyspbyhuW3NdKTtyZXR1cm4gb30oezE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjd9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6OH1dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjl9XSw0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6MTB9XSw1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMCxyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LHt9XSw2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6Mn1dLDc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4obi5KU09OJiZuLkpTT04uc3RyaW5naWZ5fHxKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MTZ9XSw4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxyKX19LHsiLi4vLi4vbW9kdWxlcy8kIjozOH1dLDk6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNiwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOjYyfV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzLyQuY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo2MywiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NjQsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NjUsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6NjZ9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbihlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSx7Ii4vJC5pcy1vYmplY3QiOjMxfV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIiksbz1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLHM7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj0odD1PYmplY3QoZSkpW29dKT9yOmk/bih0KToiT2JqZWN0Ij09KHM9bih0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjpzfX0seyIuLyQuY29mIjoxNSwiLi8kLndrcyI6NTl9XSwxNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDE2OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIxLjIuNiJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYS1mdW5jdGlvbiIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixvKXtyZXR1cm4gZS5jYWxsKHQscixuLG8pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0seyIuLyQuYS1mdW5jdGlvbiI6MTF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LHt9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi8kLmZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vJC5mYWlscyI6MjJ9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKSxvPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLmlzLW9iamVjdCI6MzF9XSwyMTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuY3R4Iikscz0icHJvdG90eXBlIixjPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYSx1LGYsbD1lJmMuRixkPWUmYy5HLHA9ZSZjLlMsdj1lJmMuUCwkPWUmYy5CLHk9ZSZjLlcsaD1kP286b1t0XXx8KG9bdF09e30pLGI9ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihhIGluIHIpdT0hbCYmYiYmYSBpbiBiLHUmJmEgaW4gaHx8KGY9dT9iW2FdOnJbYV0saFthXT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgYlthXT9yW2FdOiQmJnU/aShmLG4pOnkmJmJbYV09PWY/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlP25ldyBlKHQpOmUodCl9O3JldHVybiB0W3NdPWVbc10sdH0oZik6diYmImZ1bmN0aW9uIj09dHlwZW9mIGY/aShGdW5jdGlvbi5jYWxsLGYpOmYsdiYmKChoW3NdfHwoaFtzXT17fSkpW2FdPWYpKX07Yy5GPTEsYy5HPTIsYy5TPTQsYy5QPTgsYy5CPTE2LGMuVz0zMix0LmV4cG9ydHM9Y30seyIuLyQuY29yZSI6MTYsIi4vJC5jdHgiOjE3LCIuLyQuZ2xvYmFsIjoyNH1dLDIyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY3R4Iiksbz1lKCIuLyQuaXRlci1jYWxsIiksaT1lKCIuLyQuaXMtYXJyYXktaXRlciIpLHM9ZSgiLi8kLmFuLW9iamVjdCIpLGM9ZSgiLi8kLnRvLWxlbmd0aCIpLGE9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dmFyIGYsbCxkLHA9YShlKSx2PW4ocix1LHQ/MjoxKSwkPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHApdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShwKSlmb3IoZj1jKGUubGVuZ3RoKTtmPiQ7JCsrKXQ/dihzKGw9ZVskXSlbMF0sbFsxXSk6dihlWyRdKTtlbHNlIGZvcihkPXAuY2FsbChlKTshKGw9ZC5uZXh0KCkpLmRvbmU7KW8oZCx2LGwudmFsdWUsdCl9fSx7Ii4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY3R4IjoxNywiLi8kLmlzLWFycmF5LWl0ZXIiOjMwLCIuLyQuaXRlci1jYWxsIjozMiwiLi8kLnRvLWxlbmd0aCI6NTYsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo2MH1dLDI0OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sMjY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vJC5kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuLyQiOjM4LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQucHJvcGVydHktZGVzYyI6NDJ9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuLyQuZ2xvYmFsIjoyNH1dLDI4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi8kLmNvZiI6MTV9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi8kLndrcyI6NTl9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3RyeXtyZXR1cm4gbz90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZuKHMuY2FsbChlKSksaX19fSx7Ii4vJC5hbi1vYmplY3QiOjEzfV0sMzM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpLGk9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuLyQuaGlkZSIpKHMsZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4uY3JlYXRlKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuLyQiOjM4LCIuLyQuaGlkZSI6MjYsIi4vJC5wcm9wZXJ0eS1kZXNjIjo0MiwiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLndrcyI6NTl9XSwzNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQubGlicmFyeSIpLG89ZSgiLi8kLmV4cG9ydCIpLGk9ZSgiLi8kLnJlZGVmaW5lIikscz1lKCIuLyQuaGlkZSIpLGM9ZSgiLi8kLmhhcyIpLGE9ZSgiLi8kLml0ZXJhdG9ycyIpLHU9ZSgiLi8kLml0ZXItY3JlYXRlIiksZj1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxsPWUoIi4vJCIpLmdldFByb3RvLGQ9ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksdj0iQEBpdGVyYXRvciIsJD0ia2V5cyIseT0idmFsdWVzIixoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixiLG0sZyx4KXt1KHIsdCxiKTt2YXIgaix3LF89ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gVSlyZXR1cm4gVVtlXTtzd2l0Y2goZSl7Y2FzZSAkOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIHk6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0saz10KyIgSXRlcmF0b3IiLE89bT09eSxNPSExLFU9ZS5wcm90b3R5cGUsUD1VW2RdfHxVW3ZdfHxtJiZVW21dLFM9UHx8XyhtKTtpZihQKXt2YXIgRT1sKFMuY2FsbChuZXcgZSkpO2YoRSxrLCEwKSwhbiYmYyhVLHYpJiZzKEUsZCxoKSxPJiZQLm5hbWUhPT15JiYoTT0hMCxTPWZ1bmN0aW9uKCl7cmV0dXJuIFAuY2FsbCh0aGlzKX0pfWlmKG4mJiF4fHwhcCYmIU0mJlVbZF18fHMoVSxkLFMpLGFbdF09UyxhW2tdPWgsbSlpZihqPXt2YWx1ZXM6Tz9TOl8oeSksa2V5czpnP1M6XygkKSxlbnRyaWVzOk8/XygiZW50cmllcyIpOlN9LHgpZm9yKHcgaW4gail3IGluIFV8fGkoVSx3LGpbd10pO2Vsc2UgbyhvLlArby5GKihwfHxNKSx0LGopO3JldHVybiBqfX0seyIuLyQiOjM4LCIuLyQuZXhwb3J0IjoyMSwiLi8kLmhhcyI6MjUsIi4vJC5oaWRlIjoyNiwiLi8kLml0ZXItY3JlYXRlIjozMywiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC5saWJyYXJ5IjozOSwiLi8kLnJlZGVmaW5lIjo0NCwiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLndrcyI6NTl9XSwzNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cj0hMH0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGMpe31yZXR1cm4gcn19LHsiLi8kLndrcyI6NTl9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDM4OltmdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0O3QuZXhwb3J0cz17Y3JlYXRlOm4uY3JlYXRlLGdldFByb3RvOm4uZ2V0UHJvdG90eXBlT2YsaXNFbnVtOnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGdldERlc2M6bi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isc2V0RGVzYzpuLmRlZmluZVByb3BlcnR5LHNldERlc2NzOm4uZGVmaW5lUHJvcGVydGllcyxnZXRLZXlzOm4ua2V5cyxnZXROYW1lczpuLmdldE93blByb3BlcnR5TmFtZXMsZ2V0U3ltYm9sczpuLmdldE93blByb3BlcnR5U3ltYm9scyxlYWNoOltdLmZvckVhY2h9fSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5nbG9iYWwiKSxjPWUoIi4vJC50YXNrIikuc2V0LGE9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsdT1zLnByb2Nlc3MsZj1zLlByb21pc2UsbD0icHJvY2VzcyI9PWUoIi4vJC5jb2YiKSh1KSxkPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO2ZvcihsJiYoZT11LmRvbWFpbikmJih1LmRvbWFpbj1udWxsLGUuZXhpdCgpKTtuOyl0PW4uZG9tYWluLHI9bi5mbix0JiZ0LmVudGVyKCkscigpLHQmJnQuZXhpdCgpLG49bi5uZXh0O289dm9pZCAwLGUmJmUuZW50ZXIoKX07aWYobClpPWZ1bmN0aW9uKCl7dS5uZXh0VGljayhkKX07ZWxzZSBpZihhKXt2YXIgcD0xLHY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBhKGQpLm9ic2VydmUodix7Y2hhcmFjdGVyRGF0YTohMH0pLGk9ZnVuY3Rpb24oKXt2LmRhdGE9cD0tcH19ZWxzZSBpPWYmJmYucmVzb2x2ZT9mdW5jdGlvbigpe2YucmVzb2x2ZSgpLnRoZW4oZCl9OmZ1bmN0aW9uKCl7Yy5jYWxsKHMsZCl9O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMCxkb21haW46bCYmdS5kb21haW59O28mJihvLm5leHQ9dCksbnx8KG49dCxpKCkpLG89dH19LHsiLi8kLmNvZiI6MTUsIi4vJC5nbG9iYWwiOjI0LCIuLyQudGFzayI6NTN9XSw0MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuLyQuY29yZSI6MTYsIi4vJC5leHBvcnQiOjIxLCIuLyQuZmFpbHMiOjIyfV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQucmVkZWZpbmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCluKGUscix0W3JdKTtyZXR1cm4gZX19LHsiLi8kLnJlZGVmaW5lIjo0NH1dLDQ0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5oaWRlIil9LHsiLi8kLmhpZGUiOjI2fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9T2JqZWN0LmlzfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OmUhPWUmJnQhPXR9fSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5nZXREZXNjLG89ZSgiLi8kLmlzLW9iamVjdCIpLGk9ZSgiLi8kLmFuLW9iamVjdCIpLHM9ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vJC5jdHgiKShGdW5jdGlvbi5jYWxsLG4oT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG8odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goaSl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhlLHQpLHI/ZS5fX3Byb3RvX189dDpvKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOnN9fSx7Ii4vJCI6MzgsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY3R4IjoxNywiLi8kLmlzLW9iamVjdCI6MzF9XSw0NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuY29yZSIpLG89ZSgiLi8kIiksaT1lKCIuLyQuZGVzY3JpcHRvcnMiKSxzPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W3NdJiZvLnNldERlc2ModCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vJCI6MzgsIi4vJC5jb3JlIjoxNiwiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLndrcyI6NTl9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLnNldERlc2Msbz1lKCIuLyQuaGFzIiksaT1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vJCI6MzgsIi4vJC5oYXMiOjI1LCIuLyQud2tzIjo1OX1dLDQ5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vJC5nbG9iYWwiOjI0fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iiksbz1lKCIuLyQuYS1mdW5jdGlvbiIpLGk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbaV0pP3Q6byhyKX19LHsiLi8kLmEtZnVuY3Rpb24iOjExLCIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLndrcyI6NTl9XSw1MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKHIrIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciEiKTtyZXR1cm4gZX19LHt9XSw1MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGM9U3RyaW5nKG8odCkpLGE9bihyKSx1PWMubGVuZ3RoO3JldHVybiAwPmF8fGE+PXU/ZT8iIjp2b2lkIDA6KGk9Yy5jaGFyQ29kZUF0KGEpLDU1Mjk2Pml8fGk+NTYzMTl8fGErMT09PXV8fChzPWMuY2hhckNvZGVBdChhKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2MuY2hhckF0KGEpOmk6ZT9jLnNsaWNlKGEsYSsyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuLyQuZGVmaW5lZCI6MTgsIi4vJC50by1pbnRlZ2VyIjo1NH1dLDUzOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmN0eCIpLGM9ZSgiLi8kLmludm9rZSIpLGE9ZSgiLi8kLmh0bWwiKSx1PWUoIi4vJC5kb20tY3JlYXRlIiksZj1lKCIuLyQuZ2xvYmFsIiksbD1mLnByb2Nlc3MsZD1mLnNldEltbWVkaWF0ZSxwPWYuY2xlYXJJbW1lZGlhdGUsdj1mLk1lc3NhZ2VDaGFubmVsLCQ9MCx5PXt9LGg9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsYj1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKHkuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PXlbZV07ZGVsZXRlIHlbZV0sdCgpfX0sbT1mdW5jdGlvbihlKXtiLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIHlbKyskXT1mdW5jdGlvbigpe2MoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbigkKSwkfSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSB5W2VdfSwicHJvY2VzcyI9PWUoIi4vJC5jb2YiKShsKT9uPWZ1bmN0aW9uKGUpe2wubmV4dFRpY2socyhiLGUsMSkpfTp2PyhvPW5ldyB2LGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2YucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPWggaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7YS5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbaF09ZnVuY3Rpb24oKXthLnJlbW92ZUNoaWxkKHRoaXMpLGIuY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhiLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vJC5jb2YiOjE1LCIuLyQuY3R4IjoxNywiLi8kLmRvbS1jcmVhdGUiOjIwLCIuLyQuZ2xvYmFsIjoyNCwiLi8kLmh0bWwiOjI3LCIuLyQuaW52b2tlIjoyOH1dLDU0OltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDU1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlvYmplY3QiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuLyQuZGVmaW5lZCI6MTgsIi4vJC5pb2JqZWN0IjoyOX1dLDU2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuLyQudG8taW50ZWdlciI6NTR9XSw1NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOH1dLDU4OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDU5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnNoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vJC51aWQiKSxpPWUoIi4vJC5nbG9iYWwiKS5TeW1ib2w7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1pJiZpW2VdfHwoaXx8bykoIlN5bWJvbC4iK2UpKX19LHsiLi8kLmdsb2JhbCI6MjQsIi4vJC5zaGFyZWQiOjQ5LCIuLyQudWlkIjo1OH1dLDYwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNsYXNzb2YiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi8kLmNvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vJC5jbGFzc29mIjoxNCwiLi8kLmNvcmUiOjE2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLndrcyI6NTl9XSw2MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuLyQuaXRlci1zdGVwIiksaT1lKCIuLyQuaXRlcmF0b3JzIikscz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuLyQuaXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vJC5hZGQtdG8tdW5zY29wYWJsZXMiOjEyLCIuLyQuaXRlci1kZWZpbmUiOjM0LCIuLyQuaXRlci1zdGVwIjozNiwiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC50by1pb2JqZWN0Ijo1NX1dLDYyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZShuKHQpKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NDEsIi4vJC50by1vYmplY3QiOjU3fV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw2NDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvPWUoIi4vJCIpLGk9ZSgiLi8kLmxpYnJhcnkiKSxzPWUoIi4vJC5nbG9iYWwiKSxjPWUoIi4vJC5jdHgiKSxhPWUoIi4vJC5jbGFzc29mIiksdT1lKCIuLyQuZXhwb3J0IiksZj1lKCIuLyQuaXMtb2JqZWN0IiksbD1lKCIuLyQuYW4tb2JqZWN0IiksZD1lKCIuLyQuYS1mdW5jdGlvbiIpLHA9ZSgiLi8kLnN0cmljdC1uZXciKSx2PWUoIi4vJC5mb3Itb2YiKSwkPWUoIi4vJC5zZXQtcHJvdG8iKS5zZXQseT1lKCIuLyQuc2FtZS12YWx1ZSIpLGg9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIiksYj1lKCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciIpLG09ZSgiLi8kLm1pY3JvdGFzayIpLGc9IlByb21pc2UiLHg9cy5wcm9jZXNzLGo9InByb2Nlc3MiPT1hKHgpLHc9c1tnXSxfPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB3KGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGUmJih0LmNvbnN0cnVjdG9yPU9iamVjdCksdy5yZXNvbHZlKHQpPT09dH0saz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9bmV3IHcoZSk7cmV0dXJuICQocix0LnByb3RvdHlwZSkscn12YXIgcj0hMTt0cnl7aWYocj13JiZ3LnJlc29sdmUmJl8oKSwkKHQsdyksdC5wcm90b3R5cGU9by5jcmVhdGUody5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0fX0pLHQucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCl7fSlpbnN0YW5jZW9mIHR8fChyPSExKSxyJiZlKCIuLyQuZGVzY3JpcHRvcnMiKSl7dmFyIG49ITE7dy5yZXNvbHZlKG8uc2V0RGVzYyh7fSwidGhlbiIse2dldDpmdW5jdGlvbigpe249ITB9fSkpLHI9bn19Y2F0Y2goaSl7cj0hMX1yZXR1cm4gcn0oKSxPPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkmJmU9PT13JiZ0PT09bj8hMDp5KGUsdCl9LE09ZnVuY3Rpb24oZSl7dmFyIHQ9bChlKVtoXTtyZXR1cm4gdm9pZCAwIT10P3Q6ZX0sVT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZihlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxQPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFM9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxFPWZ1bmN0aW9uKGUsdCl7aWYoIWUubil7ZS5uPSEwO3ZhciByPWUuYzttKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUudixvPTE9PWUucyxpPTAsYz1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxjPXQucmVzb2x2ZSxhPXQucmVqZWN0O3RyeXtzPyhvfHwoZS5oPSEwKSxyPXM9PT0hMD9uOnMobikscj09PXQucHJvbWlzZT9hKFR5cGVFcnJvcigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1VKHIpKT9pLmNhbGwocixjLGEpOmMocikpOmEobil9Y2F0Y2godSl7YSh1KX19O3IubGVuZ3RoPmk7KWMocltpKytdKTtyLmxlbmd0aD0wLGUubj0hMSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQscixvPWUucDtMKG8pJiYoaj94LmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbixvKToodD1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT90KHtwcm9taXNlOm8scmVhc29uOm59KToocj1zLmNvbnNvbGUpJiZyLmVycm9yJiZyLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG4pKSxlLmE9dm9pZCAwfSwxKX0pfX0sTD1mdW5jdGlvbihlKXt2YXIgdCxyPWUuX2Qsbj1yLmF8fHIuYyxvPTA7aWYoci5oKXJldHVybiExO2Zvcig7bi5sZW5ndGg+bzspaWYodD1uW28rK10sdC5mYWlsfHwhTCh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxSPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5kfHwodC5kPSEwLHQ9dC5yfHx0LHQudj1lLHQucz0yLHQuYT10LmMuc2xpY2UoKSxFKHQsITApKX0sVD1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuZCl7ci5kPSEwLHI9ci5yfHxyO3RyeXtpZihyLnA9PT1lKXRocm93IFR5cGVFcnJvcigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1VKGUpKT9tKGZ1bmN0aW9uKCl7dmFyIG49e3I6cixkOiExfTt0cnl7dC5jYWxsKGUsYyhULG4sMSksYyhSLG4sMSkpfWNhdGNoKG8pe1IuY2FsbChuLG8pfX0pOihyLnY9ZSxyLnM9MSxFKHIsITEpKX1jYXRjaChuKXtSLmNhbGwoe3I6cixkOiExfSxuKX19fTtrfHwodz1mdW5jdGlvbihlKXtkKGUpO3ZhciB0PXRoaXMuX2Q9e3A6cCh0aGlzLHcsZyksYzpbXSxhOnZvaWQgMCxzOjAsZDohMSx2OnZvaWQgMCxoOiExLG46ITF9O3RyeXtlKGMoVCx0LDEpLGMoUix0LDEpKX1jYXRjaChyKXtSLmNhbGwodCxyKX19LGUoIi4vJC5yZWRlZmluZS1hbGwiKSh3LnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBQKGIodGhpcyx3KSksbj1yLnByb21pc2Usbz10aGlzLl9kO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LG8uYy5wdXNoKHIpLG8uYSYmby5hLnB1c2gociksby5zJiZFKG8sITEpLG59LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSkpLHUodS5HK3UuVyt1LkYqIWsse1Byb21pc2U6d30pLGUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpKHcsZyksZSgiLi8kLnNldC1zcGVjaWVzIikoZyksbj1lKCIuLyQuY29yZSIpW2ddLHUodS5TK3UuRiohayxnLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFAodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKigha3x8XyghMCkpLGcse3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHcmJk8oZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1uZXcgUCh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKiEoayYmZSgiLi8kLml0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7dy5hbGwoZSlbImNhdGNoIl0oZnVuY3Rpb24oKXt9KX0pKSxnLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9TSh0aGlzKSxyPW5ldyBQKHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qscz1bXSxjPVMoZnVuY3Rpb24oKXt2KGUsITEscy5wdXNoLHMpO3ZhciByPXMubGVuZ3RoLGM9QXJyYXkocik7cj9vLmVhY2guY2FsbChzLGZ1bmN0aW9uKGUsbyl7dmFyIHM9ITE7dC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7c3x8KHM9ITAsY1tvXT1lLC0tcnx8bihjKSl9LGkpfSk6bihjKX0pO3JldHVybiBjJiZpKGMuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IFAodCksbj1yLnJlamVjdCxvPVMoZnVuY3Rpb24oKXt2KGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi8kIjozOCwiLi8kLmEtZnVuY3Rpb24iOjExLCIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5jdHgiOjE3LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQuZXhwb3J0IjoyMSwiLi8kLmZvci1vZiI6MjMsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMSwiLi8kLml0ZXItZGV0ZWN0IjozNSwiLi8kLmxpYnJhcnkiOjM5LCIuLyQubWljcm90YXNrIjo0MCwiLi8kLnJlZGVmaW5lLWFsbCI6NDMsIi4vJC5zYW1lLXZhbHVlIjo0NSwiLi8kLnNldC1wcm90byI6NDYsIi4vJC5zZXQtc3BlY2llcyI6NDcsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIjo1MCwiLi8kLnN0cmljdC1uZXciOjUxLCIuLyQud2tzIjo1OX1dLDY1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5zdHJpbmctYXQiKSghMCk7ZSgiLi8kLml0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuLyQuaXRlci1kZWZpbmUiOjM0LCIuLyQuc3RyaW5nLWF0Ijo1Mn1dLDY2OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIik7bi5Ob2RlTGlzdD1uLkhUTUxDb2xsZWN0aW9uPW4uQXJyYXl9LHsiLi8kLml0ZXJhdG9ycyI6MzcsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo2MX1dLDY3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGEpLGY9ZSgiLi4vdXRpbHMvdXRpbHMiKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgbj10aGlzO24ubWVzc2FnZUJ1cz1yLG4uZG9tYWluPSgwLGYuZGl2aWRlVVJMKSh0KS5kb21haW4sbi5kaXNjb3ZlcnlVUkw9dH1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6ImRpc2NvdmVyRGF0YU9iamVjdFBlclVSTCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOmUsc2VhcmNoOiJkYXRhT2JqZWN0UGVyVVJMIn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlO24/ZShuKTp0KCJEYXRhT2JqZWN0IG5vdCBmb3VuZCIpfSl9KX19LHtrZXk6ImRlbGV0ZURhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToiZGVsZXRlIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3ZhbHVlOntuYW1lOmV9fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkuY29kZTsyMDA9PT1uP2Uobik6dCgiRXJyb3Igb24gZGVsZXRpbmcgZGF0YU9iamVjdCIpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdFBlclJlcG9ydGVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6ZSxzZWFyY2g6ImRhdGFPYmplY3RQZXJSZXBvcnRlciJ9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZTtuP2Uobik6dCgiTm8gZGF0YU9iamVjdCB3YXMgZm91bmQiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXRoaXMscz12b2lkIDAsYz0oMCxmLmNvbnZlcnRUb1VzZXJVUkwpKGUpO3M9bj9uOm8uZG9tYWluO3ZhciBhPXt0eXBlOiJyZWFkIixmcm9tOm8uZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3MrIi8iLGJvZHk6e3Jlc291cmNlOnt1c2VyOmMscmVzb3VyY2VzOnIsZGF0YVNjaGVtZXM6dH0sc2VhcmNoOiJoeXBlcnR5UmVzb3VyY2VzRGF0YVNjaGVtZXMifX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtvLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYSxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIk5vIEh5cGVydHkgd2FzIGZvdW5kIil9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnR5UGVyVXNlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPSJ1c2VyOi8vIitlLnN1YnN0cmluZyhlLmluZGV4T2YoIkAiKSsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIkAiKSkscz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTpvLHNlYXJjaDoiSHlwZXJ0eVBlclVzZXIifX07cmV0dXJuIGNvbnNvbGUubG9nKCJNZXNzYWdlOiAiLHMsbixvKSxuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsbil7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7Y29uc29sZS5sb2coIm1lc3NhZ2UgcmVwbHkiLHIpO3ZhciBvPXZvaWQgMCxpPXZvaWQgMCxzPXZvaWQgMCxjPXIuYm9keS52YWx1ZTtmb3IobyBpbiBjKWlmKHZvaWQgMCE9PWNbb10ubGFzdE1vZGlmaWVkKWlmKHZvaWQgMD09PWkpaT1uZXcgRGF0ZShjW29dLmxhc3RNb2RpZmllZCkscz1vO2Vsc2V7dmFyIGE9bmV3IERhdGUoY1tvXS5sYXN0TW9kaWZpZWQpO2kuZ2V0VGltZSgpPGEuZ2V0VGltZSgpJiYoaT1hLHM9byl9Y29uc29sZS5sb2coIkxhc3QgSHlwZXJ0eTogIixzLGkpO3ZhciB1PXM7aWYodm9pZCAwPT09dSlyZXR1cm4gbigiVXNlciBIeXBlcnR5IG5vdCBmb3VuZCIpO3ZhciBmPXtpZDplLGRlc2NyaXB0b3I6Y1t1XS5kZXNjcmlwdG9yLGh5cGVydHlVUkw6dX07Y29uc29sZS5sb2coIj09PT4gaHlwZXJ0eURpc2NvdmVyeSBtZXNzYWdlQnVuZGxlOiAiLGYpLHQoZil9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxzPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm8sc2VhcmNoOiJIeXBlcnR5UGVyVXNlciJ9fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2UgZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyOiAiLHMsbixvKSxuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7Y29uc29sZS5sb2coImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlciByZXBseSIscik7dmFyIG49ci5ib2R5LnZhbHVlO3JldHVybiBuP3ZvaWQgZShuKTp0KCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIil9KX0pfX0se2tleToiZGVsZXRlSHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsbz12b2lkIDA7bz1yP3I6bi5kb21haW47dmFyIHM9e3R5cGU6ImRlbGV0ZSIsZnJvbTpuLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIitvKyIvIixib2R5Ont2YWx1ZTp7dXNlcjplLGh5cGVydHlVUkw6dH19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe24ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlO24/ZSgiSHlwZXJ0eSBzdWNjZXNzZnVsbHkgZGVsZXRlZCIpOnQoIkVycm9yIG9uIGRlbGV0aW5nIGh5cGVydHkiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6NjgsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDY4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLHZbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGEoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBsPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihsKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLHY9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9YSxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbNjddKSg2Nyl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgSHlwZXJ0eURpc2NvdmVyeS5qcyAKLy8gdmVyc2lvbjogMC4yLjAKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5IeXBlcnR5RGlzY292ZXJ5PWUoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG4pe2Z1bmN0aW9uIG8ocyxjKXtpZighcltzXSl7aWYoIXRbc10pe3ZhciB1PSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFjJiZ1KXJldHVybiB1KHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIGE9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IGEuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsYX12YXIgZj1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciByPXRbc11bMV1bZV07cmV0dXJuIG8ocj9yOmUpfSxmLGYuZXhwb3J0cyxlLHQscixuKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxuLmxlbmd0aDtzKyspbyhuW3NdKTtyZXR1cm4gb30oezE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjd9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6OH1dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjl9XSw0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6MTB9XSw1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMCxyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LHt9XSw2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6Mn1dLDc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4obi5KU09OJiZuLkpTT04uc3RyaW5naWZ5fHxKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MTZ9XSw4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxyKX19LHsiLi4vLi4vbW9kdWxlcy8kIjozOH1dLDk6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNiwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOjYyfV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzLyQuY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo2MywiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NjQsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NjUsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6NjZ9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbihlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSx7Ii4vJC5pcy1vYmplY3QiOjMxfV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIiksbz1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLHM7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj0odD1PYmplY3QoZSkpW29dKT9yOmk/bih0KToiT2JqZWN0Ij09KHM9bih0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjpzfX0seyIuLyQuY29mIjoxNSwiLi8kLndrcyI6NTl9XSwxNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDE2OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIxLjIuNiJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYS1mdW5jdGlvbiIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixvKXtyZXR1cm4gZS5jYWxsKHQscixuLG8pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0seyIuLyQuYS1mdW5jdGlvbiI6MTF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LHt9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi8kLmZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vJC5mYWlscyI6MjJ9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKSxvPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLmlzLW9iamVjdCI6MzF9XSwyMTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuY3R4Iikscz0icHJvdG90eXBlIixjPWZ1bmN0aW9uKGUsdCxyKXt2YXIgdSxhLGYsbD1lJmMuRixkPWUmYy5HLHA9ZSZjLlMsJD1lJmMuUCx2PWUmYy5CLHk9ZSZjLlcsaD1kP286b1t0XXx8KG9bdF09e30pLGI9ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2Zvcih1IGluIHIpYT0hbCYmYiYmdSBpbiBiLGEmJnUgaW4gaHx8KGY9YT9iW3VdOnJbdV0saFt1XT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgYlt1XT9yW3VdOnYmJmE/aShmLG4pOnkmJmJbdV09PWY/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlP25ldyBlKHQpOmUodCl9O3JldHVybiB0W3NdPWVbc10sdH0oZik6JCYmImZ1bmN0aW9uIj09dHlwZW9mIGY/aShGdW5jdGlvbi5jYWxsLGYpOmYsJCYmKChoW3NdfHwoaFtzXT17fSkpW3VdPWYpKX07Yy5GPTEsYy5HPTIsYy5TPTQsYy5QPTgsYy5CPTE2LGMuVz0zMix0LmV4cG9ydHM9Y30seyIuLyQuY29yZSI6MTYsIi4vJC5jdHgiOjE3LCIuLyQuZ2xvYmFsIjoyNH1dLDIyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY3R4Iiksbz1lKCIuLyQuaXRlci1jYWxsIiksaT1lKCIuLyQuaXMtYXJyYXktaXRlciIpLHM9ZSgiLi8kLmFuLW9iamVjdCIpLGM9ZSgiLi8kLnRvLWxlbmd0aCIpLHU9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsYSl7dmFyIGYsbCxkLHA9dShlKSwkPW4ocixhLHQ/MjoxKSx2PTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHApdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShwKSlmb3IoZj1jKGUubGVuZ3RoKTtmPnY7disrKXQ/JChzKGw9ZVt2XSlbMF0sbFsxXSk6JChlW3ZdKTtlbHNlIGZvcihkPXAuY2FsbChlKTshKGw9ZC5uZXh0KCkpLmRvbmU7KW8oZCwkLGwudmFsdWUsdCl9fSx7Ii4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY3R4IjoxNywiLi8kLmlzLWFycmF5LWl0ZXIiOjMwLCIuLyQuaXRlci1jYWxsIjozMiwiLi8kLnRvLWxlbmd0aCI6NTYsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo2MH1dLDI0OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sMjY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vJC5kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuLyQiOjM4LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQucHJvcGVydHktZGVzYyI6NDJ9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuLyQuZ2xvYmFsIjoyNH1dLDI4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi8kLmNvZiI6MTV9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi8kLndrcyI6NTl9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3RyeXtyZXR1cm4gbz90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZuKHMuY2FsbChlKSksaX19fSx7Ii4vJC5hbi1vYmplY3QiOjEzfV0sMzM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpLGk9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuLyQuaGlkZSIpKHMsZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4uY3JlYXRlKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuLyQiOjM4LCIuLyQuaGlkZSI6MjYsIi4vJC5wcm9wZXJ0eS1kZXNjIjo0MiwiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLndrcyI6NTl9XSwzNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQubGlicmFyeSIpLG89ZSgiLi8kLmV4cG9ydCIpLGk9ZSgiLi8kLnJlZGVmaW5lIikscz1lKCIuLyQuaGlkZSIpLGM9ZSgiLi8kLmhhcyIpLHU9ZSgiLi8kLml0ZXJhdG9ycyIpLGE9ZSgiLi8kLml0ZXItY3JlYXRlIiksZj1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxsPWUoIi4vJCIpLmdldFByb3RvLGQ9ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksJD0iQEBpdGVyYXRvciIsdj0ia2V5cyIseT0idmFsdWVzIixoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixiLG0sZyx4KXthKHIsdCxiKTt2YXIgaix3LF89ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gUClyZXR1cm4gUFtlXTtzd2l0Y2goZSl7Y2FzZSB2OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIHk6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0saz10KyIgSXRlcmF0b3IiLE89bT09eSxNPSExLFA9ZS5wcm90b3R5cGUsUz1QW2RdfHxQWyRdfHxtJiZQW21dLEU9U3x8XyhtKTtpZihTKXt2YXIgVT1sKEUuY2FsbChuZXcgZSkpO2YoVSxrLCEwKSwhbiYmYyhQLCQpJiZzKFUsZCxoKSxPJiZTLm5hbWUhPT15JiYoTT0hMCxFPWZ1bmN0aW9uKCl7cmV0dXJuIFMuY2FsbCh0aGlzKX0pfWlmKG4mJiF4fHwhcCYmIU0mJlBbZF18fHMoUCxkLEUpLHVbdF09RSx1W2tdPWgsbSlpZihqPXt2YWx1ZXM6Tz9FOl8oeSksa2V5czpnP0U6Xyh2KSxlbnRyaWVzOk8/XygiZW50cmllcyIpOkV9LHgpZm9yKHcgaW4gail3IGluIFB8fGkoUCx3LGpbd10pO2Vsc2UgbyhvLlArby5GKihwfHxNKSx0LGopO3JldHVybiBqfX0seyIuLyQiOjM4LCIuLyQuZXhwb3J0IjoyMSwiLi8kLmhhcyI6MjUsIi4vJC5oaWRlIjoyNiwiLi8kLml0ZXItY3JlYXRlIjozMywiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC5saWJyYXJ5IjozOSwiLi8kLnJlZGVmaW5lIjo0NCwiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLndrcyI6NTl9XSwzNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cj0hMH0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGMpe31yZXR1cm4gcn19LHsiLi8kLndrcyI6NTl9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDM4OltmdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0O3QuZXhwb3J0cz17Y3JlYXRlOm4uY3JlYXRlLGdldFByb3RvOm4uZ2V0UHJvdG90eXBlT2YsaXNFbnVtOnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGdldERlc2M6bi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isc2V0RGVzYzpuLmRlZmluZVByb3BlcnR5LHNldERlc2NzOm4uZGVmaW5lUHJvcGVydGllcyxnZXRLZXlzOm4ua2V5cyxnZXROYW1lczpuLmdldE93blByb3BlcnR5TmFtZXMsZ2V0U3ltYm9sczpuLmdldE93blByb3BlcnR5U3ltYm9scyxlYWNoOltdLmZvckVhY2h9fSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5nbG9iYWwiKSxjPWUoIi4vJC50YXNrIikuc2V0LHU9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYT1zLnByb2Nlc3MsZj1zLlByb21pc2UsbD0icHJvY2VzcyI9PWUoIi4vJC5jb2YiKShhKSxkPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO2ZvcihsJiYoZT1hLmRvbWFpbikmJihhLmRvbWFpbj1udWxsLGUuZXhpdCgpKTtuOyl0PW4uZG9tYWluLHI9bi5mbix0JiZ0LmVudGVyKCkscigpLHQmJnQuZXhpdCgpLG49bi5uZXh0O289dm9pZCAwLGUmJmUuZW50ZXIoKX07aWYobClpPWZ1bmN0aW9uKCl7YS5uZXh0VGljayhkKX07ZWxzZSBpZih1KXt2YXIgcD0xLCQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyB1KGQpLm9ic2VydmUoJCx7Y2hhcmFjdGVyRGF0YTohMH0pLGk9ZnVuY3Rpb24oKXskLmRhdGE9cD0tcH19ZWxzZSBpPWYmJmYucmVzb2x2ZT9mdW5jdGlvbigpe2YucmVzb2x2ZSgpLnRoZW4oZCl9OmZ1bmN0aW9uKCl7Yy5jYWxsKHMsZCl9O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMCxkb21haW46bCYmYS5kb21haW59O28mJihvLm5leHQ9dCksbnx8KG49dCxpKCkpLG89dH19LHsiLi8kLmNvZiI6MTUsIi4vJC5nbG9iYWwiOjI0LCIuLyQudGFzayI6NTN9XSw0MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuLyQuY29yZSI6MTYsIi4vJC5leHBvcnQiOjIxLCIuLyQuZmFpbHMiOjIyfV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQucmVkZWZpbmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCluKGUscix0W3JdKTtyZXR1cm4gZX19LHsiLi8kLnJlZGVmaW5lIjo0NH1dLDQ0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5oaWRlIil9LHsiLi8kLmhpZGUiOjI2fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9T2JqZWN0LmlzfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OmUhPWUmJnQhPXR9fSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5nZXREZXNjLG89ZSgiLi8kLmlzLW9iamVjdCIpLGk9ZSgiLi8kLmFuLW9iamVjdCIpLHM9ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vJC5jdHgiKShGdW5jdGlvbi5jYWxsLG4oT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG8odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goaSl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhlLHQpLHI/ZS5fX3Byb3RvX189dDpvKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOnN9fSx7Ii4vJCI6MzgsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY3R4IjoxNywiLi8kLmlzLW9iamVjdCI6MzF9XSw0NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuY29yZSIpLG89ZSgiLi8kIiksaT1lKCIuLyQuZGVzY3JpcHRvcnMiKSxzPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W3NdJiZvLnNldERlc2ModCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vJCI6MzgsIi4vJC5jb3JlIjoxNiwiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLndrcyI6NTl9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLnNldERlc2Msbz1lKCIuLyQuaGFzIiksaT1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vJCI6MzgsIi4vJC5oYXMiOjI1LCIuLyQud2tzIjo1OX1dLDQ5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vJC5nbG9iYWwiOjI0fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iiksbz1lKCIuLyQuYS1mdW5jdGlvbiIpLGk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbaV0pP3Q6byhyKX19LHsiLi8kLmEtZnVuY3Rpb24iOjExLCIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLndrcyI6NTl9XSw1MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKHIrIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciEiKTtyZXR1cm4gZX19LHt9XSw1MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGM9U3RyaW5nKG8odCkpLHU9bihyKSxhPWMubGVuZ3RoO3JldHVybiAwPnV8fHU+PWE/ZT8iIjp2b2lkIDA6KGk9Yy5jaGFyQ29kZUF0KHUpLDU1Mjk2Pml8fGk+NTYzMTl8fHUrMT09PWF8fChzPWMuY2hhckNvZGVBdCh1KzEpKTw1NjMyMHx8cz41NzM0Mz9lP2MuY2hhckF0KHUpOmk6ZT9jLnNsaWNlKHUsdSsyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuLyQuZGVmaW5lZCI6MTgsIi4vJC50by1pbnRlZ2VyIjo1NH1dLDUzOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmN0eCIpLGM9ZSgiLi8kLmludm9rZSIpLHU9ZSgiLi8kLmh0bWwiKSxhPWUoIi4vJC5kb20tY3JlYXRlIiksZj1lKCIuLyQuZ2xvYmFsIiksbD1mLnByb2Nlc3MsZD1mLnNldEltbWVkaWF0ZSxwPWYuY2xlYXJJbW1lZGlhdGUsJD1mLk1lc3NhZ2VDaGFubmVsLHY9MCx5PXt9LGg9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsYj1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKHkuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PXlbZV07ZGVsZXRlIHlbZV0sdCgpfX0sbT1mdW5jdGlvbihlKXtiLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIHlbKyt2XT1mdW5jdGlvbigpe2MoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbih2KSx2fSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSB5W2VdfSwicHJvY2VzcyI9PWUoIi4vJC5jb2YiKShsKT9uPWZ1bmN0aW9uKGUpe2wubmV4dFRpY2socyhiLGUsMSkpfTokPyhvPW5ldyAkLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2YucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPWggaW4gYSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7dS5hcHBlbmRDaGlsZChhKCJzY3JpcHQiKSlbaF09ZnVuY3Rpb24oKXt1LnJlbW92ZUNoaWxkKHRoaXMpLGIuY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhiLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vJC5jb2YiOjE1LCIuLyQuY3R4IjoxNywiLi8kLmRvbS1jcmVhdGUiOjIwLCIuLyQuZ2xvYmFsIjoyNCwiLi8kLmh0bWwiOjI3LCIuLyQuaW52b2tlIjoyOH1dLDU0OltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDU1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlvYmplY3QiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuLyQuZGVmaW5lZCI6MTgsIi4vJC5pb2JqZWN0IjoyOX1dLDU2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuLyQudG8taW50ZWdlciI6NTR9XSw1NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOH1dLDU4OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDU5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnNoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vJC51aWQiKSxpPWUoIi4vJC5nbG9iYWwiKS5TeW1ib2w7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1pJiZpW2VdfHwoaXx8bykoIlN5bWJvbC4iK2UpKX19LHsiLi8kLmdsb2JhbCI6MjQsIi4vJC5zaGFyZWQiOjQ5LCIuLyQudWlkIjo1OH1dLDYwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNsYXNzb2YiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi8kLmNvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vJC5jbGFzc29mIjoxNCwiLi8kLmNvcmUiOjE2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLndrcyI6NTl9XSw2MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuLyQuaXRlci1zdGVwIiksaT1lKCIuLyQuaXRlcmF0b3JzIikscz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuLyQuaXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vJC5hZGQtdG8tdW5zY29wYWJsZXMiOjEyLCIuLyQuaXRlci1kZWZpbmUiOjM0LCIuLyQuaXRlci1zdGVwIjozNiwiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC50by1pb2JqZWN0Ijo1NX1dLDYyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZShuKHQpKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NDEsIi4vJC50by1vYmplY3QiOjU3fV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw2NDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvPWUoIi4vJCIpLGk9ZSgiLi8kLmxpYnJhcnkiKSxzPWUoIi4vJC5nbG9iYWwiKSxjPWUoIi4vJC5jdHgiKSx1PWUoIi4vJC5jbGFzc29mIiksYT1lKCIuLyQuZXhwb3J0IiksZj1lKCIuLyQuaXMtb2JqZWN0IiksbD1lKCIuLyQuYW4tb2JqZWN0IiksZD1lKCIuLyQuYS1mdW5jdGlvbiIpLHA9ZSgiLi8kLnN0cmljdC1uZXciKSwkPWUoIi4vJC5mb3Itb2YiKSx2PWUoIi4vJC5zZXQtcHJvdG8iKS5zZXQseT1lKCIuLyQuc2FtZS12YWx1ZSIpLGg9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIiksYj1lKCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciIpLG09ZSgiLi8kLm1pY3JvdGFzayIpLGc9IlByb21pc2UiLHg9cy5wcm9jZXNzLGo9InByb2Nlc3MiPT11KHgpLHc9c1tnXSxfPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB3KGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGUmJih0LmNvbnN0cnVjdG9yPU9iamVjdCksdy5yZXNvbHZlKHQpPT09dH0saz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9bmV3IHcoZSk7cmV0dXJuIHYocix0LnByb3RvdHlwZSkscn12YXIgcj0hMTt0cnl7aWYocj13JiZ3LnJlc29sdmUmJl8oKSx2KHQsdyksdC5wcm90b3R5cGU9by5jcmVhdGUody5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0fX0pLHQucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCl7fSlpbnN0YW5jZW9mIHR8fChyPSExKSxyJiZlKCIuLyQuZGVzY3JpcHRvcnMiKSl7dmFyIG49ITE7dy5yZXNvbHZlKG8uc2V0RGVzYyh7fSwidGhlbiIse2dldDpmdW5jdGlvbigpe249ITB9fSkpLHI9bn19Y2F0Y2goaSl7cj0hMX1yZXR1cm4gcn0oKSxPPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkmJmU9PT13JiZ0PT09bj8hMDp5KGUsdCl9LE09ZnVuY3Rpb24oZSl7dmFyIHQ9bChlKVtoXTtyZXR1cm4gdm9pZCAwIT10P3Q6ZX0sUD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZihlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxTPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LEU9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxVPWZ1bmN0aW9uKGUsdCl7aWYoIWUubil7ZS5uPSEwO3ZhciByPWUuYzttKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUudixvPTE9PWUucyxpPTAsYz1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxjPXQucmVzb2x2ZSx1PXQucmVqZWN0O3RyeXtzPyhvfHwoZS5oPSEwKSxyPXM9PT0hMD9uOnMobikscj09PXQucHJvbWlzZT91KFR5cGVFcnJvcigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1QKHIpKT9pLmNhbGwocixjLHUpOmMocikpOnUobil9Y2F0Y2goYSl7dShhKX19O3IubGVuZ3RoPmk7KWMocltpKytdKTtyLmxlbmd0aD0wLGUubj0hMSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQscixvPWUucDtUKG8pJiYoaj94LmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbixvKToodD1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT90KHtwcm9taXNlOm8scmVhc29uOm59KToocj1zLmNvbnNvbGUpJiZyLmVycm9yJiZyLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG4pKSxlLmE9dm9pZCAwfSwxKX0pfX0sVD1mdW5jdGlvbihlKXt2YXIgdCxyPWUuX2Qsbj1yLmF8fHIuYyxvPTA7aWYoci5oKXJldHVybiExO2Zvcig7bi5sZW5ndGg+bzspaWYodD1uW28rK10sdC5mYWlsfHwhVCh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxEPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5kfHwodC5kPSEwLHQ9dC5yfHx0LHQudj1lLHQucz0yLHQuYT10LmMuc2xpY2UoKSxVKHQsITApKX0sQT1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuZCl7ci5kPSEwLHI9ci5yfHxyO3RyeXtpZihyLnA9PT1lKXRocm93IFR5cGVFcnJvcigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1QKGUpKT9tKGZ1bmN0aW9uKCl7dmFyIG49e3I6cixkOiExfTt0cnl7dC5jYWxsKGUsYyhBLG4sMSksYyhELG4sMSkpfWNhdGNoKG8pe0QuY2FsbChuLG8pfX0pOihyLnY9ZSxyLnM9MSxVKHIsITEpKX1jYXRjaChuKXtELmNhbGwoe3I6cixkOiExfSxuKX19fTtrfHwodz1mdW5jdGlvbihlKXtkKGUpO3ZhciB0PXRoaXMuX2Q9e3A6cCh0aGlzLHcsZyksYzpbXSxhOnZvaWQgMCxzOjAsZDohMSx2OnZvaWQgMCxoOiExLG46ITF9O3RyeXtlKGMoQSx0LDEpLGMoRCx0LDEpKX1jYXRjaChyKXtELmNhbGwodCxyKX19LGUoIi4vJC5yZWRlZmluZS1hbGwiKSh3LnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBTKGIodGhpcyx3KSksbj1yLnByb21pc2Usbz10aGlzLl9kO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LG8uYy5wdXNoKHIpLG8uYSYmby5hLnB1c2gociksby5zJiZVKG8sITEpLG59LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSkpLGEoYS5HK2EuVythLkYqIWsse1Byb21pc2U6d30pLGUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpKHcsZyksZSgiLi8kLnNldC1zcGVjaWVzIikoZyksbj1lKCIuLyQuY29yZSIpW2ddLGEoYS5TK2EuRiohayxnLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFModGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksYShhLlMrYS5GKigha3x8XyghMCkpLGcse3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHcmJk8oZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksYShhLlMrYS5GKiEoayYmZSgiLi8kLml0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7dy5hbGwoZSlbImNhdGNoIl0oZnVuY3Rpb24oKXt9KX0pKSxnLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9TSh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qscz1bXSxjPUUoZnVuY3Rpb24oKXskKGUsITEscy5wdXNoLHMpO3ZhciByPXMubGVuZ3RoLGM9QXJyYXkocik7cj9vLmVhY2guY2FsbChzLGZ1bmN0aW9uKGUsbyl7dmFyIHM9ITE7dC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7c3x8KHM9ITAsY1tvXT1lLC0tcnx8bihjKSl9LGkpfSk6bihjKX0pO3JldHVybiBjJiZpKGMuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IFModCksbj1yLnJlamVjdCxvPUUoZnVuY3Rpb24oKXskKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi8kIjozOCwiLi8kLmEtZnVuY3Rpb24iOjExLCIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5jdHgiOjE3LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQuZXhwb3J0IjoyMSwiLi8kLmZvci1vZiI6MjMsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMSwiLi8kLml0ZXItZGV0ZWN0IjozNSwiLi8kLmxpYnJhcnkiOjM5LCIuLyQubWljcm90YXNrIjo0MCwiLi8kLnJlZGVmaW5lLWFsbCI6NDMsIi4vJC5zYW1lLXZhbHVlIjo0NSwiLi8kLnNldC1wcm90byI6NDYsIi4vJC5zZXQtc3BlY2llcyI6NDcsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIjo1MCwiLi8kLnN0cmljdC1uZXciOjUxLCIuLyQud2tzIjo1OX1dLDY1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5zdHJpbmctYXQiKSghMCk7ZSgiLi8kLml0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuLyQuaXRlci1kZWZpbmUiOjM0LCIuLyQuc3RyaW5nLWF0Ijo1Mn1dLDY2OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIik7bi5Ob2RlTGlzdD1uLkhUTUxDb2xsZWN0aW9uPW4uQXJyYXl9LHsiLi8kLml0ZXJhdG9ycyI6MzcsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo2MX1dLDY3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoIi4vaHlwZXJ0eS1kaXNjb3ZlcnkvSHlwZXJ0eURpc2NvdmVyeSIpLGk9bihvKTtyWyJkZWZhdWx0Il09aVsiZGVmYXVsdCJdLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9oeXBlcnR5LWRpc2NvdmVyeS9IeXBlcnR5RGlzY292ZXJ5Ijo2OH1dLDY4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1uKHMpLHU9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYT1uKHUpLGY9ZSgiLi4vdXRpbHMvdXRpbHMiKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgbj10aGlzO24ubWVzc2FnZUJ1cz1yLG4uZG9tYWluPSgwLGYuZGl2aWRlVVJMKSh0KS5kb21haW4sbi5kaXNjb3ZlcnlVUkw9dH1yZXR1cm4oMCxhWyJkZWZhdWx0Il0pKGUsW3trZXk6ImRpc2NvdmVyRGF0YU9iamVjdFBlck5hbWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZToiZGF0YU9iamVjdDovLyIrZX19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlLnVybDtuP2Uobik6dCgiRGF0YU9iamVjdCBuYW1lIGRvZXMgbm90IGV4aXN0Iil9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnR5UGVyVXNlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPSJ1c2VyOi8vIitlLnN1YnN0cmluZyhlLmluZGV4T2YoIkAiKSsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIkAiKSkscz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTpvfX07cmV0dXJuIGNvbnNvbGUubG9nKCJNZXNzYWdlOiAiLHMsbixvKSxuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsbil7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7Y29uc29sZS5sb2coIm1lc3NhZ2UgcmVwbHkiLHIpO3ZhciBvPXZvaWQgMCxpPXZvaWQgMCxzPXZvaWQgMCxjPXIuYm9keS52YWx1ZTtmb3IobyBpbiBjKWlmKHZvaWQgMCE9PWNbb10ubGFzdE1vZGlmaWVkKWlmKHZvaWQgMD09PWkpaT1uZXcgRGF0ZShjW29dLmxhc3RNb2RpZmllZCkscz1vO2Vsc2V7dmFyIHU9bmV3IERhdGUoY1tvXS5sYXN0TW9kaWZpZWQpO2kuZ2V0VGltZSgpPHUuZ2V0VGltZSgpJiYoaT11LHM9byl9Y29uc29sZS5sb2coIkxhc3QgSHlwZXJ0eTogIixzLGkpO3ZhciBhPXM7aWYodm9pZCAwPT09YSlyZXR1cm4gbigiVXNlciBIeXBlcnR5IG5vdCBmb3VuZCIpO3ZhciBmPXtpZDplLGRlc2NyaXB0b3I6Y1thXS5kZXNjcmlwdG9yLGh5cGVydHlVUkw6YX07Y29uc29sZS5sb2coIj09PT4gaHlwZXJ0eURpc2NvdmVyeSBtZXNzYWdlQnVuZGxlOiAiLGYpLHQoZil9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxzPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm99fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2UgZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyOiAiLHMsbixvKSxuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7Y29uc29sZS5sb2coImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlciByZXBseSIscik7dmFyIG49ci5ib2R5LnZhbHVlO3JldHVybiBuP3ZvaWQgZShuKTp0KCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIil9KX0pfX1dKSxlfSgpO3JbImRlZmF1bHQiXT1sLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMiOjY5LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6NCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjo1LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjZ9XSw2OTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIG8oZSl7aWYoIWUpdGhyb3cgRXJyb3IoIlVSTCBpcyBuZWVkZWQgdG8gc3BsaXQiKTt2YXIgdD0vKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naSxyPSIkMSwkMiwkMyIsbj1lLnJlcGxhY2UodCxyKS5zcGxpdCgiLCIpO25bMF09PT1lJiYoblswXT0iaHR0cHMiLG5bMV09ZSk7dmFyIG89e3R5cGU6blswXSxkb21haW46blsxXSxpZGVudGl0eTpuWzJdfTtyZXR1cm4gb31mdW5jdGlvbiBpKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpLHI9e3VzZXJuYW1lOmUuc3Vic3RyaW5nKDAsdCksZG9tYWluOmUuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCl9O3JldHVybiByfWZ1bmN0aW9uIHMoZSl7cmV0dXJuISgoMCwkWyJkZWZhdWx0Il0pKGUpLmxlbmd0aD4wKX1mdW5jdGlvbiBjKGUpe3JldHVybiBlP0pTT04ucGFyc2UoKDAsZFsiZGVmYXVsdCJdKShlKSk6dm9pZCAwfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIik7cmV0dXJuInVzZXI6Ly8iK2Uuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsdCl9ZnVuY3Rpb24gYShlKXt2YXIgdD1vKGUpO3JldHVybiB0LmlkZW50aXR5LnJlcGxhY2UoIi8iLCIiKSsiQCIrdC5kb21haW59ZnVuY3Rpb24gZihlKXtpZigidXNlcjovLyI9PT1lLnN1YnN0cmluZygwLDcpKXt2YXIgdD1vKGUpO2lmKHQuZG9tYWluJiZ0LmlkZW50aXR5KXJldHVybiBlO3Rocm93InVzZXJVUkwgd2l0aCB3cm9uZyBmb3JtYXQifXJldHVybiB1KGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbD1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiKSxkPW4obCkscD1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSwkPW4ocCk7ci5kaXZpZGVVUkw9byxyLmRpdmlkZUVtYWlsPWksci5lbXB0eU9iamVjdD1zLHIuZGVlcENsb25lPWMsci5nZXRVc2VyVVJMRnJvbUVtYWlsPXUsci5nZXRVc2VyRW1haWxGcm9tVVJMPWEsci5jb252ZXJ0VG9Vc2VyVVJMPWZ9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IjoxLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjN9XX0se30sWzY3XSkoNjcpfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKGdsb2JhbCl7CiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5JZGVudGl0eU1hbmFnZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJnUpcmV0dXJuIHUocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgYT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgYS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixhfXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjM4fV0sOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NjJ9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjYzLCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo2NCwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo2NSwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo2Nn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6MzF9XSwxNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjE1LCIuLyQud2tzIjo1OX1dLDE1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDE5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjoyMn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMX1dLDIxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGEsZixsPWUmYy5GLHA9ZSZjLkcsZD1lJmMuUywkPWUmYy5QLHY9ZSZjLkIsaD1lJmMuVyx5PXA/bzpvW3RdfHwob1t0XT17fSksYj1wP246ZD9uW3RdOihuW3RdfHx7fSlbc107cCYmKHI9dCk7Zm9yKHUgaW4gcilhPSFsJiZiJiZ1IGluIGIsYSYmdSBpbiB5fHwoZj1hP2JbdV06clt1XSx5W3VdPXAmJiJmdW5jdGlvbiIhPXR5cGVvZiBiW3VdP3JbdV06diYmYT9pKGYsbik6aCYmYlt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShmKTokJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZiwkJiYoKHlbc118fCh5W3NdPXt9KSlbdV09ZikpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLHQuZXhwb3J0cz1jfSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5nbG9iYWwiOjI0fV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYz1lKCIuLyQudG8tbGVuZ3RoIiksdT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixhKXt2YXIgZixsLHAsZD11KGUpLCQ9bihyLGEsdD8yOjEpLHY9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgZCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGQpKWZvcihmPWMoZS5sZW5ndGgpO2Y+djt2KyspdD8kKHMobD1lW3ZdKVswXSxsWzFdKTokKGVbdl0pO2Vsc2UgZm9yKHA9ZC5jYWxsKGUpOyEobD1wLm5leHQoKSkuZG9uZTspbyhwLCQsbC52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtYXJyYXktaXRlciI6MzAsIi4vJC5pdGVyLWNhbGwiOjMyLCIuLyQudG8tbGVuZ3RoIjo1NiwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjYwfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6MzgsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5wcm9wZXJ0eS1kZXNjIjo0Mn1dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjI0fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjoxNX1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDMxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6MTN9XSwzMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6MzgsIi4vJC5oaWRlIjoyNiwiLi8kLnByb3BlcnR5LWRlc2MiOjQyLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYz1lKCIuLyQuaGFzIiksdT1lKCIuLyQuaXRlcmF0b3JzIiksYT1lKCIuLyQuaXRlci1jcmVhdGUiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGw9ZSgiLi8kIikuZ2V0UHJvdG8scD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSwkPSJAQGl0ZXJhdG9yIix2PSJrZXlzIixoPSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGIsbSxnLHgpe2Eocix0LGIpO3ZhciBqLHcsXz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBTKXJldHVybiBTW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIsTz1tPT1oLE09ITEsUz1lLnByb3RvdHlwZSxFPVNbcF18fFNbJF18fG0mJlNbbV0sUD1FfHxfKG0pO2lmKEUpe3ZhciBUPWwoUC5jYWxsKG5ldyBlKSk7ZihULGssITApLCFuJiZjKFMsJCkmJnMoVCxwLHkpLE8mJkUubmFtZSE9PWgmJihNPSEwLFA9ZnVuY3Rpb24oKXtyZXR1cm4gRS5jYWxsKHRoaXMpfSl9aWYobiYmIXh8fCFkJiYhTSYmU1twXXx8cyhTLHAsUCksdVt0XT1QLHVba109eSxtKWlmKGo9e3ZhbHVlczpPP1A6XyhoKSxrZXlzOmc/UDpfKHYpLGVudHJpZXM6Tz9fKCJlbnRyaWVzIik6UH0seClmb3IodyBpbiBqKXcgaW4gU3x8aShTLHcsalt3XSk7ZWxzZSBvKG8uUCtvLkYqKGR8fE0pLHQsaik7cmV0dXJuIGp9fSx7Ii4vJCI6MzgsIi4vJC5leHBvcnQiOjIxLCIuLyQuaGFzIjoyNSwiLi8kLmhpZGUiOjI2LCIuLyQuaXRlci1jcmVhdGUiOjMzLCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLmxpYnJhcnkiOjM5LCIuLyQucmVkZWZpbmUiOjQ0LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuLyQud2tzIjo1OX1dLDM2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLnRhc2siKS5zZXQsdT1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixhPXMucHJvY2VzcyxmPXMuUHJvbWlzZSxsPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGEpLHA9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGwmJihlPWEuZG9tYWluKSYmKGEuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihsKWk9ZnVuY3Rpb24oKXthLm5leHRUaWNrKHApfTtlbHNlIGlmKHUpe3ZhciBkPTEsJD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IHUocCkub2JzZXJ2ZSgkLHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpeyQuZGF0YT1kPS1kfX1lbHNlIGk9ZiYmZi5yZXNvbHZlP2Z1bmN0aW9uKCl7Zi5yZXNvbHZlKCkudGhlbihwKX06ZnVuY3Rpb24oKXtjLmNhbGwocyxwKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpsJiZhLmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjoxNSwiLi8kLmdsb2JhbCI6MjQsIi4vJC50YXNrIjo1M31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mYWlscyI6MjJ9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjQ0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6MjZ9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjozOCwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtb2JqZWN0IjozMX1dLDQ3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjozOCwiLi8kLmNvcmUiOjE2LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQud2tzIjo1OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjozOCwiLi8kLmhhcyI6MjUsIi4vJC53a3MiOjU5fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6MjR9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQud2tzIjo1OX1dLDUxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksdT1uKHIpLGE9Yy5sZW5ndGg7cmV0dXJuIDA+dXx8dT49YT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQodSksNTUyOTY+aXx8aT41NjMxOXx8dSsxPT09YXx8KHM9Yy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQodSk6aTplP2Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLnRvLWludGVnZXIiOjU0fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYz1lKCIuLyQuaW52b2tlIiksdT1lKCIuLyQuaHRtbCIpLGE9ZSgiLi8kLmRvbS1jcmVhdGUiKSxmPWUoIi4vJC5nbG9iYWwiKSxsPWYucHJvY2VzcyxwPWYuc2V0SW1tZWRpYXRlLGQ9Zi5jbGVhckltbWVkaWF0ZSwkPWYuTWVzc2FnZUNoYW5uZWwsdj0wLGg9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoaC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9aFtlXTtkZWxldGUgaFtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtwJiZkfHwocD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gaFsrK3ZdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LGQ9ZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OiQ/KG89bmV3ICQsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPW0sbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49eSBpbiBhKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGEoInNjcmlwdCIpKVt5XT1mdW5jdGlvbigpe3UucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKGIsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OnAsY2xlYXI6ZH19LHsiLi8kLmNvZiI6MTUsIi4vJC5jdHgiOjE3LCIuLyQuZG9tLWNyZWF0ZSI6MjAsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaHRtbCI6MjcsIi4vJC5pbnZva2UiOjI4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLmlvYmplY3QiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo1NH1dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLnNoYXJlZCI6NDksIi4vJC51aWQiOjU4fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDYxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5pdGVyLXN0ZXAiOjM2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLnRvLWlvYmplY3QiOjU1fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo0MSwiLi8kLnRvLW9iamVjdCI6NTd9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe30se31dLDY0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLmN0eCIpLHU9ZSgiLi8kLmNsYXNzb2YiKSxhPWUoIi4vJC5leHBvcnQiKSxmPWUoIi4vJC5pcy1vYmplY3QiKSxsPWUoIi4vJC5hbi1vYmplY3QiKSxwPWUoIi4vJC5hLWZ1bmN0aW9uIiksZD1lKCIuLyQuc3RyaWN0LW5ldyIpLCQ9ZSgiLi8kLmZvci1vZiIpLHY9ZSgiLi8kLnNldC1wcm90byIpLnNldCxoPWUoIi4vJC5zYW1lLXZhbHVlIikseT1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxiPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksbT1lKCIuLyQubWljcm90YXNrIiksZz0iUHJvbWlzZSIseD1zLnByb2Nlc3Msaj0icHJvY2VzcyI9PXUoeCksdz1zW2ddLF89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gdihyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmXygpLHYodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOmgoZSx0KX0sTT1mdW5jdGlvbihlKXt2YXIgdD1sKGUpW3ldO3JldHVybiB2b2lkIDAhPXQ/dDplfSxTPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LEU9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPXAodCksdGhpcy5yZWplY3Q9cChyKX0sUD1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFQ9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO20oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxjPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLHU9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP3UoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVMocikpP2kuY2FsbChyLGMsdSk6YyhyKSk6dShuKX1jYXRjaChhKXt1KGEpfX07ci5sZW5ndGg+aTspYyhyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO1UobykmJihqP3guZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxVPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFVKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLFQodCwhMCkpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVMoZSkpP20oZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxjKEMsbiwxKSxjKEEsbiwxKSl9Y2F0Y2gobyl7QS5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLFQociwhMSkpfWNhdGNoKG4pe0EuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe3AoZSk7dmFyIHQ9dGhpcy5fZD17cDpkKHRoaXMsdyxnKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYyhDLHQsMSksYyhBLHQsMSkpfWNhdGNoKHIpe0EuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IEUoYih0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJlQobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksYShhLkcrYS5XK2EuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxnKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShnKSxuPWUoIi4vJC5jb3JlIilbZ10sYShhLlMrYS5GKiFrLGcse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRSh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqKCFrfHxfKCEwKSksZyx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBFKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLGcse2FsbDpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IEUodCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGM9UChmdW5jdGlvbigpeyQoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYz1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxjW29dPWUsLS1yfHxuKGMpKX0saSl9KTpuKGMpfSk7cmV0dXJuIGMmJmkoYy5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgRSh0KSxuPXIucmVqZWN0LG89UChmdW5jdGlvbigpeyQoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjM4LCIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5leHBvcnQiOjIxLCIuLyQuZm9yLW9mIjoyMywiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxLCIuLyQuaXRlci1kZXRlY3QiOjM1LCIuLyQubGlicmFyeSI6MzksIi4vJC5taWNyb3Rhc2siOjQwLCIuLyQucmVkZWZpbmUtYWxsIjo0MywiLi8kLnNhbWUtdmFsdWUiOjQ1LCIuLyQuc2V0LXByb3RvIjo0NiwiLi8kLnNldC1zcGVjaWVzIjo0NywiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjUwLCIuLyQuc3RyaWN0LW5ldyI6NTEsIi4vJC53a3MiOjU5fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5zdHJpbmctYXQiOjUyfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjYxfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLm1lc3NhZ2VCdXM9bixvLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkodCkuZG9tYWluLG8uaHlwZXJ0eVVSTD10LG8ucnVudGltZVVSTD1yfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwLG89ZT9lOiIuIjtuPXQ/dDpyLmh5cGVydHlVUkw7dmFyIHM9e3R5cGU6InJlYWQiLGZyb206bix0bzpyLnJ1bnRpbWVVUkwrIi9yZWdpc3RyeS8iLGJvZHk6e3Jlc291cmNlOm8sY3JpdGVyaWE6bn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnJlc291cmNlO24/ZShuKTp0KCJObyB1c2VyIHdhcyBub3QgZm91bmQiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6NjgsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDY4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLCRbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxwWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIHUoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBsPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLHA9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLCQ9bihkKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9dSxyLmdldFVzZXJFbWFpbEZyb21VUkw9YSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbNjddKSg2Nyl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgU3luY2hlci5qcyAKLy8gdmVyc2lvbjogMC4yLjAKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5TeW5jaGVyPWUoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG4pe2Z1bmN0aW9uIG8ocyxhKXtpZighcltzXSl7aWYoIXRbc10pe3ZhciBjPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZjKXJldHVybiBjKHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIHU9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IHUuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsdX12YXIgbD1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciByPXRbc11bMV1bZV07cmV0dXJuIG8ocj9yOmUpfSxsLGwuZXhwb3J0cyxlLHQscixuKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxuLmxlbmd0aDtzKyspbyhuW3NdKTtyZXR1cm4gb30oezE6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZSYmIUFycmF5Lm9ic2VydmUmJmZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciByPWUuZ2V0Tm90aWZpZXIsbj0icGVyZm9ybUNoYW5nZSIsbz0iX29yaWdpbmFsIixpPSJzcGxpY2UiLHM9e3B1c2g6ZnVuY3Rpb24gYyhlKXt2YXIgdD1hcmd1bWVudHMscz1jW29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDpzLXQubGVuZ3RoLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSx1bnNoaWZ0OmZ1bmN0aW9uIHUoZSl7dmFyIHQ9YXJndW1lbnRzLHM9dVtvXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30scG9wOmZ1bmN0aW9uIGwoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWxbb10uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6dGhpcy5sZW5ndGgsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc2hpZnQ6ZnVuY3Rpb24gZigpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9ZltvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNwbGljZTpmdW5jdGlvbiBkKGUsdCl7dmFyIHM9YXJndW1lbnRzLGE9ZFtvXS5hcHBseSh0aGlzLHMpO3JldHVybihhLmxlbmd0aHx8cy5sZW5ndGg+MikmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDplLGFkZGVkQ291bnQ6cy5sZW5ndGgtMixyZW1vdmVkOmF9fSx0aGlzKSxhfX07Zm9yKHZhciBhIGluIHMpc1thXVtvXT10LnByb3RvdHlwZVthXSx0LnByb3RvdHlwZVthXT1zW2FdO3Qub2JzZXJ2ZT1mdW5jdGlvbih0LHIpe3JldHVybiBlLm9ic2VydmUodCxyLFsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIixpXSl9LHQudW5vYnNlcnZlPWUudW5vYnNlcnZlfShPYmplY3QsQXJyYXkpfSx7fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6MTd9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSI6MTh9XSw0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6MTl9XSw1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6MjB9XSw2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjoyMX1dLDc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjIyfV0sODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6MjN9XSw5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6MjR9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIjoyNX1dLDExOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMCxyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LHt9XSwxMjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjR9XSwxMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89ITA7bzspe3ZhciBpPWUscz10LGE9cjtvPSExLG51bGw9PT1pJiYoaT1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBjPW4oaSxzKTtpZih2b2lkIDAhPT1jKXtpZigidmFsdWUiaW4gYylyZXR1cm4gYy52YWx1ZTt2YXIgdT1jLmdldDtpZih2b2lkIDA9PT11KXJldHVybjtyZXR1cm4gdS5jYWxsKGEpfXZhciBsPU9iamVjdC5nZXRQcm90b3R5cGVPZihpKTtpZihudWxsPT09bClyZXR1cm47ZT1sLHQ9cyxyPWEsbz0hMCxjPWw9dm9pZCAwfX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo1fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUiKVsiZGVmYXVsdCJdLG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1uKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYobz9vKGUsdCk6ZS5fX3Byb3RvX189dCl9LHIuX19lc01vZHVsZT0hMH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSI6MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjo4fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vaGVscGVycy90eXBlb2YiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLGlbImRlZmF1bHQiXSkodCkpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9lOnR9fSx7Ii4uL2hlbHBlcnMvdHlwZW9mIjoxNn1dLDE2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5jb25zdHJ1Y3Rvcj09PW4/InN5bWJvbCI6dHlwZW9mIGV9LHIuX19lc01vZHVsZT0hMH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sIjoxMH1dLDE3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuKG4uSlNPTiYmbi5KU09OLnN0cmluZ2lmeXx8SlNPTi5zdHJpbmdpZnkpLmFwcGx5KEpTT04sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jcmVhdGUoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy8kIjo1Nn1dLDE5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxyKX19LHsiLi4vLi4vbW9kdWxlcy8kIjo1Nn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmdldERlc2MoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy8kIjo1NiwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6ODF9XSwyMTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmdldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiOjgyfV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOjgzfV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5zZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIjo4NH1dLDI0OltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy8kLmNvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6ODUsIi4uL21vZHVsZXMvZXM2LnByb21pc2UiOjg2LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjg3LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjg5fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiKSxlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuU3ltYm9sfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6ODUsIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCI6ODh9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDI4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbihlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSx7Ii4vJC5pcy1vYmplY3QiOjQ5fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIiksbz1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLHM7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj0odD1PYmplY3QoZSkpW29dKT9yOmk/bih0KToiT2JqZWN0Ij09KHM9bih0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjpzfX0seyIuLyQuY29mIjozMCwiLi8kLndrcyI6Nzh9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDMxOltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIxLjIuNiJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYS1mdW5jdGlvbiIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixvKXtyZXR1cm4gZS5jYWxsKHQscixuLG8pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0seyIuLyQuYS1mdW5jdGlvbiI6MjZ9XSwzMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LHt9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi8kLmZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vJC5mYWlscyI6Mzh9XSwzNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKSxvPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuLyQuZ2xvYmFsIjo0MSwiLi8kLmlzLW9iamVjdCI6NDl9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uLmdldEtleXMoZSkscj1uLmdldFN5bWJvbHM7aWYocilmb3IodmFyIG8saT1yKGUpLHM9bi5pc0VudW0sYT0wO2kubGVuZ3RoPmE7KXMuY2FsbChlLG89aVthKytdKSYmdC5wdXNoKG8pO3JldHVybiB0fX0seyIuLyQiOjU2fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmN0eCIpLHM9InByb3RvdHlwZSIsYT1mdW5jdGlvbihlLHQscil7dmFyIGMsdSxsLGY9ZSZhLkYsZD1lJmEuRyxwPWUmYS5TLGI9ZSZhLlAsaD1lJmEuQix2PWUmYS5XLHk9ZD9vOm9bdF18fChvW3RdPXt9KSxfPWQ/bjpwP25bdF06KG5bdF18fHt9KVtzXTtkJiYocj10KTtmb3IoYyBpbiByKXU9IWYmJl8mJmMgaW4gXyx1JiZjIGluIHl8fChsPXU/X1tjXTpyW2NdLHlbY109ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIF9bY10/cltjXTpoJiZ1P2kobCxuKTp2JiZfW2NdPT1sP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZT9uZXcgZSh0KTplKHQpfTtyZXR1cm4gdFtzXT1lW3NdLHR9KGwpOmImJiJmdW5jdGlvbiI9PXR5cGVvZiBsP2koRnVuY3Rpb24uY2FsbCxsKTpsLGImJigoeVtzXXx8KHlbc109e30pKVtjXT1sKSl9O2EuRj0xLGEuRz0yLGEuUz00LGEuUD04LGEuQj0xNixhLlc9MzIsdC5leHBvcnRzPWF9LHsiLi8kLmNvcmUiOjMxLCIuLyQuY3R4IjozMiwiLi8kLmdsb2JhbCI6NDF9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmN0eCIpLG89ZSgiLi8kLml0ZXItY2FsbCIpLGk9ZSgiLi8kLmlzLWFycmF5LWl0ZXIiKSxzPWUoIi4vJC5hbi1vYmplY3QiKSxhPWUoIi4vJC50by1sZW5ndGgiKSxjPWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHUpe3ZhciBsLGYsZCxwPWMoZSksYj1uKHIsdSx0PzI6MSksaD0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBwKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkocCkpZm9yKGw9YShlLmxlbmd0aCk7bD5oO2grKyl0P2IocyhmPWVbaF0pWzBdLGZbMV0pOmIoZVtoXSk7ZWxzZSBmb3IoZD1wLmNhbGwoZSk7IShmPWQubmV4dCgpKS5kb25lOylvKGQsYixmLnZhbHVlLHQpfX0seyIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmN0eCI6MzIsIi4vJC5pcy1hcnJheS1pdGVyIjo0NywiLi8kLml0ZXItY2FsbCI6NTAsIi4vJC50by1sZW5ndGgiOjc1LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6Nzl9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pb2JqZWN0Iiksbz1lKCIuLyQiKS5nZXROYW1lcyxpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10sYT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIG8oZSl9Y2F0Y2godCl7cmV0dXJuIHMuc2xpY2UoKX19O3QuZXhwb3J0cy5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/YShlKTpvKG4oZSkpfX0seyIuLyQiOjU2LCIuLyQudG8taW9iamVjdCI6NzR9XSw0MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDQyOltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuLyQuZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQsbygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi8kIjo1NiwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLnByb3BlcnR5LWRlc2MiOjYxfV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi8kLmdsb2JhbCI6NDF9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vJC5jb2YiOjMwfV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC53a3MiOjc4fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIik7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PW4oZSl9fSx7Ii4vJC5jb2YiOjMwfV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDUwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuLyQuYW4tb2JqZWN0IjoyOH1dLDUxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxpPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi8kLmhpZGUiKShzLGUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uLmNyZWF0ZShzLHtuZXh0Om8oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi8kIjo1NiwiLi8kLmhpZGUiOjQzLCIuLyQucHJvcGVydHktZGVzYyI6NjEsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC53a3MiOjc4fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmxpYnJhcnkiKSxvPWUoIi4vJC5leHBvcnQiKSxpPWUoIi4vJC5yZWRlZmluZSIpLHM9ZSgiLi8kLmhpZGUiKSxhPWUoIi4vJC5oYXMiKSxjPWUoIi4vJC5pdGVyYXRvcnMiKSx1PWUoIi4vJC5pdGVyLWNyZWF0ZSIpLGw9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksZj1lKCIuLyQiKS5nZXRQcm90byxkPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxwPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLGI9IkBAaXRlcmF0b3IiLGg9ImtleXMiLHY9InZhbHVlcyIseT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsXyxnLG0sail7dShyLHQsXyk7dmFyICQsTyx3PWZ1bmN0aW9uKGUpe2lmKCFwJiZlIGluIEUpcmV0dXJuIEVbZV07c3dpdGNoKGUpe2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSB2OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LGs9dCsiIEl0ZXJhdG9yIix4PWc9PXYsQz0hMSxFPWUucHJvdG90eXBlLFM9RVtkXXx8RVtiXXx8ZyYmRVtnXSxUPVN8fHcoZyk7aWYoUyl7dmFyIFI9ZihULmNhbGwobmV3IGUpKTtsKFIsaywhMCksIW4mJmEoRSxiKSYmcyhSLGQseSkseCYmUy5uYW1lIT09diYmKEM9ITAsVD1mdW5jdGlvbigpe3JldHVybiBTLmNhbGwodGhpcyl9KX1pZihuJiYhanx8IXAmJiFDJiZFW2RdfHxzKEUsZCxUKSxjW3RdPVQsY1trXT15LGcpaWYoJD17dmFsdWVzOng/VDp3KHYpLGtleXM6bT9UOncoaCksZW50cmllczp4P3coImVudHJpZXMiKTpUfSxqKWZvcihPIGluICQpTyBpbiBFfHxpKEUsTywkW09dKTtlbHNlIG8oby5QK28uRioocHx8QyksdCwkKTtyZXR1cm4gJH19LHsiLi8kIjo1NiwiLi8kLmV4cG9ydCI6MzcsIi4vJC5oYXMiOjQyLCIuLyQuaGlkZSI6NDMsIi4vJC5pdGVyLWNyZWF0ZSI6NTEsIi4vJC5pdGVyYXRvcnMiOjU1LCIuLyQubGlicmFyeSI6NTgsIi4vJC5yZWRlZmluZSI6NjMsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC53a3MiOjc4fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3I9ITB9LGlbbl09ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChhKXt9cmV0dXJuIHJ9fSx7Ii4vJC53a3MiOjc4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU9iamVjdDt0LmV4cG9ydHM9e2NyZWF0ZTpuLmNyZWF0ZSxnZXRQcm90bzpuLmdldFByb3RvdHlwZU9mLGlzRW51bTp7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxnZXREZXNjOm4uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHNldERlc2M6bi5kZWZpbmVQcm9wZXJ0eSxzZXREZXNjczpuLmRlZmluZVByb3BlcnRpZXMsZ2V0S2V5czpuLmtleXMsZ2V0TmFtZXM6bi5nZXRPd25Qcm9wZXJ0eU5hbWVzLGdldFN5bWJvbHM6bi5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZWFjaDpbXS5mb3JFYWNofX0se31dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixpPW8oZSkscz1uLmdldEtleXMoaSksYT1zLmxlbmd0aCxjPTA7YT5jOylpZihpW3I9c1tjKytdXT09PXQpcmV0dXJuIHJ9fSx7Ii4vJCI6NTYsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDU4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuZ2xvYmFsIiksYT1lKCIuLyQudGFzayIpLnNldCxjPXMuTXV0YXRpb25PYnNlcnZlcnx8cy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLHU9cy5wcm9jZXNzLGw9cy5Qcm9taXNlLGY9InByb2Nlc3MiPT1lKCIuLyQuY29mIikodSksZD1mdW5jdGlvbigpe3ZhciBlLHQscjtmb3IoZiYmKGU9dS5kb21haW4pJiYodS5kb21haW49bnVsbCxlLmV4aXQoKSk7bjspdD1uLmRvbWFpbixyPW4uZm4sdCYmdC5lbnRlcigpLHIoKSx0JiZ0LmV4aXQoKSxuPW4ubmV4dDtvPXZvaWQgMCxlJiZlLmVudGVyKCl9O2lmKGYpaT1mdW5jdGlvbigpe3UubmV4dFRpY2soZCl9O2Vsc2UgaWYoYyl7dmFyIHA9MSxiPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgYyhkKS5vYnNlcnZlKGIse2NoYXJhY3RlckRhdGE6ITB9KSxpPWZ1bmN0aW9uKCl7Yi5kYXRhPXA9LXB9fWVsc2UgaT1sJiZsLnJlc29sdmU/ZnVuY3Rpb24oKXtsLnJlc29sdmUoKS50aGVuKGQpfTpmdW5jdGlvbigpe2EuY2FsbChzLGQpfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e2ZuOmUsbmV4dDp2b2lkIDAsZG9tYWluOmYmJnUuZG9tYWlufTtvJiYoby5uZXh0PXQpLG58fChuPXQsaSgpKSxvPXR9fSx7Ii4vJC5jb2YiOjMwLCIuLyQuZ2xvYmFsIjo0MSwiLi8kLnRhc2siOjcyfV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi8kLmNvcmUiOjMxLCIuLyQuZXhwb3J0IjozNywiLi8kLmZhaWxzIjozOH1dLDYxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDYyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnJlZGVmaW5lIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpbihlLHIsdFtyXSk7cmV0dXJuIGV9fSx7Ii4vJC5yZWRlZmluZSI6NjN9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuaGlkZSIpfSx7Ii4vJC5oaWRlIjo0M31dLDY0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPU9iamVjdC5pc3x8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09PTEvdDplIT1lJiZ0IT10fX0se31dLDY1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuZ2V0RGVzYyxvPWUoIi4vJC5pcy1vYmplY3QiKSxpPWUoIi4vJC5hbi1vYmplY3QiKSxzPWZ1bmN0aW9uKGUsdCl7aWYoaShlKSwhbyh0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixvKXt0cnl7bz1lKCIuLyQuY3R4IikoRnVuY3Rpb24uY2FsbCxuKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGkpe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpzfX0seyIuLyQiOjU2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmN0eCI6MzIsIi4vJC5pcy1vYmplY3QiOjQ5fV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmNvcmUiKSxvPWUoIi4vJCIpLGk9ZSgiLi8kLmRlc2NyaXB0b3JzIikscz1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtpJiZ0JiYhdFtzXSYmby5zZXREZXNjKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuLyQiOjU2LCIuLyQuY29yZSI6MzEsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC53a3MiOjc4fV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5zZXREZXNjLG89ZSgiLi8kLmhhcyIpLGk9ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuLyQiOjU2LCIuLyQuaGFzIjo0MiwiLi8kLndrcyI6Nzh9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPSJfX2NvcmUtanNfc2hhcmVkX18iLGk9bltvXXx8KG5bb109e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0seyIuLyQuZ2xvYmFsIjo0MX1dLDY5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpLG89ZSgiLi8kLmEtZnVuY3Rpb24iKSxpPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vJC5hLWZ1bmN0aW9uIjoyNiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC53a3MiOjc4fV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcihyKyI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhIik7cmV0dXJuIGV9fSx7fV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGkscyxhPVN0cmluZyhvKHQpKSxjPW4ociksdT1hLmxlbmd0aDtyZXR1cm4gMD5jfHxjPj11P2U/IiI6dm9pZCAwOihpPWEuY2hhckNvZGVBdChjKSw1NTI5Nj5pfHxpPjU2MzE5fHxjKzE9PT11fHwocz1hLmNoYXJDb2RlQXQoYysxKSk8NTYzMjB8fHM+NTczNDM/ZT9hLmNoYXJBdChjKTppOmU/YS5zbGljZShjLGMrMik6KGktNTUyOTY8PDEwKSsocy01NjMyMCkrNjU1MzYpfX19LHsiLi8kLmRlZmluZWQiOjMzLCIuLyQudG8taW50ZWdlciI6NzN9XSw3MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5jdHgiKSxhPWUoIi4vJC5pbnZva2UiKSxjPWUoIi4vJC5odG1sIiksdT1lKCIuLyQuZG9tLWNyZWF0ZSIpLGw9ZSgiLi8kLmdsb2JhbCIpLGY9bC5wcm9jZXNzLGQ9bC5zZXRJbW1lZGlhdGUscD1sLmNsZWFySW1tZWRpYXRlLGI9bC5NZXNzYWdlQ2hhbm5lbCxoPTAsdj17fSx5PSJvbnJlYWR5c3RhdGVjaGFuZ2UiLF89ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZih2Lmhhc093blByb3BlcnR5KGUpKXt2YXIgdD12W2VdO2RlbGV0ZSB2W2VdLHQoKX19LGc9ZnVuY3Rpb24oZSl7Xy5jYWxsKGUuZGF0YSl9O2QmJnB8fChkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB2WysraF09ZnVuY3Rpb24oKXthKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4oaCksaH0scD1mdW5jdGlvbihlKXtkZWxldGUgdltlXX0sInByb2Nlc3MiPT1lKCIuLyQuY29mIikoZik/bj1mdW5jdGlvbihlKXtmLm5leHRUaWNrKHMoXyxlLDEpKX06Yj8obz1uZXcgYixpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9ZyxuPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpsLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWwuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtsLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sbC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixnLCExKSk6bj15IGluIHUoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe2MuYXBwZW5kQ2hpbGQodSgic2NyaXB0IikpW3ldPWZ1bmN0aW9uKCl7Yy5yZW1vdmVDaGlsZCh0aGlzKSxfLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHMoXyxlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0seyIuLyQuY29mIjozMCwiLi8kLmN0eCI6MzIsIi4vJC5kb20tY3JlYXRlIjozNSwiLi8kLmdsb2JhbCI6NDEsIi4vJC5odG1sIjo0NCwiLi8kLmludm9rZSI6NDV9XSw3MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguY2VpbCxvPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bzpuKShlKX19LHt9XSw3NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pb2JqZWN0Iiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi8kLmRlZmluZWQiOjMzLCIuLyQuaW9iamVjdCI6NDZ9XSw3NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi8kLnRvLWludGVnZXIiOjczfV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuLyQuZGVmaW5lZCI6MzN9XSw3NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPTAsbz1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK24rbykudG9TdHJpbmcoMzYpKX19LHt9XSw3ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5zaGFyZWQiKSgid2tzIiksbz1lKCIuLyQudWlkIiksaT1lKCIuLyQuZ2xvYmFsIikuU3ltYm9sO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09aSYmaVtlXXx8KGl8fG8pKCJTeW1ib2wuIitlKSl9fSx7Ii4vJC5nbG9iYWwiOjQxLCIuLyQuc2hhcmVkIjo2OCwiLi8kLnVpZCI6Nzd9XSw3OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jbGFzc29mIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1lKCIuLyQuaXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vJC5jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZT9lW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV06dm9pZCAwfX0seyIuLyQuY2xhc3NvZiI6MjksIi4vJC5jb3JlIjozMSwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC53a3MiOjc4fV0sODA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmFkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi8kLml0ZXItc3RlcCIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpLHM9ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi8kLml0ZXItZGVmaW5lIikoQXJyYXksIkFycmF5IixmdW5jdGlvbihlLHQpe3RoaXMuX3Q9cyhlKSx0aGlzLl9pPTAsdGhpcy5faz10fSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3QsdD10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6ImtleXMiPT10P28oMCxyKToidmFsdWVzIj09dD9vKDAsZVtyXSk6bygwLFtyLGVbcl1dKX0sInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXksbigia2V5cyIpLG4oInZhbHVlcyIpLG4oImVudHJpZXMiKX0seyIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIjoyNywiLi8kLml0ZXItZGVmaW5lIjo1MiwiLi8kLml0ZXItc3RlcCI6NTQsIi4vJC5pdGVyYXRvcnMiOjU1LCIuLyQudG8taW9iamVjdCI6NzR9XSw4MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXtyZXR1cm4gZShuKHQpLHIpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLWlvYmplY3QiOjc0fV0sODI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZShuKHQpKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NjAsIi4vJC50by1vYmplY3QiOjc2fV0sODM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLW9iamVjdCI6NzZ9XSw4NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKTtuKG4uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6ZSgiLi8kLnNldC1wcm90byIpLnNldH0pfSx7Ii4vJC5leHBvcnQiOjM3LCIuLyQuc2V0LXByb3RvIjo2NX1dLDg1OltmdW5jdGlvbihlLHQscil7fSx7fV0sODY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbz1lKCIuLyQiKSxpPWUoIi4vJC5saWJyYXJ5Iikscz1lKCIuLyQuZ2xvYmFsIiksYT1lKCIuLyQuY3R4IiksYz1lKCIuLyQuY2xhc3NvZiIpLHU9ZSgiLi8kLmV4cG9ydCIpLGw9ZSgiLi8kLmlzLW9iamVjdCIpLGY9ZSgiLi8kLmFuLW9iamVjdCIpLGQ9ZSgiLi8kLmEtZnVuY3Rpb24iKSxwPWUoIi4vJC5zdHJpY3QtbmV3IiksYj1lKCIuLyQuZm9yLW9mIiksaD1lKCIuLyQuc2V0LXByb3RvIikuc2V0LHY9ZSgiLi8kLnNhbWUtdmFsdWUiKSx5PWUoIi4vJC53a3MiKSgic3BlY2llcyIpLF89ZSgiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiKSxnPWUoIi4vJC5taWNyb3Rhc2siKSxtPSJQcm9taXNlIixqPXMucHJvY2VzcywkPSJwcm9jZXNzIj09YyhqKSxPPXNbbV0sdz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgTyhmdW5jdGlvbigpe30pO3JldHVybiBlJiYodC5jb25zdHJ1Y3Rvcj1PYmplY3QpLE8ucmVzb2x2ZSh0KT09PXR9LGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPW5ldyBPKGUpO3JldHVybiBoKHIsdC5wcm90b3R5cGUpLHJ9dmFyIHI9ITE7dHJ5e2lmKHI9TyYmTy5yZXNvbHZlJiZ3KCksaCh0LE8pLHQucHJvdG90eXBlPW8uY3JlYXRlKE8ucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dH19KSx0LnJlc29sdmUoNSkudGhlbihmdW5jdGlvbigpe30paW5zdGFuY2VvZiB0fHwocj0hMSksciYmZSgiLi8kLmRlc2NyaXB0b3JzIikpe3ZhciBuPSExO08ucmVzb2x2ZShvLnNldERlc2Moe30sInRoZW4iLHtnZXQ6ZnVuY3Rpb24oKXtuPSEwfX0pKSxyPW59fWNhdGNoKGkpe3I9ITF9cmV0dXJuIHJ9KCkseD1mdW5jdGlvbihlLHQpe3JldHVybiBpJiZlPT09TyYmdD09PW4/ITA6dihlLHQpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0PWYoZSlbeV07cmV0dXJuIHZvaWQgMCE9dD90OmV9LEU9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGwoZSkmJiJmdW5jdGlvbiI9PXR5cGVvZih0PWUudGhlbik/dDohMX0sUz1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgVHlwZUVycm9yKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9ZCh0KSx0aGlzLnJlamVjdD1kKHIpfSxUPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sUj1mdW5jdGlvbihlLHQpe2lmKCFlLm4pe2Uubj0hMDt2YXIgcj1lLmM7ZyhmdW5jdGlvbigpe2Zvcih2YXIgbj1lLnYsbz0xPT1lLnMsaT0wLGE9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW8/dC5vazp0LmZhaWwsYT10LnJlc29sdmUsYz10LnJlamVjdDt0cnl7cz8ob3x8KGUuaD0hMCkscj1zPT09ITA/bjpzKG4pLHI9PT10LnByb21pc2U/YyhUeXBlRXJyb3IoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9RShyKSk/aS5jYWxsKHIsYSxjKTphKHIpKTpjKG4pfWNhdGNoKHUpe2ModSl9fTtyLmxlbmd0aD5pOylhKHJbaSsrXSk7ci5sZW5ndGg9MCxlLm49ITEsdCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0LHIsbz1lLnA7TShvKSYmKCQ/ai5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sbyk6KHQ9cy5vbnVuaGFuZGxlZHJlamVjdGlvbik/dCh7cHJvbWlzZTpvLHJlYXNvbjpufSk6KHI9cy5jb25zb2xlKSYmci5lcnJvciYmci5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKSksZS5hPXZvaWQgMH0sMSl9KX19LE09ZnVuY3Rpb24oZSl7dmFyIHQscj1lLl9kLG49ci5hfHxyLmMsbz0wO2lmKHIuaClyZXR1cm4hMTtmb3IoO24ubGVuZ3RoPm87KWlmKHQ9bltvKytdLHQuZmFpbHx8IU0odC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sTj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuZHx8KHQuZD0hMCx0PXQucnx8dCx0LnY9ZSx0LnM9Mix0LmE9dC5jLnNsaWNlKCksUih0LCEwKSl9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLmQpe3IuZD0hMCxyPXIucnx8cjt0cnl7aWYoci5wPT09ZSl0aHJvdyBUeXBlRXJyb3IoIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9RShlKSk/ZyhmdW5jdGlvbigpe3ZhciBuPXtyOnIsZDohMX07dHJ5e3QuY2FsbChlLGEoRCxuLDEpLGEoTixuLDEpKX1jYXRjaChvKXtOLmNhbGwobixvKX19KTooci52PWUsci5zPTEsUihyLCExKSl9Y2F0Y2gobil7Ti5jYWxsKHtyOnIsZDohMX0sbil9fX07a3x8KE89ZnVuY3Rpb24oZSl7ZChlKTt2YXIgdD10aGlzLl9kPXtwOnAodGhpcyxPLG0pLGM6W10sYTp2b2lkIDAsczowLGQ6ITEsdjp2b2lkIDAsaDohMSxuOiExfTt0cnl7ZShhKEQsdCwxKSxhKE4sdCwxKSl9Y2F0Y2gocil7Ti5jYWxsKHQscil9fSxlKCIuLyQucmVkZWZpbmUtYWxsIikoTy5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgUyhfKHRoaXMsTykpLG49ci5wcm9taXNlLG89dGhpcy5fZDtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxvLmMucHVzaChyKSxvLmEmJm8uYS5wdXNoKHIpLG8ucyYmUihvLCExKSxufSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pKSx1KHUuRyt1LlcrdS5GKiFrLHtQcm9taXNlOk99KSxlKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKShPLG0pLGUoIi4vJC5zZXQtc3BlY2llcyIpKG0pLG49ZSgiLi8kLmNvcmUiKVttXSx1KHUuUyt1LkYqIWssbSx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZWplY3Q7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLHUodS5TK3UuRiooIWt8fHcoITApKSxtLHtyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBPJiZ4KGUuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIGU7dmFyIHQ9bmV3IFModGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLHUodS5TK3UuRiohKGsmJmUoIi4vJC5pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe08uYWxsKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKCl7fSl9KSksbSx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PUModGhpcykscj1uZXcgUyh0KSxuPXIucmVzb2x2ZSxpPXIucmVqZWN0LHM9W10sYT1UKGZ1bmN0aW9uKCl7YihlLCExLHMucHVzaCxzKTt2YXIgcj1zLmxlbmd0aCxhPUFycmF5KHIpO3I/by5lYWNoLmNhbGwocyxmdW5jdGlvbihlLG8pe3ZhciBzPSExO3QucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3N8fChzPSEwLGFbb109ZSwtLXJ8fG4oYSkpfSxpKX0pOm4oYSl9KTtyZXR1cm4gYSYmaShhLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9Qyh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZWplY3Qsbz1UKGZ1bmN0aW9uKCl7YihlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vJCI6NTYsIi4vJC5hLWZ1bmN0aW9uIjoyNiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5jbGFzc29mIjoyOSwiLi8kLmNvcmUiOjMxLCIuLyQuY3R4IjozMiwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLmV4cG9ydCI6MzcsIi4vJC5mb3Itb2YiOjM5LCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmlzLW9iamVjdCI6NDksIi4vJC5pdGVyLWRldGVjdCI6NTMsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLm1pY3JvdGFzayI6NTksIi4vJC5yZWRlZmluZS1hbGwiOjYyLCIuLyQuc2FtZS12YWx1ZSI6NjQsIi4vJC5zZXQtcHJvdG8iOjY1LCIuLyQuc2V0LXNwZWNpZXMiOjY2LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciI6NjksIi4vJC5zdHJpY3QtbmV3Ijo3MCwiLi8kLndrcyI6Nzh9XSw4NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuc3RyaW5nLWF0IikoITApO2UoIi4vJC5pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi8kLml0ZXItZGVmaW5lIjo1MiwiLi8kLnN0cmluZy1hdCI6NzF9XSw4ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5nbG9iYWwiKSxpPWUoIi4vJC5oYXMiKSxzPWUoIi4vJC5kZXNjcmlwdG9ycyIpLGE9ZSgiLi8kLmV4cG9ydCIpLGM9ZSgiLi8kLnJlZGVmaW5lIiksdT1lKCIuLyQuZmFpbHMiKSxsPWUoIi4vJC5zaGFyZWQiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGQ9ZSgiLi8kLnVpZCIpLHA9ZSgiLi8kLndrcyIpLGI9ZSgiLi8kLmtleW9mIiksaD1lKCIuLyQuZ2V0LW5hbWVzIiksdj1lKCIuLyQuZW51bS1rZXlzIikseT1lKCIuLyQuaXMtYXJyYXkiKSxfPWUoIi4vJC5hbi1vYmplY3QiKSxnPWUoIi4vJC50by1pb2JqZWN0IiksbT1lKCIuLyQucHJvcGVydHktZGVzYyIpLGo9bi5nZXREZXNjLCQ9bi5zZXREZXNjLE89bi5jcmVhdGUsdz1oLmdldCxrPW8uU3ltYm9sLHg9by5KU09OLEM9eCYmeC5zdHJpbmdpZnksRT0hMSxTPXAoIl9oaWRkZW4iKSxUPW4uaXNFbnVtLFI9bCgic3ltYm9sLXJlZ2lzdHJ5IiksTT1sKCJzeW1ib2xzIiksTj0iZnVuY3Rpb24iPT10eXBlb2YgayxEPU9iamVjdC5wcm90b3R5cGUsUD1zJiZ1KGZ1bmN0aW9uKCl7cmV0dXJuIDchPU8oJCh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiAkKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1qKEQsdCk7biYmZGVsZXRlIERbdF0sJChlLHQsciksbiYmZSE9PUQmJiQoRCx0LG4pfTokLEw9ZnVuY3Rpb24oZSl7dmFyIHQ9TVtlXT1PKGsucHJvdG90eXBlKTtyZXR1cm4gdC5faz1lLHMmJkUmJlAoRCxlLHtjb25maWd1cmFibGU6ITAsc2V0OmZ1bmN0aW9uKHQpe2kodGhpcyxTKSYmaSh0aGlzW1NdLGUpJiYodGhpc1tTXVtlXT0hMSksUCh0aGlzLGUsbSgxLHQpKX19KSx0fSxBPWZ1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgZX0sRj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHImJmkoTSx0KT8oci5lbnVtZXJhYmxlPyhpKGUsUykmJmVbU11bdF0mJihlW1NdW3RdPSExKSxyPU8ocix7ZW51bWVyYWJsZTptKDAsITEpfSkpOihpKGUsUyl8fCQoZSxTLG0oMSx7fSkpLGVbU11bdF09ITApLFAoZSx0LHIpKTokKGUsdCxyKX0sST1mdW5jdGlvbihlLHQpe18oZSk7Zm9yKHZhciByLG49dih0PWcodCkpLG89MCxpPW4ubGVuZ3RoO2k+bzspRihlLHI9bltvKytdLHRbcl0pO3JldHVybiBlfSxVPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/TyhlKTpJKE8oZSksdCl9LFY9ZnVuY3Rpb24oZSl7dmFyIHQ9VC5jYWxsKHRoaXMsZSk7cmV0dXJuIHR8fCFpKHRoaXMsZSl8fCFpKE0sZSl8fGkodGhpcyxTKSYmdGhpc1tTXVtlXT90OiEwfSx6PWZ1bmN0aW9uKGUsdCl7dmFyIHI9aihlPWcoZSksdCk7cmV0dXJuIXJ8fCFpKE0sdCl8fGkoZSxTKSYmZVtTXVt0XXx8KHIuZW51bWVyYWJsZT0hMCkscn0sSD1mdW5jdGlvbihlKXtmb3IodmFyIHQscj13KGcoZSkpLG49W10sbz0wO3IubGVuZ3RoPm87KWkoTSx0PXJbbysrXSl8fHQ9PVN8fG4ucHVzaCh0KTtyZXR1cm4gbn0sQj1mdW5jdGlvbihlKXtmb3IodmFyIHQscj13KGcoZSkpLG49W10sbz0wO3IubGVuZ3RoPm87KWkoTSx0PXJbbysrXSkmJm4ucHVzaChNW3RdKTtyZXR1cm4gbn0sSj1mdW5jdGlvbihlKXtpZih2b2lkIDAhPT1lJiYhQShlKSl7Zm9yKHZhciB0LHIsbj1bZV0sbz0xLGk9YXJndW1lbnRzO2kubGVuZ3RoPm87KW4ucHVzaChpW28rK10pO3JldHVybiB0PW5bMV0sImZ1bmN0aW9uIj09dHlwZW9mIHQmJihyPXQpLCFyJiZ5KHQpfHwodD1mdW5jdGlvbihlLHQpe3JldHVybiByJiYodD1yLmNhbGwodGhpcyxlLHQpKSxBKHQpP3ZvaWQgMDp0fSksblsxXT10LEMuYXBwbHkoeCxuKX19LFc9dShmdW5jdGlvbigpe3ZhciBlPWsoKTtyZXR1cm4iW251bGxdIiE9QyhbZV0pfHwie30iIT1DKHthOmV9KXx8Int9IiE9QyhPYmplY3QoZSkpfSk7Tnx8KGs9ZnVuY3Rpb24oKXtpZihBKHRoaXMpKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIik7cmV0dXJuIEwoZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCkpfSxjKGsucHJvdG90eXBlLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pLEE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBrfSxuLmNyZWF0ZT1VLG4uaXNFbnVtPVYsbi5nZXREZXNjPXosbi5zZXREZXNjPUYsbi5zZXREZXNjcz1JLG4uZ2V0TmFtZXM9aC5nZXQ9SCxuLmdldFN5bWJvbHM9QixzJiYhZSgiLi8kLmxpYnJhcnkiKSYmYyhELCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsViwhMCkpO3ZhciBZPXsiZm9yIjpmdW5jdGlvbihlKXtyZXR1cm4gaShSLGUrPSIiKT9SW2VdOlJbZV09ayhlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe3JldHVybiBiKFIsZSl9LHVzZVNldHRlcjpmdW5jdGlvbigpe0U9ITB9LHVzZVNpbXBsZTpmdW5jdGlvbigpe0U9ITF9fTtuLmVhY2guY2FsbCgiaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7dmFyIHQ9cChlKTtZW2VdPU4/dDpMKHQpfSksRT0hMCxhKGEuRythLlcse1N5bWJvbDprfSksYShhLlMsIlN5bWJvbCIsWSksYShhLlMrYS5GKiFOLCJPYmplY3QiLHtjcmVhdGU6VSxkZWZpbmVQcm9wZXJ0eTpGLGRlZmluZVByb3BlcnRpZXM6SSxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6eixnZXRPd25Qcm9wZXJ0eU5hbWVzOkgsZ2V0T3duUHJvcGVydHlTeW1ib2xzOkJ9KSx4JiZhKGEuUythLkYqKCFOfHxXKSwiSlNPTiIse3N0cmluZ2lmeTpKfSksZihrLCJTeW1ib2wiKSxmKE1hdGgsIk1hdGgiLCEwKSxmKG8uSlNPTiwiSlNPTiIsITApfSx7Ii4vJCI6NTYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQuZW51bS1rZXlzIjozNiwiLi8kLmV4cG9ydCI6MzcsIi4vJC5mYWlscyI6MzgsIi4vJC5nZXQtbmFtZXMiOjQwLCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmhhcyI6NDIsIi4vJC5pcy1hcnJheSI6NDgsIi4vJC5rZXlvZiI6NTcsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLnByb3BlcnR5LWRlc2MiOjYxLCIuLyQucmVkZWZpbmUiOjYzLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQuc2hhcmVkIjo2OCwiLi8kLnRvLWlvYmplY3QiOjc0LCIuLyQudWlkIjo3NywiLi8kLndrcyI6Nzh9XSw4OTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpO24uTm9kZUxpc3Q9bi5IVE1MQ29sbGVjdGlvbj1uLkFycmF5fSx7Ii4vJC5pdGVyYXRvcnMiOjU1LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6ODB9XSw5MDpbZnVuY3Rpb24oZSx0LHIpe3dpbmRvdy5NdXRhdGlvbk9ic2VydmVyPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcnx8ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0aGlzLmc9W10sdGhpcy5rPWV9ZnVuY3Rpb24gcihlKXshZnVuY3Rpb24gcigpe3ZhciBuPWUudGFrZVJlY29yZHMoKTtuLmxlbmd0aCYmZS5rKG4sZSksZS5mPXNldFRpbWVvdXQocix0Ll9wZXJpb2QpfSgpfWZ1bmN0aW9uIG4odCl7dmFyIHIsbj17dHlwZTpudWxsLHRhcmdldDpudWxsLGFkZGVkTm9kZXM6W10scmVtb3ZlZE5vZGVzOltdLHByZXZpb3VzU2libGluZzpudWxsLG5leHRTaWJsaW5nOm51bGwsYXR0cmlidXRlTmFtZTpudWxsLGF0dHJpYnV0ZU5hbWVzcGFjZTpudWxsLG9sZFZhbHVlOm51bGx9O2ZvcihyIGluIHQpbltyXSE9PWUmJnRbcl0hPT1lJiYobltyXT10W3JdKTtyZXR1cm4gbn1mdW5jdGlvbiBvKGUsdCl7dmFyIHI9YShlLHQpO3JldHVybiBmdW5jdGlvbihuKXt2YXIgbyxjPW4ubGVuZ3RoO3QuYSYmci5hJiZpKG4sZSxyLmEsdC5kKSwodC5ifHx0LmUpJiYobz1zKG4sZSxyLHQpKSwob3x8bi5sZW5ndGghPT1jKSYmKHI9YShlLHQpKX19ZnVuY3Rpb24gaSh0LHIsbyxpKXtmb3IodmFyIHMsYSxjPXt9LHU9ci5hdHRyaWJ1dGVzLGw9dS5sZW5ndGg7bC0tOylzPXVbbF0sYT1zLm5hbWUsaSYmaVthXT09PWV8fChzLnZhbHVlIT09b1thXSYmdC5wdXNoKG4oe3R5cGU6ImF0dHJpYnV0ZXMiLHRhcmdldDpyLGF0dHJpYnV0ZU5hbWU6YSxvbGRWYWx1ZTpvW2FdLGF0dHJpYnV0ZU5hbWVzcGFjZTpzLm5hbWVzcGFjZVVSSX0pKSxjW2FdPSEwKTtmb3IoYSBpbiBvKWNbYV18fHQucHVzaChuKHt0YXJnZXQ6cix0eXBlOiJhdHRyaWJ1dGVzIixhdHRyaWJ1dGVOYW1lOmEsb2xkVmFsdWU6b1thXX0pKX1mdW5jdGlvbiBzKHQscixvLHMpe2Z1bmN0aW9uIGEoZSxyLG8sYSxjKXt2YXIgbD1lLmxlbmd0aC0xO2M9LX4oKGwtYykvMik7Zm9yKHZhciBmLGQscDtwPWUucG9wKCk7KWY9b1twLmhdLGQ9YVtwLmldLHMuYiYmYyYmTWF0aC5hYnMocC5oLXAuaSk+PWwmJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltmXSxyZW1vdmVkTm9kZXM6W2ZdLG5leHRTaWJsaW5nOmYubmV4dFNpYmxpbmcscHJldmlvdXNTaWJsaW5nOmYucHJldmlvdXNTaWJsaW5nfSkpLGMtLSkscy5hJiZkLmEmJmkodCxmLGQuYSxzLmQpLHMuYyYmMz09PWYubm9kZVR5cGUmJmYubm9kZVZhbHVlIT09ZC5jJiZ0LnB1c2gobih7dHlwZToiY2hhcmFjdGVyRGF0YSIsdGFyZ2V0OmZ9KSkscy5lJiZ1KGYsZCl9ZnVuY3Rpb24gdShyLG8pe2Zvcih2YXIgZCxwLGIsaCx2LHk9ci5jaGlsZE5vZGVzLF89by5iLGc9eS5sZW5ndGgsbT1fP18ubGVuZ3RoOjAsaj0wLCQ9MCxPPTA7Zz4kfHxtPk87KWg9eVskXSx2PShiPV9bT10pJiZiLmosaD09PXY/KHMuYSYmYi5hJiZpKHQsaCxiLmEscy5kKSxzLmMmJmIuYyE9PWUmJmgubm9kZVZhbHVlIT09Yi5jJiZ0LnB1c2gobih7dHlwZToiY2hhcmFjdGVyRGF0YSIsdGFyZ2V0Omh9KSkscCYmYShwLHIseSxfLGopLHMuZSYmKGguY2hpbGROb2Rlcy5sZW5ndGh8fGIuYiYmYi5iLmxlbmd0aCkmJnUoaCxiKSwkKyssTysrKToobD0hMCxkfHwoZD17fSxwPVtdKSxoJiYoZFtiPWMoaCldfHwoZFtiXT0hMCwtMT09PShiPWYoXyxoLE8sImoiKSk/cy5iJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0OnIsYWRkZWROb2RlczpbaF0sbmV4dFNpYmxpbmc6aC5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6aC5wcmV2aW91c1NpYmxpbmd9KSksaisrKTpwLnB1c2goe2g6JCxpOmJ9KSksJCsrKSx2JiZ2IT09eVskXSYmKGRbYj1jKHYpXXx8KGRbYl09ITAsLTE9PT0oYj1mKHksdiwkKSk/cy5iJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0Om8uaixyZW1vdmVkTm9kZXM6W3ZdLG5leHRTaWJsaW5nOl9bTysxXSxwcmV2aW91c1NpYmxpbmc6X1tPLTFdfSkpLGotLSk6cC5wdXNoKHtoOmIsaTpPfSkpLE8rKykpO3AmJmEocCxyLHksXyxqKX12YXIgbDtyZXR1cm4gdShyLG8pLGx9ZnVuY3Rpb24gYShlLHQpe3ZhciByPSEwO3JldHVybiBmdW5jdGlvbiBuKGUpe3ZhciBvPXtqOmV9O3JldHVybiF0LmN8fDMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZT8odC5hJiZyJiYxPT09ZS5ub2RlVHlwZSYmKG8uYT1sKGUuYXR0cmlidXRlcyxmdW5jdGlvbihlLHIpe3JldHVybiB0LmQmJiF0LmRbci5uYW1lXXx8KGVbci5uYW1lXT1yLnZhbHVlKSxlfSkpLHImJih0LmJ8fHQuY3x8dC5hJiZ0LmUpJiYoby5iPXUoZS5jaGlsZE5vZGVzLG4pKSxyPXQuZSk6by5jPWUubm9kZVZhbHVlLG99KGUpfWZ1bmN0aW9uIGMoZSl7dHJ5e3JldHVybiBlLmlkfHwoZS5tb19pZD1lLm1vX2lkfHxkKyspfWNhdGNoKHQpe3RyeXtyZXR1cm4gZS5ub2RlVmFsdWV9Y2F0Y2gocil7cmV0dXJuIGQrK319fWZ1bmN0aW9uIHUoZSx0KXtmb3IodmFyIHI9W10sbj0wO248ZS5sZW5ndGg7bisrKXJbbl09dChlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gbChlLHQpe2Zvcih2YXIgcj17fSxuPTA7bjxlLmxlbmd0aDtuKyspcj10KHIsZVtuXSxuLGUpO3JldHVybiByfWZ1bmN0aW9uIGYoZSx0LHIsbil7Zm9yKDtyPGUubGVuZ3RoO3IrKylpZigobj9lW3JdW25dOmVbcl0pPT09dClyZXR1cm4gcjtyZXR1cm4tMX10Ll9wZXJpb2Q9MzAsdC5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49e2E6ISEodC5hdHRyaWJ1dGVzfHx0LmF0dHJpYnV0ZUZpbHRlcnx8dC5hdHRyaWJ1dGVPbGRWYWx1ZSksYjohIXQuY2hpbGRMaXN0LGU6ISF0LnN1YnRyZWUsYzohKCF0LmNoYXJhY3RlckRhdGEmJiF0LmNoYXJhY3RlckRhdGFPbGRWYWx1ZSl9LGk9dGhpcy5nLHM9MDtzPGkubGVuZ3RoO3MrKylpW3NdLm09PT1lJiZpLnNwbGljZShzLDEpO3QuYXR0cmlidXRlRmlsdGVyJiYobi5kPWwodC5hdHRyaWJ1dGVGaWx0ZXIsZnVuY3Rpb24oZSx0KXsKcmV0dXJuIGVbdF09ITAsZX0pKSxpLnB1c2goe206ZSxsOm8oZSxuKX0pLHRoaXMuZnx8cih0aGlzKX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD10aGlzLmcscj0wO3I8dC5sZW5ndGg7cisrKXRbcl0ubChlKTtyZXR1cm4gZX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMuZz1bXSxjbGVhclRpbWVvdXQodGhpcy5mKSx0aGlzLmY9bnVsbH19O3ZhciBkPTE7cmV0dXJuIHR9KHZvaWQgMCl9LHt9XSw5MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlfHxmdW5jdGlvbihlLHQscixuKXsidXNlIHN0cmljdCI7dmFyIG8saSxzPVsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwicmVjb25maWd1cmUiLCJzZXRQcm90b3R5cGUiLCJwcmV2ZW50RXh0ZW5zaW9ucyJdLGE9dC5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWUuY2FsbCh0KX19KGUucHJvdG90eXBlLnRvU3RyaW5nKSxjPXQucHJvdG90eXBlLmluZGV4T2Y/dC5pbmRleE9mfHxmdW5jdGlvbihlLHIsbil7cmV0dXJuIHQucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHIsbil9OmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49cnx8MDtuPGUubGVuZ3RoO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sdT1yLk1hcCE9PW4mJk1hcC5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbigpe3JldHVybiBuZXcgTWFwfTpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9W107cmV0dXJue3NpemU6MCxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIGMoZSx0KT4tMX0sZ2V0OmZ1bmN0aW9uKHIpe3JldHVybiB0W2MoZSxyKV19LHNldDpmdW5jdGlvbihyLG4pe3ZhciBvPWMoZSxyKTstMT09PW8/KGUucHVzaChyKSx0LnB1c2gobiksdGhpcy5zaXplKyspOnRbb109bn0sImRlbGV0ZSI6ZnVuY3Rpb24ocil7dmFyIG49YyhlLHIpO24+LTEmJihlLnNwbGljZShuLDEpLHQuc3BsaWNlKG4sMSksdGhpcy5zaXplLS0pfSxmb3JFYWNoOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXIuY2FsbChhcmd1bWVudHNbMV0sdFtuXSxlW25dLHRoaXMpfX19LGw9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzO3RyeXthcmd1bWVudHMuY2FsbGVlfWNhdGNoKHIpe3ZhciBuPSh0KGMpLmpvaW4oIiAiKSsiICIpLnJlcGxhY2UoL3Byb3RvdHlwZSB8bGVuZ3RoIHxuYW1lIC9nLCIiKS5zbGljZSgwLC0xKS5zcGxpdCgiICIpO24ubGVuZ3RoJiYodD1mdW5jdGlvbih0KXt2YXIgcj1lLmdldE93blByb3BlcnR5TmFtZXModCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpZm9yKHZhciBvLGk9MDtpPG4ubGVuZ3RoOykobz1jKHIsbltpKytdKSk+LTEmJnIuc3BsaWNlKG8sMSk7cmV0dXJuIHJ9KX1yZXR1cm4gdH0oKTpmdW5jdGlvbih0KXt2YXIgcixuLG89W107aWYoImhhc093blByb3BlcnR5ImluIHQpZm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiZvLnB1c2gocik7ZWxzZXtuPWUuaGFzT3duUHJvcGVydHk7Zm9yKHIgaW4gdCluLmNhbGwodCxyKSYmby5wdXNoKHIpfXJldHVybiBhKHQpJiZvLnB1c2goImxlbmd0aCIpLG99LGY9ZS5nZXRQcm90b3R5cGVPZixkPWUuZGVmaW5lUHJvcGVydGllcyYmZS5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IscD1yLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ci53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKCl7dmFyIGU9K25ldyBEYXRlLHQ9ZTtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKCh0PStuZXcgRGF0ZSktZSl9LDE3KX19KCksYj1mdW5jdGlvbihlLHQscil7dmFyIG49by5nZXQoZSk7bj8odihuLGUpLG0oZSxuLHQscikpOihuPWgoZSksbShlLG4sdCxyKSwxPT09by5zaXplJiZwKHkpKX0saD1mdW5jdGlvbih0LHIpe3ZhciBuLGk9bCh0KSxzPVtdLGE9MCxyPXtoYW5kbGVyczp1KCksZnJvemVuOmUuaXNGcm96ZW4/ZS5pc0Zyb3plbih0KTohMSxleHRlbnNpYmxlOmUuaXNFeHRlbnNpYmxlP2UuaXNFeHRlbnNpYmxlKHQpOiEwLHByb3RvOmYmJmYodCkscHJvcGVydGllczppLHZhbHVlczpzLG5vdGlmaWVyOmcodCxyKX07aWYoZClmb3Iobj1yLmRlc2NyaXB0b3JzPVtdO2E8aS5sZW5ndGg7KW5bYV09ZCh0LGlbYV0pLHNbYV09dFtpW2ErK11dO2Vsc2UgZm9yKDthPGkubGVuZ3RoOylzW2FdPXRbaVthKytdXTtyZXR1cm4gby5zZXQodCxyKSxyfSx2PWZ1bmN0aW9uKCl7dmFyIHQ9ZD9mdW5jdGlvbihlLHQscixuLG8pe3ZhciBpPXQucHJvcGVydGllc1tyXSxzPWVbaV0sYT10LnZhbHVlc1tyXSxjPXQuZGVzY3JpcHRvcnNbcl07InZhbHVlImluIG8mJihhPT09cz8wPT09YSYmMS9hIT09MS9zOmE9PT1hfHxzPT09cykmJihqKGUsdCx7bmFtZTppLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6YX0sbiksdC52YWx1ZXNbcl09cyksIWMuY29uZmlndXJhYmxlfHxvLmNvbmZpZ3VyYWJsZSYmby53cml0YWJsZT09PWMud3JpdGFibGUmJm8uZW51bWVyYWJsZT09PWMuZW51bWVyYWJsZSYmby5nZXQ9PT1jLmdldCYmby5zZXQ9PT1jLnNldHx8KGooZSx0LHtuYW1lOmksdHlwZToicmVjb25maWd1cmUiLG9iamVjdDplLG9sZFZhbHVlOmF9LG4pLHQuZGVzY3JpcHRvcnNbcl09byl9OmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXQucHJvcGVydGllc1tyXSxpPWVbb10scz10LnZhbHVlc1tyXTsocz09PWk/MD09PXMmJjEvcyE9PTEvaTpzPT09c3x8aT09PWkpJiYoaihlLHQse25hbWU6byx0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOnN9LG4pLHQudmFsdWVzW3JdPWkpfSxyPWQ/ZnVuY3Rpb24oZSxyLG4sbyxpKXtmb3IodmFyIHMsYT1yLmxlbmd0aDtuJiZhLS07KW51bGwhPT1yW2FdJiYocz1kKGUsclthXSksbi0tLHM/dChlLG8sYSxpLHMpOihqKGUsbyx7bmFtZTpyW2FdLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6by52YWx1ZXNbYV19LGkpLG8ucHJvcGVydGllcy5zcGxpY2UoYSwxKSxvLnZhbHVlcy5zcGxpY2UoYSwxKSxvLmRlc2NyaXB0b3JzLnNwbGljZShhLDEpKSl9OmZ1bmN0aW9uKGUsdCxyLG4sbyl7Zm9yKHZhciBpPXQubGVuZ3RoO3ImJmktLTspbnVsbCE9PXRbaV0mJihqKGUsbix7bmFtZTp0W2ldLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6bi52YWx1ZXNbaV19LG8pLG4ucHJvcGVydGllcy5zcGxpY2UoaSwxKSxuLnZhbHVlcy5zcGxpY2UoaSwxKSxyLS0pfTtyZXR1cm4gZnVuY3Rpb24obixvLGkpe2lmKG4uaGFuZGxlcnMuc2l6ZSYmIW4uZnJvemVuKXt2YXIgcyxhLHUscCxiLGgsdix5LF89bi52YWx1ZXMsZz1uLmRlc2NyaXB0b3JzLG09MDtpZihuLmV4dGVuc2libGUpaWYocz1uLnByb3BlcnRpZXMuc2xpY2UoKSxhPXMubGVuZ3RoLHU9bChvKSxnKXtmb3IoO208dS5sZW5ndGg7KWI9dVttKytdLHA9YyhzLGIpLHk9ZChvLGIpLC0xPT09cD8oaihvLG4se25hbWU6Yix0eXBlOiJhZGQiLG9iamVjdDpvfSxpKSxuLnByb3BlcnRpZXMucHVzaChiKSxfLnB1c2gob1tiXSksZy5wdXNoKHkpKTooc1twXT1udWxsLGEtLSx0KG8sbixwLGkseSkpO3IobyxzLGEsbixpKSxlLmlzRXh0ZW5zaWJsZShvKXx8KG4uZXh0ZW5zaWJsZT0hMSxqKG8sbix7dHlwZToicHJldmVudEV4dGVuc2lvbnMiLG9iamVjdDpvfSxpKSxuLmZyb3plbj1lLmlzRnJvemVuKG8pKX1lbHNle2Zvcig7bTx1Lmxlbmd0aDspYj11W20rK10scD1jKHMsYiksaD1vW2JdLC0xPT09cD8oaihvLG4se25hbWU6Yix0eXBlOiJhZGQiLG9iamVjdDpvfSxpKSxuLnByb3BlcnRpZXMucHVzaChiKSxfLnB1c2goaCkpOihzW3BdPW51bGwsYS0tLHQobyxuLHAsaSkpO3IobyxzLGEsbixpKX1lbHNlIGlmKCFuLmZyb3plbil7Zm9yKDttPHMubGVuZ3RoO20rKyliPXNbbV0sdChvLG4sbSxpLGQobyxiKSk7ZS5pc0Zyb3plbihvKSYmKG4uZnJvemVuPSEwKX1mJiYodj1mKG8pLHYhPT1uLnByb3RvJiYoaihvLG4se3R5cGU6InNldFByb3RvdHlwZSIsbmFtZToiX19wcm90b19fIixvYmplY3Q6byxvbGRWYWx1ZTpuLnByb3RvfSksbi5wcm90bz12KSl9fX0oKSx5PWZ1bmN0aW9uKCl7by5zaXplJiYoby5mb3JFYWNoKHYpLGkuZm9yRWFjaChfKSxwKHkpKX0sXz1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2hhbmdlUmVjb3JkcztyLmxlbmd0aCYmKGUuY2hhbmdlUmVjb3Jkcz1bXSx0KHIpKX0sZz1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDImJih0PW8uZ2V0KGUpKSx0JiZ0Lm5vdGlmaWVyfHx7bm90aWZ5OmZ1bmN0aW9uKHQpe3QudHlwZTt2YXIgcj1vLmdldChlKTtpZihyKXt2YXIgbixpPXtvYmplY3Q6ZX07Zm9yKG4gaW4gdCkib2JqZWN0IiE9PW4mJihpW25dPXRbbl0pO2ooZSxyLGkpfX0scGVyZm9ybUNoYW5nZTpmdW5jdGlvbih0LHIpe2lmKCJzdHJpbmciIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIG5vbi1zdHJpbmcgY2hhbmdlVHlwZSIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBwZXJmb3JtIG5vbi1mdW5jdGlvbiIpO3ZhciBpLHMsYT1vLmdldChlKSxjPWFyZ3VtZW50c1syXSx1PWM9PT1uP3IoKTpyLmNhbGwoYyk7aWYoYSYmdihhLGUsdCksYSYmdSYmIm9iamVjdCI9PXR5cGVvZiB1KXtzPXtvYmplY3Q6ZSx0eXBlOnR9O2ZvcihpIGluIHUpIm9iamVjdCIhPT1pJiYidHlwZSIhPT1pJiYoc1tpXT11W2ldKTtqKGUsYSxzKX19fX0sbT1mdW5jdGlvbihlLHQscixuKXt2YXIgbz1pLmdldChyKTtvfHxpLnNldChyLG89e29ic2VydmVkOnUoKSxjaGFuZ2VSZWNvcmRzOltdfSksby5vYnNlcnZlZC5zZXQoZSx7YWNjZXB0TGlzdDpuLnNsaWNlKCksZGF0YTp0fSksdC5oYW5kbGVycy5zZXQocixvKX0saj1mdW5jdGlvbihlLHQscixuKXt0LmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG89dC5vYnNlcnZlZC5nZXQoZSkuYWNjZXB0TGlzdDsoInN0cmluZyIhPXR5cGVvZiBufHwtMT09PWMobyxuKSkmJmMobyxyLnR5cGUpPi0xJiZ0LmNoYW5nZVJlY29yZHMucHVzaChyKX0pfTtvPXUoKSxpPXUoKSxlLm9ic2VydmU9ZnVuY3Rpb24odCxyLG8pe2lmKCF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBvYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTtpZihlLmlzRnJvemVuJiZlLmlzRnJvemVuKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIGEgZnJvemVuIGZ1bmN0aW9uIG9iamVjdCIpO2lmKG89PT1uKW89cztlbHNlIGlmKCFvfHwib2JqZWN0IiE9dHlwZW9mIG8pdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhpcmQgYXJndW1lbnQgdG8gT2JqZWN0Lm9ic2VydmUgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLiIpO3JldHVybiBiKHQscixvKSx0fSxlLnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PT1lfHwib2JqZWN0IiE9dHlwZW9mIGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IHVub2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgcixuPWkuZ2V0KHQpO3JldHVybiBuJiYocj1uLm9ic2VydmVkLmdldChlKSkmJihuLm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2KGUuZGF0YSx0KX0pLHAoZnVuY3Rpb24oKXtfKG4sdCl9KSwxPT09bi5vYnNlcnZlZC5zaXplJiZuLm9ic2VydmVkLmhhcyhlKT9pWyJkZWxldGUiXSh0KTpuLm9ic2VydmVkWyJkZWxldGUiXShlKSwxPT09ci5kYXRhLmhhbmRsZXJzLnNpemU/b1siZGVsZXRlIl0oZSk6ci5kYXRhLmhhbmRsZXJzWyJkZWxldGUiXSh0KSksZX0sZS5nZXROb3RpZmllcj1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZ2V0Tm90aWZpZXIgY2Fubm90IGdldE5vdGlmaWVyIG5vbi1vYmplY3QiKTtyZXR1cm4gZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KT9udWxsOmcodCl9LGUuZGVsaXZlckNoYW5nZVJlY29yZHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciB0PWkuZ2V0KGUpO3QmJih0Lm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2KGUuZGF0YSx0KX0pLF8odCxlKSl9fShPYmplY3QsQXJyYXksdGhpcyl9LHt9XSw5MjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLkRhdGFPYmplY3RPYnNlcnZlcj1yLkRhdGFPYmplY3RSZXBvcnRlcj1yLlN5bmNoZXI9dm9pZCAwLGUoIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSIpLGUoIm9iamVjdC5vYnNlcnZlIiksZSgiYXJyYXkub2JzZXJ2ZSIpO3ZhciBvPWUoIi4vc3luY2hlci9TeW5jaGVyIiksaT1uKG8pLHM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciIpLGE9bihzKSxjPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSx1PW4oYyk7ci5TeW5jaGVyPWlbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RSZXBvcnRlcj1hWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0T2JzZXJ2ZXI9dVsiZGVmYXVsdCJdfSx7Ii4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjk1LCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIjo5NiwiLi9zeW5jaGVyL1N5bmNoZXIiOjk5LCJhcnJheS5vYnNlcnZlIjoxLCJtdXRhdGlvbm9ic2VydmVyLXNoaW0iOjkwLCJvYmplY3Qub2JzZXJ2ZSI6OTF9XSw5MzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihjKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoIi4vU3luY09iamVjdCIpLHA9bihkKSxiPWUoIi4vRGF0YU9iamVjdENoaWxkIiksaD1uKGIpLHY9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBhPXRoaXM7YS5fc3luY2hlcj10LGEuX3VybD1yLGEuX3NjaGVtYT1uLGEuX3N0YXR1cz1vLGEuX3N5bmNPYmo9bmV3IHBbImRlZmF1bHQiXShpKSxhLl9jaGlsZHJlbnM9cyxhLl92ZXJzaW9uPTAsYS5fY2hpbGRJZD0wLGEuX2NoaWxkcmVuT2JqZWN0cz17fSxhLl9jaGlsZHJlbkxpc3RlbmVycz1bXSxhLl9vd25lcj10Ll9vd25lcixhLl9idXM9dC5fYnVzfXJldHVybigwLGZbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLHI9dC5fdXJsKyIvY2hpbGRyZW4vIjt0Ll9jaGlsZHJlbnMmJnQuX2NoaWxkcmVucy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBvPXIrbixpPXQuX2J1cy5hZGRMaXN0ZW5lcihvLGZ1bmN0aW9uKHIpe2lmKHIuZnJvbSE9PWUuX293bmVyKXN3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC1DaGlsZHJlbi1SQ1Y6ICIsciksci50eXBlKXtjYXNlImNyZWF0ZSI6dC5fb25DaGlsZENyZWF0ZShyKTticmVhaztjYXNlImRlbGV0ZSI6Y29uc29sZS5sb2cocik7YnJlYWs7ZGVmYXVsdDp0Ll9jaGFuZ2VDaGlsZHJlbihyKX19KTt0Ll9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pLCgwLGFbImRlZmF1bHQiXSkoZS5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2NoaWxkcmVuT2JqZWN0c1t0XS5fcmVsZWFzZUxpc3RlbmVycygpfSl9fSx7a2V5OiJwYXVzZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToicmVzdW1lIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJzdG9wIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJhZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3IuX2NoaWxkSWQrKzt2YXIgbj1yLl9vd25lcisiIyIrci5fY2hpbGRJZCxvPXIuX3VybCsiL2NoaWxkcmVuLyIrZSxzPXt0eXBlOiJjcmVhdGUiLGZyb206ci5fb3duZXIsdG86byxib2R5OntyZXNvdXJjZTpuLHZhbHVlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlKXt2YXIgaT1yLl9idXMucG9zdE1lc3NhZ2Uocyk7Y29uc29sZS5sb2coImNyZWF0ZS1yZXBvcnRlci1jaGlsZCggIityLl9vd25lcisiICk6ICIscyk7dmFyIGE9bmV3IGhbImRlZmF1bHQiXShyLG4sdCxyLl9vd25lcixpKTthLm9uQ2hhbmdlKGZ1bmN0aW9uKGUpe3IuX29uQ2hhbmdlKGUse3BhdGg6byxjaGlsZElkOm59KX0pLHIuX2NoaWxkcmVuT2JqZWN0c1tuXT1hLGUoYSl9KX19LHtrZXk6Im9uQWRkQ2hpbGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uQWRkQ2hpbGRyZW5IYW5kbGVyPWV9fSx7a2V5OiJfb25DaGlsZENyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZTtjb25zb2xlLmxvZygiY3JlYXRlLW9ic2VydmVyLWNoaWxkKCAiK3QuX293bmVyKyIgKTogIixlKTt2YXIgbj1uZXcgaFsiZGVmYXVsdCJdKHQscixlLmJvZHkudmFsdWUpO3QuX2NoaWxkcmVuT2JqZWN0c1tyXT1uLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc291cmNlOnQuX293bmVyfX0pfSk7dmFyIG89e3R5cGU6ZS50eXBlLGZyb206ZS5mcm9tLHVybDplLnRvLHZhbHVlOmUuYm9keS52YWx1ZSxjaGlsZElkOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5fTt0Ll9vbkFkZENoaWxkcmVuSGFuZGxlciYmKGNvbnNvbGUubG9nKCJBREQtQ0hJTERSRU4tRVZFTlQ6ICIsbyksdC5fb25BZGRDaGlsZHJlbkhhbmRsZXIobykpfX0se2tleToiX29uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisrLCJvbiI9PT1yLl9zdGF0dXMpe3ZhciBuPXt0eXBlOiJ1cGRhdGUiLGZyb206ci5fdXJsLHRvOnIuX3VybCsiL2NoYW5nZXMiLGJvZHk6e3ZlcnNpb246ci5fdmVyc2lvbixzb3VyY2U6ci5fb3duZXIsYXR0cmlidXRlOmUuZmllbGR9fTtlLm9UeXBlPT09ZC5PYmplY3RUeXBlLk9CSkVDVD9lLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSYmKG4uYm9keS52YWx1ZT1lLmRhdGEpOihuLmJvZHkuYXR0cmlidXRlVHlwZT1lLm9UeXBlLG4uYm9keS52YWx1ZT1lLmRhdGEsZS5jVHlwZSE9PWQuQ2hhbmdlVHlwZS5VUERBVEUmJihuLmJvZHkub3BlcmF0aW9uPWUuY1R5cGUpKSx0JiYobi50bz10LnBhdGgsbi5ib2R5LnJlc291cmNlPXQuY2hpbGRJZCksci5fYnVzLnBvc3RNZXNzYWdlKG4pfX19LHtrZXk6Il9jaGFuZ2VPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKzE9PT10LmJvZHkudmVyc2lvbil7ci5fdmVyc2lvbisrO3ZhciBuPXQuYm9keS5hdHRyaWJ1dGUsbz0oMCx2LmRlZXBDbG9uZSkodC5ib2R5LnZhbHVlKSxpPWUuZmluZEJlZm9yZShuKTtpZih0LmJvZHkuYXR0cmlidXRlVHlwZT09PWQuT2JqZWN0VHlwZS5BUlJBWSlpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLkFERCl7dmFyIHM9aS5vYmosYT1pLmxhc3Q7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzLFthLDBdLmNvbmNhdChvKSl9ZWxzZSBpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSl7dmFyIGM9aS5vYmosdT1pLmxhc3Q7Yy5zcGxpY2UodSxvKX1lbHNlIGkub2JqW2kubGFzdF09bztlbHNlIHQuYm9keS52YWx1ZT9pLm9ialtpLmxhc3RdPW86ZGVsZXRlIGkub2JqW2kubGFzdF19ZWxzZSBjb25zb2xlLmxvZygiVU5TWU5DSFJPTklaRUQgVkVSU0lPTjogKGRhdGEgPT4gIityLl92ZXJzaW9uKyIsIG1zZyA9PiAiK3QuYm9keS52ZXJzaW9uKyIpIil9fSx7a2V5OiJfY2hhbmdlQ2hpbGRyZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Y29uc29sZS5sb2coIkNoYW5nZSBjaGlsZHJlbjogIix0Ll9vd25lcixlKTt2YXIgcj1lLmJvZHkucmVzb3VyY2Usbj10Ll9jaGlsZHJlbk9iamVjdHNbcl07bj90Ll9jaGFuZ2VPYmplY3Qobi5fc3luY09iaixlKTpjb25zb2xlLmxvZygiTm8gY2hpbGRyZW4gZm91bmQgZm9yOiAiLHIpfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NoZW1hfX0se2tleToic3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19LHtrZXk6ImNoaWxkcmVucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuT2JqZWN0c319XSksZX0oKTtyWyJkZWZhdWx0Il09eSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMDAsIi4vRGF0YU9iamVjdENoaWxkIjo5NCwiLi9TeW5jT2JqZWN0Ijo5OCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bihzKSxjPWUoIi4vU3luY09iamVjdCIpLHU9bihjKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvLHMpeygwLGlbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgYT10aGlzO2EuX3BhcmVudD10LGEuX2NoaWxkSWQ9cixhLl9vd25lcj1vLGEuX21zZ0lkPXMsYS5fc3luY09iaj1uZXcgdVsiZGVmYXVsdCJdKG4pLGEuX2J1cz10Ll9idXMsYS5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxhWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX293bmVyJiYoZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX293bmVyLGZ1bmN0aW9uKHQpeyJyZXNwb25zZSI9PT10LnR5cGUmJnQuaWQ9PT1lLl9tc2dJZCYmKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0Q2hpbGQub25SZXNwb25zZToiLHQpLGUuX29uUmVzcG9uc2UodCkpfSkpfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lciYmZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztkZWxldGUgZS5fcGFyZW50Ll9jaGlsZHJlbltlLl9jaGlsZElkXSxlLl9yZWxlYXNlTGlzdGVuZXJzKCl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKHQpe2UodCl9KX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5ib2R5LnNvdXJjZSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmdC5fb25SZXNwb25zZUhhbmRsZXIocil9fSx7a2V5OiJjaGlsZElkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRJZH19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL1N5bmNPYmplY3QiOjk4LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iKSxwPW4oZCksYj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IiksaD1uKGIpLHY9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikseT1uKHYpLF89ZSgiLi9EYXRhT2JqZWN0IiksZz1uKF8pLG09ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxqPW4obSksJD17QU5ZOiJhbnkiLFNUQVJUOiJzdGFydCIsRVhBQ1Q6ImV4YWN0In0sTz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLG8scyxjLGwpeygwLHVbImRlZmF1bHQiXSkodGhpcyx0KTt2YXIgZj0oMCxwWyJkZWZhdWx0Il0pKHRoaXMsKDAsYVsiZGVmYXVsdCJdKSh0KS5jYWxsKHRoaXMsZSxyLG4sbyxzLmRhdGEsYykpLGQ9ZjtyZXR1cm4gZC5fdmVyc2lvbj1sLGQuX2ZpbHRlcnM9e30sZC5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKGUpe2QuX29uRmlsdGVyKGUpfSksKDAsaVsiZGVmYXVsdCJdKShzLmNoaWxkcmVucykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1zLmNoaWxkcmVuc1tlXTtkLl9jaGlsZHJlbk9iamVjdHNbZV09bmV3IGpbImRlZmF1bHQiXShkLGUsdCl9KSxkLl9hbGxvY2F0ZUxpc3RlbmVycygpLGZ9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX2NoYW5nZUxpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwrIi9jaGFuZ2VzIixmdW5jdGlvbih0KXsidXBkYXRlIj09PXQudHlwZSYmKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0T2JzZXJ2ZXItIitlLl91cmwrIi1SQ1Y6ICIsdCksZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX2NoYW5nZUxpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXX19LHtrZXk6InVuc3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToidW5zdWJzY3JpYmUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0T2JzZXJ2ZXItVU5TVUJTQ1JJQkU6ICIsdCksMjAwPT09dC5ib2R5LmNvZGUmJihlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdKX0pfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSxuPXt0eXBlOiQuRVhBQ1QsY2FsbGJhY2s6dH0sbz1lLmluZGV4T2YoIioiKTtvPT09ZS5sZW5ndGgtMSYmKDA9PT1vP24udHlwZT0kLkFOWToobi50eXBlPSQuU1RBUlQscj1lLnN1YnN0cigwLGUubGVuZ3RoLTEpKSksdGhpcy5fZmlsdGVyc1tyXT1ufX0se2tleToiX29uRmlsdGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodC5fZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9maWx0ZXJzW3JdO24udHlwZT09PSQuQU5ZP24uY2FsbGJhY2soZSk6bi50eXBlPT09JC5TVEFSVD8wPT09ZS5maWVsZC5pbmRleE9mKHIpJiZuLmNhbGxiYWNrKGUpOm4udHlwZT09PSQuRVhBQ1QmJmUuZmllbGQ9PT1yJiZuLmNhbGxiYWNrKGUpfSl9fV0pLHR9KGdbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPU8sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0RhdGFPYmplY3QiOjkzLCIuL0RhdGFPYmplY3RDaGlsZCI6OTQsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE1fV0sOTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iKSxwPW4oZCksYj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IiksaD1uKGIpLHY9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikseT1uKHYpLF89ZSgiLi9EYXRhT2JqZWN0IiksZz1uKF8pLG09ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxqPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxpLHMpeygwLHVbImRlZmF1bHQiXSkodGhpcyx0KTt2YXIgYz0oMCxwWyJkZWZhdWx0Il0pKHRoaXMsKDAsYVsiZGVmYXVsdCJdKSh0KS5jYWxsKHRoaXMsZSxyLG4sbyxpLHMpKSxsPWM7cmV0dXJuIGwuX3N1YnNjcmlwdGlvbnM9e30sbC5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItIityKyItU0VORDogIixlKSxsLl9vbkNoYW5nZShlKX0pLGwuX2FsbG9jYXRlTGlzdGVuZXJzKCksY31yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fcmVzcG9uc2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpeyJyZXNwb25zZSI9PT10LnR5cGUmJmUuX29uUmVzcG9uc2UodCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fcmVzcG9uc2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6Imludml0ZU9ic2VydmVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJjcmVhdGUiLGZyb206dC5fc3luY2hlci5fb3duZXIsdG86dC5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOnQuX3VybCxzY2hlbWE6dC5fc2NoZW1hLHZhbHVlOnQuX3N5bmNPYmouZGF0YSxhdXRob3Jpc2U6ZX19O3QuX2J1cy5wb3N0TWVzc2FnZShyKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6ImRlbGV0ZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci1ERUxFVEU6ICIsdCksMjAwPT09dC5ib2R5LmNvZGUmJihlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX3JlcG9ydGVyc1tlLl91cmxdKX0pfX0se2tleToib25TdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uU3Vic2NyaXB0aW9uSGFuZGxlcj1lfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGFjY2VwdDpmdW5jdGlvbigpe3ZhciBuPXt1cmw6cixzdGF0dXM6Im9uIn07dC5fc3Vic2NyaXB0aW9uc1tyXT1uO3ZhciBvPXt9O3JldHVybigwLGlbImRlZmF1bHQiXSkodC5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuX2NoaWxkcmVuT2JqZWN0c1tlXS5kYXRhO29bZV09KDAsbS5kZWVwQ2xvbmUpKHIpfSksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNjaGVtYTp0Ll9zY2hlbWEsdmVyc2lvbjp0Ll92ZXJzaW9uLHZhbHVlOntkYXRhOigwLG0uZGVlcENsb25lKSh0LmRhdGEpLGNoaWxkcmVuczpvfX19KSxufSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAzLGRlc2M6cn19KX19O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJTVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj10Ll9zdWJzY3JpcHRpb25zW3JdO2RlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLG9iamVjdDpufTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiVU4tU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFU1BPTlNFLUVWRU5UOiAiLHIpLHQuX29uUmVzcG9uc2VIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShnWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1qLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Ijo5MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4ocyksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBzPXRoaXM7cy5fb3duZXI9dCxzLl91cmw9cixzLl9idXM9bixzLl9jaGlsZHJlbj1vLHMuX2NoYW5nZXM9W10scy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxhWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFQcm92aXNpb25hbC0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VzLnB1c2godCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCl9KX19LHtrZXk6ImNoaWxkcmVuIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59fV0pLGV9KCk7clsiZGVmYXVsdCJdPWMsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG4pO2Zvcih2YXIgbyBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W29dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG8pLHRbb10pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbik7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgcCh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG4gaW4gdCl7dmFyIG89dFtuXS5vYmplY3QsaT12b2lkIDA7aWYoby5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9aC5PQkpFQ1QpLG8uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9aC5BUlJBWSksInNwbGljZSI9PT10W25dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtuXS5pbmRleCxhPWVbIm5ldyJdKCIiK3MpLGM9YS50b1N0cmluZygpLHU9dFtuXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtuXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG4pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK24pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLlJFTU9WRSxvVHlwZTppLGZpZWxkOmMsZGF0YTp1fSl9dmFyIGQ9dFtuXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgaD1vLnNsaWNlKHMscytkKTtoLmZvckVhY2goZnVuY3Rpb24odCxuKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWVbIm5ldyJdKG5ldyBwKHQscytuKSk7ci5faW50ZXJuYWxPYnNlcnZlKG8sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoaCl9KX1zIT09by5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShvKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbbl0ubmFtZSksYT1zLnRvU3RyaW5nKCk7aWYoLTEhPT1hLmluZGV4T2YoIlN5bWJvbCIpKWNvbnRpbnVlO3ZhciBjPW9bdFtuXS5uYW1lXTsidXBkYXRlIj09PXRbbl0udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLlVQREFURSxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSwiYWRkIj09PXRbbl0udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGMpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5BREQsb1R5cGU6aSxmaWVsZDphLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGMpfSkpLCJkZWxldGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YX0pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fb2JzZXJ2YWJsZXNbcl0sbz1lLmluZGV4T2Yobi5vYmopO24uaWR4IT1vJiYobi5pZHg9byxkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbb109bil9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09cCYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLGI9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0saD1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5OTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLHU9bihjKSxsPWUoIi4vRGF0YU9iamVjdFJlcG9ydGVyIiksZj1uKGwpLGQ9ZSgiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSxwPW4oZCksYj1lKCIuL0RhdGFQcm92aXNpb25hbCIpLGg9bihiKSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBvPXRoaXM7by5fb3duZXI9dCxvLl9idXM9cixvLl9zdWJVUkw9bi5ydW50aW1lVVJMKyIvc20iLG8uX3JlcG9ydGVycz17fSxvLl9vYnNlcnZlcnM9e30sby5fcHJvdmlzaW9uYWxzPXt9LHIuYWRkTGlzdGVuZXIodCxmdW5jdGlvbihlKXtpZihlLmZyb20hPT10KXN3aXRjaChjb25zb2xlLmxvZygiU3luY2hlci1SQ1Y6ICIsZSksZS50eXBlKXtjYXNlImZvcndhcmQiOm8uX29uRm9yd2FyZChlKTticmVhaztjYXNlImNyZWF0ZSI6by5fb25SZW1vdGVDcmVhdGUoZSk7YnJlYWs7Y2FzZSJkZWxldGUiOm8uX29uUmVtb3RlRGVsZXRlKGUpfX0pfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyLnJlcG9ydGVyPW4uX293bmVyLHIuc2NoZW1hPWU7dmFyIG89e3R5cGU6ImNyZWF0ZSIsZnJvbTpuLl9vd25lcix0bzpuLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUsdmFsdWU6cixhdXRob3Jpc2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsaSl7bi5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7aWYoY29uc29sZS5sb2coImNyZWF0ZS1yZXNwb25zZTogIixvKSwyMDA9PT1vLmJvZHkuY29kZSl7dmFyIHM9by5ib2R5LnJlc291cmNlLGE9bmV3IGZbImRlZmF1bHQiXShuLHMsZSwib24iLHIsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKTtuLl9yZXBvcnRlcnNbc109YSx0KGEpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToic3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17dHlwZToic3Vic2NyaWJlIixmcm9tOnIuX293bmVyLHRvOnIuX3N1YlVSTCxib2R5OntzY2hlbWE6ZSxyZXNvdXJjZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24obyxpKXtyLl9idXMucG9zdE1lc3NhZ2UobixmdW5jdGlvbihuKXtjb25zb2xlLmxvZygic3Vic2NyaWJlLXJlc3BvbnNlOiAiLG4pO3ZhciBzPXIuX3Byb3Zpc2lvbmFsc1t0XTtpZihkZWxldGUgci5fcHJvdmlzaW9uYWxzW3RdLHMmJnMuX3JlbGVhc2VMaXN0ZW5lcnMoKSxuLmJvZHkuY29kZTwyMDApcz1uZXcgaFsiZGVmYXVsdCJdKHIuX293bmVyLHQsci5fYnVzLG4uYm9keS5jaGlsZHJlblJlc291cmNlcyksci5fcHJvdmlzaW9uYWxzW3RdPXM7ZWxzZSBpZigyMDA9PT1uLmJvZHkuY29kZSl7dmFyIGE9bmV3IHBbImRlZmF1bHQiXShyLHQsZSwib24iLG4uYm9keS52YWx1ZSxzLmNoaWxkcmVuLG4uYm9keS52ZXJzaW9uKTtyLl9vYnNlcnZlcnNbdF09YSxvKGEpLHMuYXBwbHkoYSl9ZWxzZSBpKG4uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxuPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm59fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj10Ll9vYnNlcnZlcnNbcl07aWYobil7dmFyIG89e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm5bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09dix0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjo5NSwiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL0RhdGFQcm92aXNpb25hbCI6OTcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sMTAwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLGJbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGMoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihmKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGI9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YSxyLmdldFVzZXJVUkxGcm9tRW1haWw9YyxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbOTJdKSg5Mil9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ZmFsc2U7ZGVzY3JpcHRvci5jb25maWd1cmFibGU9dHJ1ZTtpZigidmFsdWUiIGluIGRlc2NyaXB0b3IpZGVzY3JpcHRvci53cml0YWJsZT10cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcik7fX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7aWYocHJvdG9Qcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKTtpZihzdGF0aWNQcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKTtyZXR1cm4gQ29uc3RydWN0b3I7fTt9KCk7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTt9fSAvKioKICogU2ltcGxlIGNsYXNzIGZvciBlYXNpZXIgbG9nZ2luZwogKi92YXIgTG9nZ2VyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTG9nZ2VyKG5hbWUpe19jbGFzc0NhbGxDaGVjayh0aGlzLExvZ2dlcik7dGhpcy5wcmVmaXg9bmFtZSsiICI7dGhpcy5jPWNvbnNvbGU7fV9jcmVhdGVDbGFzcyhMb2dnZXIsW3trZXk6ImQiLHZhbHVlOmZ1bmN0aW9uIGQobXNnKXtmb3IodmFyIF9sZW49YXJndW1lbnRzLmxlbmd0aCxhcmdzPUFycmF5KF9sZW4+MT9fbGVuLTE6MCksX2tleT0xO19rZXk8X2xlbjtfa2V5Kyspe2FyZ3NbX2tleS0xXT1hcmd1bWVudHNbX2tleV07fWFyZ3VtZW50c1swXT10aGlzLnByZWZpeCthcmd1bWVudHNbMF07dGhpcy5jLmRlYnVnLmFwcGx5KHRoaXMuYyxhcmd1bWVudHMpO319LHtrZXk6ImwiLHZhbHVlOmZ1bmN0aW9uIGwobXNnKXtmb3IodmFyIF9sZW4yPWFyZ3VtZW50cy5sZW5ndGgsYXJncz1BcnJheShfbGVuMj4xP19sZW4yLTE6MCksX2tleTI9MTtfa2V5MjxfbGVuMjtfa2V5MisrKXthcmdzW19rZXkyLTFdPWFyZ3VtZW50c1tfa2V5Ml07fWFyZ3VtZW50c1swXT10aGlzLnByZWZpeCthcmd1bWVudHNbMF07dGhpcy5jLmxvZy5hcHBseSh0aGlzLmMsYXJndW1lbnRzKTt9fSx7a2V5OiJpIix2YWx1ZTpmdW5jdGlvbiBpKG1zZyl7Zm9yKHZhciBfbGVuMz1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9QXJyYXkoX2xlbjM+MT9fbGVuMy0xOjApLF9rZXkzPTE7X2tleTM8X2xlbjM7X2tleTMrKyl7YXJnc1tfa2V5My0xXT1hcmd1bWVudHNbX2tleTNdO31hcmd1bWVudHNbMF09dGhpcy5wcmVmaXgrYXJndW1lbnRzWzBdO3RoaXMuYy5pbmZvLmFwcGx5KHRoaXMuYyxhcmd1bWVudHMpO319LHtrZXk6InciLHZhbHVlOmZ1bmN0aW9uIHcobXNnKXtmb3IodmFyIF9sZW40PWFyZ3VtZW50cy5sZW5ndGgsYXJncz1BcnJheShfbGVuND4xP19sZW40LTE6MCksX2tleTQ9MTtfa2V5NDxfbGVuNDtfa2V5NCsrKXthcmdzW19rZXk0LTFdPWFyZ3VtZW50c1tfa2V5NF07fWFyZ3VtZW50c1swXT10aGlzLnByZWZpeCthcmd1bWVudHNbMF07dGhpcy5jLndhcm4uYXBwbHkodGhpcy5jLGFyZ3VtZW50cyk7fX0se2tleToiZSIsdmFsdWU6ZnVuY3Rpb24gZShtc2cpe2Zvcih2YXIgX2xlbjU9YXJndW1lbnRzLmxlbmd0aCxhcmdzPUFycmF5KF9sZW41PjE/X2xlbjUtMTowKSxfa2V5NT0xO19rZXk1PF9sZW41O19rZXk1Kyspe2FyZ3NbX2tleTUtMV09YXJndW1lbnRzW19rZXk1XTt9YXJndW1lbnRzWzBdPXRoaXMucHJlZml4K2FyZ3VtZW50c1swXTt0aGlzLmMuZXJyb3IuYXBwbHkodGhpcy5jLGFyZ3VtZW50cyk7fX1dKTtyZXR1cm4gTG9nZ2VyO30oKTtleHBvcnRzLmRlZmF1bHQ9TG9nZ2VyO21vZHVsZS5leHBvcnRzPWV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTp0cnVlfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fGZhbHNlO2Rlc2NyaXB0b3IuY29uZmlndXJhYmxlPXRydWU7aWYoInZhbHVlIiBpbiBkZXNjcmlwdG9yKWRlc2NyaXB0b3Iud3JpdGFibGU9dHJ1ZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpO319cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe2lmKHByb3RvUHJvcHMpZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyk7aWYoc3RhdGljUHJvcHMpZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyk7cmV0dXJuIENvbnN0cnVjdG9yO307fSgpO2V4cG9ydHMuZGVmYXVsdD1hY3RpdmF0ZTt2YXIgX1N5bmNoZXI9cmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyJyk7dmFyIF9EaXNjb3Zlcnk9cmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9EaXNjb3ZlcnknKTt2YXIgX0Rpc2NvdmVyeTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlzY292ZXJ5KTt2YXIgX0h5cGVydHlEaXNjb3Zlcnk9cmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9IeXBlcnR5RGlzY292ZXJ5Jyk7dmFyIF9IeXBlcnR5RGlzY292ZXJ5Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9IeXBlcnR5RGlzY292ZXJ5KTt2YXIgX0lkZW50aXR5TWFuYWdlcj1yZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0lkZW50aXR5TWFuYWdlcicpO3ZhciBfSWRlbnRpdHlNYW5hZ2VyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JZGVudGl0eU1hbmFnZXIpO3ZhciBfdXRpbHM9cmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMnKTt2YXIgX0V2ZW50RW1pdHRlcjI9cmVxdWlyZSgnLi4vdXRpbHMvRXZlbnRFbWl0dGVyJyk7dmFyIF9FdmVudEVtaXR0ZXIzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50RW1pdHRlcjIpO3ZhciBfTG9nZ2VyPXJlcXVpcmUoJy4vTG9nZ2VyJyk7dmFyIF9Mb2dnZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xvZ2dlcik7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9O31mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO319ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil7dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTt9cmV0dXJuIGNhbGwmJih0eXBlb2YgY2FsbD09PSJvYmplY3QifHx0eXBlb2YgY2FsbD09PSJmdW5jdGlvbiIpP2NhbGw6c2VsZjt9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKHR5cGVvZiBzdXBlckNsYXNzIT09ImZ1bmN0aW9uIiYmc3VwZXJDbGFzcyE9PW51bGwpe3Rocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2Ygc3VwZXJDbGFzcyk7fXN1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTpmYWxzZSx3cml0YWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfX0pO2lmKHN1cGVyQ2xhc3MpT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzczt9IC8qIGpzaGludCB1bmRlZjogdHJ1ZSAqL3ZhciBsPW5ldyBfTG9nZ2VyMi5kZWZhdWx0KCJST09NVUkiKTt2YXIgUm9vbVVJT2JzZXJ2ZXI9ZnVuY3Rpb24oX0V2ZW50RW1pdHRlcil7X2luaGVyaXRzKFJvb21VSU9ic2VydmVyLF9FdmVudEVtaXR0ZXIpOyAvKioKICAgICAqIENyZWF0ZSBhIG5ldyBSb29tVUlSZXBvcnRlcgogICAgICogQHBhcmFtIHtzdHJpbmd9IGh5cGVydHlVUkwgLSBVUkwgb2YgdGhlIGh5cGVydHkKICAgICAqIEBwYXJhbSB7TWluaUJ1c30gYnVzIC0gTWluaUJ1cwogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ3VyYXRpb24gLSBjb25maWd1cmF0aW9uIG9mIGh5cGVydHkKICAgICAqL2Z1bmN0aW9uIFJvb21VSU9ic2VydmVyKGh5cGVydHlVUkwsYnVzLGNvbmZpZ3VyYXRpb24pe19jbGFzc0NhbGxDaGVjayh0aGlzLFJvb21VSU9ic2VydmVyKTtpZighaHlwZXJ0eVVSTCl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBoeXBlcnR5VVJMIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO2lmKCFidXMpdGhyb3cgbmV3IEVycm9yKCdUaGUgTWluaUJ1cyBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTtpZighY29uZmlndXJhdGlvbil0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjb25maWd1cmF0aW9uIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO2wuZCgiaHlwZXJ0eVVSTDoiLGh5cGVydHlVUkwpO2wuZCgiYnVzOiIsYnVzKTtsLmQoImNvbmZpZ3VyYXRpb246Iixjb25maWd1cmF0aW9uKTt2YXIgX3RoaXMyPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKFJvb21VSU9ic2VydmVyKS5jYWxsKHRoaXMpKTtfdGhpczIuX2RvbWFpbj0oMCxfdXRpbHMuZGl2aWRlVVJMKShoeXBlcnR5VVJMKS5kb21haW47IC8vIGNyZWF0ZSBPYmplY3QgU2NoZW1hIFVSTApfdGhpczIuX29iamVjdERlc2NVUkw9J2h5cGVydHktY2F0YWxvZ3VlOi8vJytfdGhpczIuX2RvbWFpbisnLy53ZWxsLWtub3duL2RhdGFzY2hlbWFzL1Jvb21VSURhdGFTY2hlbWEnOyAvLyBtYWtlIGFyZ3VtZW50cyBhdmFpbGFibGUKX3RoaXMyLmh5cGVydHlVUkw9aHlwZXJ0eVVSTDtfdGhpczIuYnVzPWJ1cztfdGhpczIuY29uZmlndXJhdGlvbj1jb25maWd1cmF0aW9uO3ZhciBoeXBlcnR5RGlzY292ZXJ5PW5ldyBfSHlwZXJ0eURpc2NvdmVyeTIuZGVmYXVsdChoeXBlcnR5VVJMLGJ1cyk7dmFyIGRpc2NvdmVyeT1uZXcgX0Rpc2NvdmVyeTIuZGVmYXVsdChoeXBlcnR5VVJMLGJ1cyk7X3RoaXMyLmh5cGVydHlEaXNjb3Zlcnk9aHlwZXJ0eURpc2NvdmVyeTtfdGhpczIuZGlzY292ZXJ5PWRpc2NvdmVyeTsgLy8gaWRlbnRpdHkgbWFuYWdlciB0byBnZXQgdXNlciBpZGVudGl0eSBmb3IgdGhpcyBoeXBlcnR5Ci8vbGV0IGlkZW50aXR5TWFuYWdlciA9IG5ldyBJZGVudGl0eU1hbmFnZXIoaHlwZXJ0eVVSTCwgY29uZmlndXJhdGlvbi5ydW50aW1lVVJMLCBidXMpOwovL2lkZW50aXR5TWFuYWdlci5kaXNjb3ZlclVzZXJSZWdpc3RlcmVkKGh5cGVydHlVUkwpLnRoZW4oKHVzZXJVUkwpID0+IHsKLy8gICAgbC5kKCJnb3QgdXNlciBVUkw6IiwgdXNlclVSTCk7Ci8vfSk7CnZhciBfdGhpcz1fdGhpczI7IC8vIHN5bmNoZXIKdmFyIHN5bmNoZXI9bmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCxidXMsY29uZmlndXJhdGlvbik7X3RoaXMyLl9zeW5jaGVyPXN5bmNoZXI7c3luY2hlci5vbk5vdGlmaWNhdGlvbihmdW5jdGlvbihldmVudCl7X3RoaXMuX29uTm90aWZpY2F0aW9uKGV2ZW50KTt9KTsgLy8gdGVzdGluZyBkaXNjb3Zlcnkgd2l0aCBoYXJkY29kZWQgdXNlcgp2YXIgdXNlcj0ib3BlbmlkdGVzdDEwQGdtYWlsLmNvbSI7bC5kKCJ0cnlpbmcgdG8gZmluZCBoeXBlcnR5IG9mIHVzZXIiLHVzZXIpO190aGlzMi5oeXBlcnR5RGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eVBlclVzZXIodXNlcixudWxsKS50aGVuKGZ1bmN0aW9uKGZvdW5kVXNlcil7bC5kKCJmb3VuZDogIixmb3VuZFVzZXIpO30pO3JldHVybiBfdGhpczI7fSAvKioKICAgICAqIFN1YnNjcmliZSB0byBhbiBvYmplY3QgdXNpbmcgdGhlIHN5bmNoZXIKICAgICAqIEBwYXJhbSBvYmplY3RVUkwgLSBVUkwgb2YgdGhlIG9iamVjdAogICAgICovX2NyZWF0ZUNsYXNzKFJvb21VSU9ic2VydmVyLFt7a2V5OidzdWJzY3JpYmUnLHZhbHVlOmZ1bmN0aW9uIHN1YnNjcmliZShvYmplY3RVUkwpe3ZhciBfdGhpcz10aGlzO3RoaXMuX3N5bmNoZXIuc3Vic2NyaWJlKF90aGlzLl9vYmplY3REZXNjVVJMLG9iamVjdFVSTCkudGhlbihmdW5jdGlvbihvYmope2NvbnNvbGUuaW5mbygic3Vic2NyaWJlZCB0byBvYmplY3Q6IixvYmopOyAvL3Jvb21PYmp0UmVwb3J0ZXIub25BZGRDaGlsZCgoY2hpbGQpID0+IHsKLy8gICAgbC5kKCJjaGlsZCBhZGRlZDoiLCBjaGlsZCk7Ci8vICAgIGxldCBjaGlsZERhdGEgPSBjaGlsZC5kYXRhID8gY2hpbGQuZGF0YSA6IGNoaWxkLnZhbHVlOwovLyAgICBsLmQoImNoaWxkIGRhdGE6IiwgY2hpbGREYXRhKTsKLy99KTsKX3RoaXMub2JzZXJ2ZXI9b2JqO29iai5vbkNoYW5nZSgnKicsZnVuY3Rpb24oZXZlbnQpeyAvLyBIZWxsbyBXb3JsZCBPYmplY3Qgd2FzIGNoYW5nZWQKY29uc29sZS5pbmZvKCdtZXNzYWdlIHJlY2VpdmVkOicsZXZlbnQpOyAvLyBsZXRzIG5vdGlmeSB0aGUgQXBwIGFib3V0IHRoZSBjaGFuZ2UKX3RoaXMudHJpZ2dlcignb25DaGFuZ2UnLGV2ZW50KTt9KTt9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe2NvbnNvbGUuZXJyb3IocmVhc29uKTt9KTt9fSx7a2V5Oidfb25Ob3RpZmljYXRpb24nLHZhbHVlOmZ1bmN0aW9uIF9vbk5vdGlmaWNhdGlvbihldmVudCl7Y29uc29sZS5pbmZvKCdFdmVudCBSZWNlaXZlZDogJyxldmVudCk7fSAvKioKICAgICAqIFRlc3QgYWRkQ2hpbGQgZnVuY3Rpb25hbGl0eQogICAgICovfSx7a2V5OidhZGRDaGlsZCcsdmFsdWU6ZnVuY3Rpb24gYWRkQ2hpbGQoKXtsLmQoImFkZGluZyBjaGlsZCIpO3ZhciBhY3Rpb249eyJpZCI6InNvbWVJRCIsInR5cGUiOiJzb21lVHlwZSIsInZhbHVlcyI6W3sibmFtZSI6InNldEJyaWdodG5lc3MiLCJ1bml0Ijoic29tZVVuaXQiLCJ2YWx1ZSI6eyJicmlnaHRuZXNzIjo3NX0sInN1bSI6IndoYXRldmVyIn1dfTt0aGlzLm9ic2VydmVyLmFkZENoaWxkKCdhY3Rpb25zJyxhY3Rpb24pO319XSk7cmV0dXJuIFJvb21VSU9ic2VydmVyO30oX0V2ZW50RW1pdHRlcjMuZGVmYXVsdCk7ZnVuY3Rpb24gYWN0aXZhdGUoaHlwZXJ0eVVSTCxidXMsY29uZmlndXJhdGlvbil7cmV0dXJuIHtuYW1lOidSb29tVUlPYnNlcnZlcicsaW5zdGFuY2U6bmV3IFJvb21VSU9ic2VydmVyKGh5cGVydHlVUkwsYnVzLGNvbmZpZ3VyYXRpb24pfTt9bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4uL3V0aWxzL0V2ZW50RW1pdHRlciI6NywiLi4vdXRpbHMvdXRpbHMiOjgsIi4vTG9nZ2VyIjo1LCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0Rpc2NvdmVyeSI6MSwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9IeXBlcnR5RGlzY292ZXJ5IjoyLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0lkZW50aXR5TWFuYWdlciI6Mywic2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyIjo0fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ZmFsc2U7ZGVzY3JpcHRvci5jb25maWd1cmFibGU9dHJ1ZTtpZigidmFsdWUiIGluIGRlc2NyaXB0b3IpZGVzY3JpcHRvci53cml0YWJsZT10cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcik7fX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7aWYocHJvdG9Qcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKTtpZihzdGF0aWNQcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKTtyZXR1cm4gQ29uc3RydWN0b3I7fTt9KCk7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTt9fSAvKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8gLyoqCiAqIEV2ZW50RW1pdHRlcgogKiBBbGwgY2xhc3NlcyB3aGljaCBleHRlbmRzIHRoaXMsIGNhbiBoYXZlIGFkZEV2ZW50TGlzdGVuZXIgYW5kIHRyaWdnZXIgZXZlbnRzOwogKi92YXIgRXZlbnRFbWl0dGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsRXZlbnRFbWl0dGVyKTt9X2NyZWF0ZUNsYXNzKEV2ZW50RW1pdHRlcixbe2tleToiYWRkRXZlbnRMaXN0ZW5lciIsIC8qKgogICAqIGFkZEV2ZW50TGlzdGVuZXIgbGlzdGVuIGZvciBhbiBldmVudFR5cGUKICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgZXZlbnRUeXBlIC0gbGlzdGVuaW5nIGZvciB0aGlzIHR5cGUgb2YgZXZlbnQKICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gICAgICAgY2IgICAgICAgIC0gY2FsbGJhY2sgZnVuY3Rpb24gd2lsbCBiZSBleGVjdXRlZCB3aGVuIHRoZSBldmVudCBpdCBpcyBpbnZva2VkCiAgICovdmFsdWU6ZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsY2Ipe3ZhciBfdGhpcz10aGlzO190aGlzW2V2ZW50VHlwZV09Y2I7fSAvKioKICAgKiBJbnZva2UgdGhlIGV2ZW50VHlwZQogICAqIEBwYXJhbSAge3N0cmluZ30gZXZlbnRUeXBlIC0gZXZlbnQgd2lsbCBiZSBpbnZva2VkCiAgICogQHBhcmFtICB7b2JqZWN0fSBwYXJhbXMgLSBwYXJhbWV0ZXJzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBhZGRFdmVudExpc3RlbmVyCiAgICovfSx7a2V5OiJ0cmlnZ2VyIix2YWx1ZTpmdW5jdGlvbiB0cmlnZ2VyKGV2ZW50VHlwZSxwYXJhbXMpe3ZhciBfdGhpcz10aGlzO2lmKF90aGlzW2V2ZW50VHlwZV0pe190aGlzW2V2ZW50VHlwZV0ocGFyYW1zKTt9fX1dKTtyZXR1cm4gRXZlbnRFbWl0dGVyO30oKTtleHBvcnRzLmRlZmF1bHQ9RXZlbnRFbWl0dGVyO21vZHVsZS5leHBvcnRzPWV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTp0cnVlfSk7ZXhwb3J0cy5kaXZpZGVVUkw9ZGl2aWRlVVJMO2V4cG9ydHMuZGVlcENsb25lPWRlZXBDbG9uZTtleHBvcnRzLmdldENvbmZpZz1nZXRDb25maWc7ZXhwb3J0cy5nZXRVc2VyTWVkaWE9Z2V0VXNlck1lZGlhO2V4cG9ydHMuc2VyaWFsaXplPXNlcmlhbGl6ZTtleHBvcnRzLmdldFRlbXBsYXRlPWdldFRlbXBsYXRlOyAvKioKICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiAqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgogKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqKi8gLy8ganNoaW50IGJyb3dzZXI6dHJ1ZSwganF1ZXJ5OiB0cnVlCi8vIGpzaGludCB2YXJzdG10OiB0cnVlCi8qIGdsb2JhbCBIYW5kbGViYXJzICovIC8qKgogKiBTdXBwb3J0IG1vZHVsZSB3aXRoIHNvbWUgZnVuY3Rpb25zIHdpbGwgYmUgdXNlZnVsCiAqIEBtb2R1bGUgdXRpbHMKICovIC8qKgogKiBAdHlwZWRlZiBkaXZpZGVVUkwKICogQHR5cGUgT2JqZWN0CiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFRoZSB0eXBlIG9mIFVSTAogKiBAcHJvcGVydHkge3N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZGVudGl0eSBUaGUgaWRlbnRpdHkgb2YgVVJMCiAqLyAvKioKICogRGl2aWRlIGFuIHVybCBpbiB0eXBlLCBkb21haW4gYW5kIGlkZW50aXR5CiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzCiAqIEByZXR1cm4ge2RpdmlkZVVSTH0gdGhlIHJlc3VsdCBvZiBkaXZpZGVVUkwKICovZnVuY3Rpb24gZGl2aWRlVVJMKHVybCl7IC8vIGxldCByZSA9IC8oW2EtekEtWi1dKik/OlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9XC5bYS16XXsyLDZ9XGIpKihcL1tcL1xkXHdcLi1dKikqKD86W1w/XSkqKC4rKSovZ2k7CnZhciByZT0vKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naTt2YXIgc3Vic3Q9JyQxLCQyLCQzJzt2YXIgcGFydHM9dXJsLnJlcGxhY2UocmUsc3Vic3QpLnNwbGl0KCcsJyk7IC8vIElmIHRoZSB1cmwgaGFzIG5vIHByb3RvY29sLCB0aGUgZGVmYXVsdCBwcm90b2NvbCBzZXQgaXMgaHR0cHMKaWYocGFydHNbMF09PT11cmwpe3BhcnRzWzBdPSdodHRwcyc7cGFydHNbMV09dXJsO312YXIgcmVzdWx0PXt0eXBlOnBhcnRzWzBdLGRvbWFpbjpwYXJ0c1sxXSxpZGVudGl0eTpwYXJ0c1syXX07cmV0dXJuIHJlc3VsdDt9IC8qKgogKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YQogKiBAcGFyYW0gIHtPYmplY3R9ICBvYmogLSBvYmplY3QgdG8gYmUgY2xvbmVkCiAqIEByZXR1cm4ge09iamVjdH0KICovZnVuY3Rpb24gZGVlcENsb25lKG9iail7IC8vVE9ETzogc2ltcGxlIGJ1dCBpbmVmZmljaWVudCBKU09OIGRlZXAgY2xvbmUuLi4KaWYob2JqKXJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO30gLyoqCiAqIEdldCB0aGUgY29uZmlndXJhdGlvbiBmcm9tIGFuIGpzb24gZmlsZTsKICogQHBhcmFtICB7SlNPTk9iamVjdH0ganNvbkZpbGUKICogQHJldHVybiB7b2JqZWN0fQogKi9mdW5jdGlvbiBnZXRDb25maWcoSlNPTk9iamVjdCl7Y29uc29sZS5sb2coJ3Byb2R1Y3Rpb24nKTtyZXR1cm4gSlNPTk9iamVjdFsncHJvZHVjdGlvbiddO30gLyoqCiAqIEdldCBXZWJSVEMgQVBJIHJlc291cmNlcwogKiBAcGFyYW0gIHtPYmplY3R9ICAgICBvcHRpb25zIE9iamVjdCBjb250YWluaW5nIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlc291cmNlcyB3aWxsIGJlIHVzZWQgKGNhbWVyYSwgbWljLCByZXNvbHV0aW9uLCBldGMpOwogKiBAcmV0dXJuIHtQcm9taXNlfQogKi9mdW5jdGlvbiBnZXRVc2VyTWVkaWEoY29uc3RyYWludHMpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24obWVkaWFTdHJlYW0pe3Jlc29sdmUobWVkaWFTdHJlYW0pO30pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7cmVqZWN0KHJlYXNvbik7fSk7fSk7fWZ1bmN0aW9uIHNlcmlhbGl6ZSgpeyQuZm4uc2VyaWFsaXplT2JqZWN0PWZ1bmN0aW9uKCl7dmFyIG89e307dmFyIGE9dGhpcy5zZXJpYWxpemVBcnJheSgpOyQuZWFjaChhLGZ1bmN0aW9uKCl7aWYob1t0aGlzLm5hbWVdIT09dW5kZWZpbmVkKXtpZighb1t0aGlzLm5hbWVdLnB1c2gpe29bdGhpcy5uYW1lXT1bb1t0aGlzLm5hbWVdXTt9b1t0aGlzLm5hbWVdLnB1c2godGhpcy52YWx1ZXx8JycpO31lbHNlIHtvW3RoaXMubmFtZV09dGhpcy52YWx1ZXx8Jyc7fX0pO3JldHVybiBvO307JC5mbi5zZXJpYWxpemVPYmplY3RBcnJheT1mdW5jdGlvbigpe3ZhciBvPXt9O3ZhciBhPXRoaXMuc2VyaWFsaXplQXJyYXkoKTskLmVhY2goYSxmdW5jdGlvbigpe2lmKG9bdGhpcy5uYW1lXSE9PXVuZGVmaW5lZCl7aWYoIW9bdGhpcy5uYW1lXS5wdXNoKXtvW3RoaXMubmFtZV09W29bdGhpcy5uYW1lXV07fW9bdGhpcy5uYW1lXS5wdXNoKHRoaXMudmFsdWV8fCcnKTt9ZWxzZSB7aWYoIW9bdGhpcy5uYW1lXSlvW3RoaXMubmFtZV09W107b1t0aGlzLm5hbWVdLnB1c2godGhpcy52YWx1ZXx8JycpO319KTtyZXR1cm4gbzt9O31mdW5jdGlvbiBnZXRUZW1wbGF0ZShwYXRoLHNjcmlwdCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtpZihIYW5kbGViYXJzLnRlbXBsYXRlcz09PXVuZGVmaW5lZHx8SGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV09PT11bmRlZmluZWQpe0hhbmRsZWJhcnMudGVtcGxhdGVzPXt9O31lbHNlIHtyZXNvbHZlKEhhbmRsZWJhcnMudGVtcGxhdGVzW25hbWVdKTt9dmFyIHRlbXBsYXRlRmlsZT0kLmFqYXgoe3VybDpwYXRoKycuaGJzJyxzdWNjZXNzOmZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSl7SGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV09SGFuZGxlYmFycy5jb21waWxlKGRhdGEpO30sZmFpbDpmdW5jdGlvbiBmYWlsKHJlYXNvbil7cmV0dXJuIHJlYXNvbjt9fSk7dmFyIHNjcmlwdEZpbGU9JC5nZXRTY3JpcHQoc2NyaXB0KTt2YXIgcmVxdWVzdHM9W107aWYocGF0aClyZXF1ZXN0cy5wdXNoKHRlbXBsYXRlRmlsZSk7aWYoc2NyaXB0KXJlcXVlc3RzLnB1c2goc2NyaXB0RmlsZSk7UHJvbWlzZS5hbGwocmVxdWVzdHMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtyZXNvbHZlKEhhbmRsZWJhcnMudGVtcGxhdGVzW25hbWVdKTt9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe3JlamVjdChyZWFzb24pO30pO30pO30KCn0se31dfSx7fSxbNl0pKDYpCn0pOw==",
      "sourceCodeClassname": "RoomUIObserver",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10008,
    "type": "Hyperties",
    "version": "0.1",
    "description": "Description of RoomUIObserver",
    "objectName": "RoomUIObserver",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "RoomUIReporter": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuRGlzY292ZXJ5PWUoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG4pe2Z1bmN0aW9uIG8ocyxjKXtpZighcltzXSl7aWYoIXRbc10pe3ZhciBhPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFjJiZhKXJldHVybiBhKHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIHU9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IHUuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsdX12YXIgZj1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciByPXRbc11bMV1bZV07cmV0dXJuIG8ocj9yOmUpfSxmLGYuZXhwb3J0cyxlLHQscixuKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxuLmxlbmd0aDtzKyspbyhuW3NdKTtyZXR1cm4gb30oezE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjd9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6OH1dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjl9XSw0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6MTB9XSw1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMCxyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LHt9XSw2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6Mn1dLDc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4obi5KU09OJiZuLkpTT04uc3RyaW5naWZ5fHxKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MTZ9XSw4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxyKX19LHsiLi4vLi4vbW9kdWxlcy8kIjozOH1dLDk6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNiwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOjYyfV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzLyQuY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo2MywiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NjQsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NjUsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6NjZ9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbihlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSx7Ii4vJC5pcy1vYmplY3QiOjMxfV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIiksbz1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLHM7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj0odD1PYmplY3QoZSkpW29dKT9yOmk/bih0KToiT2JqZWN0Ij09KHM9bih0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjpzfX0seyIuLyQuY29mIjoxNSwiLi8kLndrcyI6NTl9XSwxNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDE2OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIxLjIuNiJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYS1mdW5jdGlvbiIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixvKXtyZXR1cm4gZS5jYWxsKHQscixuLG8pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0seyIuLyQuYS1mdW5jdGlvbiI6MTF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LHt9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi8kLmZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vJC5mYWlscyI6MjJ9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKSxvPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLmlzLW9iamVjdCI6MzF9XSwyMTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuY3R4Iikscz0icHJvdG90eXBlIixjPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYSx1LGYsbD1lJmMuRixkPWUmYy5HLHA9ZSZjLlMsdj1lJmMuUCwkPWUmYy5CLHk9ZSZjLlcsaD1kP286b1t0XXx8KG9bdF09e30pLGI9ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihhIGluIHIpdT0hbCYmYiYmYSBpbiBiLHUmJmEgaW4gaHx8KGY9dT9iW2FdOnJbYV0saFthXT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgYlthXT9yW2FdOiQmJnU/aShmLG4pOnkmJmJbYV09PWY/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlP25ldyBlKHQpOmUodCl9O3JldHVybiB0W3NdPWVbc10sdH0oZik6diYmImZ1bmN0aW9uIj09dHlwZW9mIGY/aShGdW5jdGlvbi5jYWxsLGYpOmYsdiYmKChoW3NdfHwoaFtzXT17fSkpW2FdPWYpKX07Yy5GPTEsYy5HPTIsYy5TPTQsYy5QPTgsYy5CPTE2LGMuVz0zMix0LmV4cG9ydHM9Y30seyIuLyQuY29yZSI6MTYsIi4vJC5jdHgiOjE3LCIuLyQuZ2xvYmFsIjoyNH1dLDIyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY3R4Iiksbz1lKCIuLyQuaXRlci1jYWxsIiksaT1lKCIuLyQuaXMtYXJyYXktaXRlciIpLHM9ZSgiLi8kLmFuLW9iamVjdCIpLGM9ZSgiLi8kLnRvLWxlbmd0aCIpLGE9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dmFyIGYsbCxkLHA9YShlKSx2PW4ocix1LHQ/MjoxKSwkPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHApdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShwKSlmb3IoZj1jKGUubGVuZ3RoKTtmPiQ7JCsrKXQ/dihzKGw9ZVskXSlbMF0sbFsxXSk6dihlWyRdKTtlbHNlIGZvcihkPXAuY2FsbChlKTshKGw9ZC5uZXh0KCkpLmRvbmU7KW8oZCx2LGwudmFsdWUsdCl9fSx7Ii4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY3R4IjoxNywiLi8kLmlzLWFycmF5LWl0ZXIiOjMwLCIuLyQuaXRlci1jYWxsIjozMiwiLi8kLnRvLWxlbmd0aCI6NTYsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo2MH1dLDI0OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sMjY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vJC5kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuLyQiOjM4LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQucHJvcGVydHktZGVzYyI6NDJ9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuLyQuZ2xvYmFsIjoyNH1dLDI4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi8kLmNvZiI6MTV9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi8kLndrcyI6NTl9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3RyeXtyZXR1cm4gbz90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZuKHMuY2FsbChlKSksaX19fSx7Ii4vJC5hbi1vYmplY3QiOjEzfV0sMzM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpLGk9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuLyQuaGlkZSIpKHMsZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4uY3JlYXRlKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuLyQiOjM4LCIuLyQuaGlkZSI6MjYsIi4vJC5wcm9wZXJ0eS1kZXNjIjo0MiwiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLndrcyI6NTl9XSwzNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQubGlicmFyeSIpLG89ZSgiLi8kLmV4cG9ydCIpLGk9ZSgiLi8kLnJlZGVmaW5lIikscz1lKCIuLyQuaGlkZSIpLGM9ZSgiLi8kLmhhcyIpLGE9ZSgiLi8kLml0ZXJhdG9ycyIpLHU9ZSgiLi8kLml0ZXItY3JlYXRlIiksZj1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxsPWUoIi4vJCIpLmdldFByb3RvLGQ9ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksdj0iQEBpdGVyYXRvciIsJD0ia2V5cyIseT0idmFsdWVzIixoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixiLG0sZyx4KXt1KHIsdCxiKTt2YXIgaix3LF89ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gVSlyZXR1cm4gVVtlXTtzd2l0Y2goZSl7Y2FzZSAkOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIHk6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0saz10KyIgSXRlcmF0b3IiLE89bT09eSxNPSExLFU9ZS5wcm90b3R5cGUsUD1VW2RdfHxVW3ZdfHxtJiZVW21dLFM9UHx8XyhtKTtpZihQKXt2YXIgRT1sKFMuY2FsbChuZXcgZSkpO2YoRSxrLCEwKSwhbiYmYyhVLHYpJiZzKEUsZCxoKSxPJiZQLm5hbWUhPT15JiYoTT0hMCxTPWZ1bmN0aW9uKCl7cmV0dXJuIFAuY2FsbCh0aGlzKX0pfWlmKG4mJiF4fHwhcCYmIU0mJlVbZF18fHMoVSxkLFMpLGFbdF09UyxhW2tdPWgsbSlpZihqPXt2YWx1ZXM6Tz9TOl8oeSksa2V5czpnP1M6XygkKSxlbnRyaWVzOk8/XygiZW50cmllcyIpOlN9LHgpZm9yKHcgaW4gail3IGluIFV8fGkoVSx3LGpbd10pO2Vsc2UgbyhvLlArby5GKihwfHxNKSx0LGopO3JldHVybiBqfX0seyIuLyQiOjM4LCIuLyQuZXhwb3J0IjoyMSwiLi8kLmhhcyI6MjUsIi4vJC5oaWRlIjoyNiwiLi8kLml0ZXItY3JlYXRlIjozMywiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC5saWJyYXJ5IjozOSwiLi8kLnJlZGVmaW5lIjo0NCwiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLndrcyI6NTl9XSwzNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cj0hMH0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGMpe31yZXR1cm4gcn19LHsiLi8kLndrcyI6NTl9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDM4OltmdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0O3QuZXhwb3J0cz17Y3JlYXRlOm4uY3JlYXRlLGdldFByb3RvOm4uZ2V0UHJvdG90eXBlT2YsaXNFbnVtOnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGdldERlc2M6bi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isc2V0RGVzYzpuLmRlZmluZVByb3BlcnR5LHNldERlc2NzOm4uZGVmaW5lUHJvcGVydGllcyxnZXRLZXlzOm4ua2V5cyxnZXROYW1lczpuLmdldE93blByb3BlcnR5TmFtZXMsZ2V0U3ltYm9sczpuLmdldE93blByb3BlcnR5U3ltYm9scyxlYWNoOltdLmZvckVhY2h9fSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5nbG9iYWwiKSxjPWUoIi4vJC50YXNrIikuc2V0LGE9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsdT1zLnByb2Nlc3MsZj1zLlByb21pc2UsbD0icHJvY2VzcyI9PWUoIi4vJC5jb2YiKSh1KSxkPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO2ZvcihsJiYoZT11LmRvbWFpbikmJih1LmRvbWFpbj1udWxsLGUuZXhpdCgpKTtuOyl0PW4uZG9tYWluLHI9bi5mbix0JiZ0LmVudGVyKCkscigpLHQmJnQuZXhpdCgpLG49bi5uZXh0O289dm9pZCAwLGUmJmUuZW50ZXIoKX07aWYobClpPWZ1bmN0aW9uKCl7dS5uZXh0VGljayhkKX07ZWxzZSBpZihhKXt2YXIgcD0xLHY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBhKGQpLm9ic2VydmUodix7Y2hhcmFjdGVyRGF0YTohMH0pLGk9ZnVuY3Rpb24oKXt2LmRhdGE9cD0tcH19ZWxzZSBpPWYmJmYucmVzb2x2ZT9mdW5jdGlvbigpe2YucmVzb2x2ZSgpLnRoZW4oZCl9OmZ1bmN0aW9uKCl7Yy5jYWxsKHMsZCl9O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMCxkb21haW46bCYmdS5kb21haW59O28mJihvLm5leHQ9dCksbnx8KG49dCxpKCkpLG89dH19LHsiLi8kLmNvZiI6MTUsIi4vJC5nbG9iYWwiOjI0LCIuLyQudGFzayI6NTN9XSw0MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuLyQuY29yZSI6MTYsIi4vJC5leHBvcnQiOjIxLCIuLyQuZmFpbHMiOjIyfV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQucmVkZWZpbmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCluKGUscix0W3JdKTtyZXR1cm4gZX19LHsiLi8kLnJlZGVmaW5lIjo0NH1dLDQ0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5oaWRlIil9LHsiLi8kLmhpZGUiOjI2fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9T2JqZWN0LmlzfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OmUhPWUmJnQhPXR9fSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5nZXREZXNjLG89ZSgiLi8kLmlzLW9iamVjdCIpLGk9ZSgiLi8kLmFuLW9iamVjdCIpLHM9ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vJC5jdHgiKShGdW5jdGlvbi5jYWxsLG4oT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG8odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goaSl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhlLHQpLHI/ZS5fX3Byb3RvX189dDpvKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOnN9fSx7Ii4vJCI6MzgsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY3R4IjoxNywiLi8kLmlzLW9iamVjdCI6MzF9XSw0NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuY29yZSIpLG89ZSgiLi8kIiksaT1lKCIuLyQuZGVzY3JpcHRvcnMiKSxzPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W3NdJiZvLnNldERlc2ModCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vJCI6MzgsIi4vJC5jb3JlIjoxNiwiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLndrcyI6NTl9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLnNldERlc2Msbz1lKCIuLyQuaGFzIiksaT1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vJCI6MzgsIi4vJC5oYXMiOjI1LCIuLyQud2tzIjo1OX1dLDQ5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vJC5nbG9iYWwiOjI0fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iiksbz1lKCIuLyQuYS1mdW5jdGlvbiIpLGk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbaV0pP3Q6byhyKX19LHsiLi8kLmEtZnVuY3Rpb24iOjExLCIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLndrcyI6NTl9XSw1MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKHIrIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciEiKTtyZXR1cm4gZX19LHt9XSw1MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGM9U3RyaW5nKG8odCkpLGE9bihyKSx1PWMubGVuZ3RoO3JldHVybiAwPmF8fGE+PXU/ZT8iIjp2b2lkIDA6KGk9Yy5jaGFyQ29kZUF0KGEpLDU1Mjk2Pml8fGk+NTYzMTl8fGErMT09PXV8fChzPWMuY2hhckNvZGVBdChhKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2MuY2hhckF0KGEpOmk6ZT9jLnNsaWNlKGEsYSsyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuLyQuZGVmaW5lZCI6MTgsIi4vJC50by1pbnRlZ2VyIjo1NH1dLDUzOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmN0eCIpLGM9ZSgiLi8kLmludm9rZSIpLGE9ZSgiLi8kLmh0bWwiKSx1PWUoIi4vJC5kb20tY3JlYXRlIiksZj1lKCIuLyQuZ2xvYmFsIiksbD1mLnByb2Nlc3MsZD1mLnNldEltbWVkaWF0ZSxwPWYuY2xlYXJJbW1lZGlhdGUsdj1mLk1lc3NhZ2VDaGFubmVsLCQ9MCx5PXt9LGg9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsYj1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKHkuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PXlbZV07ZGVsZXRlIHlbZV0sdCgpfX0sbT1mdW5jdGlvbihlKXtiLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIHlbKyskXT1mdW5jdGlvbigpe2MoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbigkKSwkfSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSB5W2VdfSwicHJvY2VzcyI9PWUoIi4vJC5jb2YiKShsKT9uPWZ1bmN0aW9uKGUpe2wubmV4dFRpY2socyhiLGUsMSkpfTp2PyhvPW5ldyB2LGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2YucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPWggaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7YS5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbaF09ZnVuY3Rpb24oKXthLnJlbW92ZUNoaWxkKHRoaXMpLGIuY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhiLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vJC5jb2YiOjE1LCIuLyQuY3R4IjoxNywiLi8kLmRvbS1jcmVhdGUiOjIwLCIuLyQuZ2xvYmFsIjoyNCwiLi8kLmh0bWwiOjI3LCIuLyQuaW52b2tlIjoyOH1dLDU0OltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDU1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlvYmplY3QiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuLyQuZGVmaW5lZCI6MTgsIi4vJC5pb2JqZWN0IjoyOX1dLDU2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuLyQudG8taW50ZWdlciI6NTR9XSw1NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOH1dLDU4OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDU5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnNoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vJC51aWQiKSxpPWUoIi4vJC5nbG9iYWwiKS5TeW1ib2w7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1pJiZpW2VdfHwoaXx8bykoIlN5bWJvbC4iK2UpKX19LHsiLi8kLmdsb2JhbCI6MjQsIi4vJC5zaGFyZWQiOjQ5LCIuLyQudWlkIjo1OH1dLDYwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNsYXNzb2YiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi8kLmNvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vJC5jbGFzc29mIjoxNCwiLi8kLmNvcmUiOjE2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLndrcyI6NTl9XSw2MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuLyQuaXRlci1zdGVwIiksaT1lKCIuLyQuaXRlcmF0b3JzIikscz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuLyQuaXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vJC5hZGQtdG8tdW5zY29wYWJsZXMiOjEyLCIuLyQuaXRlci1kZWZpbmUiOjM0LCIuLyQuaXRlci1zdGVwIjozNiwiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC50by1pb2JqZWN0Ijo1NX1dLDYyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZShuKHQpKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NDEsIi4vJC50by1vYmplY3QiOjU3fV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw2NDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvPWUoIi4vJCIpLGk9ZSgiLi8kLmxpYnJhcnkiKSxzPWUoIi4vJC5nbG9iYWwiKSxjPWUoIi4vJC5jdHgiKSxhPWUoIi4vJC5jbGFzc29mIiksdT1lKCIuLyQuZXhwb3J0IiksZj1lKCIuLyQuaXMtb2JqZWN0IiksbD1lKCIuLyQuYW4tb2JqZWN0IiksZD1lKCIuLyQuYS1mdW5jdGlvbiIpLHA9ZSgiLi8kLnN0cmljdC1uZXciKSx2PWUoIi4vJC5mb3Itb2YiKSwkPWUoIi4vJC5zZXQtcHJvdG8iKS5zZXQseT1lKCIuLyQuc2FtZS12YWx1ZSIpLGg9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIiksYj1lKCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciIpLG09ZSgiLi8kLm1pY3JvdGFzayIpLGc9IlByb21pc2UiLHg9cy5wcm9jZXNzLGo9InByb2Nlc3MiPT1hKHgpLHc9c1tnXSxfPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB3KGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGUmJih0LmNvbnN0cnVjdG9yPU9iamVjdCksdy5yZXNvbHZlKHQpPT09dH0saz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9bmV3IHcoZSk7cmV0dXJuICQocix0LnByb3RvdHlwZSkscn12YXIgcj0hMTt0cnl7aWYocj13JiZ3LnJlc29sdmUmJl8oKSwkKHQsdyksdC5wcm90b3R5cGU9by5jcmVhdGUody5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0fX0pLHQucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCl7fSlpbnN0YW5jZW9mIHR8fChyPSExKSxyJiZlKCIuLyQuZGVzY3JpcHRvcnMiKSl7dmFyIG49ITE7dy5yZXNvbHZlKG8uc2V0RGVzYyh7fSwidGhlbiIse2dldDpmdW5jdGlvbigpe249ITB9fSkpLHI9bn19Y2F0Y2goaSl7cj0hMX1yZXR1cm4gcn0oKSxPPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkmJmU9PT13JiZ0PT09bj8hMDp5KGUsdCl9LE09ZnVuY3Rpb24oZSl7dmFyIHQ9bChlKVtoXTtyZXR1cm4gdm9pZCAwIT10P3Q6ZX0sVT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZihlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxQPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFM9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxFPWZ1bmN0aW9uKGUsdCl7aWYoIWUubil7ZS5uPSEwO3ZhciByPWUuYzttKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUudixvPTE9PWUucyxpPTAsYz1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxjPXQucmVzb2x2ZSxhPXQucmVqZWN0O3RyeXtzPyhvfHwoZS5oPSEwKSxyPXM9PT0hMD9uOnMobikscj09PXQucHJvbWlzZT9hKFR5cGVFcnJvcigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1VKHIpKT9pLmNhbGwocixjLGEpOmMocikpOmEobil9Y2F0Y2godSl7YSh1KX19O3IubGVuZ3RoPmk7KWMocltpKytdKTtyLmxlbmd0aD0wLGUubj0hMSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQscixvPWUucDtMKG8pJiYoaj94LmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbixvKToodD1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT90KHtwcm9taXNlOm8scmVhc29uOm59KToocj1zLmNvbnNvbGUpJiZyLmVycm9yJiZyLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG4pKSxlLmE9dm9pZCAwfSwxKX0pfX0sTD1mdW5jdGlvbihlKXt2YXIgdCxyPWUuX2Qsbj1yLmF8fHIuYyxvPTA7aWYoci5oKXJldHVybiExO2Zvcig7bi5sZW5ndGg+bzspaWYodD1uW28rK10sdC5mYWlsfHwhTCh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxSPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5kfHwodC5kPSEwLHQ9dC5yfHx0LHQudj1lLHQucz0yLHQuYT10LmMuc2xpY2UoKSxFKHQsITApKX0sVD1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuZCl7ci5kPSEwLHI9ci5yfHxyO3RyeXtpZihyLnA9PT1lKXRocm93IFR5cGVFcnJvcigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1VKGUpKT9tKGZ1bmN0aW9uKCl7dmFyIG49e3I6cixkOiExfTt0cnl7dC5jYWxsKGUsYyhULG4sMSksYyhSLG4sMSkpfWNhdGNoKG8pe1IuY2FsbChuLG8pfX0pOihyLnY9ZSxyLnM9MSxFKHIsITEpKX1jYXRjaChuKXtSLmNhbGwoe3I6cixkOiExfSxuKX19fTtrfHwodz1mdW5jdGlvbihlKXtkKGUpO3ZhciB0PXRoaXMuX2Q9e3A6cCh0aGlzLHcsZyksYzpbXSxhOnZvaWQgMCxzOjAsZDohMSx2OnZvaWQgMCxoOiExLG46ITF9O3RyeXtlKGMoVCx0LDEpLGMoUix0LDEpKX1jYXRjaChyKXtSLmNhbGwodCxyKX19LGUoIi4vJC5yZWRlZmluZS1hbGwiKSh3LnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBQKGIodGhpcyx3KSksbj1yLnByb21pc2Usbz10aGlzLl9kO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LG8uYy5wdXNoKHIpLG8uYSYmby5hLnB1c2gociksby5zJiZFKG8sITEpLG59LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSkpLHUodS5HK3UuVyt1LkYqIWsse1Byb21pc2U6d30pLGUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpKHcsZyksZSgiLi8kLnNldC1zcGVjaWVzIikoZyksbj1lKCIuLyQuY29yZSIpW2ddLHUodS5TK3UuRiohayxnLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFAodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKigha3x8XyghMCkpLGcse3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHcmJk8oZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1uZXcgUCh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKiEoayYmZSgiLi8kLml0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7dy5hbGwoZSlbImNhdGNoIl0oZnVuY3Rpb24oKXt9KX0pKSxnLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9TSh0aGlzKSxyPW5ldyBQKHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qscz1bXSxjPVMoZnVuY3Rpb24oKXt2KGUsITEscy5wdXNoLHMpO3ZhciByPXMubGVuZ3RoLGM9QXJyYXkocik7cj9vLmVhY2guY2FsbChzLGZ1bmN0aW9uKGUsbyl7dmFyIHM9ITE7dC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7c3x8KHM9ITAsY1tvXT1lLC0tcnx8bihjKSl9LGkpfSk6bihjKX0pO3JldHVybiBjJiZpKGMuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IFAodCksbj1yLnJlamVjdCxvPVMoZnVuY3Rpb24oKXt2KGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi8kIjozOCwiLi8kLmEtZnVuY3Rpb24iOjExLCIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5jdHgiOjE3LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQuZXhwb3J0IjoyMSwiLi8kLmZvci1vZiI6MjMsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMSwiLi8kLml0ZXItZGV0ZWN0IjozNSwiLi8kLmxpYnJhcnkiOjM5LCIuLyQubWljcm90YXNrIjo0MCwiLi8kLnJlZGVmaW5lLWFsbCI6NDMsIi4vJC5zYW1lLXZhbHVlIjo0NSwiLi8kLnNldC1wcm90byI6NDYsIi4vJC5zZXQtc3BlY2llcyI6NDcsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIjo1MCwiLi8kLnN0cmljdC1uZXciOjUxLCIuLyQud2tzIjo1OX1dLDY1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5zdHJpbmctYXQiKSghMCk7ZSgiLi8kLml0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuLyQuaXRlci1kZWZpbmUiOjM0LCIuLyQuc3RyaW5nLWF0Ijo1Mn1dLDY2OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIik7bi5Ob2RlTGlzdD1uLkhUTUxDb2xsZWN0aW9uPW4uQXJyYXl9LHsiLi8kLml0ZXJhdG9ycyI6MzcsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo2MX1dLDY3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGEpLGY9ZSgiLi4vdXRpbHMvdXRpbHMiKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgbj10aGlzO24ubWVzc2FnZUJ1cz1yLG4uZG9tYWluPSgwLGYuZGl2aWRlVVJMKSh0KS5kb21haW4sbi5kaXNjb3ZlcnlVUkw9dH1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6ImRpc2NvdmVyRGF0YU9iamVjdFBlclVSTCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOmUsc2VhcmNoOiJkYXRhT2JqZWN0UGVyVVJMIn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlO24/ZShuKTp0KCJEYXRhT2JqZWN0IG5vdCBmb3VuZCIpfSl9KX19LHtrZXk6ImRlbGV0ZURhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToiZGVsZXRlIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3ZhbHVlOntuYW1lOmV9fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkuY29kZTsyMDA9PT1uP2Uobik6dCgiRXJyb3Igb24gZGVsZXRpbmcgZGF0YU9iamVjdCIpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdFBlclJlcG9ydGVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6ZSxzZWFyY2g6ImRhdGFPYmplY3RQZXJSZXBvcnRlciJ9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZTtuP2Uobik6dCgiTm8gZGF0YU9iamVjdCB3YXMgZm91bmQiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXRoaXMscz12b2lkIDAsYz0oMCxmLmNvbnZlcnRUb1VzZXJVUkwpKGUpO3M9bj9uOm8uZG9tYWluO3ZhciBhPXt0eXBlOiJyZWFkIixmcm9tOm8uZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3MrIi8iLGJvZHk6e3Jlc291cmNlOnt1c2VyOmMscmVzb3VyY2VzOnIsZGF0YVNjaGVtZXM6dH0sc2VhcmNoOiJoeXBlcnR5UmVzb3VyY2VzRGF0YVNjaGVtZXMifX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtvLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYSxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIk5vIEh5cGVydHkgd2FzIGZvdW5kIil9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnR5UGVyVXNlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPSJ1c2VyOi8vIitlLnN1YnN0cmluZyhlLmluZGV4T2YoIkAiKSsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIkAiKSkscz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTpvLHNlYXJjaDoiSHlwZXJ0eVBlclVzZXIifX07cmV0dXJuIGNvbnNvbGUubG9nKCJNZXNzYWdlOiAiLHMsbixvKSxuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsbil7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7Y29uc29sZS5sb2coIm1lc3NhZ2UgcmVwbHkiLHIpO3ZhciBvPXZvaWQgMCxpPXZvaWQgMCxzPXZvaWQgMCxjPXIuYm9keS52YWx1ZTtmb3IobyBpbiBjKWlmKHZvaWQgMCE9PWNbb10ubGFzdE1vZGlmaWVkKWlmKHZvaWQgMD09PWkpaT1uZXcgRGF0ZShjW29dLmxhc3RNb2RpZmllZCkscz1vO2Vsc2V7dmFyIGE9bmV3IERhdGUoY1tvXS5sYXN0TW9kaWZpZWQpO2kuZ2V0VGltZSgpPGEuZ2V0VGltZSgpJiYoaT1hLHM9byl9Y29uc29sZS5sb2coIkxhc3QgSHlwZXJ0eTogIixzLGkpO3ZhciB1PXM7aWYodm9pZCAwPT09dSlyZXR1cm4gbigiVXNlciBIeXBlcnR5IG5vdCBmb3VuZCIpO3ZhciBmPXtpZDplLGRlc2NyaXB0b3I6Y1t1XS5kZXNjcmlwdG9yLGh5cGVydHlVUkw6dX07Y29uc29sZS5sb2coIj09PT4gaHlwZXJ0eURpc2NvdmVyeSBtZXNzYWdlQnVuZGxlOiAiLGYpLHQoZil9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxzPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm8sc2VhcmNoOiJIeXBlcnR5UGVyVXNlciJ9fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2UgZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyOiAiLHMsbixvKSxuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7Y29uc29sZS5sb2coImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlciByZXBseSIscik7dmFyIG49ci5ib2R5LnZhbHVlO3JldHVybiBuP3ZvaWQgZShuKTp0KCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIil9KX0pfX0se2tleToiZGVsZXRlSHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsbz12b2lkIDA7bz1yP3I6bi5kb21haW47dmFyIHM9e3R5cGU6ImRlbGV0ZSIsZnJvbTpuLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIitvKyIvIixib2R5Ont2YWx1ZTp7dXNlcjplLGh5cGVydHlVUkw6dH19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe24ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlO24/ZSgiSHlwZXJ0eSBzdWNjZXNzZnVsbHkgZGVsZXRlZCIpOnQoIkVycm9yIG9uIGRlbGV0aW5nIGh5cGVydHkiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6NjgsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDY4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLHZbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGEoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBsPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihsKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLHY9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9YSxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbNjddKSg2Nyl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LklkZW50aXR5TWFuYWdlcj1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKHMsYyl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgdT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYyYmdSlyZXR1cm4gdShzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciBhPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyBhLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGF9dmFyIGY9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sZixmLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5Ijo3fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjo5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjEwfV0sNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjJ9XSw3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuKG4uSlNPTiYmbi5KU09OLnN0cmluZ2lmeXx8SlNPTi5zdHJpbmdpZnkpLmFwcGx5KEpTT04sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2fV0sODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQscil9fSx7Ii4uLy4uL21vZHVsZXMvJCI6Mzh9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjo2Mn1dLDEwOltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy8kLmNvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvJC5jb3JlIjoxNiwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6NjMsIi4uL21vZHVsZXMvZXM2LnByb21pc2UiOjY0LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjY1LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjY2fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwxMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LHt9XSwxMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuLyQuaXMtb2JqZWN0IjozMX1dLDE0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpLG89ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixzO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9KHQ9T2JqZWN0KGUpKVtvXSk/cjppP24odCk6Ik9iamVjdCI9PShzPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6c319LHsiLi8kLmNvZiI6MTUsIi4vJC53a3MiOjU5fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LHt9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMS4yLjYifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0se31dLDE3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmEtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi8kLmEtZnVuY3Rpb24iOjExfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vJC5mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuLyQuZmFpbHMiOjIyfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iiksbz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LHsiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmN0eCIpLHM9InByb3RvdHlwZSIsYz1mdW5jdGlvbihlLHQscil7dmFyIHUsYSxmLGw9ZSZjLkYscD1lJmMuRyxkPWUmYy5TLCQ9ZSZjLlAsdj1lJmMuQixoPWUmYy5XLHk9cD9vOm9bdF18fChvW3RdPXt9KSxiPXA/bjpkP25bdF06KG5bdF18fHt9KVtzXTtwJiYocj10KTtmb3IodSBpbiByKWE9IWwmJmImJnUgaW4gYixhJiZ1IGluIHl8fChmPWE/Ylt1XTpyW3VdLHlbdV09cCYmImZ1bmN0aW9uIiE9dHlwZW9mIGJbdV0/clt1XTp2JiZhP2koZixuKTpoJiZiW3VdPT1mP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZT9uZXcgZSh0KTplKHQpfTtyZXR1cm4gdFtzXT1lW3NdLHR9KGYpOiQmJiJmdW5jdGlvbiI9PXR5cGVvZiBmP2koRnVuY3Rpb24uY2FsbCxmKTpmLCQmJigoeVtzXXx8KHlbc109e30pKVt1XT1mKSl9O2MuRj0xLGMuRz0yLGMuUz00LGMuUD04LGMuQj0xNixjLlc9MzIsdC5leHBvcnRzPWN9LHsiLi8kLmNvcmUiOjE2LCIuLyQuY3R4IjoxNywiLi8kLmdsb2JhbCI6MjR9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDIzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmN0eCIpLG89ZSgiLi8kLml0ZXItY2FsbCIpLGk9ZSgiLi8kLmlzLWFycmF5LWl0ZXIiKSxzPWUoIi4vJC5hbi1vYmplY3QiKSxjPWUoIi4vJC50by1sZW5ndGgiKSx1PWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBmLGwscCxkPXUoZSksJD1uKHIsYSx0PzI6MSksdj0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBkKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkoZCkpZm9yKGY9YyhlLmxlbmd0aCk7Zj52O3YrKyl0PyQocyhsPWVbdl0pWzBdLGxbMV0pOiQoZVt2XSk7ZWxzZSBmb3IocD1kLmNhbGwoZSk7IShsPXAubmV4dCgpKS5kb25lOylvKHAsJCxsLnZhbHVlLHQpfX0seyIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmN0eCI6MTcsIi4vJC5pcy1hcnJheS1pdGVyIjozMCwiLi8kLml0ZXItY2FsbCI6MzIsIi4vJC50by1sZW5ndGgiOjU2LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NjB9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuLyQuZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQsbygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi8kIjozOCwiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLnByb3BlcnR5LWRlc2MiOjQyfV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi8kLmdsb2JhbCI6MjR9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vJC5jb2YiOjE1fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC53a3MiOjU5fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuLyQuYW4tb2JqZWN0IjoxM31dLDMzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxpPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi8kLmhpZGUiKShzLGUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uLmNyZWF0ZShzLHtuZXh0Om8oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi8kIjozOCwiLi8kLmhpZGUiOjI2LCIuLyQucHJvcGVydHktZGVzYyI6NDIsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC53a3MiOjU5fV0sMzQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmxpYnJhcnkiKSxvPWUoIi4vJC5leHBvcnQiKSxpPWUoIi4vJC5yZWRlZmluZSIpLHM9ZSgiLi8kLmhpZGUiKSxjPWUoIi4vJC5oYXMiKSx1PWUoIi4vJC5pdGVyYXRvcnMiKSxhPWUoIi4vJC5pdGVyLWNyZWF0ZSIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksbD1lKCIuLyQiKS5nZXRQcm90byxwPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxkPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLCQ9IkBAaXRlcmF0b3IiLHY9ImtleXMiLGg9InZhbHVlcyIseT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsYixtLGcseCl7YShyLHQsYik7dmFyIGosdyxfPWZ1bmN0aW9uKGUpe2lmKCFkJiZlIGluIFMpcmV0dXJuIFNbZV07c3dpdGNoKGUpe2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LGs9dCsiIEl0ZXJhdG9yIixPPW09PWgsTT0hMSxTPWUucHJvdG90eXBlLEU9U1twXXx8U1skXXx8bSYmU1ttXSxQPUV8fF8obSk7aWYoRSl7dmFyIFQ9bChQLmNhbGwobmV3IGUpKTtmKFQsaywhMCksIW4mJmMoUywkKSYmcyhULHAseSksTyYmRS5uYW1lIT09aCYmKE09ITAsUD1mdW5jdGlvbigpe3JldHVybiBFLmNhbGwodGhpcyl9KX1pZihuJiYheHx8IWQmJiFNJiZTW3BdfHxzKFMscCxQKSx1W3RdPVAsdVtrXT15LG0paWYoaj17dmFsdWVzOk8/UDpfKGgpLGtleXM6Zz9QOl8odiksZW50cmllczpPP18oImVudHJpZXMiKTpQfSx4KWZvcih3IGluIGopdyBpbiBTfHxpKFMsdyxqW3ddKTtlbHNlIG8oby5QK28uRiooZHx8TSksdCxqKTtyZXR1cm4gan19LHsiLi8kIjozOCwiLi8kLmV4cG9ydCI6MjEsIi4vJC5oYXMiOjI1LCIuLyQuaGlkZSI6MjYsIi4vJC5pdGVyLWNyZWF0ZSI6MzMsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQubGlicmFyeSI6MzksIi4vJC5yZWRlZmluZSI6NDQsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC53a3MiOjU5fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3I9ITB9LGlbbl09ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChjKXt9cmV0dXJuIHJ9fSx7Ii4vJC53a3MiOjU5fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU9iamVjdDt0LmV4cG9ydHM9e2NyZWF0ZTpuLmNyZWF0ZSxnZXRQcm90bzpuLmdldFByb3RvdHlwZU9mLGlzRW51bTp7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxnZXREZXNjOm4uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHNldERlc2M6bi5kZWZpbmVQcm9wZXJ0eSxzZXREZXNjczpuLmRlZmluZVByb3BlcnRpZXMsZ2V0S2V5czpuLmtleXMsZ2V0TmFtZXM6bi5nZXRPd25Qcm9wZXJ0eU5hbWVzLGdldFN5bWJvbHM6bi5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZWFjaDpbXS5mb3JFYWNofX0se31dLDM5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuZ2xvYmFsIiksYz1lKCIuLyQudGFzayIpLnNldCx1PXMuTXV0YXRpb25PYnNlcnZlcnx8cy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLGE9cy5wcm9jZXNzLGY9cy5Qcm9taXNlLGw9InByb2Nlc3MiPT1lKCIuLyQuY29mIikoYSkscD1mdW5jdGlvbigpe3ZhciBlLHQscjtmb3IobCYmKGU9YS5kb21haW4pJiYoYS5kb21haW49bnVsbCxlLmV4aXQoKSk7bjspdD1uLmRvbWFpbixyPW4uZm4sdCYmdC5lbnRlcigpLHIoKSx0JiZ0LmV4aXQoKSxuPW4ubmV4dDtvPXZvaWQgMCxlJiZlLmVudGVyKCl9O2lmKGwpaT1mdW5jdGlvbigpe2EubmV4dFRpY2socCl9O2Vsc2UgaWYodSl7dmFyIGQ9MSwkPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgdShwKS5vYnNlcnZlKCQse2NoYXJhY3RlckRhdGE6ITB9KSxpPWZ1bmN0aW9uKCl7JC5kYXRhPWQ9LWR9fWVsc2UgaT1mJiZmLnJlc29sdmU/ZnVuY3Rpb24oKXtmLnJlc29sdmUoKS50aGVuKHApfTpmdW5jdGlvbigpe2MuY2FsbChzLHApfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e2ZuOmUsbmV4dDp2b2lkIDAsZG9tYWluOmwmJmEuZG9tYWlufTtvJiYoby5uZXh0PXQpLG58fChuPXQsaSgpKSxvPXR9fSx7Ii4vJC5jb2YiOjE1LCIuLyQuZ2xvYmFsIjoyNCwiLi8kLnRhc2siOjUzfV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi8kLmNvcmUiOjE2LCIuLyQuZXhwb3J0IjoyMSwiLi8kLmZhaWxzIjoyMn1dLDQyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnJlZGVmaW5lIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpbihlLHIsdFtyXSk7cmV0dXJuIGV9fSx7Ii4vJC5yZWRlZmluZSI6NDR9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuaGlkZSIpfSx7Ii4vJC5oaWRlIjoyNn1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPU9iamVjdC5pc3x8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09PTEvdDplIT1lJiZ0IT10fX0se31dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuZ2V0RGVzYyxvPWUoIi4vJC5pcy1vYmplY3QiKSxpPWUoIi4vJC5hbi1vYmplY3QiKSxzPWZ1bmN0aW9uKGUsdCl7aWYoaShlKSwhbyh0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixvKXt0cnl7bz1lKCIuLyQuY3R4IikoRnVuY3Rpb24uY2FsbCxuKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGkpe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpzfX0seyIuLyQiOjM4LCIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmN0eCI6MTcsIi4vJC5pcy1vYmplY3QiOjMxfV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmNvcmUiKSxvPWUoIi4vJCIpLGk9ZSgiLi8kLmRlc2NyaXB0b3JzIikscz1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtpJiZ0JiYhdFtzXSYmby5zZXREZXNjKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuLyQiOjM4LCIuLyQuY29yZSI6MTYsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC53a3MiOjU5fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5zZXREZXNjLG89ZSgiLi8kLmhhcyIpLGk9ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuLyQiOjM4LCIuLyQuaGFzIjoyNSwiLi8kLndrcyI6NTl9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPSJfX2NvcmUtanNfc2hhcmVkX18iLGk9bltvXXx8KG5bb109e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0seyIuLyQuZ2xvYmFsIjoyNH1dLDUwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpLG89ZSgiLi8kLmEtZnVuY3Rpb24iKSxpPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMSwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC53a3MiOjU5fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcihyKyI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhIik7cmV0dXJuIGV9fSx7fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGkscyxjPVN0cmluZyhvKHQpKSx1PW4ociksYT1jLmxlbmd0aDtyZXR1cm4gMD51fHx1Pj1hP2U/IiI6dm9pZCAwOihpPWMuY2hhckNvZGVBdCh1KSw1NTI5Nj5pfHxpPjU2MzE5fHx1KzE9PT1hfHwocz1jLmNoYXJDb2RlQXQodSsxKSk8NTYzMjB8fHM+NTczNDM/ZT9jLmNoYXJBdCh1KTppOmU/Yy5zbGljZSh1LHUrMik6KGktNTUyOTY8PDEwKSsocy01NjMyMCkrNjU1MzYpfX19LHsiLi8kLmRlZmluZWQiOjE4LCIuLyQudG8taW50ZWdlciI6NTR9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5pbnZva2UiKSx1PWUoIi4vJC5odG1sIiksYT1lKCIuLyQuZG9tLWNyZWF0ZSIpLGY9ZSgiLi8kLmdsb2JhbCIpLGw9Zi5wcm9jZXNzLHA9Zi5zZXRJbW1lZGlhdGUsZD1mLmNsZWFySW1tZWRpYXRlLCQ9Zi5NZXNzYWdlQ2hhbm5lbCx2PTAsaD17fSx5PSJvbnJlYWR5c3RhdGVjaGFuZ2UiLGI9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZihoLmhhc093blByb3BlcnR5KGUpKXt2YXIgdD1oW2VdO2RlbGV0ZSBoW2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7Yi5jYWxsKGUuZGF0YSl9O3AmJmR8fChwPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiBoWysrdl09ZnVuY3Rpb24oKXtjKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4odiksdn0sZD1mdW5jdGlvbihlKXtkZWxldGUgaFtlXX0sInByb2Nlc3MiPT1lKCIuLyQuY29mIikobCk/bj1mdW5jdGlvbihlKXtsLm5leHRUaWNrKHMoYixlLDEpKX06JD8obz1uZXcgJCxpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpmLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWYuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtmLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj15IGluIGEoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe3UuYXBwZW5kQ2hpbGQoYSgic2NyaXB0IikpW3ldPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHMoYixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6cCxjbGVhcjpkfX0seyIuLyQuY29mIjoxNSwiLi8kLmN0eCI6MTcsIi4vJC5kb20tY3JlYXRlIjoyMCwiLi8kLmdsb2JhbCI6MjQsIi4vJC5odG1sIjoyNywiLi8kLmludm9rZSI6Mjh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguY2VpbCxvPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bzpuKShlKX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pb2JqZWN0Iiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4LCIuLyQuaW9iamVjdCI6Mjl9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi8kLnRvLWludGVnZXIiOjU0fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuLyQuZGVmaW5lZCI6MTh9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPTAsbz1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK24rbykudG9TdHJpbmcoMzYpKX19LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5zaGFyZWQiKSgid2tzIiksbz1lKCIuLyQudWlkIiksaT1lKCIuLyQuZ2xvYmFsIikuU3ltYm9sO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09aSYmaVtlXXx8KGl8fG8pKCJTeW1ib2wuIitlKSl9fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuc2hhcmVkIjo0OSwiLi8kLnVpZCI6NTh9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jbGFzc29mIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1lKCIuLyQuaXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vJC5jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZT9lW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV06dm9pZCAwfX0seyIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC53a3MiOjU5fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmFkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi8kLml0ZXItc3RlcCIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpLHM9ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi8kLml0ZXItZGVmaW5lIikoQXJyYXksIkFycmF5IixmdW5jdGlvbihlLHQpe3RoaXMuX3Q9cyhlKSx0aGlzLl9pPTAsdGhpcy5faz10fSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3QsdD10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6ImtleXMiPT10P28oMCxyKToidmFsdWVzIj09dD9vKDAsZVtyXSk6bygwLFtyLGVbcl1dKX0sInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXksbigia2V5cyIpLG4oInZhbHVlcyIpLG4oImVudHJpZXMiKX0seyIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIjoxMiwiLi8kLml0ZXItZGVmaW5lIjozNCwiLi8kLml0ZXItc3RlcCI6MzYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQudG8taW9iamVjdCI6NTV9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjQxLCIuLyQudG8tb2JqZWN0Ijo1N31dLDYzOltmdW5jdGlvbihlLHQscil7fSx7fV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbz1lKCIuLyQiKSxpPWUoIi4vJC5saWJyYXJ5Iikscz1lKCIuLyQuZ2xvYmFsIiksYz1lKCIuLyQuY3R4IiksdT1lKCIuLyQuY2xhc3NvZiIpLGE9ZSgiLi8kLmV4cG9ydCIpLGY9ZSgiLi8kLmlzLW9iamVjdCIpLGw9ZSgiLi8kLmFuLW9iamVjdCIpLHA9ZSgiLi8kLmEtZnVuY3Rpb24iKSxkPWUoIi4vJC5zdHJpY3QtbmV3IiksJD1lKCIuLyQuZm9yLW9mIiksdj1lKCIuLyQuc2V0LXByb3RvIikuc2V0LGg9ZSgiLi8kLnNhbWUtdmFsdWUiKSx5PWUoIi4vJC53a3MiKSgic3BlY2llcyIpLGI9ZSgiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiKSxtPWUoIi4vJC5taWNyb3Rhc2siKSxnPSJQcm9taXNlIix4PXMucHJvY2VzcyxqPSJwcm9jZXNzIj09dSh4KSx3PXNbZ10sXz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdyhmdW5jdGlvbigpe30pO3JldHVybiBlJiYodC5jb25zdHJ1Y3Rvcj1PYmplY3QpLHcucmVzb2x2ZSh0KT09PXR9LGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPW5ldyB3KGUpO3JldHVybiB2KHIsdC5wcm90b3R5cGUpLHJ9dmFyIHI9ITE7dHJ5e2lmKHI9dyYmdy5yZXNvbHZlJiZfKCksdih0LHcpLHQucHJvdG90eXBlPW8uY3JlYXRlKHcucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dH19KSx0LnJlc29sdmUoNSkudGhlbihmdW5jdGlvbigpe30paW5zdGFuY2VvZiB0fHwocj0hMSksciYmZSgiLi8kLmRlc2NyaXB0b3JzIikpe3ZhciBuPSExO3cucmVzb2x2ZShvLnNldERlc2Moe30sInRoZW4iLHtnZXQ6ZnVuY3Rpb24oKXtuPSEwfX0pKSxyPW59fWNhdGNoKGkpe3I9ITF9cmV0dXJuIHJ9KCksTz1mdW5jdGlvbihlLHQpe3JldHVybiBpJiZlPT09dyYmdD09PW4/ITA6aChlLHQpfSxNPWZ1bmN0aW9uKGUpe3ZhciB0PWwoZSlbeV07cmV0dXJuIHZvaWQgMCE9dD90OmV9LFM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGYoZSkmJiJmdW5jdGlvbiI9PXR5cGVvZih0PWUudGhlbik/dDohMX0sRT1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgVHlwZUVycm9yKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9cCh0KSx0aGlzLnJlamVjdD1wKHIpfSxQPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sVD1mdW5jdGlvbihlLHQpe2lmKCFlLm4pe2Uubj0hMDt2YXIgcj1lLmM7bShmdW5jdGlvbigpe2Zvcih2YXIgbj1lLnYsbz0xPT1lLnMsaT0wLGM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW8/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsdT10LnJlamVjdDt0cnl7cz8ob3x8KGUuaD0hMCkscj1zPT09ITA/bjpzKG4pLHI9PT10LnByb21pc2U/dShUeXBlRXJyb3IoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9UyhyKSk/aS5jYWxsKHIsYyx1KTpjKHIpKTp1KG4pfWNhdGNoKGEpe3UoYSl9fTtyLmxlbmd0aD5pOyljKHJbaSsrXSk7ci5sZW5ndGg9MCxlLm49ITEsdCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0LHIsbz1lLnA7VShvKSYmKGo/eC5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sbyk6KHQ9cy5vbnVuaGFuZGxlZHJlamVjdGlvbik/dCh7cHJvbWlzZTpvLHJlYXNvbjpufSk6KHI9cy5jb25zb2xlKSYmci5lcnJvciYmci5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKSksZS5hPXZvaWQgMH0sMSl9KX19LFU9ZnVuY3Rpb24oZSl7dmFyIHQscj1lLl9kLG49ci5hfHxyLmMsbz0wO2lmKHIuaClyZXR1cm4hMTtmb3IoO24ubGVuZ3RoPm87KWlmKHQ9bltvKytdLHQuZmFpbHx8IVUodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sQT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuZHx8KHQuZD0hMCx0PXQucnx8dCx0LnY9ZSx0LnM9Mix0LmE9dC5jLnNsaWNlKCksVCh0LCEwKSl9LEM9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLmQpe3IuZD0hMCxyPXIucnx8cjt0cnl7aWYoci5wPT09ZSl0aHJvdyBUeXBlRXJyb3IoIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9UyhlKSk/bShmdW5jdGlvbigpe3ZhciBuPXtyOnIsZDohMX07dHJ5e3QuY2FsbChlLGMoQyxuLDEpLGMoQSxuLDEpKX1jYXRjaChvKXtBLmNhbGwobixvKX19KTooci52PWUsci5zPTEsVChyLCExKSl9Y2F0Y2gobil7QS5jYWxsKHtyOnIsZDohMX0sbil9fX07a3x8KHc9ZnVuY3Rpb24oZSl7cChlKTt2YXIgdD10aGlzLl9kPXtwOmQodGhpcyx3LGcpLGM6W10sYTp2b2lkIDAsczowLGQ6ITEsdjp2b2lkIDAsaDohMSxuOiExfTt0cnl7ZShjKEMsdCwxKSxjKEEsdCwxKSl9Y2F0Y2gocil7QS5jYWxsKHQscil9fSxlKCIuLyQucmVkZWZpbmUtYWxsIikody5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgRShiKHRoaXMsdykpLG49ci5wcm9taXNlLG89dGhpcy5fZDtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxvLmMucHVzaChyKSxvLmEmJm8uYS5wdXNoKHIpLG8ucyYmVChvLCExKSxufSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pKSxhKGEuRythLlcrYS5GKiFrLHtQcm9taXNlOnd9KSxlKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSh3LGcpLGUoIi4vJC5zZXQtc3BlY2llcyIpKGcpLG49ZSgiLi8kLmNvcmUiKVtnXSxhKGEuUythLkYqIWssZyx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBFKHRoaXMpLHI9dC5yZWplY3Q7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGEoYS5TK2EuRiooIWt8fF8oITApKSxnLHtyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiB3JiZPKGUuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIGU7dmFyIHQ9bmV3IEUodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGEoYS5TK2EuRiohKGsmJmUoIi4vJC5pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe3cuYWxsKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKCl7fSl9KSksZyx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgRSh0KSxuPXIucmVzb2x2ZSxpPXIucmVqZWN0LHM9W10sYz1QKGZ1bmN0aW9uKCl7JChlLCExLHMucHVzaCxzKTt2YXIgcj1zLmxlbmd0aCxjPUFycmF5KHIpO3I/by5lYWNoLmNhbGwocyxmdW5jdGlvbihlLG8pe3ZhciBzPSExO3QucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3N8fChzPSEwLGNbb109ZSwtLXJ8fG4oYykpfSxpKX0pOm4oYyl9KTtyZXR1cm4gYyYmaShjLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9TSh0aGlzKSxyPW5ldyBFKHQpLG49ci5yZWplY3Qsbz1QKGZ1bmN0aW9uKCl7JChlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vJCI6MzgsIi4vJC5hLWZ1bmN0aW9uIjoxMSwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jbGFzc29mIjoxNCwiLi8kLmNvcmUiOjE2LCIuLyQuY3R4IjoxNywiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mb3Itb2YiOjIzLCIuLyQuZ2xvYmFsIjoyNCwiLi8kLmlzLW9iamVjdCI6MzEsIi4vJC5pdGVyLWRldGVjdCI6MzUsIi4vJC5saWJyYXJ5IjozOSwiLi8kLm1pY3JvdGFzayI6NDAsIi4vJC5yZWRlZmluZS1hbGwiOjQzLCIuLyQuc2FtZS12YWx1ZSI6NDUsIi4vJC5zZXQtcHJvdG8iOjQ2LCIuLyQuc2V0LXNwZWNpZXMiOjQ3LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciI6NTAsIi4vJC5zdHJpY3QtbmV3Ijo1MSwiLi8kLndrcyI6NTl9XSw2NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuc3RyaW5nLWF0IikoITApO2UoIi4vJC5pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi8kLml0ZXItZGVmaW5lIjozNCwiLi8kLnN0cmluZy1hdCI6NTJ9XSw2NjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpO24uTm9kZUxpc3Q9bi5IVE1MQ29sbGVjdGlvbj1uLkFycmF5fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6NjF9XSw2NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGM9bihzKSx1PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bih1KSxmPWUoIi4uL3V0aWxzL3V0aWxzIiksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peygwLGNbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgbz10aGlzO28ubWVzc2FnZUJ1cz1uLG8uZG9tYWluPSgwLGYuZGl2aWRlVVJMKSh0KS5kb21haW4sby5oeXBlcnR5VVJMPXQsby5ydW50aW1lVVJMPXJ9cmV0dXJuKDAsYVsiZGVmYXVsdCJdKShlLFt7a2V5OiJkaXNjb3ZlclVzZXJSZWdpc3RlcmVkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDAsbz1lP2U6Ii4iO249dD90OnIuaHlwZXJ0eVVSTDt2YXIgcz17dHlwZToicmVhZCIsZnJvbTpuLHRvOnIucnVudGltZVVSTCsiL3JlZ2lzdHJ5LyIsYm9keTp7cmVzb3VyY2U6byxjcml0ZXJpYTpufX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkucmVzb3VyY2U7bj9lKG4pOnQoIk5vIHVzZXIgd2FzIG5vdCBmb3VuZCIpfSl9KX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo2OCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsJFsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLHBbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiB1KGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gdShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IikscD1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksJD1uKGQpO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD11LHIuZ2V0VXNlckVtYWlsRnJvbVVSTD1hLHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs2N10pKDY3KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjIuMAoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlN5bmNoZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGEpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGM9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJmMpcmV0dXJuIGMocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBsPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGwsbC5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlJiYhQXJyYXkub2JzZXJ2ZSYmZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ZS5nZXROb3RpZmllcixuPSJwZXJmb3JtQ2hhbmdlIixvPSJfb3JpZ2luYWwiLGk9InNwbGljZSIscz17cHVzaDpmdW5jdGlvbiBjKGUpe3ZhciB0PWFyZ3VtZW50cyxzPWNbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnMtdC5sZW5ndGgsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHVuc2hpZnQ6ZnVuY3Rpb24gdShlKXt2YXIgdD1hcmd1bWVudHMscz11W29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSxwb3A6ZnVuY3Rpb24gbCgpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9bFtvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDp0aGlzLmxlbmd0aCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzaGlmdDpmdW5jdGlvbiBmKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1mW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc3BsaWNlOmZ1bmN0aW9uIGQoZSx0KXt2YXIgcz1hcmd1bWVudHMsYT1kW29dLmFwcGx5KHRoaXMscyk7cmV0dXJuKGEubGVuZ3RofHxzLmxlbmd0aD4yKSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OmUsYWRkZWRDb3VudDpzLmxlbmd0aC0yLHJlbW92ZWQ6YX19LHRoaXMpLGF9fTtmb3IodmFyIGEgaW4gcylzW2FdW29dPXQucHJvdG90eXBlW2FdLHQucHJvdG90eXBlW2FdPXNbYV07dC5vYnNlcnZlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUub2JzZXJ2ZSh0LHIsWyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLGldKX0sdC51bm9ic2VydmU9ZS51bm9ic2VydmV9KE9iamVjdCxBcnJheSl9LHt9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IjoxN31dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIjoxOH1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoxOX1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoyMH1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjIxfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6MjJ9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjoyM31dLDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoyNH1dLDEwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiOjI1fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIGk9ZSxzPXQsYT1yO289ITEsbnVsbD09PWkmJihpPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGM9bihpLHMpO2lmKHZvaWQgMCE9PWMpe2lmKCJ2YWx1ZSJpbiBjKXJldHVybiBjLnZhbHVlO3ZhciB1PWMuZ2V0O2lmKHZvaWQgMD09PXUpcmV0dXJuO3JldHVybiB1LmNhbGwoYSl9dmFyIGw9T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpO2lmKG51bGw9PT1sKXJldHVybjtlPWwsdD1zLHI9YSxvPSEwLGM9bD12b2lkIDB9fSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjV9XSwxNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPW4odCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihvP28oZSx0KTplLl9fcHJvdG9fXz10KX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjh9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE2fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmNvbnN0cnVjdG9yPT09bj8ic3ltYm9sIjp0eXBlb2YgZX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjEwfV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4obi5KU09OJiZuLkpTT04uc3RyaW5naWZ5fHxKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZ2V0RGVzYyhlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo4MX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiI6ODJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6ODN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjg0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzLyQuY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6ODYsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6ODcsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6ODl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjo4OH1dLDI2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6NDl9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjMwLCIuLyQud2tzIjo3OH1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoyNn1dLDMzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDM0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjozOH1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDM2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0S2V5cyhlKSxyPW4uZ2V0U3ltYm9scztpZihyKWZvcih2YXIgbyxpPXIoZSkscz1uLmlzRW51bSxhPTA7aS5sZW5ndGg+YTspcy5jYWxsKGUsbz1pW2ErK10pJiZ0LnB1c2gobyk7cmV0dXJuIHR9fSx7Ii4vJCI6NTZ9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuY3R4Iikscz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyx1LGwsZj1lJmEuRixkPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHY9ZSZhLlcseT1kP286b1t0XXx8KG9bdF09e30pLF89ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihjIGluIHIpdT0hZiYmXyYmYyBpbiBfLHUmJmMgaW4geXx8KGw9dT9fW2NdOnJbY10seVtjXT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgX1tjXT9yW2NdOmgmJnU/aShsLG4pOnYmJl9bY109PWw/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlP25ldyBlKHQpOmUodCl9O3JldHVybiB0W3NdPWVbc10sdH0obCk6YiYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsYiYmKCh5W3NdfHwoeVtzXT17fSkpW2NdPWwpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMix0LmV4cG9ydHM9YX0seyIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZ2xvYmFsIjo0MX1dLDM4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY3R4Iiksbz1lKCIuLyQuaXRlci1jYWxsIiksaT1lKCIuLyQuaXMtYXJyYXktaXRlciIpLHM9ZSgiLi8kLmFuLW9iamVjdCIpLGE9ZSgiLi8kLnRvLWxlbmd0aCIpLGM9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dmFyIGwsZixkLHA9YyhlKSxiPW4ocix1LHQ/MjoxKSxoPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHApdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShwKSlmb3IobD1hKGUubGVuZ3RoKTtsPmg7aCsrKXQ/YihzKGY9ZVtoXSlbMF0sZlsxXSk6YihlW2hdKTtlbHNlIGZvcihkPXAuY2FsbChlKTshKGY9ZC5uZXh0KCkpLmRvbmU7KW8oZCxiLGYudmFsdWUsdCl9fSx7Ii4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLWFycmF5LWl0ZXIiOjQ3LCIuLyQuaXRlci1jYWxsIjo1MCwiLi8kLnRvLWxlbmd0aCI6NzUsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo3OX1dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKSxvPWUoIi4vJCIpLmdldE5hbWVzLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbChlKT9hKGUpOm8obihlKSl9fSx7Ii4vJCI6NTYsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vJC5kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuLyQiOjU2LCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQucHJvcGVydHktZGVzYyI6NjF9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuLyQuZ2xvYmFsIjo0MX1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi8kLmNvZiI6MzB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LHsiLi8kLmNvZiI6MzB9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3RyeXtyZXR1cm4gbz90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZuKHMuY2FsbChlKSksaX19fSx7Ii4vJC5hbi1vYmplY3QiOjI4fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpLGk9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuLyQuaGlkZSIpKHMsZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4uY3JlYXRlKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuLyQiOjU2LCIuLyQuaGlkZSI6NDMsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQubGlicmFyeSIpLG89ZSgiLi8kLmV4cG9ydCIpLGk9ZSgiLi8kLnJlZGVmaW5lIikscz1lKCIuLyQuaGlkZSIpLGE9ZSgiLi8kLmhhcyIpLGM9ZSgiLi8kLml0ZXJhdG9ycyIpLHU9ZSgiLi8kLml0ZXItY3JlYXRlIiksbD1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vJCIpLmdldFByb3RvLGQ9ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksYj0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGcsbSxqKXt1KHIsdCxfKTt2YXIgJCxPLHc9ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gRSlyZXR1cm4gRVtlXTtzd2l0Y2goZSl7Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0saz10KyIgSXRlcmF0b3IiLHg9Zz09dixDPSExLEU9ZS5wcm90b3R5cGUsUz1FW2RdfHxFW2JdfHxnJiZFW2ddLFQ9U3x8dyhnKTtpZihTKXt2YXIgUj1mKFQuY2FsbChuZXcgZSkpO2woUixrLCEwKSwhbiYmYShFLGIpJiZzKFIsZCx5KSx4JiZTLm5hbWUhPT12JiYoQz0hMCxUPWZ1bmN0aW9uKCl7cmV0dXJuIFMuY2FsbCh0aGlzKX0pfWlmKG4mJiFqfHwhcCYmIUMmJkVbZF18fHMoRSxkLFQpLGNbdF09VCxjW2tdPXksZylpZigkPXt2YWx1ZXM6eD9UOncodiksa2V5czptP1Q6dyhoKSxlbnRyaWVzOng/dygiZW50cmllcyIpOlR9LGopZm9yKE8gaW4gJClPIGluIEV8fGkoRSxPLCRbT10pO2Vsc2UgbyhvLlArby5GKihwfHxDKSx0LCQpO3JldHVybiAkfX0seyIuLyQiOjU2LCIuLyQuZXhwb3J0IjozNywiLi8kLmhhcyI6NDIsIi4vJC5oaWRlIjo0MywiLi8kLml0ZXItY3JlYXRlIjo1MSwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cj0hMH0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGEpe31yZXR1cm4gcn19LHsiLi8kLndrcyI6Nzh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDU2OltmdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0O3QuZXhwb3J0cz17Y3JlYXRlOm4uY3JlYXRlLGdldFByb3RvOm4uZ2V0UHJvdG90eXBlT2YsaXNFbnVtOnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGdldERlc2M6bi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isc2V0RGVzYzpuLmRlZmluZVByb3BlcnR5LHNldERlc2NzOm4uZGVmaW5lUHJvcGVydGllcyxnZXRLZXlzOm4ua2V5cyxnZXROYW1lczpuLmdldE93blByb3BlcnR5TmFtZXMsZ2V0U3ltYm9sczpuLmdldE93blByb3BlcnR5U3ltYm9scyxlYWNoOltdLmZvckVhY2h9fSx7fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9byhlKSxzPW4uZ2V0S2V5cyhpKSxhPXMubGVuZ3RoLGM9MDthPmM7KWlmKGlbcj1zW2MrK11dPT09dClyZXR1cm4gcn19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC50YXNrIikuc2V0LGM9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsdT1zLnByb2Nlc3MsbD1zLlByb21pc2UsZj0icHJvY2VzcyI9PWUoIi4vJC5jb2YiKSh1KSxkPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO2ZvcihmJiYoZT11LmRvbWFpbikmJih1LmRvbWFpbj1udWxsLGUuZXhpdCgpKTtuOyl0PW4uZG9tYWluLHI9bi5mbix0JiZ0LmVudGVyKCkscigpLHQmJnQuZXhpdCgpLG49bi5uZXh0O289dm9pZCAwLGUmJmUuZW50ZXIoKX07aWYoZilpPWZ1bmN0aW9uKCl7dS5uZXh0VGljayhkKX07ZWxzZSBpZihjKXt2YXIgcD0xLGI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBjKGQpLm9ic2VydmUoYix7Y2hhcmFjdGVyRGF0YTohMH0pLGk9ZnVuY3Rpb24oKXtiLmRhdGE9cD0tcH19ZWxzZSBpPWwmJmwucmVzb2x2ZT9mdW5jdGlvbigpe2wucmVzb2x2ZSgpLnRoZW4oZCl9OmZ1bmN0aW9uKCl7YS5jYWxsKHMsZCl9O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMCxkb21haW46ZiYmdS5kb21haW59O28mJihvLm5leHQ9dCksbnx8KG49dCxpKCkpLG89dH19LHsiLi8kLmNvZiI6MzAsIi4vJC5nbG9iYWwiOjQxLCIuLyQudGFzayI6NzJ9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuLyQuY29yZSI6MzEsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQucmVkZWZpbmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCluKGUscix0W3JdKTtyZXR1cm4gZX19LHsiLi8kLnJlZGVmaW5lIjo2M31dLDYzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5oaWRlIil9LHsiLi8kLmhpZGUiOjQzfV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9T2JqZWN0LmlzfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OmUhPWUmJnQhPXR9fSx7fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5nZXREZXNjLG89ZSgiLi8kLmlzLW9iamVjdCIpLGk9ZSgiLi8kLmFuLW9iamVjdCIpLHM9ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vJC5jdHgiKShGdW5jdGlvbi5jYWxsLG4oT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG8odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goaSl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhlLHQpLHI/ZS5fX3Byb3RvX189dDpvKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOnN9fSx7Ii4vJCI6NTYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLW9iamVjdCI6NDl9XSw2NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuY29yZSIpLG89ZSgiLi8kIiksaT1lKCIuLyQuZGVzY3JpcHRvcnMiKSxzPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W3NdJiZvLnNldERlc2ModCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vJCI6NTYsIi4vJC5jb3JlIjozMSwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLndrcyI6Nzh9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLnNldERlc2Msbz1lKCIuLyQuaGFzIiksaT1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vJCI6NTYsIi4vJC5oYXMiOjQyLCIuLyQud2tzIjo3OH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iiksbz1lKCIuLyQuYS1mdW5jdGlvbiIpLGk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbaV0pP3Q6byhyKX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLndrcyI6Nzh9XSw3MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKHIrIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciEiKTtyZXR1cm4gZX19LHt9XSw3MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGE9U3RyaW5nKG8odCkpLGM9bihyKSx1PWEubGVuZ3RoO3JldHVybiAwPmN8fGM+PXU/ZT8iIjp2b2lkIDA6KGk9YS5jaGFyQ29kZUF0KGMpLDU1Mjk2Pml8fGk+NTYzMTl8fGMrMT09PXV8fChzPWEuY2hhckNvZGVBdChjKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2EuY2hhckF0KGMpOmk6ZT9hLnNsaWNlKGMsYysyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC50by1pbnRlZ2VyIjo3M31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmN0eCIpLGE9ZSgiLi8kLmludm9rZSIpLGM9ZSgiLi8kLmh0bWwiKSx1PWUoIi4vJC5kb20tY3JlYXRlIiksbD1lKCIuLyQuZ2xvYmFsIiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxwPWwuY2xlYXJJbW1lZGlhdGUsYj1sLk1lc3NhZ2VDaGFubmVsLGg9MCx2PXt9LHk9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsXz1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKHYuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PXZbZV07ZGVsZXRlIHZbZV0sdCgpfX0sZz1mdW5jdGlvbihlKXtfLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIHZbKytoXT1mdW5jdGlvbigpe2EoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbihoKSxofSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSB2W2VdfSwicHJvY2VzcyI9PWUoIi4vJC5jb2YiKShmKT9uPWZ1bmN0aW9uKGUpe2YubmV4dFRpY2socyhfLGUsMSkpfTpiPyhvPW5ldyBiLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1nLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmwuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhbC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2wucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGcsITEpKTpuPXkgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7Yy5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbeV09ZnVuY3Rpb24oKXtjLnJlbW92ZUNoaWxkKHRoaXMpLF8uY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhfLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vJC5jb2YiOjMwLCIuLyQuY3R4IjozMiwiLi8kLmRvbS1jcmVhdGUiOjM1LCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmh0bWwiOjQ0LCIuLyQuaW52b2tlIjo0NX1dLDczOltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlvYmplY3QiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC5pb2JqZWN0Ijo0Nn1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuLyQudG8taW50ZWdlciI6NzN9XSw3NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSx7Ii4vJC5kZWZpbmVkIjozM31dLDc3OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnNoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vJC51aWQiKSxpPWUoIi4vJC5nbG9iYWwiKS5TeW1ib2w7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1pJiZpW2VdfHwoaXx8bykoIlN5bWJvbC4iK2UpKX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5zaGFyZWQiOjY4LCIuLyQudWlkIjo3N31dLDc5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNsYXNzb2YiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi8kLmNvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vJC5jbGFzc29mIjoyOSwiLi8kLmNvcmUiOjMxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw4MDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuLyQuaXRlci1zdGVwIiksaT1lKCIuLyQuaXRlcmF0b3JzIikscz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuLyQuaXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vJC5hZGQtdG8tdW5zY29wYWJsZXMiOjI3LCIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuaXRlci1zdGVwIjo1NCwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBlKG4odCkscil9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8taW9iamVjdCI6NzR9XSw4MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLW9iamVjdCI6NzZ9XSw4MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDg0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpO24obi5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjplKCIuLyQuc2V0LXByb3RvIikuc2V0fSl9LHsiLi8kLmV4cG9ydCI6MzcsIi4vJC5zZXQtcHJvdG8iOjY1fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw4NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvPWUoIi4vJCIpLGk9ZSgiLi8kLmxpYnJhcnkiKSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5jbGFzc29mIiksdT1lKCIuLyQuZXhwb3J0IiksbD1lKCIuLyQuaXMtb2JqZWN0IiksZj1lKCIuLyQuYW4tb2JqZWN0IiksZD1lKCIuLyQuYS1mdW5jdGlvbiIpLHA9ZSgiLi8kLnN0cmljdC1uZXciKSxiPWUoIi4vJC5mb3Itb2YiKSxoPWUoIi4vJC5zZXQtcHJvdG8iKS5zZXQsdj1lKCIuLyQuc2FtZS12YWx1ZSIpLHk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIiksXz1lKCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciIpLGc9ZSgiLi8kLm1pY3JvdGFzayIpLG09IlByb21pc2UiLGo9cy5wcm9jZXNzLCQ9InByb2Nlc3MiPT1jKGopLE89c1ttXSx3PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBPKGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGUmJih0LmNvbnN0cnVjdG9yPU9iamVjdCksTy5yZXNvbHZlKHQpPT09dH0saz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9bmV3IE8oZSk7cmV0dXJuIGgocix0LnByb3RvdHlwZSkscn12YXIgcj0hMTt0cnl7aWYocj1PJiZPLnJlc29sdmUmJncoKSxoKHQsTyksdC5wcm90b3R5cGU9by5jcmVhdGUoTy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0fX0pLHQucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCl7fSlpbnN0YW5jZW9mIHR8fChyPSExKSxyJiZlKCIuLyQuZGVzY3JpcHRvcnMiKSl7dmFyIG49ITE7Ty5yZXNvbHZlKG8uc2V0RGVzYyh7fSwidGhlbiIse2dldDpmdW5jdGlvbigpe249ITB9fSkpLHI9bn19Y2F0Y2goaSl7cj0hMX1yZXR1cm4gcn0oKSx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkmJmU9PT1PJiZ0PT09bj8hMDp2KGUsdCl9LEM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZihlKVt5XTtyZXR1cm4gdm9pZCAwIT10P3Q6ZX0sRT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbChlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxTPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFQ9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxSPWZ1bmN0aW9uKGUsdCl7aWYoIWUubil7ZS5uPSEwO3ZhciByPWUuYztnKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUudixvPTE9PWUucyxpPTAsYT1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxhPXQucmVzb2x2ZSxjPXQucmVqZWN0O3RyeXtzPyhvfHwoZS5oPSEwKSxyPXM9PT0hMD9uOnMobikscj09PXQucHJvbWlzZT9jKFR5cGVFcnJvcigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1FKHIpKT9pLmNhbGwocixhLGMpOmEocikpOmMobil9Y2F0Y2godSl7Yyh1KX19O3IubGVuZ3RoPmk7KWEocltpKytdKTtyLmxlbmd0aD0wLGUubj0hMSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQscixvPWUucDtNKG8pJiYoJD9qLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbixvKToodD1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT90KHtwcm9taXNlOm8scmVhc29uOm59KToocj1zLmNvbnNvbGUpJiZyLmVycm9yJiZyLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG4pKSxlLmE9dm9pZCAwfSwxKX0pfX0sTT1mdW5jdGlvbihlKXt2YXIgdCxyPWUuX2Qsbj1yLmF8fHIuYyxvPTA7aWYoci5oKXJldHVybiExO2Zvcig7bi5sZW5ndGg+bzspaWYodD1uW28rK10sdC5mYWlsfHwhTSh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxOPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5kfHwodC5kPSEwLHQ9dC5yfHx0LHQudj1lLHQucz0yLHQuYT10LmMuc2xpY2UoKSxSKHQsITApKX0sRD1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuZCl7ci5kPSEwLHI9ci5yfHxyO3RyeXtpZihyLnA9PT1lKXRocm93IFR5cGVFcnJvcigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1FKGUpKT9nKGZ1bmN0aW9uKCl7dmFyIG49e3I6cixkOiExfTt0cnl7dC5jYWxsKGUsYShELG4sMSksYShOLG4sMSkpfWNhdGNoKG8pe04uY2FsbChuLG8pfX0pOihyLnY9ZSxyLnM9MSxSKHIsITEpKX1jYXRjaChuKXtOLmNhbGwoe3I6cixkOiExfSxuKX19fTtrfHwoTz1mdW5jdGlvbihlKXtkKGUpO3ZhciB0PXRoaXMuX2Q9e3A6cCh0aGlzLE8sbSksYzpbXSxhOnZvaWQgMCxzOjAsZDohMSx2OnZvaWQgMCxoOiExLG46ITF9O3RyeXtlKGEoRCx0LDEpLGEoTix0LDEpKX1jYXRjaChyKXtOLmNhbGwodCxyKX19LGUoIi4vJC5yZWRlZmluZS1hbGwiKShPLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBTKF8odGhpcyxPKSksbj1yLnByb21pc2Usbz10aGlzLl9kO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LG8uYy5wdXNoKHIpLG8uYSYmby5hLnB1c2gociksby5zJiZSKG8sITEpLG59LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSkpLHUodS5HK3UuVyt1LkYqIWsse1Byb21pc2U6T30pLGUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpKE8sbSksZSgiLi8kLnNldC1zcGVjaWVzIikobSksbj1lKCIuLyQuY29yZSIpW21dLHUodS5TK3UuRiohayxtLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFModGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKigha3x8dyghMCkpLG0se3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIE8mJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKiEoayYmZSgiLi8kLml0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7Ty5hbGwoZSlbImNhdGNoIl0oZnVuY3Rpb24oKXt9KX0pKSxtLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9Qyh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qscz1bXSxhPVQoZnVuY3Rpb24oKXtiKGUsITEscy5wdXNoLHMpO3ZhciByPXMubGVuZ3RoLGE9QXJyYXkocik7cj9vLmVhY2guY2FsbChzLGZ1bmN0aW9uKGUsbyl7dmFyIHM9ITE7dC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7c3x8KHM9ITAsYVtvXT1lLC0tcnx8bihhKSl9LGkpfSk6bihhKX0pO3JldHVybiBhJiZpKGEuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlamVjdCxvPVQoZnVuY3Rpb24oKXtiKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi8kIjo1NiwiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQuZXhwb3J0IjozNywiLi8kLmZvci1vZiI6MzksIi4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OSwiLi8kLml0ZXItZGV0ZWN0Ijo1MywiLi8kLmxpYnJhcnkiOjU4LCIuLyQubWljcm90YXNrIjo1OSwiLi8kLnJlZGVmaW5lLWFsbCI6NjIsIi4vJC5zYW1lLXZhbHVlIjo2NCwiLi8kLnNldC1wcm90byI6NjUsIi4vJC5zZXQtc3BlY2llcyI6NjYsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIjo2OSwiLi8kLnN0cmljdC1uZXciOjcwLCIuLyQud2tzIjo3OH1dLDg3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5zdHJpbmctYXQiKSghMCk7ZSgiLi8kLml0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuc3RyaW5nLWF0Ijo3MX1dLDg4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLmdsb2JhbCIpLGk9ZSgiLi8kLmhhcyIpLHM9ZSgiLi8kLmRlc2NyaXB0b3JzIiksYT1lKCIuLyQuZXhwb3J0IiksYz1lKCIuLyQucmVkZWZpbmUiKSx1PWUoIi4vJC5mYWlscyIpLGw9ZSgiLi8kLnNoYXJlZCIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksZD1lKCIuLyQudWlkIikscD1lKCIuLyQud2tzIiksYj1lKCIuLyQua2V5b2YiKSxoPWUoIi4vJC5nZXQtbmFtZXMiKSx2PWUoIi4vJC5lbnVtLWtleXMiKSx5PWUoIi4vJC5pcy1hcnJheSIpLF89ZSgiLi8kLmFuLW9iamVjdCIpLGc9ZSgiLi8kLnRvLWlvYmplY3QiKSxtPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaj1uLmdldERlc2MsJD1uLnNldERlc2MsTz1uLmNyZWF0ZSx3PWguZ2V0LGs9by5TeW1ib2wseD1vLkpTT04sQz14JiZ4LnN0cmluZ2lmeSxFPSExLFM9cCgiX2hpZGRlbiIpLFQ9bi5pc0VudW0sUj1sKCJzeW1ib2wtcmVnaXN0cnkiKSxNPWwoInN5bWJvbHMiKSxOPSJmdW5jdGlvbiI9PXR5cGVvZiBrLEQ9T2JqZWN0LnByb3RvdHlwZSxQPXMmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9TygkKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuICQodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWooRCx0KTtuJiZkZWxldGUgRFt0XSwkKGUsdCxyKSxuJiZlIT09RCYmJChELHQsbil9OiQsTD1mdW5jdGlvbihlKXt2YXIgdD1NW2VdPU8oay5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUscyYmRSYmUChELGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZnVuY3Rpb24odCl7aSh0aGlzLFMpJiZpKHRoaXNbU10sZSkmJih0aGlzW1NdW2VdPSExKSxQKHRoaXMsZSxtKDEsdCkpfX0pLHR9LEE9ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfSxGPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gciYmaShNLHQpPyhyLmVudW1lcmFibGU/KGkoZSxTKSYmZVtTXVt0XSYmKGVbU11bdF09ITEpLHI9TyhyLHtlbnVtZXJhYmxlOm0oMCwhMSl9KSk6KGkoZSxTKXx8JChlLFMsbSgxLHt9KSksZVtTXVt0XT0hMCksUChlLHQscikpOiQoZSx0LHIpfSxJPWZ1bmN0aW9uKGUsdCl7XyhlKTtmb3IodmFyIHIsbj12KHQ9Zyh0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylGKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LFU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9PKGUpOkkoTyhlKSx0KX0sVj1mdW5jdGlvbihlKXt2YXIgdD1ULmNhbGwodGhpcyxlKTtyZXR1cm4gdHx8IWkodGhpcyxlKXx8IWkoTSxlKXx8aSh0aGlzLFMpJiZ0aGlzW1NdW2VdP3Q6ITB9LHo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1qKGU9ZyhlKSx0KTtyZXR1cm4hcnx8IWkoTSx0KXx8aShlLFMpJiZlW1NdW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfSxIPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPXcoZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKXx8dD09U3x8bi5wdXNoKHQpO3JldHVybiBufSxCPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPXcoZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKSYmbi5wdXNoKE1bdF0pO3JldHVybiBufSxKPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUmJiFBKGUpKXtmb3IodmFyIHQscixuPVtlXSxvPTEsaT1hcmd1bWVudHM7aS5sZW5ndGg+bzspbi5wdXNoKGlbbysrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnkodCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLEEodCk/dm9pZCAwOnR9KSxuWzFdPXQsQy5hcHBseSh4LG4pfX0sVz11KGZ1bmN0aW9uKCl7dmFyIGU9aygpO3JldHVybiJbbnVsbF0iIT1DKFtlXSl8fCJ7fSIhPUMoe2E6ZX0pfHwie30iIT1DKE9iamVjdChlKSl9KTtOfHwoaz1mdW5jdGlvbigpe2lmKEEodGhpcykpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTtyZXR1cm4gTChkKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSl9LGMoay5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksQT1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGt9LG4uY3JlYXRlPVUsbi5pc0VudW09VixuLmdldERlc2M9eixuLnNldERlc2M9RixuLnNldERlc2NzPUksbi5nZXROYW1lcz1oLmdldD1ILG4uZ2V0U3ltYm9scz1CLHMmJiFlKCIuLyQubGlicmFyeSIpJiZjKEQsInByb3BlcnR5SXNFbnVtZXJhYmxlIixWLCEwKSk7dmFyIFk9eyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBpKFIsZSs9IiIpP1JbZV06UltlXT1rKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGIoUixlKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7RT0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7RT0hMX19O24uZWFjaC5jYWxsKCJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD1wKGUpO1lbZV09Tj90OkwodCl9KSxFPSEwLGEoYS5HK2EuVyx7U3ltYm9sOmt9KSxhKGEuUywiU3ltYm9sIixZKSxhKGEuUythLkYqIU4sIk9iamVjdCIse2NyZWF0ZTpVLGRlZmluZVByb3BlcnR5OkYsZGVmaW5lUHJvcGVydGllczpJLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjp6LGdldE93blByb3BlcnR5TmFtZXM6SCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Qn0pLHgmJmEoYS5TK2EuRiooIU58fFcpLCJKU09OIix7c3RyaW5naWZ5Okp9KSxmKGssIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5lbnVtLWtleXMiOjM2LCIuLyQuZXhwb3J0IjozNywiLi8kLmZhaWxzIjozOCwiLi8kLmdldC1uYW1lcyI6NDAsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaGFzIjo0MiwiLi8kLmlzLWFycmF5Ijo0OCwiLi8kLmtleW9mIjo1NywiLi8kLmxpYnJhcnkiOjU4LCIuLyQucHJvcGVydHktZGVzYyI6NjEsIi4vJC5yZWRlZmluZSI6NjMsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zaGFyZWQiOjY4LCIuLyQudG8taW9iamVjdCI6NzQsIi4vJC51aWQiOjc3LCIuLyQud2tzIjo3OH1dLDg5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIik7bi5Ob2RlTGlzdD1uLkhUTUxDb2xsZWN0aW9uPW4uQXJyYXl9LHsiLi8kLml0ZXJhdG9ycyI6NTUsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo4MH1dLDkwOltmdW5jdGlvbihlLHQscil7d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuZz1bXSx0aGlzLms9ZX1mdW5jdGlvbiByKGUpeyFmdW5jdGlvbiByKCl7dmFyIG49ZS50YWtlUmVjb3JkcygpO24ubGVuZ3RoJiZlLmsobixlKSxlLmY9c2V0VGltZW91dChyLHQuX3BlcmlvZCl9KCl9ZnVuY3Rpb24gbih0KXt2YXIgcixuPXt0eXBlOm51bGwsdGFyZ2V0Om51bGwsYWRkZWROb2RlczpbXSxyZW1vdmVkTm9kZXM6W10scHJldmlvdXNTaWJsaW5nOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxhdHRyaWJ1dGVOYW1lOm51bGwsYXR0cmlidXRlTmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6bnVsbH07Zm9yKHIgaW4gdCluW3JdIT09ZSYmdFtyXSE9PWUmJihuW3JdPXRbcl0pO3JldHVybiBufWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj1hKGUsdCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvLGM9bi5sZW5ndGg7dC5hJiZyLmEmJmkobixlLHIuYSx0LmQpLCh0LmJ8fHQuZSkmJihvPXMobixlLHIsdCkpLChvfHxuLmxlbmd0aCE9PWMpJiYocj1hKGUsdCkpfX1mdW5jdGlvbiBpKHQscixvLGkpe2Zvcih2YXIgcyxhLGM9e30sdT1yLmF0dHJpYnV0ZXMsbD11Lmxlbmd0aDtsLS07KXM9dVtsXSxhPXMubmFtZSxpJiZpW2FdPT09ZXx8KHMudmFsdWUhPT1vW2FdJiZ0LnB1c2gobih7dHlwZToiYXR0cmlidXRlcyIsdGFyZ2V0OnIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV0sYXR0cmlidXRlTmFtZXNwYWNlOnMubmFtZXNwYWNlVVJJfSkpLGNbYV09ITApO2ZvcihhIGluIG8pY1thXXx8dC5wdXNoKG4oe3RhcmdldDpyLHR5cGU6ImF0dHJpYnV0ZXMiLGF0dHJpYnV0ZU5hbWU6YSxvbGRWYWx1ZTpvW2FdfSkpfWZ1bmN0aW9uIHModCxyLG8scyl7ZnVuY3Rpb24gYShlLHIsbyxhLGMpe3ZhciBsPWUubGVuZ3RoLTE7Yz0tfigobC1jKS8yKTtmb3IodmFyIGYsZCxwO3A9ZS5wb3AoKTspZj1vW3AuaF0sZD1hW3AuaV0scy5iJiZjJiZNYXRoLmFicyhwLmgtcC5pKT49bCYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2ZdLHJlbW92ZWROb2RlczpbZl0sbmV4dFNpYmxpbmc6Zi5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6Zi5wcmV2aW91c1NpYmxpbmd9KSksYy0tKSxzLmEmJmQuYSYmaSh0LGYsZC5hLHMuZCkscy5jJiYzPT09Zi5ub2RlVHlwZSYmZi5ub2RlVmFsdWUhPT1kLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6Zn0pKSxzLmUmJnUoZixkKX1mdW5jdGlvbiB1KHIsbyl7Zm9yKHZhciBkLHAsYixoLHYseT1yLmNoaWxkTm9kZXMsXz1vLmIsZz15Lmxlbmd0aCxtPV8/Xy5sZW5ndGg6MCxqPTAsJD0wLE89MDtnPiR8fG0+TzspaD15WyRdLHY9KGI9X1tPXSkmJmIuaixoPT09dj8ocy5hJiZiLmEmJmkodCxoLGIuYSxzLmQpLHMuYyYmYi5jIT09ZSYmaC5ub2RlVmFsdWUhPT1iLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6aH0pKSxwJiZhKHAscix5LF8saikscy5lJiYoaC5jaGlsZE5vZGVzLmxlbmd0aHx8Yi5iJiZiLmIubGVuZ3RoKSYmdShoLGIpLCQrKyxPKyspOihsPSEwLGR8fChkPXt9LHA9W10pLGgmJihkW2I9YyhoKV18fChkW2JdPSEwLC0xPT09KGI9ZihfLGgsTywiaiIpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltoXSxuZXh0U2libGluZzpoLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpoLnByZXZpb3VzU2libGluZ30pKSxqKyspOnAucHVzaCh7aDokLGk6Yn0pKSwkKyspLHYmJnYhPT15WyRdJiYoZFtiPWModildfHwoZFtiXT0hMCwtMT09PShiPWYoeSx2LCQpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6by5qLHJlbW92ZWROb2Rlczpbdl0sbmV4dFNpYmxpbmc6X1tPKzFdLHByZXZpb3VzU2libGluZzpfW08tMV19KSksai0tKTpwLnB1c2goe2g6YixpOk99KSksTysrKSk7cCYmYShwLHIseSxfLGopfXZhciBsO3JldHVybiB1KHIsbyksbH1mdW5jdGlvbiBhKGUsdCl7dmFyIHI9ITA7cmV0dXJuIGZ1bmN0aW9uIG4oZSl7dmFyIG89e2o6ZX07cmV0dXJuIXQuY3x8MyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlPyh0LmEmJnImJjE9PT1lLm5vZGVUeXBlJiYoby5hPWwoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuZCYmIXQuZFtyLm5hbWVdfHwoZVtyLm5hbWVdPXIudmFsdWUpLGV9KSksciYmKHQuYnx8dC5jfHx0LmEmJnQuZSkmJihvLmI9dShlLmNoaWxkTm9kZXMsbikpLHI9dC5lKTpvLmM9ZS5ub2RlVmFsdWUsb30oZSl9ZnVuY3Rpb24gYyhlKXt0cnl7cmV0dXJuIGUuaWR8fChlLm1vX2lkPWUubW9faWR8fGQrKyl9Y2F0Y2godCl7dHJ5e3JldHVybiBlLm5vZGVWYWx1ZX1jYXRjaChyKXtyZXR1cm4gZCsrfX19ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgcj1bXSxuPTA7bjxlLmxlbmd0aDtuKyspcltuXT10KGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciByPXt9LG49MDtuPGUubGVuZ3RoO24rKylyPXQocixlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gZihlLHQscixuKXtmb3IoO3I8ZS5sZW5ndGg7cisrKWlmKChuP2Vbcl1bbl06ZVtyXSk9PT10KXJldHVybiByO3JldHVybi0xfXQuX3BlcmlvZD0zMCx0LnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17YTohISh0LmF0dHJpYnV0ZXN8fHQuYXR0cmlidXRlRmlsdGVyfHx0LmF0dHJpYnV0ZU9sZFZhbHVlKSxiOiEhdC5jaGlsZExpc3QsZTohIXQuc3VidHJlZSxjOiEoIXQuY2hhcmFjdGVyRGF0YSYmIXQuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKX0saT10aGlzLmcscz0wO3M8aS5sZW5ndGg7cysrKWlbc10ubT09PWUmJmkuc3BsaWNlKHMsMSk7dC5hdHRyaWJ1dGVGaWx0ZXImJihuLmQ9bCh0LmF0dHJpYnV0ZUZpbHRlcixmdW5jdGlvbihlLHQpewpyZXR1cm4gZVt0XT0hMCxlfSkpLGkucHVzaCh7bTplLGw6byhlLG4pfSksdGhpcy5mfHxyKHRoaXMpfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZyxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXS5sKGUpO3JldHVybiBlfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5nPVtdLGNsZWFyVGltZW91dCh0aGlzLmYpLHRoaXMuZj1udWxsfX07dmFyIGQ9MTtyZXR1cm4gdH0odm9pZCAwKX0se31dLDkxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmV8fGZ1bmN0aW9uKGUsdCxyLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxpLHM9WyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLCJyZWNvbmZpZ3VyZSIsInNldFByb3RvdHlwZSIsInByZXZlbnRFeHRlbnNpb25zIl0sYT10LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09ZS5jYWxsKHQpfX0oZS5wcm90b3R5cGUudG9TdHJpbmcpLGM9dC5wcm90b3R5cGUuaW5kZXhPZj90LmluZGV4T2Z8fGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gdC5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUscixuKX06ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1yfHwwO248ZS5sZW5ndGg7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSx1PXIuTWFwIT09biYmTWFwLnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKCl7cmV0dXJuIG5ldyBNYXB9OmZ1bmN0aW9uKCl7dmFyIGU9W10sdD1bXTtyZXR1cm57c2l6ZTowLGhhczpmdW5jdGlvbih0KXtyZXR1cm4gYyhlLHQpPi0xfSxnZXQ6ZnVuY3Rpb24ocil7cmV0dXJuIHRbYyhlLHIpXX0sc2V0OmZ1bmN0aW9uKHIsbil7dmFyIG89YyhlLHIpOy0xPT09bz8oZS5wdXNoKHIpLHQucHVzaChuKSx0aGlzLnNpemUrKyk6dFtvXT1ufSwiZGVsZXRlIjpmdW5jdGlvbihyKXt2YXIgbj1jKGUscik7bj4tMSYmKGUuc3BsaWNlKG4sMSksdC5zcGxpY2UobiwxKSx0aGlzLnNpemUtLSl9LGZvckVhY2g6ZnVuY3Rpb24ocil7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspci5jYWxsKGFyZ3VtZW50c1sxXSx0W25dLGVbbl0sdGhpcyl9fX0sbD1lLmdldE93blByb3BlcnR5TmFtZXM/ZnVuY3Rpb24oKXt2YXIgdD1lLmdldE93blByb3BlcnR5TmFtZXM7dHJ5e2FyZ3VtZW50cy5jYWxsZWV9Y2F0Y2gocil7dmFyIG49KHQoYykuam9pbigiICIpKyIgIikucmVwbGFjZSgvcHJvdG90eXBlIHxsZW5ndGggfG5hbWUgL2csIiIpLnNsaWNlKDAsLTEpLnNwbGl0KCIgIik7bi5sZW5ndGgmJih0PWZ1bmN0aW9uKHQpe3ZhciByPWUuZ2V0T3duUHJvcGVydHlOYW1lcyh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClmb3IodmFyIG8saT0wO2k8bi5sZW5ndGg7KShvPWMocixuW2krK10pKT4tMSYmci5zcGxpY2UobywxKTtyZXR1cm4gcn0pfXJldHVybiB0fSgpOmZ1bmN0aW9uKHQpe3ZhciByLG4sbz1bXTtpZigiaGFzT3duUHJvcGVydHkiaW4gdClmb3IociBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJm8ucHVzaChyKTtlbHNle249ZS5oYXNPd25Qcm9wZXJ0eTtmb3IociBpbiB0KW4uY2FsbCh0LHIpJiZvLnB1c2gocil9cmV0dXJuIGEodCkmJm8ucHVzaCgibGVuZ3RoIiksb30sZj1lLmdldFByb3RvdHlwZU9mLGQ9ZS5kZWZpbmVQcm9wZXJ0aWVzJiZlLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixwPXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxyLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oKXt2YXIgZT0rbmV3IERhdGUsdD1lO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3IoKHQ9K25ldyBEYXRlKS1lKX0sMTcpfX0oKSxiPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1vLmdldChlKTtuPyh2KG4sZSksbShlLG4sdCxyKSk6KG49aChlKSxtKGUsbix0LHIpLDE9PT1vLnNpemUmJnAoeSkpfSxoPWZ1bmN0aW9uKHQscil7dmFyIG4saT1sKHQpLHM9W10sYT0wLHI9e2hhbmRsZXJzOnUoKSxmcm96ZW46ZS5pc0Zyb3plbj9lLmlzRnJvemVuKHQpOiExLGV4dGVuc2libGU6ZS5pc0V4dGVuc2libGU/ZS5pc0V4dGVuc2libGUodCk6ITAscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6Zyh0LHIpfTtpZihkKWZvcihuPXIuZGVzY3JpcHRvcnM9W107YTxpLmxlbmd0aDspblthXT1kKHQsaVthXSksc1thXT10W2lbYSsrXV07ZWxzZSBmb3IoO2E8aS5sZW5ndGg7KXNbYV09dFtpW2ErK11dO3JldHVybiBvLnNldCh0LHIpLHJ9LHY9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxhPXQudmFsdWVzW3JdLGM9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbyYmKGE9PT1zPzA9PT1hJiYxL2EhPT0xL3M6YT09PWF8fHM9PT1zKSYmKGooZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LnZhbHVlc1tyXT1zKSwhYy5jb25maWd1cmFibGV8fG8uY29uZmlndXJhYmxlJiZvLndyaXRhYmxlPT09Yy53cml0YWJsZSYmby5lbnVtZXJhYmxlPT09Yy5lbnVtZXJhYmxlJiZvLmdldD09PWMuZ2V0JiZvLnNldD09PWMuc2V0fHwoaihlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6YX0sbiksdC5kZXNjcmlwdG9yc1tyXT1vKX06ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dC5wcm9wZXJ0aWVzW3JdLGk9ZVtvXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihqKGUsdCx7bmFtZTpvLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbiksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbixvLGkpe2Zvcih2YXIgcyxhPXIubGVuZ3RoO24mJmEtLTspbnVsbCE9PXJbYV0mJihzPWQoZSxyW2FdKSxuLS0scz90KGUsbyxhLGkscyk6KGooZSxvLHtuYW1lOnJbYV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1thXX0saSksby5wcm9wZXJ0aWVzLnNwbGljZShhLDEpLG8udmFsdWVzLnNwbGljZShhLDEpLG8uZGVzY3JpcHRvcnMuc3BsaWNlKGEsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbixvKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGooZSxuLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tpXX0sbyksbi5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG4udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihuLG8saSl7aWYobi5oYW5kbGVycy5zaXplJiYhbi5mcm96ZW4pe3ZhciBzLGEsdSxwLGIsaCx2LHksXz1uLnZhbHVlcyxnPW4uZGVzY3JpcHRvcnMsbT0wO2lmKG4uZXh0ZW5zaWJsZSlpZihzPW4ucHJvcGVydGllcy5zbGljZSgpLGE9cy5sZW5ndGgsdT1sKG8pLGcpe2Zvcig7bTx1Lmxlbmd0aDspYj11W20rK10scD1jKHMsYikseT1kKG8sYiksLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChvW2JdKSxnLnB1c2goeSkpOihzW3BdPW51bGwsYS0tLHQobyxuLHAsaSx5KSk7cihvLHMsYSxuLGkpLGUuaXNFeHRlbnNpYmxlKG8pfHwobi5leHRlbnNpYmxlPSExLGoobyxuLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om99LGkpLG4uZnJvemVuPWUuaXNGcm96ZW4obykpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSxoPW9bYl0sLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChoKSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpKSk7cihvLHMsYSxuLGkpfWVsc2UgaWYoIW4uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKWI9c1ttXSx0KG8sbixtLGksZChvLGIpKTtlLmlzRnJvemVuKG8pJiYobi5mcm96ZW49ITApfWYmJih2PWYobyksdiE9PW4ucHJvdG8mJihqKG8sbix7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpvLG9sZFZhbHVlOm4ucHJvdG99KSxuLnByb3RvPXYpKX19fSgpLHk9ZnVuY3Rpb24oKXtvLnNpemUmJihvLmZvckVhY2godiksaS5mb3JFYWNoKF8pLHAoeSkpfSxfPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9by5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW8uZ2V0KGUpO2lmKHIpe3ZhciBuLGk9e29iamVjdDplfTtmb3IobiBpbiB0KSJvYmplY3QiIT09biYmKGlbbl09dFtuXSk7aihlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxhPW8uZ2V0KGUpLGM9YXJndW1lbnRzWzJdLHU9Yz09PW4/cigpOnIuY2FsbChjKTtpZihhJiZ2KGEsZSx0KSxhJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2ooZSxhLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWkuZ2V0KHIpO298fGkuc2V0KHIsbz17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxvLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om4uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG8pfSxqPWZ1bmN0aW9uKGUsdCxyLG4pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbz10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG58fC0xPT09YyhvLG4pKSYmYyhvLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O289dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbyl7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobz09PW4pbz1zO2Vsc2UgaWYoIW98fCJvYmplY3QiIT10eXBlb2Ygbyl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIGIodCxyLG8pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG49aS5nZXQodCk7cmV0dXJuIG4mJihyPW4ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG4ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSkscChmdW5jdGlvbigpe18obix0KX0pLDE9PT1uLm9ic2VydmVkLnNpemUmJm4ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm4ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9vWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6Zyh0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSksXyh0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDkyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuRGF0YU9iamVjdE9ic2VydmVyPXIuRGF0YU9iamVjdFJlcG9ydGVyPXIuU3luY2hlcj12b2lkIDAsZSgibXV0YXRpb25vYnNlcnZlci1zaGltIiksZSgib2JqZWN0Lm9ic2VydmUiKSxlKCJhcnJheS5vYnNlcnZlIik7dmFyIG89ZSgiLi9zeW5jaGVyL1N5bmNoZXIiKSxpPW4obykscz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIiksYT1uKHMpLGM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciIpLHU9bihjKTtyLlN5bmNoZXI9aVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdFJlcG9ydGVyPWFbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RPYnNlcnZlcj11WyJkZWZhdWx0Il19LHsiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL3N5bmNoZXIvU3luY2hlciI6OTksImFycmF5Lm9ic2VydmUiOjEsIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSI6OTAsIm9iamVjdC5vYnNlcnZlIjo5MX1dLDkzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IikscD1uKGQpLGI9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxoPW4oYiksdj1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9zeW5jaGVyPXQsYS5fdXJsPXIsYS5fc2NoZW1hPW4sYS5fc3RhdHVzPW8sYS5fc3luY09iaj1uZXcgcFsiZGVmYXVsdCJdKGkpLGEuX2NoaWxkcmVucz1zLGEuX3ZlcnNpb249MCxhLl9jaGlsZElkPTAsYS5fY2hpbGRyZW5PYmplY3RzPXt9LGEuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGEuX293bmVyPXQuX293bmVyLGEuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG89cituLGk9dC5fYnVzLmFkZExpc3RlbmVyKG8sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsYVsiZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBuPXIuX293bmVyKyIjIityLl9jaGlsZElkLG89ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpvLGJvZHk6e3Jlc291cmNlOm4sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYT1uZXcgaFsiZGVmYXVsdCJdKHIsbix0LHIuX293bmVyLGkpO2Eub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpvLGNoaWxkSWQ6bn0pfSksci5fY2hpbGRyZW5PYmplY3RzW25dPWEsZShhKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBuPW5ldyBoWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW4sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbz17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixvKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihvKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG49e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYobi5ib2R5LnZhbHVlPWUuZGF0YSk6KG4uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsbi5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG4uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihuLnRvPXQucGF0aCxuLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobil9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG49dC5ib2R5LmF0dHJpYnV0ZSxvPSgwLHYuZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixhPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2EsMF0uY29uY2F0KG8pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYz1pLm9iaix1PWkubGFzdDtjLnNwbGljZSh1LG8pfWVsc2UgaS5vYmpbaS5sYXN0XT1vO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bzpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxuPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtuP3QuX2NoYW5nZU9iamVjdChuLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCIuL1N5bmNPYmplY3QiOjk4LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYT1uKHMpLGM9ZSgiLi9TeW5jT2JqZWN0IiksdT1uKGMpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBhPXRoaXM7YS5fcGFyZW50PXQsYS5fY2hpbGRJZD1yLGEuX293bmVyPW8sYS5fbXNnSWQ9cyxhLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obiksYS5fYnVzPXQuX2J1cyxhLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGo9bihtKSwkPXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSxPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxzLGMsbCl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBmPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLHMuZGF0YSxjKSksZD1mO3JldHVybiBkLl92ZXJzaW9uPWwsZC5fZmlsdGVycz17fSxkLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ZC5fb25GaWx0ZXIoZSl9KSwoMCxpWyJkZWZhdWx0Il0pKHMuY2hpbGRyZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXMuY2hpbGRyZW5zW2VdO2QuX2NoaWxkcmVuT2JqZWN0c1tlXT1uZXcgalsiZGVmYXVsdCJdKGQsZSx0KX0pLGQuX2FsbG9jYXRlTGlzdGVuZXJzKCksZn1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG49e3R5cGU6JC5FWEFDVCxjYWxsYmFjazp0fSxvPWUuaW5kZXhPZigiKiIpO289PT1lLmxlbmd0aC0xJiYoMD09PW8/bi50eXBlPSQuQU5ZOihuLnR5cGU9JC5TVEFSVCxyPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpKSx0aGlzLl9maWx0ZXJzW3JdPW59fSx7a2V5OiJfb25GaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0Ll9maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXQuX2ZpbHRlcnNbcl07bi50eXBlPT09JC5BTlk/bi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLlNUQVJUPzA9PT1lLmZpZWxkLmluZGV4T2YocikmJm4uY2FsbGJhY2soZSk6bi50eXBlPT09JC5FWEFDVCYmZS5maWVsZD09PXImJm4uY2FsbGJhY2soZSl9KX19XSksdH0oZ1siZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09Tyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdCI6OTMsIi4vRGF0YU9iamVjdENoaWxkIjo5NCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuLi91dGlscy91dGlscy5qcyIpLGo9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBjPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLGkscykpLGw9YztyZXR1cm4gbC5fc3Vic2NyaXB0aW9ucz17fSxsLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGwuX29uQ2hhbmdlKGUpfSksbC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxjfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9yZXNwb25zZUxpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmZS5fb25SZXNwb25zZSh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9yZXNwb25zZUxpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiaW52aXRlT2JzZXJ2ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImNyZWF0ZSIsZnJvbTp0Ll9zeW5jaGVyLl9vd25lcix0bzp0Ll9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6dC5fdXJsLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6dC5fc3luY09iai5kYXRhLGF1dGhvcmlzZTplfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci1SQ1Y6ICIsZSksZS5ib2R5LnR5cGUpe2Nhc2Uic3Vic2NyaWJlIjp0Ll9vblN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjp0Ll9vblVuU3Vic2NyaWJlKGUpfX19LHtrZXk6Il9vblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsYWNjZXB0OmZ1bmN0aW9uKCl7dmFyIG49e3VybDpyLHN0YXR1czoib24ifTt0Ll9zdWJzY3JpcHRpb25zW3JdPW47dmFyIG89e307cmV0dXJuKDAsaVsiZGVmYXVsdCJdKSh0Ll9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dC5fY2hpbGRyZW5PYmplY3RzW2VdLmRhdGE7b1tlXT0oMCxtLmRlZXBDbG9uZSkocil9KSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc2NoZW1hOnQuX3NjaGVtYSx2ZXJzaW9uOnQuX3ZlcnNpb24sdmFsdWU6e2RhdGE6KDAsbS5kZWVwQ2xvbmUpKHQuZGF0YSksY2hpbGRyZW5zOm99fX0pLG59LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDMsZGVzYzpyfX0pfX07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlNVQlNDUklQVElPTi1FVkVOVDogIixuKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uVW5TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXQuX3N1YnNjcmlwdGlvbnNbcl07ZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl07dmFyIG89e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsb2JqZWN0Om59O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJVTi1TVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbyksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG8pKX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJihjb25zb2xlLmxvZygiUkVTUE9OU0UtRVZFTlQ6ICIsciksdC5fb25SZXNwb25zZUhhbmRsZXIocikpfX0se2tleToic3Vic2NyaXB0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnN9fV0pLHR9KGdbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPWosdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3QiOjkzLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bihzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1uLHMuX2NoaWxkcmVuPW8scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09Yyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLk9iamVjdFR5cGU9ci5DaGFuZ2VUeXBlPXZvaWQgMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYyksbD1lKCIuLi91dGlscy91dGlscy5qcyIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgcj10aGlzO3IuX29ic2VydmVycz1bXSxyLl9maWx0ZXJzPXt9LHQ/ci5fZGF0YT0oMCxsLmRlZXBDbG9uZSkodCk6ci5fZGF0YT17fSxyLl9pbnRlcm5hbE9ic2VydmUobmV3IGQsci5fZGF0YSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMucHVzaChlKX19LHtrZXk6ImZpbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi4iKTtyZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdCh0KX19LHtrZXk6ImZpbmRCZWZvcmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZS5zcGxpdCgiLiIpO3JldHVybiB0Lmxhc3Q9ci5wb3AoKSx0Lm9iaj10aGlzLl9maW5kV2l0aFNwbGl0KHIpLHR9fSx7a2V5OiJfZmluZFdpdGhTcGxpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dFtlXX0pLHR9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0KGUpfSl9fSx7a2V5OiJfaXNPYnNlcnZhYmxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8ZS5jb25zdHJ1Y3Rvcj09PUFycmF5fX0se2tleToiX2ludGVybmFsT2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG49ZnVuY3Rpb24odCl7ci5fb25DaGFuZ2VzKGUsdCl9O2lmKHQuY29uc3RydWN0b3I9PT1PYmplY3Qpe09iamVjdC5vYnNlcnZlKHQsbik7Zm9yKHZhciBvIGluIHQpci5faXNPYnNlcnZhYmxlKHRbb10pJiZyLl9pbnRlcm5hbE9ic2VydmUoZVsibmV3Il0obyksdFtvXSl9ZWxzZSBpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkpe0FycmF5Lm9ic2VydmUodCxuKTtmb3IodmFyIGkgaW4gdClpZihyLl9pc09ic2VydmFibGUodFtpXSkpe3ZhciBzPWVbIm5ldyJdKG5ldyBwKHRbaV0saSkpO3IuX2ludGVybmFsT2JzZXJ2ZShzLHRbaV0pfX19fX0se2tleToiX29uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiB0KXt2YXIgbz10W25dLm9iamVjdCxpPXZvaWQgMDtpZihvLmNvbnN0cnVjdG9yPT09T2JqZWN0JiYoaT1oLk9CSkVDVCksby5jb25zdHJ1Y3Rvcj09PUFycmF5JiYoaT1oLkFSUkFZKSwic3BsaWNlIj09PXRbbl0udHlwZSkhZnVuY3Rpb24oKXt2YXIgcz10W25dLmluZGV4LGE9ZVsibmV3Il0oIiIrcyksYz1hLnRvU3RyaW5nKCksdT10W25dLnJlbW92ZWQubGVuZ3RoO2lmKDAhPT11KXt2YXIgZj10W25dLnJlbW92ZWQ7Zi5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7ci5faXNPYnNlcnZhYmxlKHQpJiZlLnJlbW92ZUluZGV4KHMrbil9KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YyxkYXRhOnV9KX12YXIgZD10W25dLmFkZGVkQ291bnQ7aWYoMCE9PWQpe3ZhciBoPW8uc2xpY2UocyxzK2QpO2guZm9yRWFjaChmdW5jdGlvbih0LG4pe2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG89ZVsibmV3Il0obmV3IHAodCxzK24pKTtyLl9pbnRlcm5hbE9ic2VydmUobyx0KX19KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShoKX0pfXMhPT1vLmxlbmd0aC0xJiZlLnJlSW5kZXhGcm9tKG8pfSgpO2Vsc2V7dmFyIHM9ZVsibmV3Il0odFtuXS5uYW1lKSxhPXMudG9TdHJpbmcoKTtpZigtMSE9PWEuaW5kZXhPZigiU3ltYm9sIikpY29udGludWU7dmFyIGM9b1t0W25dLm5hbWVdOyJ1cGRhdGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuVVBEQVRFLG9UeXBlOmksZmllbGQ6YSxkYXRhOigwLGwuZGVlcENsb25lKShjKX0pLCJhZGQiPT09dFtuXS50eXBlJiYodGhpcy5faW50ZXJuYWxPYnNlcnZlKHMsYyksdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSksImRlbGV0ZSI9PT10W25dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5SRU1PVkUsb1R5cGU6aSxmaWVsZDphfSl9fX19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfX1dKSxlfSgpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMuX3BhdGg9W10sdGhpcy5fb2JzZXJ2YWJsZXM9e319cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJyZW1vdmVJbmRleCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX29ic2VydmFibGVzW2VdfX0se2tleToicmVJbmRleEZyb20iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLl9vYnNlcnZhYmxlcykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9vYnNlcnZhYmxlc1tyXSxvPWUuaW5kZXhPZihuLm9iaik7bi5pZHghPW8mJihuLmlkeD1vLGRlbGV0ZSB0Ll9vYnNlcnZhYmxlc1tyXSx0Ll9vYnNlcnZhYmxlc1tvXT1uKX0pfX0se2tleToibmV3Iix2YWx1ZTpmdW5jdGlvbihlKXtlLmNvbnN0cnVjdG9yPT1wJiYodGhpcy5fb2JzZXJ2YWJsZXNbZS5pZHhdPWUpO3ZhciB0PXRoaXMuY2xvbmUoKTtyZXR1cm4gdC5fcGF0aC5wdXNoKGUpLHR9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZTtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX3BhdGgucHVzaChlKX0pLHR9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7MD09PXI/ZT10LnRvU3RyaW5nKCk6ZSs9Ii4iK3QudG9TdHJpbmcoKX0pLGV9fV0pLGV9KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5vYmo9dCx0aGlzLmlkeD1yfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR4LnRvU3RyaW5nKCl9fV0pLGV9KCksYj1yLkNoYW5nZVR5cGU9e1VQREFURToidXBkYXRlIixBREQ6ImFkZCIsUkVNT1ZFOiJyZW1vdmUifSxoPXIuT2JqZWN0VHlwZT17T0JKRUNUOiJvYmplY3QiLEFSUkFZOiJhcnJheSJ9O3JbImRlZmF1bHQiXT1mfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMDAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW4obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLHA9bihkKSxiPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksaD1uKGIpLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLl9vd25lcj10LG8uX2J1cz1yLG8uX3N1YlVSTD1uLnJ1bnRpbWVVUkwrIi9zbSIsby5fcmVwb3J0ZXJzPXt9LG8uX29ic2VydmVycz17fSxvLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6by5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpvLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6by5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3IucmVwb3J0ZXI9bi5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4uX293bmVyLHRvOm4uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtuLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihvKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG8pLDIwMD09PW8uYm9keS5jb2RlKXt2YXIgcz1vLmJvZHkucmVzb3VyY2UsYT1uZXcgZlsiZGVmYXVsdCJdKG4scyxlLCJvbiIscixvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO24uX3JlcG9ydGVyc1tzXT1hLHQoYSl9ZWxzZSBpKG8uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihvLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbik7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG4uYm9keS5jb2RlPDIwMClzPW5ldyBoWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsbi5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW4uYm9keS5jb2RlKXt2YXIgYT1uZXcgcFsiZGVmYXVsdCJdKHIsdCxlLCJvbiIsbi5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sbi5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1hLG8oYSkscy5hcHBseShhKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6Im9uTm90aWZpY2F0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbk5vdGlmaWNhdGlvbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10Ll9yZXBvcnRlcnNbZS5ib2R5LnRvXTtyLl9vbkZvcndhcmQoZSl9fSx7a2V5OiJfb25SZW1vdGVDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb20uc2xpY2UoMCwtMTMpLG49e3R5cGU6ZS50eXBlLGZyb206ZS5ib2R5LnNvdXJjZSx1cmw6cixzY2hlbWE6ZS5ib2R5LnNjaGVtYSx2YWx1ZTplLmJvZHkudmFsdWUsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbj0yMDA7ciYmKG49ciksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbiksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblJlbW90ZURlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZSxuPXQuX29ic2VydmVyc1tyXTtpZihuKXt2YXIgbz17dHlwZTplLnR5cGUsdXJsOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbz0yMDA7ciYmKG89ciksMjAwPT09byYmblsiZGVsZXRlIl0oKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpvLHNvdXJjZTp0Ll9vd25lcn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbyksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG8pKX1lbHNlIHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwNCxzb3VyY2U6dC5fb3duZXJ9fSl9fSx7a2V5OiJvd25lciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX293bmVyfX0se2tleToicmVwb3J0ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVwb3J0ZXJzfX0se2tleToib2JzZXJ2ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT12LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjk1LCIuL0RhdGFPYmplY3RSZXBvcnRlciI6OTYsIi4vRGF0YVByb3Zpc2lvbmFsIjo5NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSwxMDA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsYlsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiBjKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGwoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYyhlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGY9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGYpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYj1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1hLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1jLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1sfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3fV19LHt9LFs5Ml0pKDkyKX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcilkZXNjcmlwdG9yLndyaXRhYmxlPXRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKTt9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtpZihwcm90b1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpO2lmKHN0YXRpY1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjt9O30oKTtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO319IC8qKgogKiBTaW1wbGUgY2xhc3MgZm9yIGVhc2llciBsb2dnaW5nCiAqL3ZhciBMb2dnZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBMb2dnZXIobmFtZSl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsTG9nZ2VyKTt0aGlzLnByZWZpeD1uYW1lKyIgIjt0aGlzLmM9Y29uc29sZTt9X2NyZWF0ZUNsYXNzKExvZ2dlcixbe2tleToiZCIsdmFsdWU6ZnVuY3Rpb24gZChtc2cpe2Zvcih2YXIgX2xlbj1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9QXJyYXkoX2xlbj4xP19sZW4tMTowKSxfa2V5PTE7X2tleTxfbGVuO19rZXkrKyl7YXJnc1tfa2V5LTFdPWFyZ3VtZW50c1tfa2V5XTt9YXJndW1lbnRzWzBdPXRoaXMucHJlZml4K2FyZ3VtZW50c1swXTt0aGlzLmMuZGVidWcuYXBwbHkodGhpcy5jLGFyZ3VtZW50cyk7fX0se2tleToibCIsdmFsdWU6ZnVuY3Rpb24gbChtc2cpe2Zvcih2YXIgX2xlbjI9YXJndW1lbnRzLmxlbmd0aCxhcmdzPUFycmF5KF9sZW4yPjE/X2xlbjItMTowKSxfa2V5Mj0xO19rZXkyPF9sZW4yO19rZXkyKyspe2FyZ3NbX2tleTItMV09YXJndW1lbnRzW19rZXkyXTt9YXJndW1lbnRzWzBdPXRoaXMucHJlZml4K2FyZ3VtZW50c1swXTt0aGlzLmMubG9nLmFwcGx5KHRoaXMuYyxhcmd1bWVudHMpO319LHtrZXk6ImkiLHZhbHVlOmZ1bmN0aW9uIGkobXNnKXtmb3IodmFyIF9sZW4zPWFyZ3VtZW50cy5sZW5ndGgsYXJncz1BcnJheShfbGVuMz4xP19sZW4zLTE6MCksX2tleTM9MTtfa2V5MzxfbGVuMztfa2V5MysrKXthcmdzW19rZXkzLTFdPWFyZ3VtZW50c1tfa2V5M107fWFyZ3VtZW50c1swXT10aGlzLnByZWZpeCthcmd1bWVudHNbMF07dGhpcy5jLmluZm8uYXBwbHkodGhpcy5jLGFyZ3VtZW50cyk7fX0se2tleToidyIsdmFsdWU6ZnVuY3Rpb24gdyhtc2cpe2Zvcih2YXIgX2xlbjQ9YXJndW1lbnRzLmxlbmd0aCxhcmdzPUFycmF5KF9sZW40PjE/X2xlbjQtMTowKSxfa2V5ND0xO19rZXk0PF9sZW40O19rZXk0Kyspe2FyZ3NbX2tleTQtMV09YXJndW1lbnRzW19rZXk0XTt9YXJndW1lbnRzWzBdPXRoaXMucHJlZml4K2FyZ3VtZW50c1swXTt0aGlzLmMud2Fybi5hcHBseSh0aGlzLmMsYXJndW1lbnRzKTt9fSx7a2V5OiJlIix2YWx1ZTpmdW5jdGlvbiBlKG1zZyl7Zm9yKHZhciBfbGVuNT1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9QXJyYXkoX2xlbjU+MT9fbGVuNS0xOjApLF9rZXk1PTE7X2tleTU8X2xlbjU7X2tleTUrKyl7YXJnc1tfa2V5NS0xXT1hcmd1bWVudHNbX2tleTVdO31hcmd1bWVudHNbMF09dGhpcy5wcmVmaXgrYXJndW1lbnRzWzBdO3RoaXMuYy5lcnJvci5hcHBseSh0aGlzLmMsYXJndW1lbnRzKTt9fV0pO3JldHVybiBMb2dnZXI7fSgpO2V4cG9ydHMuZGVmYXVsdD1Mb2dnZXI7bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JztPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ZmFsc2U7ZGVzY3JpcHRvci5jb25maWd1cmFibGU9dHJ1ZTtpZigidmFsdWUiIGluIGRlc2NyaXB0b3IpZGVzY3JpcHRvci53cml0YWJsZT10cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcik7fX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7aWYocHJvdG9Qcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKTtpZihzdGF0aWNQcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKTtyZXR1cm4gQ29uc3RydWN0b3I7fTt9KCk7ZXhwb3J0cy5kZWZhdWx0PWFjdGl2YXRlO3ZhciBfU3luY2hlcj1yZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXInKTt2YXIgX0Rpc2NvdmVyeT1yZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0Rpc2NvdmVyeScpO3ZhciBfRGlzY292ZXJ5Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaXNjb3ZlcnkpO3ZhciBfSWRlbnRpdHlNYW5hZ2VyPXJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSWRlbnRpdHlNYW5hZ2VyJyk7dmFyIF9JZGVudGl0eU1hbmFnZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0lkZW50aXR5TWFuYWdlcik7dmFyIF9Mb2dnZXI9cmVxdWlyZSgnLi9Mb2dnZXInKTt2YXIgX0xvZ2dlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTG9nZ2VyKTt2YXIgX3V0aWxzPXJlcXVpcmUoJy4uL3V0aWxzL3V0aWxzJyk7dmFyIF9yb29tSnNvbj1yZXF1aXJlKCcuL3Jvb21Kc29uJyk7dmFyIF9yb29tSnNvbjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm9vbUpzb24pO3ZhciBfRXZlbnRFbWl0dGVyMj1yZXF1aXJlKCcuLi91dGlscy9FdmVudEVtaXR0ZXInKTt2YXIgX0V2ZW50RW1pdHRlcjM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXZlbnRFbWl0dGVyMik7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9O31mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO319ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil7dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTt9cmV0dXJuIGNhbGwmJih0eXBlb2YgY2FsbD09PSJvYmplY3QifHx0eXBlb2YgY2FsbD09PSJmdW5jdGlvbiIpP2NhbGw6c2VsZjt9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKHR5cGVvZiBzdXBlckNsYXNzIT09ImZ1bmN0aW9uIiYmc3VwZXJDbGFzcyE9PW51bGwpe3Rocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2Ygc3VwZXJDbGFzcyk7fXN1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTpmYWxzZSx3cml0YWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfX0pO2lmKHN1cGVyQ2xhc3MpT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzczt9IC8qIGpzaGludCB1bmRlZjogdHJ1ZSAqL3ZhciB1cmw9Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAiO3ZhciBsPW5ldyBfTG9nZ2VyMi5kZWZhdWx0KCJST09NVUkiKTt2YXIgUm9vbVVJUmVwb3J0ZXI9ZnVuY3Rpb24oX0V2ZW50RW1pdHRlcil7X2luaGVyaXRzKFJvb21VSVJlcG9ydGVyLF9FdmVudEVtaXR0ZXIpOyAvKioKICAgICAqIENyZWF0ZSBhIG5ldyBSb29tVUlSZXBvcnRlcgogICAgICogQHBhcmFtIHtzdHJpbmd9IGh5cGVydHlVUkwgLSBVUkwgb2YgdGhlIGh5cGVydHkKICAgICAqIEBwYXJhbSB7TWluaUJ1c30gYnVzIC0gTWluaUJ1cwogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ3VyYXRpb24gLSBjb25maWd1cmF0aW9uIG9mIGh5cGVydHkKICAgICAqL2Z1bmN0aW9uIFJvb21VSVJlcG9ydGVyKGh5cGVydHlVUkwsYnVzLGNvbmZpZ3VyYXRpb24pe19jbGFzc0NhbGxDaGVjayh0aGlzLFJvb21VSVJlcG9ydGVyKTtpZighaHlwZXJ0eVVSTCl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBoeXBlcnR5VVJMIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO2lmKCFidXMpdGhyb3cgbmV3IEVycm9yKCdUaGUgTWluaUJ1cyBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTtpZighY29uZmlndXJhdGlvbil0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjb25maWd1cmF0aW9uIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO2wuZCgiaHlwZXJ0eVVSTDoiLGh5cGVydHlVUkwpO2wuZCgiYnVzOiIsYnVzKTtsLmQoImNvbmZpZ3VyYXRpb246Iixjb25maWd1cmF0aW9uKTt2YXIgX3RoaXMyPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKFJvb21VSVJlcG9ydGVyKS5jYWxsKHRoaXMpKTtfdGhpczIuX2RvbWFpbj0oMCxfdXRpbHMuZGl2aWRlVVJMKShoeXBlcnR5VVJMKS5kb21haW47IC8vIGNyZWF0ZSBPYmplY3QgU2NoZW1hIFVSTApfdGhpczIuX29iamVjdERlc2NVUkw9J2h5cGVydHktY2F0YWxvZ3VlOi8vJytfdGhpczIuX2RvbWFpbisnLy53ZWxsLWtub3duL2RhdGFzY2hlbWFzL1Jvb21VSURhdGFTY2hlbWEnOyAvLyBtYWtlIGh5cGVydHkgZGlzY292ZXJhYmxlCnZhciBkaXNjb3Zlcnk9bmV3IF9EaXNjb3ZlcnkyLmRlZmF1bHQoaHlwZXJ0eVVSTCxidXMpOyAvLyB0ZXN0IGlkZW50aXR5IGdhdGhlcmluZwp2YXIgaWRlbnRpdHlNYW5hZ2VyPW5ldyBfSWRlbnRpdHlNYW5hZ2VyMi5kZWZhdWx0KGh5cGVydHlVUkwsY29uZmlndXJhdGlvbi5ydW50aW1lVVJMLGJ1cyk7aWRlbnRpdHlNYW5hZ2VyLmRpc2NvdmVyVXNlclJlZ2lzdGVyZWQoaHlwZXJ0eVVSTCkudGhlbihmdW5jdGlvbih1c2VyVVJMKXtsLmQoImdvdCB1c2VyIFVSTDoiLHVzZXJVUkwpO30pOyAvLyBtYWtlIGFyZ3VtZW50cyBhdmFpbGFibGUKX3RoaXMyLmh5cGVydHlVUkw9aHlwZXJ0eVVSTDtfdGhpczIuYnVzPWJ1cztfdGhpczIuY29uZmlndXJhdGlvbj1jb25maWd1cmF0aW9uOyAvLyBtYWtlIGV4YW1wbGUgcm9vbSBhdmFpbGFibGUKX3RoaXMyLnJvb209X3Jvb21Kc29uMi5kZWZhdWx0OyAvLyBsaXN0IG9mIGRldmljZVJlcG9ydGVyIG9iamVjdHMKX3RoaXMyLmRldmljZXM9W107IC8vIHN5bmNoZXIKdmFyIHN5bmNoZXI9bmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCxidXMsY29uZmlndXJhdGlvbik7X3RoaXMyLl9zeW5jaGVyPXN5bmNoZXI7IC8vIGdldCBjb250ZXh0cwp2YXIgZGV2aWNlQ29udGV4dHM9X3RoaXMyLmdldERldmljZUNvbnRleHRzKCJyb29tMSIpOyAvLyBjcmVhdGUgZGV2aWNlUmVwb3J0ZXIgb2JqZWN0IGZvciBlYWNoIGNvbnRleHQgYW5kIGFkZCBpdCB0byB0aGUgJ2RldmljZXMnIGxpc3QKZGV2aWNlQ29udGV4dHMuZm9yRWFjaChmdW5jdGlvbihjb250ZXh0LGkpe2wuZCgiYnVpbGRpbmcgc3luY2hlciBiYXNlZCBvbiBjb250ZXh0OiIsY29udGV4dCk7dmFyIF90aGlzPV90aGlzMjtzeW5jaGVyLmNyZWF0ZShfdGhpcy5fb2JqZWN0RGVzY1VSTCxbaHlwZXJ0eVVSTF0sY29udGV4dCkudGhlbihmdW5jdGlvbihkZXZpY2VSZXBvcnRlcil7bC5kKCdkZXZpY2UgcmVwb3J0ZXIgY3JlYXRlZDonLGRldmljZVJlcG9ydGVyKTtfdGhpcy5kZXZpY2VzW2ldPWRldmljZVJlcG9ydGVyOyAvLyB0cmlnZ2VyIGZvciBHVUkgKG9ialVybCBpcyB0aGUgb25lIFJvb21VSU9ic2VydmVyIHN1YnNjcmliZXMgdG8pCl90aGlzLnRyaWdnZXIoJ29ialVybCcsZGV2aWNlUmVwb3J0ZXIuX3VybCk7IC8vIHJlYWN0IHRvIGFkZGVkIGNoaWxkcmVuCmRldmljZVJlcG9ydGVyLm9uQWRkQ2hpbGQoZnVuY3Rpb24oY2hpbGQpe2wuZCgib25BZGRDaGlsZDoiLGNoaWxkKTt2YXIgY2hpbGREYXRhPWNoaWxkLmRhdGE/Y2hpbGQuZGF0YTpjaGlsZC52YWx1ZTtsLmQoImNoaWxkIGRhdGE6IixjaGlsZERhdGEpO190aGlzLnRyaWdnZXIoJ29uQWRkQ2hpbGQnLGNoaWxkRGF0YSk7fSk7IC8vIHJlYWN0IHRvIHN1YnNjcmlwdGlvbiByZXF1ZXN0cwpkZXZpY2VSZXBvcnRlci5vblN1YnNjcmlwdGlvbihmdW5jdGlvbihldmVudCl7bC5kKCdvblN1YnNjcmlwdGlvbjonLGV2ZW50KTsgLy8gYWNjZXB0IGFuZCB0cmlnZ2VyCmV2ZW50LmFjY2VwdCgpO190aGlzLnRyaWdnZXIoJ29uU3Vic2NyaWJlJyxldmVudCk7fSk7fSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtjb25zb2xlLmVycm9yKHJlYXNvbik7fSk7fSk7cmV0dXJuIF90aGlzMjt9IC8qKgogICAgICogTW9kaWZ5IHRoZSBJRCBmaWVsZCBvZiBhbGwgZGV2aWNlIHJlcG9ydGVyIG9iamVjdHMgKHRvIHRlc3QgaWYgc3Vic2NyaXB0aW9uIHdvcmtzKQogICAgICovX2NyZWF0ZUNsYXNzKFJvb21VSVJlcG9ydGVyLFt7a2V5Oidtb2RpZnlSb29tJyx2YWx1ZTpmdW5jdGlvbiBtb2RpZnlSb29tKCl7dmFyIHJTdHJpbmc9TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsNSk7dGhpcy5kZXZpY2VzLmZvckVhY2goZnVuY3Rpb24oZGV2aWNlLGkpe2wuZCgiU2V0dGluZyBJRCB0byAnIityU3RyaW5nKyInIG9mIGRldmljZToiLGRldmljZSk7ZGV2aWNlLmRhdGEuaWQ9clN0cmluZzt9KTt9IC8qKgogICAgICogR2V0IHRoZSBsaXN0IG9mIGRldmljZXMgKEpTT04pIG9mIGEgcm9vbQogICAgICogQHBhcmFtIHtzdHJpbmd9IHJvb21JZCAtIFJvb20gSUQKICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV2aWNlcwogICAgICovfSx7a2V5OidnZXRSYXdEZXZpY2VzJyx2YWx1ZTpmdW5jdGlvbiBnZXRSYXdEZXZpY2VzKHJvb21JZCl7bC5kKCJnZXRSYXdEZXZpY2VzOiIscm9vbUlkKTsgLy92YXIganNvbiA9IHsncm9vbSc6IHJvb21JZH07Ci8vdmFyIHJvb20gPSB0aGlzLm1ha2VSZXF1ZXN0KGpzb24pLmRhdGE7Ci8vIEZvciBub3cgd2UgdXNlIHRoZSBleGFtcGxlIHJvb20KdmFyIHJvb209dGhpcy5yb29tLmRhdGE7bC5kKCJnb3Qgcm9vbToiLHJvb20pO3JldHVybiByb29tLmRldmljZXM7fSAvKioKICAgICAqIENyZWF0ZSBhIERldmljZSBDb250ZXh0IGJhc2VkIG9uIGEgSlNPTiBvYmplY3QKICAgICAqIEBwYXJhbSB7SlNPTn0gZGV2aWNlIC0gcmF3IERldmljZSBpbiBKU09OIGZvcm1hdAogICAgICogQHJldHVybnMge3tpZDogKiwgdHlwZTogc3RyaW5nLCB2YWx1ZXM6ICpbXSwgY2hpbGRyZW46IHN0cmluZ1tdfX0gY29udGV4dAogICAgICovfSx7a2V5OidjcmVhdGVEZXZpY2VDb250ZXh0Jyx2YWx1ZTpmdW5jdGlvbiBjcmVhdGVEZXZpY2VDb250ZXh0KGRldmljZSl7dmFyIGRldmljZUNvbnRleHQ9eyJpZCI6ZGV2aWNlLl9pZCwidHlwZSI6IkxJR0hUIiwidmFsdWVzIjpbeyJuYW1lIjpkZXZpY2UubmFtZSwidW5pdCI6InNvbWVVbml0IiwidmFsdWUiOmRldmljZSwic3VtIjoic29tZVVuaXQifV0sImNoaWxkcmVuIjpbImFjdGlvbnMiLCJjb250ZXh0cyJdfTtyZXR1cm4gZGV2aWNlQ29udGV4dDt9IC8qKgogICAgICogR2V0IGFsbCBkZXZpY2VzIENvbnRleHRzIGZvciBhIGdpdmVuIHJvb20KICAgICAqIEBwYXJhbSB7c3RyaW5nfSByb29tSWQgLSBSb29tIElECiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGNvbnRleHRzCiAgICAgKi99LHtrZXk6J2dldERldmljZUNvbnRleHRzJyx2YWx1ZTpmdW5jdGlvbiBnZXREZXZpY2VDb250ZXh0cyhyb29tSWQpe3ZhciBfdGhpczM9dGhpczt2YXIgZGV2aWNlcz10aGlzLmdldFJhd0RldmljZXMocm9vbUlkKTt2YXIgZGV2aWNlQ29udGV4dHM9W107ZGV2aWNlcy5mb3JFYWNoKGZ1bmN0aW9uKGRldmljZSxpKXtkZXZpY2VDb250ZXh0c1tpXT1fdGhpczMuY3JlYXRlRGV2aWNlQ29udGV4dChkZXZpY2UpO30pO3JldHVybiBkZXZpY2VDb250ZXh0czt9IC8qKgogICAgICogR2V0IHRoZSByYXcgRGV2aWNlIEpTT04gYmFzZWQgb24gSUQKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZAogICAgICogQHJldHVybnMge0pTT059IGRldmljZQogICAgICovfSx7a2V5OidnZXRSYXdEZXZpY2UnLHZhbHVlOmZ1bmN0aW9uIGdldFJhd0RldmljZShkZXZpY2VJZCl7bC5kKCJnZXRSYXdEZXZpY2U6IixkZXZpY2VJZCk7IC8vdmFyIGpzb24gPSB7J2RldmljZSc6IGRldmljZUlkfTsKLy92YXIgZGV2aWNlID0gdGhpcy5tYWtlUmVxdWVzdChqc29uKS5kYXRhOwovLyBGb3Igbm93IHdlIHVzZSB0aGUgZGV2aWNlIG9mIHRoZSBleGFtcGxlIHJvb20KdmFyIGRldmljZT10aGlzLnJvb20uZGF0YS5kZXZpY2VzWzBdO2wuZCgiZ290IGRldmljZToiLGRldmljZSk7cmV0dXJuIGRldmljZTt9IC8qKgogICAgICogTWFrZXMgYSBQT1NUIHJlcXVlc3Qgd2l0aCB0aGUgZ2l2ZW4gcGF5bG9hZCBhbmQgcmV0dXJucyB0aGUgcmVzcG9uc2UKICAgICAqIEBwYXJhbSB7SlNPTn0ganNvbiAtIEpTT04gcGF5bG9hZCBmb3IgUE9TVCByZXF1ZXN0CiAgICAgKiBAcmV0dXJucyB7SlNPTn0gcmVzcG9uc2UKICAgICAqL30se2tleTonbWFrZVJlcXVlc3QnLHZhbHVlOmZ1bmN0aW9uIG1ha2VSZXF1ZXN0KGpzb24pe3ZhciB4bWxIdHRwPW5ldyBYTUxIdHRwUmVxdWVzdCgpO3RyeXt4bWxIdHRwLm9wZW4oJ1BPU1QnLHVybCxmYWxzZSk7IC8vIGZhbHNlIGZvciBzeW5jaHJvbm91cyByZXF1ZXN0CnhtbEh0dHAuc2VuZChKU09OLnN0cmluZ2lmeShqc29uKSk7fWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoJ3JlcXVlc3QgZmFpbGVkOiAnLGUpO3Rocm93IGU7fWNvbnNvbGUubG9nKCdnb3QgcmVzcG9uc2U6ICcreG1sSHR0cC5yZXNwb25zZVRleHQpO3ZhciByZXNwPXhtbEh0dHAucmVzcG9uc2VUZXh0O3RyeXtyZXNwPUpTT04ucGFyc2UoeG1sSHR0cC5yZXNwb25zZVRleHQpO31jYXRjaChlKXsgLy9jb25zb2xlLmxvZygnanNvbiBwYXJzaW5nIGZhaWxlZCwgcHJvYmFibHkgbm90IGpzb246JywgcmVzcCk7Cn1sLmQoIm1ha2VSZXF1ZXN0IHJldHVybnM6IixyZXNwKTsgLy8gVE9ETyBlcnJvciBoYW5kbGluZwpyZXR1cm4gcmVzcDt9fV0pO3JldHVybiBSb29tVUlSZXBvcnRlcjt9KF9FdmVudEVtaXR0ZXIzLmRlZmF1bHQpO2Z1bmN0aW9uIGFjdGl2YXRlKGh5cGVydHlVUkwsYnVzLGNvbmZpZ3VyYXRpb24pe3JldHVybiB7bmFtZTonUm9vbVVJUmVwb3J0ZXInLGluc3RhbmNlOm5ldyBSb29tVUlSZXBvcnRlcihoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKX07fW1vZHVsZS5leHBvcnRzPWV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuLi91dGlscy9FdmVudEVtaXR0ZXIiOjcsIi4uL3V0aWxzL3V0aWxzIjo4LCIuL0xvZ2dlciI6NCwiLi9yb29tSnNvbiI6Niwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9EaXNjb3ZlcnkiOjEsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSWRlbnRpdHlNYW5hZ2VyIjoyLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXIiOjN9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pOyAvLyBleGFtcGxlIFJvb20KdmFyIHJvb21Kc29uPXsiZGF0YSI6eyJfX3YiOjEsIl9pZCI6IjU3MjA4ZTE4MWJmNDljYjI1ZjRiY2ZkMyIsImlzQm9va2VkIjpmYWxzZSwibmFtZSI6InJvb20xIiwibWVtYmVycyI6W10sImRldmljZXMiOlt7Il9fdiI6MCwiX2lkIjoiNTcyMDhlMTgxYmY0OWNiMjVmNGJjZmQ2IiwibmFtZSI6Im15TGlnaHQiLCJyb29tIjoiNTcyMDhlMTgxYmY0OWNiMjVmNGJjZmQzIiwibGFzdFZhbHVlcyI6W10sInJlZ2lzdHJhdGlvbiI6eyJ0aW1lc3RhbXAiOiIyMDE2LTA0LTI3VDEwOjAyOjAwLjkzN1oiLCJyZWdpc3RlcmVkIjpmYWxzZX19XX19O2V4cG9ydHMuZGVmYXVsdD1yb29tSnNvbjttb2R1bGUuZXhwb3J0cz1leHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcilkZXNjcmlwdG9yLndyaXRhYmxlPXRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKTt9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtpZihwcm90b1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpO2lmKHN0YXRpY1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjt9O30oKTtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO319IC8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLyAvKioKICogRXZlbnRFbWl0dGVyCiAqIEFsbCBjbGFzc2VzIHdoaWNoIGV4dGVuZHMgdGhpcywgY2FuIGhhdmUgYWRkRXZlbnRMaXN0ZW5lciBhbmQgdHJpZ2dlciBldmVudHM7CiAqL3ZhciBFdmVudEVtaXR0ZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxFdmVudEVtaXR0ZXIpO31fY3JlYXRlQ2xhc3MoRXZlbnRFbWl0dGVyLFt7a2V5OiJhZGRFdmVudExpc3RlbmVyIiwgLyoqCiAgICogYWRkRXZlbnRMaXN0ZW5lciBsaXN0ZW4gZm9yIGFuIGV2ZW50VHlwZQogICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICBldmVudFR5cGUgLSBsaXN0ZW5pbmcgZm9yIHRoaXMgdHlwZSBvZiBldmVudAogICAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgICAgICBjYiAgICAgICAgLSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGV2ZW50IGl0IGlzIGludm9rZWQKICAgKi92YWx1ZTpmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSxjYil7dmFyIF90aGlzPXRoaXM7X3RoaXNbZXZlbnRUeXBlXT1jYjt9IC8qKgogICAqIEludm9rZSB0aGUgZXZlbnRUeXBlCiAgICogQHBhcmFtICB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB3aWxsIGJlIGludm9rZWQKICAgKiBAcGFyYW0gIHtvYmplY3R9IHBhcmFtcyAtIHBhcmFtZXRlcnMgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGFkZEV2ZW50TGlzdGVuZXIKICAgKi99LHtrZXk6InRyaWdnZXIiLHZhbHVlOmZ1bmN0aW9uIHRyaWdnZXIoZXZlbnRUeXBlLHBhcmFtcyl7dmFyIF90aGlzPXRoaXM7aWYoX3RoaXNbZXZlbnRUeXBlXSl7X3RoaXNbZXZlbnRUeXBlXShwYXJhbXMpO319fV0pO3JldHVybiBFdmVudEVtaXR0ZXI7fSgpO2V4cG9ydHMuZGVmYXVsdD1FdmVudEVtaXR0ZXI7bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JztPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTtleHBvcnRzLmRpdmlkZVVSTD1kaXZpZGVVUkw7ZXhwb3J0cy5kZWVwQ2xvbmU9ZGVlcENsb25lO2V4cG9ydHMuZ2V0Q29uZmlnPWdldENvbmZpZztleHBvcnRzLmdldFVzZXJNZWRpYT1nZXRVc2VyTWVkaWE7ZXhwb3J0cy5zZXJpYWxpemU9c2VyaWFsaXplO2V4cG9ydHMuZ2V0VGVtcGxhdGU9Z2V0VGVtcGxhdGU7IC8qKgogKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoqLyAvLyBqc2hpbnQgYnJvd3Nlcjp0cnVlLCBqcXVlcnk6IHRydWUKLy8ganNoaW50IHZhcnN0bXQ6IHRydWUKLyogZ2xvYmFsIEhhbmRsZWJhcnMgKi8gLyoqCiAqIFN1cHBvcnQgbW9kdWxlIHdpdGggc29tZSBmdW5jdGlvbnMgd2lsbCBiZSB1c2VmdWwKICogQG1vZHVsZSB1dGlscwogKi8gLyoqCiAqIEB0eXBlZGVmIGRpdmlkZVVSTAogKiBAdHlwZSBPYmplY3QKICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGlkZW50aXR5IFRoZSBpZGVudGl0eSBvZiBVUkwKICovIC8qKgogKiBEaXZpZGUgYW4gdXJsIGluIHR5cGUsIGRvbWFpbiBhbmQgaWRlbnRpdHkKICogQHBhcmFtICB7VVJMLlVSTH0gdXJsIC0gdXJsIGFkZHJlc3MKICogQHJldHVybiB7ZGl2aWRlVVJMfSB0aGUgcmVzdWx0IG9mIGRpdmlkZVVSTAogKi9mdW5jdGlvbiBkaXZpZGVVUkwodXJsKXsgLy8gbGV0IHJlID0gLyhbYS16QS1aLV0qKT86XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn1cLlthLXpdezIsNn1cYikqKFwvW1wvXGRcd1wuLV0qKSooPzpbXD9dKSooLispKi9naTsKdmFyIHJlPS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpO3ZhciBzdWJzdD0nJDEsJDIsJDMnO3ZhciBwYXJ0cz11cmwucmVwbGFjZShyZSxzdWJzdCkuc3BsaXQoJywnKTsgLy8gSWYgdGhlIHVybCBoYXMgbm8gcHJvdG9jb2wsIHRoZSBkZWZhdWx0IHByb3RvY29sIHNldCBpcyBodHRwcwppZihwYXJ0c1swXT09PXVybCl7cGFydHNbMF09J2h0dHBzJztwYXJ0c1sxXT11cmw7fXZhciByZXN1bHQ9e3R5cGU6cGFydHNbMF0sZG9tYWluOnBhcnRzWzFdLGlkZW50aXR5OnBhcnRzWzJdfTtyZXR1cm4gcmVzdWx0O30gLyoqCiAqIE1ha2UgYSBDT1BZIG9mIHRoZSBvcmlnaW5hbCBkYXRhCiAqIEBwYXJhbSAge09iamVjdH0gIG9iaiAtIG9iamVjdCB0byBiZSBjbG9uZWQKICogQHJldHVybiB7T2JqZWN0fQogKi9mdW5jdGlvbiBkZWVwQ2xvbmUob2JqKXsgLy9UT0RPOiBzaW1wbGUgYnV0IGluZWZmaWNpZW50IEpTT04gZGVlcCBjbG9uZS4uLgppZihvYmopcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7fSAvKioKICogR2V0IHRoZSBjb25maWd1cmF0aW9uIGZyb20gYW4ganNvbiBmaWxlOwogKiBAcGFyYW0gIHtKU09OT2JqZWN0fSBqc29uRmlsZQogKiBAcmV0dXJuIHtvYmplY3R9CiAqL2Z1bmN0aW9uIGdldENvbmZpZyhKU09OT2JqZWN0KXtjb25zb2xlLmxvZygncHJvZHVjdGlvbicpO3JldHVybiBKU09OT2JqZWN0Wydwcm9kdWN0aW9uJ107fSAvKioKICogR2V0IFdlYlJUQyBBUEkgcmVzb3VyY2VzCiAqIEBwYXJhbSAge09iamVjdH0gICAgIG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVzb3VyY2VzIHdpbGwgYmUgdXNlZCAoY2FtZXJhLCBtaWMsIHJlc29sdXRpb24sIGV0Yyk7CiAqIEByZXR1cm4ge1Byb21pc2V9CiAqL2Z1bmN0aW9uIGdldFVzZXJNZWRpYShjb25zdHJhaW50cyl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbihmdW5jdGlvbihtZWRpYVN0cmVhbSl7cmVzb2x2ZShtZWRpYVN0cmVhbSk7fSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtyZWplY3QocmVhc29uKTt9KTt9KTt9ZnVuY3Rpb24gc2VyaWFsaXplKCl7JC5mbi5zZXJpYWxpemVPYmplY3Q9ZnVuY3Rpb24oKXt2YXIgbz17fTt2YXIgYT10aGlzLnNlcmlhbGl6ZUFycmF5KCk7JC5lYWNoKGEsZnVuY3Rpb24oKXtpZihvW3RoaXMubmFtZV0hPT11bmRlZmluZWQpe2lmKCFvW3RoaXMubmFtZV0ucHVzaCl7b1t0aGlzLm5hbWVdPVtvW3RoaXMubmFtZV1dO31vW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlfHwnJyk7fWVsc2Uge29bdGhpcy5uYW1lXT10aGlzLnZhbHVlfHwnJzt9fSk7cmV0dXJuIG87fTskLmZuLnNlcmlhbGl6ZU9iamVjdEFycmF5PWZ1bmN0aW9uKCl7dmFyIG89e307dmFyIGE9dGhpcy5zZXJpYWxpemVBcnJheSgpOyQuZWFjaChhLGZ1bmN0aW9uKCl7aWYob1t0aGlzLm5hbWVdIT09dW5kZWZpbmVkKXtpZighb1t0aGlzLm5hbWVdLnB1c2gpe29bdGhpcy5uYW1lXT1bb1t0aGlzLm5hbWVdXTt9b1t0aGlzLm5hbWVdLnB1c2godGhpcy52YWx1ZXx8JycpO31lbHNlIHtpZighb1t0aGlzLm5hbWVdKW9bdGhpcy5uYW1lXT1bXTtvW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlfHwnJyk7fX0pO3JldHVybiBvO307fWZ1bmN0aW9uIGdldFRlbXBsYXRlKHBhdGgsc2NyaXB0KXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2lmKEhhbmRsZWJhcnMudGVtcGxhdGVzPT09dW5kZWZpbmVkfHxIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXT09PXVuZGVmaW5lZCl7SGFuZGxlYmFycy50ZW1wbGF0ZXM9e307fWVsc2Uge3Jlc29sdmUoSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0pO312YXIgdGVtcGxhdGVGaWxlPSQuYWpheCh7dXJsOnBhdGgrJy5oYnMnLHN1Y2Nlc3M6ZnVuY3Rpb24gc3VjY2VzcyhkYXRhKXtIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXT1IYW5kbGViYXJzLmNvbXBpbGUoZGF0YSk7fSxmYWlsOmZ1bmN0aW9uIGZhaWwocmVhc29uKXtyZXR1cm4gcmVhc29uO319KTt2YXIgc2NyaXB0RmlsZT0kLmdldFNjcmlwdChzY3JpcHQpO3ZhciByZXF1ZXN0cz1bXTtpZihwYXRoKXJlcXVlc3RzLnB1c2godGVtcGxhdGVGaWxlKTtpZihzY3JpcHQpcmVxdWVzdHMucHVzaChzY3JpcHRGaWxlKTtQcm9taXNlLmFsbChyZXF1ZXN0cykudGhlbihmdW5jdGlvbihyZXN1bHQpe3Jlc29sdmUoSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0pO30pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7cmVqZWN0KHJlYXNvbik7fSk7fSk7fQoKfSx7fV19LHt9LFs1XSkoNSkKfSk7",
      "sourceCodeClassname": "RoomUIReporter",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10009,
    "type": "Hyperties",
    "version": "0.1",
    "description": "Description of RoomUIReporter",
    "objectName": "RoomUIReporter",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "UserStatus": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBIeXBlcnR5RGlzY292ZXJ5LmpzIAovLyB2ZXJzaW9uOiAwLjIuMAoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0Lkh5cGVydHlEaXNjb3Zlcnk9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJnUpcmV0dXJuIHUocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgYT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgYS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixhfXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjM4fV0sOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NjJ9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjYzLCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo2NCwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo2NSwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo2Nn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6MzF9XSwxNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjE1LCIuLyQud2tzIjo1OX1dLDE1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDE5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjoyMn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMX1dLDIxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGEsZixsPWUmYy5GLGQ9ZSZjLkcscD1lJmMuUywkPWUmYy5QLHY9ZSZjLkIseT1lJmMuVyxoPWQ/bzpvW3RdfHwob1t0XT17fSksYj1kP246cD9uW3RdOihuW3RdfHx7fSlbc107ZCYmKHI9dCk7Zm9yKHUgaW4gcilhPSFsJiZiJiZ1IGluIGIsYSYmdSBpbiBofHwoZj1hP2JbdV06clt1XSxoW3VdPWQmJiJmdW5jdGlvbiIhPXR5cGVvZiBiW3VdP3JbdV06diYmYT9pKGYsbik6eSYmYlt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShmKTokJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZiwkJiYoKGhbc118fChoW3NdPXt9KSlbdV09ZikpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLHQuZXhwb3J0cz1jfSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5nbG9iYWwiOjI0fV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYz1lKCIuLyQudG8tbGVuZ3RoIiksdT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixhKXt2YXIgZixsLGQscD11KGUpLCQ9bihyLGEsdD8yOjEpLHY9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgcCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHApKWZvcihmPWMoZS5sZW5ndGgpO2Y+djt2KyspdD8kKHMobD1lW3ZdKVswXSxsWzFdKTokKGVbdl0pO2Vsc2UgZm9yKGQ9cC5jYWxsKGUpOyEobD1kLm5leHQoKSkuZG9uZTspbyhkLCQsbC52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtYXJyYXktaXRlciI6MzAsIi4vJC5pdGVyLWNhbGwiOjMyLCIuLyQudG8tbGVuZ3RoIjo1NiwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjYwfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6MzgsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5wcm9wZXJ0eS1kZXNjIjo0Mn1dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjI0fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjoxNX1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDMxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6MTN9XSwzMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6MzgsIi4vJC5oaWRlIjoyNiwiLi8kLnByb3BlcnR5LWRlc2MiOjQyLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYz1lKCIuLyQuaGFzIiksdT1lKCIuLyQuaXRlcmF0b3JzIiksYT1lKCIuLyQuaXRlci1jcmVhdGUiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGw9ZSgiLi8kIikuZ2V0UHJvdG8sZD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSwkPSJAQGl0ZXJhdG9yIix2PSJrZXlzIix5PSJ2YWx1ZXMiLGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGIsbSxnLHgpe2Eocix0LGIpO3ZhciBqLHcsXz1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBQKXJldHVybiBQW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIsTz1tPT15LE09ITEsUD1lLnByb3RvdHlwZSxTPVBbZF18fFBbJF18fG0mJlBbbV0sRT1TfHxfKG0pO2lmKFMpe3ZhciBVPWwoRS5jYWxsKG5ldyBlKSk7ZihVLGssITApLCFuJiZjKFAsJCkmJnMoVSxkLGgpLE8mJlMubmFtZSE9PXkmJihNPSEwLEU9ZnVuY3Rpb24oKXtyZXR1cm4gUy5jYWxsKHRoaXMpfSl9aWYobiYmIXh8fCFwJiYhTSYmUFtkXXx8cyhQLGQsRSksdVt0XT1FLHVba109aCxtKWlmKGo9e3ZhbHVlczpPP0U6Xyh5KSxrZXlzOmc/RTpfKHYpLGVudHJpZXM6Tz9fKCJlbnRyaWVzIik6RX0seClmb3IodyBpbiBqKXcgaW4gUHx8aShQLHcsalt3XSk7ZWxzZSBvKG8uUCtvLkYqKHB8fE0pLHQsaik7cmV0dXJuIGp9fSx7Ii4vJCI6MzgsIi4vJC5leHBvcnQiOjIxLCIuLyQuaGFzIjoyNSwiLi8kLmhpZGUiOjI2LCIuLyQuaXRlci1jcmVhdGUiOjMzLCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLmxpYnJhcnkiOjM5LCIuLyQucmVkZWZpbmUiOjQ0LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuLyQud2tzIjo1OX1dLDM2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLnRhc2siKS5zZXQsdT1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixhPXMucHJvY2VzcyxmPXMuUHJvbWlzZSxsPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGEpLGQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGwmJihlPWEuZG9tYWluKSYmKGEuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihsKWk9ZnVuY3Rpb24oKXthLm5leHRUaWNrKGQpfTtlbHNlIGlmKHUpe3ZhciBwPTEsJD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IHUoZCkub2JzZXJ2ZSgkLHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpeyQuZGF0YT1wPS1wfX1lbHNlIGk9ZiYmZi5yZXNvbHZlP2Z1bmN0aW9uKCl7Zi5yZXNvbHZlKCkudGhlbihkKX06ZnVuY3Rpb24oKXtjLmNhbGwocyxkKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpsJiZhLmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjoxNSwiLi8kLmdsb2JhbCI6MjQsIi4vJC50YXNrIjo1M31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mYWlscyI6MjJ9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjQ0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6MjZ9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjozOCwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtb2JqZWN0IjozMX1dLDQ3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjozOCwiLi8kLmNvcmUiOjE2LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQud2tzIjo1OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjozOCwiLi8kLmhhcyI6MjUsIi4vJC53a3MiOjU5fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6MjR9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQud2tzIjo1OX1dLDUxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksdT1uKHIpLGE9Yy5sZW5ndGg7cmV0dXJuIDA+dXx8dT49YT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQodSksNTUyOTY+aXx8aT41NjMxOXx8dSsxPT09YXx8KHM9Yy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQodSk6aTplP2Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLnRvLWludGVnZXIiOjU0fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYz1lKCIuLyQuaW52b2tlIiksdT1lKCIuLyQuaHRtbCIpLGE9ZSgiLi8kLmRvbS1jcmVhdGUiKSxmPWUoIi4vJC5nbG9iYWwiKSxsPWYucHJvY2VzcyxkPWYuc2V0SW1tZWRpYXRlLHA9Zi5jbGVhckltbWVkaWF0ZSwkPWYuTWVzc2FnZUNoYW5uZWwsdj0wLHk9e30saD0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoeS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9eVtlXTtkZWxldGUgeVtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4geVsrK3ZdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIHlbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OiQ/KG89bmV3ICQsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPW0sbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49aCBpbiBhKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGEoInNjcmlwdCIpKVtoXT1mdW5jdGlvbigpe3UucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKGIsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6cH19LHsiLi8kLmNvZiI6MTUsIi4vJC5jdHgiOjE3LCIuLyQuZG9tLWNyZWF0ZSI6MjAsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaHRtbCI6MjcsIi4vJC5pbnZva2UiOjI4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLmlvYmplY3QiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo1NH1dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLnNoYXJlZCI6NDksIi4vJC51aWQiOjU4fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDYxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5pdGVyLXN0ZXAiOjM2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLnRvLWlvYmplY3QiOjU1fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo0MSwiLi8kLnRvLW9iamVjdCI6NTd9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe30se31dLDY0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLmN0eCIpLHU9ZSgiLi8kLmNsYXNzb2YiKSxhPWUoIi4vJC5leHBvcnQiKSxmPWUoIi4vJC5pcy1vYmplY3QiKSxsPWUoIi4vJC5hbi1vYmplY3QiKSxkPWUoIi4vJC5hLWZ1bmN0aW9uIikscD1lKCIuLyQuc3RyaWN0LW5ldyIpLCQ9ZSgiLi8kLmZvci1vZiIpLHY9ZSgiLi8kLnNldC1wcm90byIpLnNldCx5PWUoIi4vJC5zYW1lLXZhbHVlIiksaD1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxiPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksbT1lKCIuLyQubWljcm90YXNrIiksZz0iUHJvbWlzZSIseD1zLnByb2Nlc3Msaj0icHJvY2VzcyI9PXUoeCksdz1zW2ddLF89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gdihyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmXygpLHYodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOnkoZSx0KX0sTT1mdW5jdGlvbihlKXt2YXIgdD1sKGUpW2hdO3JldHVybiB2b2lkIDAhPXQ/dDplfSxQPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFM9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sRT1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFU9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO20oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxjPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLHU9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP3UoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVAocikpP2kuY2FsbChyLGMsdSk6YyhyKSk6dShuKX1jYXRjaChhKXt1KGEpfX07ci5sZW5ndGg+aTspYyhyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO1QobykmJihqP3guZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxUPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFUKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLFUodCwhMCkpfSxBPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVAoZSkpP20oZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxjKEEsbiwxKSxjKEQsbiwxKSl9Y2F0Y2gobyl7RC5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLFUociwhMSkpfWNhdGNoKG4pe0QuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe2QoZSk7dmFyIHQ9dGhpcy5fZD17cDpwKHRoaXMsdyxnKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYyhBLHQsMSksYyhELHQsMSkpfWNhdGNoKHIpe0QuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFMoYih0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJlUobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksYShhLkcrYS5XK2EuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxnKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShnKSxuPWUoIi4vJC5jb3JlIilbZ10sYShhLlMrYS5GKiFrLGcse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqKCFrfHxfKCEwKSksZyx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLGcse2FsbDpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IFModCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGM9RShmdW5jdGlvbigpeyQoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYz1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxjW29dPWUsLS1yfHxuKGMpKX0saSl9KTpuKGMpfSk7cmV0dXJuIGMmJmkoYy5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgUyh0KSxuPXIucmVqZWN0LG89RShmdW5jdGlvbigpeyQoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjM4LCIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5leHBvcnQiOjIxLCIuLyQuZm9yLW9mIjoyMywiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxLCIuLyQuaXRlci1kZXRlY3QiOjM1LCIuLyQubGlicmFyeSI6MzksIi4vJC5taWNyb3Rhc2siOjQwLCIuLyQucmVkZWZpbmUtYWxsIjo0MywiLi8kLnNhbWUtdmFsdWUiOjQ1LCIuLyQuc2V0LXByb3RvIjo0NiwiLi8kLnNldC1zcGVjaWVzIjo0NywiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjUwLCIuLyQuc3RyaWN0LW5ldyI6NTEsIi4vJC53a3MiOjU5fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5zdHJpbmctYXQiOjUyfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjYxfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiLi9oeXBlcnR5LWRpc2NvdmVyeS9IeXBlcnR5RGlzY292ZXJ5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1pWyJkZWZhdWx0Il0sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL2h5cGVydHktZGlzY292ZXJ5L0h5cGVydHlEaXNjb3ZlcnkiOjY4fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOiJkYXRhT2JqZWN0Oi8vIitlfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWUudXJsO24/ZShuKTp0KCJEYXRhT2JqZWN0IG5hbWUgZG9lcyBub3QgZXhpc3QiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxzPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm99fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2U6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxuKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygibWVzc2FnZSByZXBseSIscik7dmFyIG89dm9pZCAwLGk9dm9pZCAwLHM9dm9pZCAwLGM9ci5ib2R5LnZhbHVlO2ZvcihvIGluIGMpaWYodm9pZCAwIT09Y1tvXS5sYXN0TW9kaWZpZWQpaWYodm9pZCAwPT09aSlpPW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKSxzPW87ZWxzZXt2YXIgdT1uZXcgRGF0ZShjW29dLmxhc3RNb2RpZmllZCk7aS5nZXRUaW1lKCk8dS5nZXRUaW1lKCkmJihpPXUscz1vKX1jb25zb2xlLmxvZygiTGFzdCBIeXBlcnR5OiAiLHMsaSk7dmFyIGE9cztpZih2b2lkIDA9PT1hKXJldHVybiBuKCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIik7dmFyIGY9e2lkOmUsZGVzY3JpcHRvcjpjW2FdLmRlc2NyaXB0b3IsaHlwZXJ0eVVSTDphfTtjb25zb2xlLmxvZygiPT09PiBoeXBlcnR5RGlzY292ZXJ5IG1lc3NhZ2VCdW5kbGU6ICIsZiksdChmKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXI6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIHJlcGx5IixyKTt2YXIgbj1yLmJvZHkudmFsdWU7cmV0dXJuIG4/dm9pZCBlKG4pOnQoIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6NjksImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDY5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLCRbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIHUoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBsPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihsKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLCQ9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9dSxyLmdldFVzZXJFbWFpbEZyb21VUkw9YSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbNjddKSg2Nyl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgU3luY2hlci5qcyAKLy8gdmVyc2lvbjogMC4yLjAKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5TeW5jaGVyPWUoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG4pe2Z1bmN0aW9uIG8ocyxhKXtpZighcltzXSl7aWYoIXRbc10pe3ZhciBjPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZjKXJldHVybiBjKHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIHU9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IHUuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsdX12YXIgbD1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciByPXRbc11bMV1bZV07cmV0dXJuIG8ocj9yOmUpfSxsLGwuZXhwb3J0cyxlLHQscixuKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxuLmxlbmd0aDtzKyspbyhuW3NdKTtyZXR1cm4gb30oezE6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZSYmIUFycmF5Lm9ic2VydmUmJmZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciByPWUuZ2V0Tm90aWZpZXIsbj0icGVyZm9ybUNoYW5nZSIsbz0iX29yaWdpbmFsIixpPSJzcGxpY2UiLHM9e3B1c2g6ZnVuY3Rpb24gYyhlKXt2YXIgdD1hcmd1bWVudHMscz1jW29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDpzLXQubGVuZ3RoLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSx1bnNoaWZ0OmZ1bmN0aW9uIHUoZSl7dmFyIHQ9YXJndW1lbnRzLHM9dVtvXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30scG9wOmZ1bmN0aW9uIGwoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWxbb10uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6dGhpcy5sZW5ndGgsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc2hpZnQ6ZnVuY3Rpb24gZigpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9ZltvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNwbGljZTpmdW5jdGlvbiBkKGUsdCl7dmFyIHM9YXJndW1lbnRzLGE9ZFtvXS5hcHBseSh0aGlzLHMpO3JldHVybihhLmxlbmd0aHx8cy5sZW5ndGg+MikmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDplLGFkZGVkQ291bnQ6cy5sZW5ndGgtMixyZW1vdmVkOmF9fSx0aGlzKSxhfX07Zm9yKHZhciBhIGluIHMpc1thXVtvXT10LnByb3RvdHlwZVthXSx0LnByb3RvdHlwZVthXT1zW2FdO3Qub2JzZXJ2ZT1mdW5jdGlvbih0LHIpe3JldHVybiBlLm9ic2VydmUodCxyLFsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIixpXSl9LHQudW5vYnNlcnZlPWUudW5vYnNlcnZlfShPYmplY3QsQXJyYXkpfSx7fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6MTd9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSI6MTh9XSw0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6MTl9XSw1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6MjB9XSw2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjoyMX1dLDc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjIyfV0sODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6MjN9XSw5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6MjR9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIjoyNX1dLDExOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMCxyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LHt9XSwxMjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjR9XSwxMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89ITA7bzspe3ZhciBpPWUscz10LGE9cjtvPSExLG51bGw9PT1pJiYoaT1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBjPW4oaSxzKTtpZih2b2lkIDAhPT1jKXtpZigidmFsdWUiaW4gYylyZXR1cm4gYy52YWx1ZTt2YXIgdT1jLmdldDtpZih2b2lkIDA9PT11KXJldHVybjtyZXR1cm4gdS5jYWxsKGEpfXZhciBsPU9iamVjdC5nZXRQcm90b3R5cGVPZihpKTtpZihudWxsPT09bClyZXR1cm47ZT1sLHQ9cyxyPWEsbz0hMCxjPWw9dm9pZCAwfX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo1fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUiKVsiZGVmYXVsdCJdLG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1uKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYobz9vKGUsdCk6ZS5fX3Byb3RvX189dCl9LHIuX19lc01vZHVsZT0hMH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSI6MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjo4fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vaGVscGVycy90eXBlb2YiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLGlbImRlZmF1bHQiXSkodCkpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9lOnR9fSx7Ii4uL2hlbHBlcnMvdHlwZW9mIjoxNn1dLDE2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5jb25zdHJ1Y3Rvcj09PW4/InN5bWJvbCI6dHlwZW9mIGV9LHIuX19lc01vZHVsZT0hMH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sIjoxMH1dLDE3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuKG4uSlNPTiYmbi5KU09OLnN0cmluZ2lmeXx8SlNPTi5zdHJpbmdpZnkpLmFwcGx5KEpTT04sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jcmVhdGUoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy8kIjo1Nn1dLDE5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxyKX19LHsiLi4vLi4vbW9kdWxlcy8kIjo1Nn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmdldERlc2MoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy8kIjo1NiwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6ODF9XSwyMTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmdldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiOjgyfV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOjgzfV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5zZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIjo4NH1dLDI0OltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy8kLmNvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6ODUsIi4uL21vZHVsZXMvZXM2LnByb21pc2UiOjg2LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjg3LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjg5fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiKSxlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuU3ltYm9sfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6ODUsIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCI6ODh9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDI4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbihlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSx7Ii4vJC5pcy1vYmplY3QiOjQ5fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIiksbz1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLHM7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj0odD1PYmplY3QoZSkpW29dKT9yOmk/bih0KToiT2JqZWN0Ij09KHM9bih0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjpzfX0seyIuLyQuY29mIjozMCwiLi8kLndrcyI6Nzh9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDMxOltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIxLjIuNiJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYS1mdW5jdGlvbiIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixvKXtyZXR1cm4gZS5jYWxsKHQscixuLG8pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0seyIuLyQuYS1mdW5jdGlvbiI6MjZ9XSwzMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LHt9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi8kLmZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vJC5mYWlscyI6Mzh9XSwzNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKSxvPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuLyQuZ2xvYmFsIjo0MSwiLi8kLmlzLW9iamVjdCI6NDl9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uLmdldEtleXMoZSkscj1uLmdldFN5bWJvbHM7aWYocilmb3IodmFyIG8saT1yKGUpLHM9bi5pc0VudW0sYT0wO2kubGVuZ3RoPmE7KXMuY2FsbChlLG89aVthKytdKSYmdC5wdXNoKG8pO3JldHVybiB0fX0seyIuLyQiOjU2fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmN0eCIpLHM9InByb3RvdHlwZSIsYT1mdW5jdGlvbihlLHQscil7dmFyIGMsdSxsLGY9ZSZhLkYsZD1lJmEuRyxwPWUmYS5TLGI9ZSZhLlAsaD1lJmEuQix2PWUmYS5XLHk9ZD9vOm9bdF18fChvW3RdPXt9KSxfPWQ/bjpwP25bdF06KG5bdF18fHt9KVtzXTtkJiYocj10KTtmb3IoYyBpbiByKXU9IWYmJl8mJmMgaW4gXyx1JiZjIGluIHl8fChsPXU/X1tjXTpyW2NdLHlbY109ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIF9bY10/cltjXTpoJiZ1P2kobCxuKTp2JiZfW2NdPT1sP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZT9uZXcgZSh0KTplKHQpfTtyZXR1cm4gdFtzXT1lW3NdLHR9KGwpOmImJiJmdW5jdGlvbiI9PXR5cGVvZiBsP2koRnVuY3Rpb24uY2FsbCxsKTpsLGImJigoeVtzXXx8KHlbc109e30pKVtjXT1sKSl9O2EuRj0xLGEuRz0yLGEuUz00LGEuUD04LGEuQj0xNixhLlc9MzIsdC5leHBvcnRzPWF9LHsiLi8kLmNvcmUiOjMxLCIuLyQuY3R4IjozMiwiLi8kLmdsb2JhbCI6NDF9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmN0eCIpLG89ZSgiLi8kLml0ZXItY2FsbCIpLGk9ZSgiLi8kLmlzLWFycmF5LWl0ZXIiKSxzPWUoIi4vJC5hbi1vYmplY3QiKSxhPWUoIi4vJC50by1sZW5ndGgiKSxjPWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHUpe3ZhciBsLGYsZCxwPWMoZSksYj1uKHIsdSx0PzI6MSksaD0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBwKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkocCkpZm9yKGw9YShlLmxlbmd0aCk7bD5oO2grKyl0P2IocyhmPWVbaF0pWzBdLGZbMV0pOmIoZVtoXSk7ZWxzZSBmb3IoZD1wLmNhbGwoZSk7IShmPWQubmV4dCgpKS5kb25lOylvKGQsYixmLnZhbHVlLHQpfX0seyIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmN0eCI6MzIsIi4vJC5pcy1hcnJheS1pdGVyIjo0NywiLi8kLml0ZXItY2FsbCI6NTAsIi4vJC50by1sZW5ndGgiOjc1LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6Nzl9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pb2JqZWN0Iiksbz1lKCIuLyQiKS5nZXROYW1lcyxpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10sYT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIG8oZSl9Y2F0Y2godCl7cmV0dXJuIHMuc2xpY2UoKX19O3QuZXhwb3J0cy5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/YShlKTpvKG4oZSkpfX0seyIuLyQiOjU2LCIuLyQudG8taW9iamVjdCI6NzR9XSw0MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDQyOltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuLyQuZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQsbygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi8kIjo1NiwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLnByb3BlcnR5LWRlc2MiOjYxfV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi8kLmdsb2JhbCI6NDF9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vJC5jb2YiOjMwfV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC53a3MiOjc4fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIik7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PW4oZSl9fSx7Ii4vJC5jb2YiOjMwfV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDUwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuLyQuYW4tb2JqZWN0IjoyOH1dLDUxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxpPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi8kLmhpZGUiKShzLGUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uLmNyZWF0ZShzLHtuZXh0Om8oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi8kIjo1NiwiLi8kLmhpZGUiOjQzLCIuLyQucHJvcGVydHktZGVzYyI6NjEsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC53a3MiOjc4fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmxpYnJhcnkiKSxvPWUoIi4vJC5leHBvcnQiKSxpPWUoIi4vJC5yZWRlZmluZSIpLHM9ZSgiLi8kLmhpZGUiKSxhPWUoIi4vJC5oYXMiKSxjPWUoIi4vJC5pdGVyYXRvcnMiKSx1PWUoIi4vJC5pdGVyLWNyZWF0ZSIpLGw9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksZj1lKCIuLyQiKS5nZXRQcm90byxkPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxwPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLGI9IkBAaXRlcmF0b3IiLGg9ImtleXMiLHY9InZhbHVlcyIseT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsXyxnLG0sail7dShyLHQsXyk7dmFyICQsTyx3PWZ1bmN0aW9uKGUpe2lmKCFwJiZlIGluIEUpcmV0dXJuIEVbZV07c3dpdGNoKGUpe2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSB2OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LGs9dCsiIEl0ZXJhdG9yIix4PWc9PXYsQz0hMSxFPWUucHJvdG90eXBlLFM9RVtkXXx8RVtiXXx8ZyYmRVtnXSxUPVN8fHcoZyk7aWYoUyl7dmFyIFI9ZihULmNhbGwobmV3IGUpKTtsKFIsaywhMCksIW4mJmEoRSxiKSYmcyhSLGQseSkseCYmUy5uYW1lIT09diYmKEM9ITAsVD1mdW5jdGlvbigpe3JldHVybiBTLmNhbGwodGhpcyl9KX1pZihuJiYhanx8IXAmJiFDJiZFW2RdfHxzKEUsZCxUKSxjW3RdPVQsY1trXT15LGcpaWYoJD17dmFsdWVzOng/VDp3KHYpLGtleXM6bT9UOncoaCksZW50cmllczp4P3coImVudHJpZXMiKTpUfSxqKWZvcihPIGluICQpTyBpbiBFfHxpKEUsTywkW09dKTtlbHNlIG8oby5QK28uRioocHx8QyksdCwkKTtyZXR1cm4gJH19LHsiLi8kIjo1NiwiLi8kLmV4cG9ydCI6MzcsIi4vJC5oYXMiOjQyLCIuLyQuaGlkZSI6NDMsIi4vJC5pdGVyLWNyZWF0ZSI6NTEsIi4vJC5pdGVyYXRvcnMiOjU1LCIuLyQubGlicmFyeSI6NTgsIi4vJC5yZWRlZmluZSI6NjMsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC53a3MiOjc4fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3I9ITB9LGlbbl09ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChhKXt9cmV0dXJuIHJ9fSx7Ii4vJC53a3MiOjc4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU9iamVjdDt0LmV4cG9ydHM9e2NyZWF0ZTpuLmNyZWF0ZSxnZXRQcm90bzpuLmdldFByb3RvdHlwZU9mLGlzRW51bTp7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxnZXREZXNjOm4uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHNldERlc2M6bi5kZWZpbmVQcm9wZXJ0eSxzZXREZXNjczpuLmRlZmluZVByb3BlcnRpZXMsZ2V0S2V5czpuLmtleXMsZ2V0TmFtZXM6bi5nZXRPd25Qcm9wZXJ0eU5hbWVzLGdldFN5bWJvbHM6bi5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZWFjaDpbXS5mb3JFYWNofX0se31dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixpPW8oZSkscz1uLmdldEtleXMoaSksYT1zLmxlbmd0aCxjPTA7YT5jOylpZihpW3I9c1tjKytdXT09PXQpcmV0dXJuIHJ9fSx7Ii4vJCI6NTYsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDU4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuZ2xvYmFsIiksYT1lKCIuLyQudGFzayIpLnNldCxjPXMuTXV0YXRpb25PYnNlcnZlcnx8cy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLHU9cy5wcm9jZXNzLGw9cy5Qcm9taXNlLGY9InByb2Nlc3MiPT1lKCIuLyQuY29mIikodSksZD1mdW5jdGlvbigpe3ZhciBlLHQscjtmb3IoZiYmKGU9dS5kb21haW4pJiYodS5kb21haW49bnVsbCxlLmV4aXQoKSk7bjspdD1uLmRvbWFpbixyPW4uZm4sdCYmdC5lbnRlcigpLHIoKSx0JiZ0LmV4aXQoKSxuPW4ubmV4dDtvPXZvaWQgMCxlJiZlLmVudGVyKCl9O2lmKGYpaT1mdW5jdGlvbigpe3UubmV4dFRpY2soZCl9O2Vsc2UgaWYoYyl7dmFyIHA9MSxiPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgYyhkKS5vYnNlcnZlKGIse2NoYXJhY3RlckRhdGE6ITB9KSxpPWZ1bmN0aW9uKCl7Yi5kYXRhPXA9LXB9fWVsc2UgaT1sJiZsLnJlc29sdmU/ZnVuY3Rpb24oKXtsLnJlc29sdmUoKS50aGVuKGQpfTpmdW5jdGlvbigpe2EuY2FsbChzLGQpfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e2ZuOmUsbmV4dDp2b2lkIDAsZG9tYWluOmYmJnUuZG9tYWlufTtvJiYoby5uZXh0PXQpLG58fChuPXQsaSgpKSxvPXR9fSx7Ii4vJC5jb2YiOjMwLCIuLyQuZ2xvYmFsIjo0MSwiLi8kLnRhc2siOjcyfV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi8kLmNvcmUiOjMxLCIuLyQuZXhwb3J0IjozNywiLi8kLmZhaWxzIjozOH1dLDYxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDYyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnJlZGVmaW5lIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpbihlLHIsdFtyXSk7cmV0dXJuIGV9fSx7Ii4vJC5yZWRlZmluZSI6NjN9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuaGlkZSIpfSx7Ii4vJC5oaWRlIjo0M31dLDY0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPU9iamVjdC5pc3x8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09PTEvdDplIT1lJiZ0IT10fX0se31dLDY1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuZ2V0RGVzYyxvPWUoIi4vJC5pcy1vYmplY3QiKSxpPWUoIi4vJC5hbi1vYmplY3QiKSxzPWZ1bmN0aW9uKGUsdCl7aWYoaShlKSwhbyh0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixvKXt0cnl7bz1lKCIuLyQuY3R4IikoRnVuY3Rpb24uY2FsbCxuKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGkpe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpzfX0seyIuLyQiOjU2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmN0eCI6MzIsIi4vJC5pcy1vYmplY3QiOjQ5fV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmNvcmUiKSxvPWUoIi4vJCIpLGk9ZSgiLi8kLmRlc2NyaXB0b3JzIikscz1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtpJiZ0JiYhdFtzXSYmby5zZXREZXNjKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuLyQiOjU2LCIuLyQuY29yZSI6MzEsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC53a3MiOjc4fV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5zZXREZXNjLG89ZSgiLi8kLmhhcyIpLGk9ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuLyQiOjU2LCIuLyQuaGFzIjo0MiwiLi8kLndrcyI6Nzh9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPSJfX2NvcmUtanNfc2hhcmVkX18iLGk9bltvXXx8KG5bb109e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0seyIuLyQuZ2xvYmFsIjo0MX1dLDY5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpLG89ZSgiLi8kLmEtZnVuY3Rpb24iKSxpPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vJC5hLWZ1bmN0aW9uIjoyNiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC53a3MiOjc4fV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcihyKyI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhIik7cmV0dXJuIGV9fSx7fV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGkscyxhPVN0cmluZyhvKHQpKSxjPW4ociksdT1hLmxlbmd0aDtyZXR1cm4gMD5jfHxjPj11P2U/IiI6dm9pZCAwOihpPWEuY2hhckNvZGVBdChjKSw1NTI5Nj5pfHxpPjU2MzE5fHxjKzE9PT11fHwocz1hLmNoYXJDb2RlQXQoYysxKSk8NTYzMjB8fHM+NTczNDM/ZT9hLmNoYXJBdChjKTppOmU/YS5zbGljZShjLGMrMik6KGktNTUyOTY8PDEwKSsocy01NjMyMCkrNjU1MzYpfX19LHsiLi8kLmRlZmluZWQiOjMzLCIuLyQudG8taW50ZWdlciI6NzN9XSw3MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5jdHgiKSxhPWUoIi4vJC5pbnZva2UiKSxjPWUoIi4vJC5odG1sIiksdT1lKCIuLyQuZG9tLWNyZWF0ZSIpLGw9ZSgiLi8kLmdsb2JhbCIpLGY9bC5wcm9jZXNzLGQ9bC5zZXRJbW1lZGlhdGUscD1sLmNsZWFySW1tZWRpYXRlLGI9bC5NZXNzYWdlQ2hhbm5lbCxoPTAsdj17fSx5PSJvbnJlYWR5c3RhdGVjaGFuZ2UiLF89ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZih2Lmhhc093blByb3BlcnR5KGUpKXt2YXIgdD12W2VdO2RlbGV0ZSB2W2VdLHQoKX19LGc9ZnVuY3Rpb24oZSl7Xy5jYWxsKGUuZGF0YSl9O2QmJnB8fChkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB2WysraF09ZnVuY3Rpb24oKXthKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4oaCksaH0scD1mdW5jdGlvbihlKXtkZWxldGUgdltlXX0sInByb2Nlc3MiPT1lKCIuLyQuY29mIikoZik/bj1mdW5jdGlvbihlKXtmLm5leHRUaWNrKHMoXyxlLDEpKX06Yj8obz1uZXcgYixpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9ZyxuPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpsLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWwuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtsLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sbC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixnLCExKSk6bj15IGluIHUoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe2MuYXBwZW5kQ2hpbGQodSgic2NyaXB0IikpW3ldPWZ1bmN0aW9uKCl7Yy5yZW1vdmVDaGlsZCh0aGlzKSxfLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHMoXyxlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0seyIuLyQuY29mIjozMCwiLi8kLmN0eCI6MzIsIi4vJC5kb20tY3JlYXRlIjozNSwiLi8kLmdsb2JhbCI6NDEsIi4vJC5odG1sIjo0NCwiLi8kLmludm9rZSI6NDV9XSw3MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguY2VpbCxvPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bzpuKShlKX19LHt9XSw3NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pb2JqZWN0Iiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi8kLmRlZmluZWQiOjMzLCIuLyQuaW9iamVjdCI6NDZ9XSw3NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi8kLnRvLWludGVnZXIiOjczfV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuLyQuZGVmaW5lZCI6MzN9XSw3NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPTAsbz1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK24rbykudG9TdHJpbmcoMzYpKX19LHt9XSw3ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5zaGFyZWQiKSgid2tzIiksbz1lKCIuLyQudWlkIiksaT1lKCIuLyQuZ2xvYmFsIikuU3ltYm9sO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09aSYmaVtlXXx8KGl8fG8pKCJTeW1ib2wuIitlKSl9fSx7Ii4vJC5nbG9iYWwiOjQxLCIuLyQuc2hhcmVkIjo2OCwiLi8kLnVpZCI6Nzd9XSw3OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jbGFzc29mIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1lKCIuLyQuaXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vJC5jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZT9lW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV06dm9pZCAwfX0seyIuLyQuY2xhc3NvZiI6MjksIi4vJC5jb3JlIjozMSwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC53a3MiOjc4fV0sODA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmFkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi8kLml0ZXItc3RlcCIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpLHM9ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi8kLml0ZXItZGVmaW5lIikoQXJyYXksIkFycmF5IixmdW5jdGlvbihlLHQpe3RoaXMuX3Q9cyhlKSx0aGlzLl9pPTAsdGhpcy5faz10fSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3QsdD10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6ImtleXMiPT10P28oMCxyKToidmFsdWVzIj09dD9vKDAsZVtyXSk6bygwLFtyLGVbcl1dKX0sInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXksbigia2V5cyIpLG4oInZhbHVlcyIpLG4oImVudHJpZXMiKX0seyIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIjoyNywiLi8kLml0ZXItZGVmaW5lIjo1MiwiLi8kLml0ZXItc3RlcCI6NTQsIi4vJC5pdGVyYXRvcnMiOjU1LCIuLyQudG8taW9iamVjdCI6NzR9XSw4MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXtyZXR1cm4gZShuKHQpLHIpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLWlvYmplY3QiOjc0fV0sODI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZShuKHQpKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NjAsIi4vJC50by1vYmplY3QiOjc2fV0sODM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLW9iamVjdCI6NzZ9XSw4NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKTtuKG4uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6ZSgiLi8kLnNldC1wcm90byIpLnNldH0pfSx7Ii4vJC5leHBvcnQiOjM3LCIuLyQuc2V0LXByb3RvIjo2NX1dLDg1OltmdW5jdGlvbihlLHQscil7fSx7fV0sODY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbz1lKCIuLyQiKSxpPWUoIi4vJC5saWJyYXJ5Iikscz1lKCIuLyQuZ2xvYmFsIiksYT1lKCIuLyQuY3R4IiksYz1lKCIuLyQuY2xhc3NvZiIpLHU9ZSgiLi8kLmV4cG9ydCIpLGw9ZSgiLi8kLmlzLW9iamVjdCIpLGY9ZSgiLi8kLmFuLW9iamVjdCIpLGQ9ZSgiLi8kLmEtZnVuY3Rpb24iKSxwPWUoIi4vJC5zdHJpY3QtbmV3IiksYj1lKCIuLyQuZm9yLW9mIiksaD1lKCIuLyQuc2V0LXByb3RvIikuc2V0LHY9ZSgiLi8kLnNhbWUtdmFsdWUiKSx5PWUoIi4vJC53a3MiKSgic3BlY2llcyIpLF89ZSgiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiKSxnPWUoIi4vJC5taWNyb3Rhc2siKSxtPSJQcm9taXNlIixqPXMucHJvY2VzcywkPSJwcm9jZXNzIj09YyhqKSxPPXNbbV0sdz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgTyhmdW5jdGlvbigpe30pO3JldHVybiBlJiYodC5jb25zdHJ1Y3Rvcj1PYmplY3QpLE8ucmVzb2x2ZSh0KT09PXR9LGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPW5ldyBPKGUpO3JldHVybiBoKHIsdC5wcm90b3R5cGUpLHJ9dmFyIHI9ITE7dHJ5e2lmKHI9TyYmTy5yZXNvbHZlJiZ3KCksaCh0LE8pLHQucHJvdG90eXBlPW8uY3JlYXRlKE8ucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dH19KSx0LnJlc29sdmUoNSkudGhlbihmdW5jdGlvbigpe30paW5zdGFuY2VvZiB0fHwocj0hMSksciYmZSgiLi8kLmRlc2NyaXB0b3JzIikpe3ZhciBuPSExO08ucmVzb2x2ZShvLnNldERlc2Moe30sInRoZW4iLHtnZXQ6ZnVuY3Rpb24oKXtuPSEwfX0pKSxyPW59fWNhdGNoKGkpe3I9ITF9cmV0dXJuIHJ9KCkseD1mdW5jdGlvbihlLHQpe3JldHVybiBpJiZlPT09TyYmdD09PW4/ITA6dihlLHQpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0PWYoZSlbeV07cmV0dXJuIHZvaWQgMCE9dD90OmV9LEU9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGwoZSkmJiJmdW5jdGlvbiI9PXR5cGVvZih0PWUudGhlbik/dDohMX0sUz1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgVHlwZUVycm9yKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9ZCh0KSx0aGlzLnJlamVjdD1kKHIpfSxUPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sUj1mdW5jdGlvbihlLHQpe2lmKCFlLm4pe2Uubj0hMDt2YXIgcj1lLmM7ZyhmdW5jdGlvbigpe2Zvcih2YXIgbj1lLnYsbz0xPT1lLnMsaT0wLGE9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW8/dC5vazp0LmZhaWwsYT10LnJlc29sdmUsYz10LnJlamVjdDt0cnl7cz8ob3x8KGUuaD0hMCkscj1zPT09ITA/bjpzKG4pLHI9PT10LnByb21pc2U/YyhUeXBlRXJyb3IoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9RShyKSk/aS5jYWxsKHIsYSxjKTphKHIpKTpjKG4pfWNhdGNoKHUpe2ModSl9fTtyLmxlbmd0aD5pOylhKHJbaSsrXSk7ci5sZW5ndGg9MCxlLm49ITEsdCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0LHIsbz1lLnA7TShvKSYmKCQ/ai5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sbyk6KHQ9cy5vbnVuaGFuZGxlZHJlamVjdGlvbik/dCh7cHJvbWlzZTpvLHJlYXNvbjpufSk6KHI9cy5jb25zb2xlKSYmci5lcnJvciYmci5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKSksZS5hPXZvaWQgMH0sMSl9KX19LE09ZnVuY3Rpb24oZSl7dmFyIHQscj1lLl9kLG49ci5hfHxyLmMsbz0wO2lmKHIuaClyZXR1cm4hMTtmb3IoO24ubGVuZ3RoPm87KWlmKHQ9bltvKytdLHQuZmFpbHx8IU0odC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sTj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuZHx8KHQuZD0hMCx0PXQucnx8dCx0LnY9ZSx0LnM9Mix0LmE9dC5jLnNsaWNlKCksUih0LCEwKSl9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLmQpe3IuZD0hMCxyPXIucnx8cjt0cnl7aWYoci5wPT09ZSl0aHJvdyBUeXBlRXJyb3IoIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9RShlKSk/ZyhmdW5jdGlvbigpe3ZhciBuPXtyOnIsZDohMX07dHJ5e3QuY2FsbChlLGEoRCxuLDEpLGEoTixuLDEpKX1jYXRjaChvKXtOLmNhbGwobixvKX19KTooci52PWUsci5zPTEsUihyLCExKSl9Y2F0Y2gobil7Ti5jYWxsKHtyOnIsZDohMX0sbil9fX07a3x8KE89ZnVuY3Rpb24oZSl7ZChlKTt2YXIgdD10aGlzLl9kPXtwOnAodGhpcyxPLG0pLGM6W10sYTp2b2lkIDAsczowLGQ6ITEsdjp2b2lkIDAsaDohMSxuOiExfTt0cnl7ZShhKEQsdCwxKSxhKE4sdCwxKSl9Y2F0Y2gocil7Ti5jYWxsKHQscil9fSxlKCIuLyQucmVkZWZpbmUtYWxsIikoTy5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgUyhfKHRoaXMsTykpLG49ci5wcm9taXNlLG89dGhpcy5fZDtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxvLmMucHVzaChyKSxvLmEmJm8uYS5wdXNoKHIpLG8ucyYmUihvLCExKSxufSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pKSx1KHUuRyt1LlcrdS5GKiFrLHtQcm9taXNlOk99KSxlKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKShPLG0pLGUoIi4vJC5zZXQtc3BlY2llcyIpKG0pLG49ZSgiLi8kLmNvcmUiKVttXSx1KHUuUyt1LkYqIWssbSx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZWplY3Q7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLHUodS5TK3UuRiooIWt8fHcoITApKSxtLHtyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBPJiZ4KGUuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIGU7dmFyIHQ9bmV3IFModGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLHUodS5TK3UuRiohKGsmJmUoIi4vJC5pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe08uYWxsKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKCl7fSl9KSksbSx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PUModGhpcykscj1uZXcgUyh0KSxuPXIucmVzb2x2ZSxpPXIucmVqZWN0LHM9W10sYT1UKGZ1bmN0aW9uKCl7YihlLCExLHMucHVzaCxzKTt2YXIgcj1zLmxlbmd0aCxhPUFycmF5KHIpO3I/by5lYWNoLmNhbGwocyxmdW5jdGlvbihlLG8pe3ZhciBzPSExO3QucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3N8fChzPSEwLGFbb109ZSwtLXJ8fG4oYSkpfSxpKX0pOm4oYSl9KTtyZXR1cm4gYSYmaShhLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9Qyh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZWplY3Qsbz1UKGZ1bmN0aW9uKCl7YihlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vJCI6NTYsIi4vJC5hLWZ1bmN0aW9uIjoyNiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5jbGFzc29mIjoyOSwiLi8kLmNvcmUiOjMxLCIuLyQuY3R4IjozMiwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLmV4cG9ydCI6MzcsIi4vJC5mb3Itb2YiOjM5LCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmlzLW9iamVjdCI6NDksIi4vJC5pdGVyLWRldGVjdCI6NTMsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLm1pY3JvdGFzayI6NTksIi4vJC5yZWRlZmluZS1hbGwiOjYyLCIuLyQuc2FtZS12YWx1ZSI6NjQsIi4vJC5zZXQtcHJvdG8iOjY1LCIuLyQuc2V0LXNwZWNpZXMiOjY2LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciI6NjksIi4vJC5zdHJpY3QtbmV3Ijo3MCwiLi8kLndrcyI6Nzh9XSw4NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuc3RyaW5nLWF0IikoITApO2UoIi4vJC5pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi8kLml0ZXItZGVmaW5lIjo1MiwiLi8kLnN0cmluZy1hdCI6NzF9XSw4ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5nbG9iYWwiKSxpPWUoIi4vJC5oYXMiKSxzPWUoIi4vJC5kZXNjcmlwdG9ycyIpLGE9ZSgiLi8kLmV4cG9ydCIpLGM9ZSgiLi8kLnJlZGVmaW5lIiksdT1lKCIuLyQuZmFpbHMiKSxsPWUoIi4vJC5zaGFyZWQiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGQ9ZSgiLi8kLnVpZCIpLHA9ZSgiLi8kLndrcyIpLGI9ZSgiLi8kLmtleW9mIiksaD1lKCIuLyQuZ2V0LW5hbWVzIiksdj1lKCIuLyQuZW51bS1rZXlzIikseT1lKCIuLyQuaXMtYXJyYXkiKSxfPWUoIi4vJC5hbi1vYmplY3QiKSxnPWUoIi4vJC50by1pb2JqZWN0IiksbT1lKCIuLyQucHJvcGVydHktZGVzYyIpLGo9bi5nZXREZXNjLCQ9bi5zZXREZXNjLE89bi5jcmVhdGUsdz1oLmdldCxrPW8uU3ltYm9sLHg9by5KU09OLEM9eCYmeC5zdHJpbmdpZnksRT0hMSxTPXAoIl9oaWRkZW4iKSxUPW4uaXNFbnVtLFI9bCgic3ltYm9sLXJlZ2lzdHJ5IiksTT1sKCJzeW1ib2xzIiksTj0iZnVuY3Rpb24iPT10eXBlb2YgayxEPU9iamVjdC5wcm90b3R5cGUsUD1zJiZ1KGZ1bmN0aW9uKCl7cmV0dXJuIDchPU8oJCh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiAkKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1qKEQsdCk7biYmZGVsZXRlIERbdF0sJChlLHQsciksbiYmZSE9PUQmJiQoRCx0LG4pfTokLEw9ZnVuY3Rpb24oZSl7dmFyIHQ9TVtlXT1PKGsucHJvdG90eXBlKTtyZXR1cm4gdC5faz1lLHMmJkUmJlAoRCxlLHtjb25maWd1cmFibGU6ITAsc2V0OmZ1bmN0aW9uKHQpe2kodGhpcyxTKSYmaSh0aGlzW1NdLGUpJiYodGhpc1tTXVtlXT0hMSksUCh0aGlzLGUsbSgxLHQpKX19KSx0fSxBPWZ1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgZX0sRj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHImJmkoTSx0KT8oci5lbnVtZXJhYmxlPyhpKGUsUykmJmVbU11bdF0mJihlW1NdW3RdPSExKSxyPU8ocix7ZW51bWVyYWJsZTptKDAsITEpfSkpOihpKGUsUyl8fCQoZSxTLG0oMSx7fSkpLGVbU11bdF09ITApLFAoZSx0LHIpKTokKGUsdCxyKX0sST1mdW5jdGlvbihlLHQpe18oZSk7Zm9yKHZhciByLG49dih0PWcodCkpLG89MCxpPW4ubGVuZ3RoO2k+bzspRihlLHI9bltvKytdLHRbcl0pO3JldHVybiBlfSxVPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/TyhlKTpJKE8oZSksdCl9LFY9ZnVuY3Rpb24oZSl7dmFyIHQ9VC5jYWxsKHRoaXMsZSk7cmV0dXJuIHR8fCFpKHRoaXMsZSl8fCFpKE0sZSl8fGkodGhpcyxTKSYmdGhpc1tTXVtlXT90OiEwfSx6PWZ1bmN0aW9uKGUsdCl7dmFyIHI9aihlPWcoZSksdCk7cmV0dXJuIXJ8fCFpKE0sdCl8fGkoZSxTKSYmZVtTXVt0XXx8KHIuZW51bWVyYWJsZT0hMCkscn0sSD1mdW5jdGlvbihlKXtmb3IodmFyIHQscj13KGcoZSkpLG49W10sbz0wO3IubGVuZ3RoPm87KWkoTSx0PXJbbysrXSl8fHQ9PVN8fG4ucHVzaCh0KTtyZXR1cm4gbn0sQj1mdW5jdGlvbihlKXtmb3IodmFyIHQscj13KGcoZSkpLG49W10sbz0wO3IubGVuZ3RoPm87KWkoTSx0PXJbbysrXSkmJm4ucHVzaChNW3RdKTtyZXR1cm4gbn0sSj1mdW5jdGlvbihlKXtpZih2b2lkIDAhPT1lJiYhQShlKSl7Zm9yKHZhciB0LHIsbj1bZV0sbz0xLGk9YXJndW1lbnRzO2kubGVuZ3RoPm87KW4ucHVzaChpW28rK10pO3JldHVybiB0PW5bMV0sImZ1bmN0aW9uIj09dHlwZW9mIHQmJihyPXQpLCFyJiZ5KHQpfHwodD1mdW5jdGlvbihlLHQpe3JldHVybiByJiYodD1yLmNhbGwodGhpcyxlLHQpKSxBKHQpP3ZvaWQgMDp0fSksblsxXT10LEMuYXBwbHkoeCxuKX19LFc9dShmdW5jdGlvbigpe3ZhciBlPWsoKTtyZXR1cm4iW251bGxdIiE9QyhbZV0pfHwie30iIT1DKHthOmV9KXx8Int9IiE9QyhPYmplY3QoZSkpfSk7Tnx8KGs9ZnVuY3Rpb24oKXtpZihBKHRoaXMpKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIik7cmV0dXJuIEwoZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCkpfSxjKGsucHJvdG90eXBlLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pLEE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBrfSxuLmNyZWF0ZT1VLG4uaXNFbnVtPVYsbi5nZXREZXNjPXosbi5zZXREZXNjPUYsbi5zZXREZXNjcz1JLG4uZ2V0TmFtZXM9aC5nZXQ9SCxuLmdldFN5bWJvbHM9QixzJiYhZSgiLi8kLmxpYnJhcnkiKSYmYyhELCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsViwhMCkpO3ZhciBZPXsiZm9yIjpmdW5jdGlvbihlKXtyZXR1cm4gaShSLGUrPSIiKT9SW2VdOlJbZV09ayhlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe3JldHVybiBiKFIsZSl9LHVzZVNldHRlcjpmdW5jdGlvbigpe0U9ITB9LHVzZVNpbXBsZTpmdW5jdGlvbigpe0U9ITF9fTtuLmVhY2guY2FsbCgiaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7dmFyIHQ9cChlKTtZW2VdPU4/dDpMKHQpfSksRT0hMCxhKGEuRythLlcse1N5bWJvbDprfSksYShhLlMsIlN5bWJvbCIsWSksYShhLlMrYS5GKiFOLCJPYmplY3QiLHtjcmVhdGU6VSxkZWZpbmVQcm9wZXJ0eTpGLGRlZmluZVByb3BlcnRpZXM6SSxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6eixnZXRPd25Qcm9wZXJ0eU5hbWVzOkgsZ2V0T3duUHJvcGVydHlTeW1ib2xzOkJ9KSx4JiZhKGEuUythLkYqKCFOfHxXKSwiSlNPTiIse3N0cmluZ2lmeTpKfSksZihrLCJTeW1ib2wiKSxmKE1hdGgsIk1hdGgiLCEwKSxmKG8uSlNPTiwiSlNPTiIsITApfSx7Ii4vJCI6NTYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQuZW51bS1rZXlzIjozNiwiLi8kLmV4cG9ydCI6MzcsIi4vJC5mYWlscyI6MzgsIi4vJC5nZXQtbmFtZXMiOjQwLCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmhhcyI6NDIsIi4vJC5pcy1hcnJheSI6NDgsIi4vJC5rZXlvZiI6NTcsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLnByb3BlcnR5LWRlc2MiOjYxLCIuLyQucmVkZWZpbmUiOjYzLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQuc2hhcmVkIjo2OCwiLi8kLnRvLWlvYmplY3QiOjc0LCIuLyQudWlkIjo3NywiLi8kLndrcyI6Nzh9XSw4OTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpO24uTm9kZUxpc3Q9bi5IVE1MQ29sbGVjdGlvbj1uLkFycmF5fSx7Ii4vJC5pdGVyYXRvcnMiOjU1LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6ODB9XSw5MDpbZnVuY3Rpb24oZSx0LHIpe3dpbmRvdy5NdXRhdGlvbk9ic2VydmVyPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcnx8ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0aGlzLmc9W10sdGhpcy5rPWV9ZnVuY3Rpb24gcihlKXshZnVuY3Rpb24gcigpe3ZhciBuPWUudGFrZVJlY29yZHMoKTtuLmxlbmd0aCYmZS5rKG4sZSksZS5mPXNldFRpbWVvdXQocix0Ll9wZXJpb2QpfSgpfWZ1bmN0aW9uIG4odCl7dmFyIHIsbj17dHlwZTpudWxsLHRhcmdldDpudWxsLGFkZGVkTm9kZXM6W10scmVtb3ZlZE5vZGVzOltdLHByZXZpb3VzU2libGluZzpudWxsLG5leHRTaWJsaW5nOm51bGwsYXR0cmlidXRlTmFtZTpudWxsLGF0dHJpYnV0ZU5hbWVzcGFjZTpudWxsLG9sZFZhbHVlOm51bGx9O2ZvcihyIGluIHQpbltyXSE9PWUmJnRbcl0hPT1lJiYobltyXT10W3JdKTtyZXR1cm4gbn1mdW5jdGlvbiBvKGUsdCl7dmFyIHI9YShlLHQpO3JldHVybiBmdW5jdGlvbihuKXt2YXIgbyxjPW4ubGVuZ3RoO3QuYSYmci5hJiZpKG4sZSxyLmEsdC5kKSwodC5ifHx0LmUpJiYobz1zKG4sZSxyLHQpKSwob3x8bi5sZW5ndGghPT1jKSYmKHI9YShlLHQpKX19ZnVuY3Rpb24gaSh0LHIsbyxpKXtmb3IodmFyIHMsYSxjPXt9LHU9ci5hdHRyaWJ1dGVzLGw9dS5sZW5ndGg7bC0tOylzPXVbbF0sYT1zLm5hbWUsaSYmaVthXT09PWV8fChzLnZhbHVlIT09b1thXSYmdC5wdXNoKG4oe3R5cGU6ImF0dHJpYnV0ZXMiLHRhcmdldDpyLGF0dHJpYnV0ZU5hbWU6YSxvbGRWYWx1ZTpvW2FdLGF0dHJpYnV0ZU5hbWVzcGFjZTpzLm5hbWVzcGFjZVVSSX0pKSxjW2FdPSEwKTtmb3IoYSBpbiBvKWNbYV18fHQucHVzaChuKHt0YXJnZXQ6cix0eXBlOiJhdHRyaWJ1dGVzIixhdHRyaWJ1dGVOYW1lOmEsb2xkVmFsdWU6b1thXX0pKX1mdW5jdGlvbiBzKHQscixvLHMpe2Z1bmN0aW9uIGEoZSxyLG8sYSxjKXt2YXIgbD1lLmxlbmd0aC0xO2M9LX4oKGwtYykvMik7Zm9yKHZhciBmLGQscDtwPWUucG9wKCk7KWY9b1twLmhdLGQ9YVtwLmldLHMuYiYmYyYmTWF0aC5hYnMocC5oLXAuaSk+PWwmJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltmXSxyZW1vdmVkTm9kZXM6W2ZdLG5leHRTaWJsaW5nOmYubmV4dFNpYmxpbmcscHJldmlvdXNTaWJsaW5nOmYucHJldmlvdXNTaWJsaW5nfSkpLGMtLSkscy5hJiZkLmEmJmkodCxmLGQuYSxzLmQpLHMuYyYmMz09PWYubm9kZVR5cGUmJmYubm9kZVZhbHVlIT09ZC5jJiZ0LnB1c2gobih7dHlwZToiY2hhcmFjdGVyRGF0YSIsdGFyZ2V0OmZ9KSkscy5lJiZ1KGYsZCl9ZnVuY3Rpb24gdShyLG8pe2Zvcih2YXIgZCxwLGIsaCx2LHk9ci5jaGlsZE5vZGVzLF89by5iLGc9eS5sZW5ndGgsbT1fP18ubGVuZ3RoOjAsaj0wLCQ9MCxPPTA7Zz4kfHxtPk87KWg9eVskXSx2PShiPV9bT10pJiZiLmosaD09PXY/KHMuYSYmYi5hJiZpKHQsaCxiLmEscy5kKSxzLmMmJmIuYyE9PWUmJmgubm9kZVZhbHVlIT09Yi5jJiZ0LnB1c2gobih7dHlwZToiY2hhcmFjdGVyRGF0YSIsdGFyZ2V0Omh9KSkscCYmYShwLHIseSxfLGopLHMuZSYmKGguY2hpbGROb2Rlcy5sZW5ndGh8fGIuYiYmYi5iLmxlbmd0aCkmJnUoaCxiKSwkKyssTysrKToobD0hMCxkfHwoZD17fSxwPVtdKSxoJiYoZFtiPWMoaCldfHwoZFtiXT0hMCwtMT09PShiPWYoXyxoLE8sImoiKSk/cy5iJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0OnIsYWRkZWROb2RlczpbaF0sbmV4dFNpYmxpbmc6aC5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6aC5wcmV2aW91c1NpYmxpbmd9KSksaisrKTpwLnB1c2goe2g6JCxpOmJ9KSksJCsrKSx2JiZ2IT09eVskXSYmKGRbYj1jKHYpXXx8KGRbYl09ITAsLTE9PT0oYj1mKHksdiwkKSk/cy5iJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0Om8uaixyZW1vdmVkTm9kZXM6W3ZdLG5leHRTaWJsaW5nOl9bTysxXSxwcmV2aW91c1NpYmxpbmc6X1tPLTFdfSkpLGotLSk6cC5wdXNoKHtoOmIsaTpPfSkpLE8rKykpO3AmJmEocCxyLHksXyxqKX12YXIgbDtyZXR1cm4gdShyLG8pLGx9ZnVuY3Rpb24gYShlLHQpe3ZhciByPSEwO3JldHVybiBmdW5jdGlvbiBuKGUpe3ZhciBvPXtqOmV9O3JldHVybiF0LmN8fDMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZT8odC5hJiZyJiYxPT09ZS5ub2RlVHlwZSYmKG8uYT1sKGUuYXR0cmlidXRlcyxmdW5jdGlvbihlLHIpe3JldHVybiB0LmQmJiF0LmRbci5uYW1lXXx8KGVbci5uYW1lXT1yLnZhbHVlKSxlfSkpLHImJih0LmJ8fHQuY3x8dC5hJiZ0LmUpJiYoby5iPXUoZS5jaGlsZE5vZGVzLG4pKSxyPXQuZSk6by5jPWUubm9kZVZhbHVlLG99KGUpfWZ1bmN0aW9uIGMoZSl7dHJ5e3JldHVybiBlLmlkfHwoZS5tb19pZD1lLm1vX2lkfHxkKyspfWNhdGNoKHQpe3RyeXtyZXR1cm4gZS5ub2RlVmFsdWV9Y2F0Y2gocil7cmV0dXJuIGQrK319fWZ1bmN0aW9uIHUoZSx0KXtmb3IodmFyIHI9W10sbj0wO248ZS5sZW5ndGg7bisrKXJbbl09dChlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gbChlLHQpe2Zvcih2YXIgcj17fSxuPTA7bjxlLmxlbmd0aDtuKyspcj10KHIsZVtuXSxuLGUpO3JldHVybiByfWZ1bmN0aW9uIGYoZSx0LHIsbil7Zm9yKDtyPGUubGVuZ3RoO3IrKylpZigobj9lW3JdW25dOmVbcl0pPT09dClyZXR1cm4gcjtyZXR1cm4tMX10Ll9wZXJpb2Q9MzAsdC5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49e2E6ISEodC5hdHRyaWJ1dGVzfHx0LmF0dHJpYnV0ZUZpbHRlcnx8dC5hdHRyaWJ1dGVPbGRWYWx1ZSksYjohIXQuY2hpbGRMaXN0LGU6ISF0LnN1YnRyZWUsYzohKCF0LmNoYXJhY3RlckRhdGEmJiF0LmNoYXJhY3RlckRhdGFPbGRWYWx1ZSl9LGk9dGhpcy5nLHM9MDtzPGkubGVuZ3RoO3MrKylpW3NdLm09PT1lJiZpLnNwbGljZShzLDEpO3QuYXR0cmlidXRlRmlsdGVyJiYobi5kPWwodC5hdHRyaWJ1dGVGaWx0ZXIsZnVuY3Rpb24oZSx0KXsKcmV0dXJuIGVbdF09ITAsZX0pKSxpLnB1c2goe206ZSxsOm8oZSxuKX0pLHRoaXMuZnx8cih0aGlzKX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD10aGlzLmcscj0wO3I8dC5sZW5ndGg7cisrKXRbcl0ubChlKTtyZXR1cm4gZX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMuZz1bXSxjbGVhclRpbWVvdXQodGhpcy5mKSx0aGlzLmY9bnVsbH19O3ZhciBkPTE7cmV0dXJuIHR9KHZvaWQgMCl9LHt9XSw5MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlfHxmdW5jdGlvbihlLHQscixuKXsidXNlIHN0cmljdCI7dmFyIG8saSxzPVsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwicmVjb25maWd1cmUiLCJzZXRQcm90b3R5cGUiLCJwcmV2ZW50RXh0ZW5zaW9ucyJdLGE9dC5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWUuY2FsbCh0KX19KGUucHJvdG90eXBlLnRvU3RyaW5nKSxjPXQucHJvdG90eXBlLmluZGV4T2Y/dC5pbmRleE9mfHxmdW5jdGlvbihlLHIsbil7cmV0dXJuIHQucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHIsbil9OmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49cnx8MDtuPGUubGVuZ3RoO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sdT1yLk1hcCE9PW4mJk1hcC5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbigpe3JldHVybiBuZXcgTWFwfTpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9W107cmV0dXJue3NpemU6MCxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIGMoZSx0KT4tMX0sZ2V0OmZ1bmN0aW9uKHIpe3JldHVybiB0W2MoZSxyKV19LHNldDpmdW5jdGlvbihyLG4pe3ZhciBvPWMoZSxyKTstMT09PW8/KGUucHVzaChyKSx0LnB1c2gobiksdGhpcy5zaXplKyspOnRbb109bn0sImRlbGV0ZSI6ZnVuY3Rpb24ocil7dmFyIG49YyhlLHIpO24+LTEmJihlLnNwbGljZShuLDEpLHQuc3BsaWNlKG4sMSksdGhpcy5zaXplLS0pfSxmb3JFYWNoOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXIuY2FsbChhcmd1bWVudHNbMV0sdFtuXSxlW25dLHRoaXMpfX19LGw9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzO3RyeXthcmd1bWVudHMuY2FsbGVlfWNhdGNoKHIpe3ZhciBuPSh0KGMpLmpvaW4oIiAiKSsiICIpLnJlcGxhY2UoL3Byb3RvdHlwZSB8bGVuZ3RoIHxuYW1lIC9nLCIiKS5zbGljZSgwLC0xKS5zcGxpdCgiICIpO24ubGVuZ3RoJiYodD1mdW5jdGlvbih0KXt2YXIgcj1lLmdldE93blByb3BlcnR5TmFtZXModCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpZm9yKHZhciBvLGk9MDtpPG4ubGVuZ3RoOykobz1jKHIsbltpKytdKSk+LTEmJnIuc3BsaWNlKG8sMSk7cmV0dXJuIHJ9KX1yZXR1cm4gdH0oKTpmdW5jdGlvbih0KXt2YXIgcixuLG89W107aWYoImhhc093blByb3BlcnR5ImluIHQpZm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiZvLnB1c2gocik7ZWxzZXtuPWUuaGFzT3duUHJvcGVydHk7Zm9yKHIgaW4gdCluLmNhbGwodCxyKSYmby5wdXNoKHIpfXJldHVybiBhKHQpJiZvLnB1c2goImxlbmd0aCIpLG99LGY9ZS5nZXRQcm90b3R5cGVPZixkPWUuZGVmaW5lUHJvcGVydGllcyYmZS5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IscD1yLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ci53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKCl7dmFyIGU9K25ldyBEYXRlLHQ9ZTtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKCh0PStuZXcgRGF0ZSktZSl9LDE3KX19KCksYj1mdW5jdGlvbihlLHQscil7dmFyIG49by5nZXQoZSk7bj8odihuLGUpLG0oZSxuLHQscikpOihuPWgoZSksbShlLG4sdCxyKSwxPT09by5zaXplJiZwKHkpKX0saD1mdW5jdGlvbih0LHIpe3ZhciBuLGk9bCh0KSxzPVtdLGE9MCxyPXtoYW5kbGVyczp1KCksZnJvemVuOmUuaXNGcm96ZW4/ZS5pc0Zyb3plbih0KTohMSxleHRlbnNpYmxlOmUuaXNFeHRlbnNpYmxlP2UuaXNFeHRlbnNpYmxlKHQpOiEwLHByb3RvOmYmJmYodCkscHJvcGVydGllczppLHZhbHVlczpzLG5vdGlmaWVyOmcodCxyKX07aWYoZClmb3Iobj1yLmRlc2NyaXB0b3JzPVtdO2E8aS5sZW5ndGg7KW5bYV09ZCh0LGlbYV0pLHNbYV09dFtpW2ErK11dO2Vsc2UgZm9yKDthPGkubGVuZ3RoOylzW2FdPXRbaVthKytdXTtyZXR1cm4gby5zZXQodCxyKSxyfSx2PWZ1bmN0aW9uKCl7dmFyIHQ9ZD9mdW5jdGlvbihlLHQscixuLG8pe3ZhciBpPXQucHJvcGVydGllc1tyXSxzPWVbaV0sYT10LnZhbHVlc1tyXSxjPXQuZGVzY3JpcHRvcnNbcl07InZhbHVlImluIG8mJihhPT09cz8wPT09YSYmMS9hIT09MS9zOmE9PT1hfHxzPT09cykmJihqKGUsdCx7bmFtZTppLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6YX0sbiksdC52YWx1ZXNbcl09cyksIWMuY29uZmlndXJhYmxlfHxvLmNvbmZpZ3VyYWJsZSYmby53cml0YWJsZT09PWMud3JpdGFibGUmJm8uZW51bWVyYWJsZT09PWMuZW51bWVyYWJsZSYmby5nZXQ9PT1jLmdldCYmby5zZXQ9PT1jLnNldHx8KGooZSx0LHtuYW1lOmksdHlwZToicmVjb25maWd1cmUiLG9iamVjdDplLG9sZFZhbHVlOmF9LG4pLHQuZGVzY3JpcHRvcnNbcl09byl9OmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXQucHJvcGVydGllc1tyXSxpPWVbb10scz10LnZhbHVlc1tyXTsocz09PWk/MD09PXMmJjEvcyE9PTEvaTpzPT09c3x8aT09PWkpJiYoaihlLHQse25hbWU6byx0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOnN9LG4pLHQudmFsdWVzW3JdPWkpfSxyPWQ/ZnVuY3Rpb24oZSxyLG4sbyxpKXtmb3IodmFyIHMsYT1yLmxlbmd0aDtuJiZhLS07KW51bGwhPT1yW2FdJiYocz1kKGUsclthXSksbi0tLHM/dChlLG8sYSxpLHMpOihqKGUsbyx7bmFtZTpyW2FdLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6by52YWx1ZXNbYV19LGkpLG8ucHJvcGVydGllcy5zcGxpY2UoYSwxKSxvLnZhbHVlcy5zcGxpY2UoYSwxKSxvLmRlc2NyaXB0b3JzLnNwbGljZShhLDEpKSl9OmZ1bmN0aW9uKGUsdCxyLG4sbyl7Zm9yKHZhciBpPXQubGVuZ3RoO3ImJmktLTspbnVsbCE9PXRbaV0mJihqKGUsbix7bmFtZTp0W2ldLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6bi52YWx1ZXNbaV19LG8pLG4ucHJvcGVydGllcy5zcGxpY2UoaSwxKSxuLnZhbHVlcy5zcGxpY2UoaSwxKSxyLS0pfTtyZXR1cm4gZnVuY3Rpb24obixvLGkpe2lmKG4uaGFuZGxlcnMuc2l6ZSYmIW4uZnJvemVuKXt2YXIgcyxhLHUscCxiLGgsdix5LF89bi52YWx1ZXMsZz1uLmRlc2NyaXB0b3JzLG09MDtpZihuLmV4dGVuc2libGUpaWYocz1uLnByb3BlcnRpZXMuc2xpY2UoKSxhPXMubGVuZ3RoLHU9bChvKSxnKXtmb3IoO208dS5sZW5ndGg7KWI9dVttKytdLHA9YyhzLGIpLHk9ZChvLGIpLC0xPT09cD8oaihvLG4se25hbWU6Yix0eXBlOiJhZGQiLG9iamVjdDpvfSxpKSxuLnByb3BlcnRpZXMucHVzaChiKSxfLnB1c2gob1tiXSksZy5wdXNoKHkpKTooc1twXT1udWxsLGEtLSx0KG8sbixwLGkseSkpO3IobyxzLGEsbixpKSxlLmlzRXh0ZW5zaWJsZShvKXx8KG4uZXh0ZW5zaWJsZT0hMSxqKG8sbix7dHlwZToicHJldmVudEV4dGVuc2lvbnMiLG9iamVjdDpvfSxpKSxuLmZyb3plbj1lLmlzRnJvemVuKG8pKX1lbHNle2Zvcig7bTx1Lmxlbmd0aDspYj11W20rK10scD1jKHMsYiksaD1vW2JdLC0xPT09cD8oaihvLG4se25hbWU6Yix0eXBlOiJhZGQiLG9iamVjdDpvfSxpKSxuLnByb3BlcnRpZXMucHVzaChiKSxfLnB1c2goaCkpOihzW3BdPW51bGwsYS0tLHQobyxuLHAsaSkpO3IobyxzLGEsbixpKX1lbHNlIGlmKCFuLmZyb3plbil7Zm9yKDttPHMubGVuZ3RoO20rKyliPXNbbV0sdChvLG4sbSxpLGQobyxiKSk7ZS5pc0Zyb3plbihvKSYmKG4uZnJvemVuPSEwKX1mJiYodj1mKG8pLHYhPT1uLnByb3RvJiYoaihvLG4se3R5cGU6InNldFByb3RvdHlwZSIsbmFtZToiX19wcm90b19fIixvYmplY3Q6byxvbGRWYWx1ZTpuLnByb3RvfSksbi5wcm90bz12KSl9fX0oKSx5PWZ1bmN0aW9uKCl7by5zaXplJiYoby5mb3JFYWNoKHYpLGkuZm9yRWFjaChfKSxwKHkpKX0sXz1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2hhbmdlUmVjb3JkcztyLmxlbmd0aCYmKGUuY2hhbmdlUmVjb3Jkcz1bXSx0KHIpKX0sZz1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDImJih0PW8uZ2V0KGUpKSx0JiZ0Lm5vdGlmaWVyfHx7bm90aWZ5OmZ1bmN0aW9uKHQpe3QudHlwZTt2YXIgcj1vLmdldChlKTtpZihyKXt2YXIgbixpPXtvYmplY3Q6ZX07Zm9yKG4gaW4gdCkib2JqZWN0IiE9PW4mJihpW25dPXRbbl0pO2ooZSxyLGkpfX0scGVyZm9ybUNoYW5nZTpmdW5jdGlvbih0LHIpe2lmKCJzdHJpbmciIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIG5vbi1zdHJpbmcgY2hhbmdlVHlwZSIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBwZXJmb3JtIG5vbi1mdW5jdGlvbiIpO3ZhciBpLHMsYT1vLmdldChlKSxjPWFyZ3VtZW50c1syXSx1PWM9PT1uP3IoKTpyLmNhbGwoYyk7aWYoYSYmdihhLGUsdCksYSYmdSYmIm9iamVjdCI9PXR5cGVvZiB1KXtzPXtvYmplY3Q6ZSx0eXBlOnR9O2ZvcihpIGluIHUpIm9iamVjdCIhPT1pJiYidHlwZSIhPT1pJiYoc1tpXT11W2ldKTtqKGUsYSxzKX19fX0sbT1mdW5jdGlvbihlLHQscixuKXt2YXIgbz1pLmdldChyKTtvfHxpLnNldChyLG89e29ic2VydmVkOnUoKSxjaGFuZ2VSZWNvcmRzOltdfSksby5vYnNlcnZlZC5zZXQoZSx7YWNjZXB0TGlzdDpuLnNsaWNlKCksZGF0YTp0fSksdC5oYW5kbGVycy5zZXQocixvKX0saj1mdW5jdGlvbihlLHQscixuKXt0LmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG89dC5vYnNlcnZlZC5nZXQoZSkuYWNjZXB0TGlzdDsoInN0cmluZyIhPXR5cGVvZiBufHwtMT09PWMobyxuKSkmJmMobyxyLnR5cGUpPi0xJiZ0LmNoYW5nZVJlY29yZHMucHVzaChyKX0pfTtvPXUoKSxpPXUoKSxlLm9ic2VydmU9ZnVuY3Rpb24odCxyLG8pe2lmKCF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBvYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTtpZihlLmlzRnJvemVuJiZlLmlzRnJvemVuKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIGEgZnJvemVuIGZ1bmN0aW9uIG9iamVjdCIpO2lmKG89PT1uKW89cztlbHNlIGlmKCFvfHwib2JqZWN0IiE9dHlwZW9mIG8pdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhpcmQgYXJndW1lbnQgdG8gT2JqZWN0Lm9ic2VydmUgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLiIpO3JldHVybiBiKHQscixvKSx0fSxlLnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PT1lfHwib2JqZWN0IiE9dHlwZW9mIGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IHVub2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgcixuPWkuZ2V0KHQpO3JldHVybiBuJiYocj1uLm9ic2VydmVkLmdldChlKSkmJihuLm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2KGUuZGF0YSx0KX0pLHAoZnVuY3Rpb24oKXtfKG4sdCl9KSwxPT09bi5vYnNlcnZlZC5zaXplJiZuLm9ic2VydmVkLmhhcyhlKT9pWyJkZWxldGUiXSh0KTpuLm9ic2VydmVkWyJkZWxldGUiXShlKSwxPT09ci5kYXRhLmhhbmRsZXJzLnNpemU/b1siZGVsZXRlIl0oZSk6ci5kYXRhLmhhbmRsZXJzWyJkZWxldGUiXSh0KSksZX0sZS5nZXROb3RpZmllcj1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZ2V0Tm90aWZpZXIgY2Fubm90IGdldE5vdGlmaWVyIG5vbi1vYmplY3QiKTtyZXR1cm4gZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KT9udWxsOmcodCl9LGUuZGVsaXZlckNoYW5nZVJlY29yZHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciB0PWkuZ2V0KGUpO3QmJih0Lm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2KGUuZGF0YSx0KX0pLF8odCxlKSl9fShPYmplY3QsQXJyYXksdGhpcyl9LHt9XSw5MjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLkRhdGFPYmplY3RPYnNlcnZlcj1yLkRhdGFPYmplY3RSZXBvcnRlcj1yLlN5bmNoZXI9dm9pZCAwLGUoIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSIpLGUoIm9iamVjdC5vYnNlcnZlIiksZSgiYXJyYXkub2JzZXJ2ZSIpO3ZhciBvPWUoIi4vc3luY2hlci9TeW5jaGVyIiksaT1uKG8pLHM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciIpLGE9bihzKSxjPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSx1PW4oYyk7ci5TeW5jaGVyPWlbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RSZXBvcnRlcj1hWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0T2JzZXJ2ZXI9dVsiZGVmYXVsdCJdfSx7Ii4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjk1LCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIjo5NiwiLi9zeW5jaGVyL1N5bmNoZXIiOjk5LCJhcnJheS5vYnNlcnZlIjoxLCJtdXRhdGlvbm9ic2VydmVyLXNoaW0iOjkwLCJvYmplY3Qub2JzZXJ2ZSI6OTF9XSw5MzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihjKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoIi4vU3luY09iamVjdCIpLHA9bihkKSxiPWUoIi4vRGF0YU9iamVjdENoaWxkIiksaD1uKGIpLHY9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBhPXRoaXM7YS5fc3luY2hlcj10LGEuX3VybD1yLGEuX3NjaGVtYT1uLGEuX3N0YXR1cz1vLGEuX3N5bmNPYmo9bmV3IHBbImRlZmF1bHQiXShpKSxhLl9jaGlsZHJlbnM9cyxhLl92ZXJzaW9uPTAsYS5fY2hpbGRJZD0wLGEuX2NoaWxkcmVuT2JqZWN0cz17fSxhLl9jaGlsZHJlbkxpc3RlbmVycz1bXSxhLl9vd25lcj10Ll9vd25lcixhLl9idXM9dC5fYnVzfXJldHVybigwLGZbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLHI9dC5fdXJsKyIvY2hpbGRyZW4vIjt0Ll9jaGlsZHJlbnMmJnQuX2NoaWxkcmVucy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBvPXIrbixpPXQuX2J1cy5hZGRMaXN0ZW5lcihvLGZ1bmN0aW9uKHIpe2lmKHIuZnJvbSE9PWUuX293bmVyKXN3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC1DaGlsZHJlbi1SQ1Y6ICIsciksci50eXBlKXtjYXNlImNyZWF0ZSI6dC5fb25DaGlsZENyZWF0ZShyKTticmVhaztjYXNlImRlbGV0ZSI6Y29uc29sZS5sb2cocik7YnJlYWs7ZGVmYXVsdDp0Ll9jaGFuZ2VDaGlsZHJlbihyKX19KTt0Ll9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pLCgwLGFbImRlZmF1bHQiXSkoZS5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2NoaWxkcmVuT2JqZWN0c1t0XS5fcmVsZWFzZUxpc3RlbmVycygpfSl9fSx7a2V5OiJwYXVzZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToicmVzdW1lIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJzdG9wIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJhZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3IuX2NoaWxkSWQrKzt2YXIgbj1yLl9vd25lcisiIyIrci5fY2hpbGRJZCxvPXIuX3VybCsiL2NoaWxkcmVuLyIrZSxzPXt0eXBlOiJjcmVhdGUiLGZyb206ci5fb3duZXIsdG86byxib2R5OntyZXNvdXJjZTpuLHZhbHVlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlKXt2YXIgaT1yLl9idXMucG9zdE1lc3NhZ2Uocyk7Y29uc29sZS5sb2coImNyZWF0ZS1yZXBvcnRlci1jaGlsZCggIityLl9vd25lcisiICk6ICIscyk7dmFyIGE9bmV3IGhbImRlZmF1bHQiXShyLG4sdCxyLl9vd25lcixpKTthLm9uQ2hhbmdlKGZ1bmN0aW9uKGUpe3IuX29uQ2hhbmdlKGUse3BhdGg6byxjaGlsZElkOm59KX0pLHIuX2NoaWxkcmVuT2JqZWN0c1tuXT1hLGUoYSl9KX19LHtrZXk6Im9uQWRkQ2hpbGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uQWRkQ2hpbGRyZW5IYW5kbGVyPWV9fSx7a2V5OiJfb25DaGlsZENyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZTtjb25zb2xlLmxvZygiY3JlYXRlLW9ic2VydmVyLWNoaWxkKCAiK3QuX293bmVyKyIgKTogIixlKTt2YXIgbj1uZXcgaFsiZGVmYXVsdCJdKHQscixlLmJvZHkudmFsdWUpO3QuX2NoaWxkcmVuT2JqZWN0c1tyXT1uLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc291cmNlOnQuX293bmVyfX0pfSk7dmFyIG89e3R5cGU6ZS50eXBlLGZyb206ZS5mcm9tLHVybDplLnRvLHZhbHVlOmUuYm9keS52YWx1ZSxjaGlsZElkOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5fTt0Ll9vbkFkZENoaWxkcmVuSGFuZGxlciYmKGNvbnNvbGUubG9nKCJBREQtQ0hJTERSRU4tRVZFTlQ6ICIsbyksdC5fb25BZGRDaGlsZHJlbkhhbmRsZXIobykpfX0se2tleToiX29uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisrLCJvbiI9PT1yLl9zdGF0dXMpe3ZhciBuPXt0eXBlOiJ1cGRhdGUiLGZyb206ci5fdXJsLHRvOnIuX3VybCsiL2NoYW5nZXMiLGJvZHk6e3ZlcnNpb246ci5fdmVyc2lvbixzb3VyY2U6ci5fb3duZXIsYXR0cmlidXRlOmUuZmllbGR9fTtlLm9UeXBlPT09ZC5PYmplY3RUeXBlLk9CSkVDVD9lLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSYmKG4uYm9keS52YWx1ZT1lLmRhdGEpOihuLmJvZHkuYXR0cmlidXRlVHlwZT1lLm9UeXBlLG4uYm9keS52YWx1ZT1lLmRhdGEsZS5jVHlwZSE9PWQuQ2hhbmdlVHlwZS5VUERBVEUmJihuLmJvZHkub3BlcmF0aW9uPWUuY1R5cGUpKSx0JiYobi50bz10LnBhdGgsbi5ib2R5LnJlc291cmNlPXQuY2hpbGRJZCksci5fYnVzLnBvc3RNZXNzYWdlKG4pfX19LHtrZXk6Il9jaGFuZ2VPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKzE9PT10LmJvZHkudmVyc2lvbil7ci5fdmVyc2lvbisrO3ZhciBuPXQuYm9keS5hdHRyaWJ1dGUsbz0oMCx2LmRlZXBDbG9uZSkodC5ib2R5LnZhbHVlKSxpPWUuZmluZEJlZm9yZShuKTtpZih0LmJvZHkuYXR0cmlidXRlVHlwZT09PWQuT2JqZWN0VHlwZS5BUlJBWSlpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLkFERCl7dmFyIHM9aS5vYmosYT1pLmxhc3Q7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzLFthLDBdLmNvbmNhdChvKSl9ZWxzZSBpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSl7dmFyIGM9aS5vYmosdT1pLmxhc3Q7Yy5zcGxpY2UodSxvKX1lbHNlIGkub2JqW2kubGFzdF09bztlbHNlIHQuYm9keS52YWx1ZT9pLm9ialtpLmxhc3RdPW86ZGVsZXRlIGkub2JqW2kubGFzdF19ZWxzZSBjb25zb2xlLmxvZygiVU5TWU5DSFJPTklaRUQgVkVSU0lPTjogKGRhdGEgPT4gIityLl92ZXJzaW9uKyIsIG1zZyA9PiAiK3QuYm9keS52ZXJzaW9uKyIpIil9fSx7a2V5OiJfY2hhbmdlQ2hpbGRyZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Y29uc29sZS5sb2coIkNoYW5nZSBjaGlsZHJlbjogIix0Ll9vd25lcixlKTt2YXIgcj1lLmJvZHkucmVzb3VyY2Usbj10Ll9jaGlsZHJlbk9iamVjdHNbcl07bj90Ll9jaGFuZ2VPYmplY3Qobi5fc3luY09iaixlKTpjb25zb2xlLmxvZygiTm8gY2hpbGRyZW4gZm91bmQgZm9yOiAiLHIpfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NoZW1hfX0se2tleToic3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19LHtrZXk6ImNoaWxkcmVucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuT2JqZWN0c319XSksZX0oKTtyWyJkZWZhdWx0Il09eSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMDAsIi4vRGF0YU9iamVjdENoaWxkIjo5NCwiLi9TeW5jT2JqZWN0Ijo5OCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bihzKSxjPWUoIi4vU3luY09iamVjdCIpLHU9bihjKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvLHMpeygwLGlbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgYT10aGlzO2EuX3BhcmVudD10LGEuX2NoaWxkSWQ9cixhLl9vd25lcj1vLGEuX21zZ0lkPXMsYS5fc3luY09iaj1uZXcgdVsiZGVmYXVsdCJdKG4pLGEuX2J1cz10Ll9idXMsYS5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxhWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX293bmVyJiYoZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX293bmVyLGZ1bmN0aW9uKHQpeyJyZXNwb25zZSI9PT10LnR5cGUmJnQuaWQ9PT1lLl9tc2dJZCYmKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0Q2hpbGQub25SZXNwb25zZToiLHQpLGUuX29uUmVzcG9uc2UodCkpfSkpfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lciYmZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztkZWxldGUgZS5fcGFyZW50Ll9jaGlsZHJlbltlLl9jaGlsZElkXSxlLl9yZWxlYXNlTGlzdGVuZXJzKCl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKHQpe2UodCl9KX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5ib2R5LnNvdXJjZSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmdC5fb25SZXNwb25zZUhhbmRsZXIocil9fSx7a2V5OiJjaGlsZElkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRJZH19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL1N5bmNPYmplY3QiOjk4LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iKSxwPW4oZCksYj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IiksaD1uKGIpLHY9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikseT1uKHYpLF89ZSgiLi9EYXRhT2JqZWN0IiksZz1uKF8pLG09ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxqPW4obSksJD17QU5ZOiJhbnkiLFNUQVJUOiJzdGFydCIsRVhBQ1Q6ImV4YWN0In0sTz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLG8scyxjLGwpeygwLHVbImRlZmF1bHQiXSkodGhpcyx0KTt2YXIgZj0oMCxwWyJkZWZhdWx0Il0pKHRoaXMsKDAsYVsiZGVmYXVsdCJdKSh0KS5jYWxsKHRoaXMsZSxyLG4sbyxzLmRhdGEsYykpLGQ9ZjtyZXR1cm4gZC5fdmVyc2lvbj1sLGQuX2ZpbHRlcnM9e30sZC5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKGUpe2QuX29uRmlsdGVyKGUpfSksKDAsaVsiZGVmYXVsdCJdKShzLmNoaWxkcmVucykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1zLmNoaWxkcmVuc1tlXTtkLl9jaGlsZHJlbk9iamVjdHNbZV09bmV3IGpbImRlZmF1bHQiXShkLGUsdCl9KSxkLl9hbGxvY2F0ZUxpc3RlbmVycygpLGZ9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX2NoYW5nZUxpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwrIi9jaGFuZ2VzIixmdW5jdGlvbih0KXsidXBkYXRlIj09PXQudHlwZSYmKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0T2JzZXJ2ZXItIitlLl91cmwrIi1SQ1Y6ICIsdCksZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX2NoYW5nZUxpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXX19LHtrZXk6InVuc3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToidW5zdWJzY3JpYmUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0T2JzZXJ2ZXItVU5TVUJTQ1JJQkU6ICIsdCksMjAwPT09dC5ib2R5LmNvZGUmJihlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdKX0pfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSxuPXt0eXBlOiQuRVhBQ1QsY2FsbGJhY2s6dH0sbz1lLmluZGV4T2YoIioiKTtvPT09ZS5sZW5ndGgtMSYmKDA9PT1vP24udHlwZT0kLkFOWToobi50eXBlPSQuU1RBUlQscj1lLnN1YnN0cigwLGUubGVuZ3RoLTEpKSksdGhpcy5fZmlsdGVyc1tyXT1ufX0se2tleToiX29uRmlsdGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodC5fZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9maWx0ZXJzW3JdO24udHlwZT09PSQuQU5ZP24uY2FsbGJhY2soZSk6bi50eXBlPT09JC5TVEFSVD8wPT09ZS5maWVsZC5pbmRleE9mKHIpJiZuLmNhbGxiYWNrKGUpOm4udHlwZT09PSQuRVhBQ1QmJmUuZmllbGQ9PT1yJiZuLmNhbGxiYWNrKGUpfSl9fV0pLHR9KGdbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPU8sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0RhdGFPYmplY3QiOjkzLCIuL0RhdGFPYmplY3RDaGlsZCI6OTQsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE1fV0sOTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iKSxwPW4oZCksYj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IiksaD1uKGIpLHY9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikseT1uKHYpLF89ZSgiLi9EYXRhT2JqZWN0IiksZz1uKF8pLG09ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxqPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxpLHMpeygwLHVbImRlZmF1bHQiXSkodGhpcyx0KTt2YXIgYz0oMCxwWyJkZWZhdWx0Il0pKHRoaXMsKDAsYVsiZGVmYXVsdCJdKSh0KS5jYWxsKHRoaXMsZSxyLG4sbyxpLHMpKSxsPWM7cmV0dXJuIGwuX3N1YnNjcmlwdGlvbnM9e30sbC5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItIityKyItU0VORDogIixlKSxsLl9vbkNoYW5nZShlKX0pLGwuX2FsbG9jYXRlTGlzdGVuZXJzKCksY31yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fcmVzcG9uc2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpeyJyZXNwb25zZSI9PT10LnR5cGUmJmUuX29uUmVzcG9uc2UodCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fcmVzcG9uc2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6Imludml0ZU9ic2VydmVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJjcmVhdGUiLGZyb206dC5fc3luY2hlci5fb3duZXIsdG86dC5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOnQuX3VybCxzY2hlbWE6dC5fc2NoZW1hLHZhbHVlOnQuX3N5bmNPYmouZGF0YSxhdXRob3Jpc2U6ZX19O3QuX2J1cy5wb3N0TWVzc2FnZShyKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6ImRlbGV0ZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci1ERUxFVEU6ICIsdCksMjAwPT09dC5ib2R5LmNvZGUmJihlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX3JlcG9ydGVyc1tlLl91cmxdKX0pfX0se2tleToib25TdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uU3Vic2NyaXB0aW9uSGFuZGxlcj1lfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGFjY2VwdDpmdW5jdGlvbigpe3ZhciBuPXt1cmw6cixzdGF0dXM6Im9uIn07dC5fc3Vic2NyaXB0aW9uc1tyXT1uO3ZhciBvPXt9O3JldHVybigwLGlbImRlZmF1bHQiXSkodC5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuX2NoaWxkcmVuT2JqZWN0c1tlXS5kYXRhO29bZV09KDAsbS5kZWVwQ2xvbmUpKHIpfSksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNjaGVtYTp0Ll9zY2hlbWEsdmVyc2lvbjp0Ll92ZXJzaW9uLHZhbHVlOntkYXRhOigwLG0uZGVlcENsb25lKSh0LmRhdGEpLGNoaWxkcmVuczpvfX19KSxufSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAzLGRlc2M6cn19KX19O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJTVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj10Ll9zdWJzY3JpcHRpb25zW3JdO2RlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLG9iamVjdDpufTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiVU4tU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFU1BPTlNFLUVWRU5UOiAiLHIpLHQuX29uUmVzcG9uc2VIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShnWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1qLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Ijo5MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4ocyksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBzPXRoaXM7cy5fb3duZXI9dCxzLl91cmw9cixzLl9idXM9bixzLl9jaGlsZHJlbj1vLHMuX2NoYW5nZXM9W10scy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxhWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFQcm92aXNpb25hbC0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VzLnB1c2godCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCl9KX19LHtrZXk6ImNoaWxkcmVuIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59fV0pLGV9KCk7clsiZGVmYXVsdCJdPWMsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG4pO2Zvcih2YXIgbyBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W29dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG8pLHRbb10pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbik7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgcCh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG4gaW4gdCl7dmFyIG89dFtuXS5vYmplY3QsaT12b2lkIDA7aWYoby5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9aC5PQkpFQ1QpLG8uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9aC5BUlJBWSksInNwbGljZSI9PT10W25dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtuXS5pbmRleCxhPWVbIm5ldyJdKCIiK3MpLGM9YS50b1N0cmluZygpLHU9dFtuXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtuXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG4pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK24pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLlJFTU9WRSxvVHlwZTppLGZpZWxkOmMsZGF0YTp1fSl9dmFyIGQ9dFtuXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgaD1vLnNsaWNlKHMscytkKTtoLmZvckVhY2goZnVuY3Rpb24odCxuKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWVbIm5ldyJdKG5ldyBwKHQscytuKSk7ci5faW50ZXJuYWxPYnNlcnZlKG8sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoaCl9KX1zIT09by5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShvKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbbl0ubmFtZSksYT1zLnRvU3RyaW5nKCk7aWYoLTEhPT1hLmluZGV4T2YoIlN5bWJvbCIpKWNvbnRpbnVlO3ZhciBjPW9bdFtuXS5uYW1lXTsidXBkYXRlIj09PXRbbl0udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLlVQREFURSxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSwiYWRkIj09PXRbbl0udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGMpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5BREQsb1R5cGU6aSxmaWVsZDphLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGMpfSkpLCJkZWxldGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YX0pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fb2JzZXJ2YWJsZXNbcl0sbz1lLmluZGV4T2Yobi5vYmopO24uaWR4IT1vJiYobi5pZHg9byxkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbb109bil9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09cCYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLGI9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0saD1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5OTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLHU9bihjKSxsPWUoIi4vRGF0YU9iamVjdFJlcG9ydGVyIiksZj1uKGwpLGQ9ZSgiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSxwPW4oZCksYj1lKCIuL0RhdGFQcm92aXNpb25hbCIpLGg9bihiKSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBvPXRoaXM7by5fb3duZXI9dCxvLl9idXM9cixvLl9zdWJVUkw9bi5ydW50aW1lVVJMKyIvc20iLG8uX3JlcG9ydGVycz17fSxvLl9vYnNlcnZlcnM9e30sby5fcHJvdmlzaW9uYWxzPXt9LHIuYWRkTGlzdGVuZXIodCxmdW5jdGlvbihlKXtpZihlLmZyb20hPT10KXN3aXRjaChjb25zb2xlLmxvZygiU3luY2hlci1SQ1Y6ICIsZSksZS50eXBlKXtjYXNlImZvcndhcmQiOm8uX29uRm9yd2FyZChlKTticmVhaztjYXNlImNyZWF0ZSI6by5fb25SZW1vdGVDcmVhdGUoZSk7YnJlYWs7Y2FzZSJkZWxldGUiOm8uX29uUmVtb3RlRGVsZXRlKGUpfX0pfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyLnJlcG9ydGVyPW4uX293bmVyLHIuc2NoZW1hPWU7dmFyIG89e3R5cGU6ImNyZWF0ZSIsZnJvbTpuLl9vd25lcix0bzpuLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUsdmFsdWU6cixhdXRob3Jpc2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsaSl7bi5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7aWYoY29uc29sZS5sb2coImNyZWF0ZS1yZXNwb25zZTogIixvKSwyMDA9PT1vLmJvZHkuY29kZSl7dmFyIHM9by5ib2R5LnJlc291cmNlLGE9bmV3IGZbImRlZmF1bHQiXShuLHMsZSwib24iLHIsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKTtuLl9yZXBvcnRlcnNbc109YSx0KGEpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToic3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17dHlwZToic3Vic2NyaWJlIixmcm9tOnIuX293bmVyLHRvOnIuX3N1YlVSTCxib2R5OntzY2hlbWE6ZSxyZXNvdXJjZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24obyxpKXtyLl9idXMucG9zdE1lc3NhZ2UobixmdW5jdGlvbihuKXtjb25zb2xlLmxvZygic3Vic2NyaWJlLXJlc3BvbnNlOiAiLG4pO3ZhciBzPXIuX3Byb3Zpc2lvbmFsc1t0XTtpZihkZWxldGUgci5fcHJvdmlzaW9uYWxzW3RdLHMmJnMuX3JlbGVhc2VMaXN0ZW5lcnMoKSxuLmJvZHkuY29kZTwyMDApcz1uZXcgaFsiZGVmYXVsdCJdKHIuX293bmVyLHQsci5fYnVzLG4uYm9keS5jaGlsZHJlblJlc291cmNlcyksci5fcHJvdmlzaW9uYWxzW3RdPXM7ZWxzZSBpZigyMDA9PT1uLmJvZHkuY29kZSl7dmFyIGE9bmV3IHBbImRlZmF1bHQiXShyLHQsZSwib24iLG4uYm9keS52YWx1ZSxzLmNoaWxkcmVuLG4uYm9keS52ZXJzaW9uKTtyLl9vYnNlcnZlcnNbdF09YSxvKGEpLHMuYXBwbHkoYSl9ZWxzZSBpKG4uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxuPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm59fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj10Ll9vYnNlcnZlcnNbcl07aWYobil7dmFyIG89e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm5bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09dix0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjo5NSwiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL0RhdGFQcm92aXNpb25hbCI6OTcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sMTAwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLGJbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGMoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihmKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGI9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YSxyLmdldFVzZXJVUkxGcm9tRW1haWw9YyxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbOTJdKSg5Mil9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JztPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ZmFsc2U7ZGVzY3JpcHRvci5jb25maWd1cmFibGU9dHJ1ZTtpZigidmFsdWUiIGluIGRlc2NyaXB0b3IpZGVzY3JpcHRvci53cml0YWJsZT10cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcik7fX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7aWYocHJvdG9Qcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKTtpZihzdGF0aWNQcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKTtyZXR1cm4gQ29uc3RydWN0b3I7fTt9KCk7ZXhwb3J0cy5kZWZhdWx0PWFjdGl2YXRlO3ZhciBfSHlwZXJ0eURpc2NvdmVyeT1yZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0h5cGVydHlEaXNjb3ZlcnknKTt2YXIgX0h5cGVydHlEaXNjb3ZlcnkyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0h5cGVydHlEaXNjb3ZlcnkpO3ZhciBfU3luY2hlcj1yZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXInKTt2YXIgX0V2ZW50RW1pdHRlcjI9cmVxdWlyZSgnLi4vdXRpbHMvRXZlbnRFbWl0dGVyLmpzJyk7dmFyIF9FdmVudEVtaXR0ZXIzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50RW1pdHRlcjIpO3ZhciBfdXRpbHM9cmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMuanMnKTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian07fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7fX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXt0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO31yZXR1cm4gY2FsbCYmKHR5cGVvZiBjYWxsPT09Im9iamVjdCJ8fHR5cGVvZiBjYWxsPT09ImZ1bmN0aW9uIik/Y2FsbDpzZWxmO31mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYodHlwZW9mIHN1cGVyQ2xhc3MhPT0iZnVuY3Rpb24iJiZzdXBlckNsYXNzIT09bnVsbCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiBzdXBlckNsYXNzKTt9c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOmZhbHNlLHdyaXRhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9fSk7aWYoc3VwZXJDbGFzcylPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzO30gLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovIC8vIFNlcnZpY2UgRnJhbWV3b3JrCi8vIFV0aWxzCnZhciBzdGF0dXM9e25hbWU6J3N0YXR1cycsc3RhdHVzOidkaXNjb25uZWN0ZWQnfTsgLyoqCiogSHlwZXJ0eSBQcmVzZW5jZTsKKiBAYXV0aG9yIEFwaXplZSBbZGV2QGFwaXplZS5jb21dCiogQHZlcnNpb24gMC4xLjAKKi92YXIgVXNlclN0YXR1cz1mdW5jdGlvbihfRXZlbnRFbWl0dGVyKXtfaW5oZXJpdHMoVXNlclN0YXR1cyxfRXZlbnRFbWl0dGVyKTtmdW5jdGlvbiBVc2VyU3RhdHVzKGh5cGVydHlVUkwsYnVzLGNvbmZpZ3VyYXRpb24pe19jbGFzc0NhbGxDaGVjayh0aGlzLFVzZXJTdGF0dXMpO2lmKCFoeXBlcnR5VVJMKXRocm93IG5ldyBFcnJvcignVGhlIGh5cGVydHlVUkwgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7aWYoIWJ1cyl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBNaW5pQnVzIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO2lmKCFjb25maWd1cmF0aW9uKXRocm93IG5ldyBFcnJvcignVGhlIGNvbmZpZ3VyYXRpb24gaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7dmFyIF90aGlzPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKFVzZXJTdGF0dXMpLmNhbGwodGhpcyxoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKSk7dmFyIGRvbWFpbj0oMCxfdXRpbHMuZGl2aWRlVVJMKShoeXBlcnR5VVJMKS5kb21haW47X3RoaXMuX3N5bmNoZXI9bmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCxidXMsY29uZmlndXJhdGlvbik7X3RoaXMuX2h5cGVydHlEaXNjb3Zlcnk9bmV3IF9IeXBlcnR5RGlzY292ZXJ5Mi5kZWZhdWx0KGh5cGVydHlVUkwsYnVzKTtfdGhpcy5fb2JqZWN0RGVzY1VSTD0naHlwZXJ0eS1jYXRhbG9ndWU6Ly8nK2RvbWFpbisnLy53ZWxsLWtub3duL2RhdGFzY2hlbWFzL1VzZXJTdGF0dXNEYXRhU2NoZW1hJztfdGhpcy5faHlwZXJ0eVVSTD1oeXBlcnR5VVJMO190aGlzLl9kb21haW49ZG9tYWluO190aGlzLl9oZWFydGJlYXQ9W107X3RoaXMuX3N5bmNoZXIub25Ob3RpZmljYXRpb24oZnVuY3Rpb24oZXZlbnQpe190aGlzLl9vbk5vdGlmaWNhdGlvbihldmVudCk7fSk7cmV0dXJuIF90aGlzO31fY3JlYXRlQ2xhc3MoVXNlclN0YXR1cyxbe2tleTonX29uTm90aWZpY2F0aW9uJyx2YWx1ZTpmdW5jdGlvbiBfb25Ob3RpZmljYXRpb24oZXZlbnQpe3ZhciBfdGhpczI9dGhpcztjb25zb2xlLmluZm8oJ0V2ZW50IFJlY2VpdmVkOiAnLGV2ZW50KTt0aGlzLnRyaWdnZXIoJ2ludml0YXRpb24nLGV2ZW50LmlkZW50aXR5KTtldmVudC5hY2soKTsgLy8gU3Vic2NyaWJlIEhlbGxvIFdvcmxkIE9iamVjdAp0aGlzLl9zeW5jaGVyLnN1YnNjcmliZSh0aGlzLl9vYmplY3REZXNjVVJMLGV2ZW50LnVybCkudGhlbihmdW5jdGlvbihzdGF0dXNPYmplY3RPYnNlcnZlcil7Y29uc29sZS5pbmZvKCctLS0tLS0tLSBTdGF0dXMgT2JzZXJ2ZXIgcmVjZWl2ZWQgLS0tLS0tLS0tJyxzdGF0dXNPYmplY3RPYnNlcnZlcik7X3RoaXMyLnRyaWdnZXIoJ3N0YXR1c0NoYW5nZScse2lkZW50aXR5OmV2ZW50LmlkZW50aXR5LHN0YXR1czpzdGF0dXNPYmplY3RPYnNlcnZlci5kYXRhLnN0YXR1c30pO190aGlzMi5fbWFuYWdlUHJlc2VuY2VIZWFydGJlYXQoZXZlbnQuaWRlbnRpdHkpO3N0YXR1c09iamVjdE9ic2VydmVyLm9uQ2hhbmdlKCcqJyxmdW5jdGlvbigpe2NvbnNvbGUuaW5mbygnc3RhdHVzIGV2ZW50IHJlY2VpdmVkOicsZXZlbnQpO190aGlzMi50cmlnZ2VyKCdzdGF0dXNDaGFuZ2UnLHtpZGVudGl0eTpldmVudC5pZGVudGl0eSxzdGF0dXM6c3RhdHVzT2JqZWN0T2JzZXJ2ZXIuZGF0YS5zdGF0dXN9KTtfdGhpczIuX21hbmFnZVByZXNlbmNlSGVhcnRiZWF0KGV2ZW50LmlkZW50aXR5KTt9KTtjb25zb2xlLmxvZyhldmVudC5pZGVudGl0eS5lbWFpbCwnaGFzIHN1YnNjcmliZSB0byBteSBzdGF0dXMgZGF0YSBvYmplY3QsIHNlbmQgaW52aXRlIHRvIGxpc3RlbiBtaW5lJyk7X3RoaXMyLl9zdGF0dXNPYmplY3RSZXBvcnRlci5pbnZpdGVPYnNlcnZlcnMoW2V2ZW50LmZyb21dKTt9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe2NvbnNvbGUuZXJyb3IocmVhc29uKTt9KTt9IC8qKgogICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjcmVhdGUgYSBuZXcgc3RhdHVzIG9iamVjdCBzeW5jaGVyCiAgICogQHBhcmFtICB7VVJMLlVzZXJVUkx9IHBhcnRpY2lwYW50cyBMaXN0IG9mIFVzZXIgYWxsb3dlZAogICAqIEByZXR1cm4ge1Byb21pc2V9CiAgICovfSx7a2V5OidjcmVhdGUnLHZhbHVlOmZ1bmN0aW9uIGNyZWF0ZShwYXJ0aWNpcGFudHMpe3ZhciBfdGhpczM9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3N0YXR1cy5zdGF0dXM9J2Nvbm5lY3RlZCc7c3RhdHVzLm93bmVyPV90aGlzMy5faHlwZXJ0eVVSTDtzdGF0dXMubmFtZT0ncHJlc2VuY2UnO2NvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gTWFwcGluZyBQYXJ0aWNwYW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLScpO190aGlzMy5fbWFwcGluZ1VzZXIocGFydGljaXBhbnRzKS50aGVuKGZ1bmN0aW9uKGh5cGVydGllcyl7cmV0dXJuIF90aGlzMy5jcmVhdGVTeW5jaGVyKGh5cGVydGllcyxzdGF0dXMpO30pLnRoZW4oZnVuY3Rpb24oc3RhdHVzT2JqZWN0UmVwb3J0ZXIpe190aGlzMy5fc3RhdHVzT2JqZWN0UmVwb3J0ZXI9c3RhdHVzT2JqZWN0UmVwb3J0ZXI7X3RoaXMzLl9zdGF0dXNPYmplY3RSZXBvcnRlci5vblN1YnNjcmlwdGlvbihmdW5jdGlvbihldmVudCl7Y29uc29sZS5pbmZvKCctLS0tLS0tLSBTdGF0dXMgUmVwb3J0ZXIgcmVjZWl2ZWQgc3Vic2NyaXB0aW9uIHJlcXVlc3QgLS0tLS0tLS0tJyxldmVudCk7ZXZlbnQuYWNjZXB0KCk7fSk7c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtfdGhpczMuX3NlbmRIZWFydGJlYXQoKTt9LDUwMDAwKTt9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe3JlamVjdChyZWFzb24pO30pO30pO319LHtrZXk6J2NyZWF0ZVN5bmNoZXInLHZhbHVlOmZ1bmN0aW9uIGNyZWF0ZVN5bmNoZXIoaHlwZXJ0aWVzLHN0YXR1cyl7Y29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gU3luY2hlciBDcmVhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScsaHlwZXJ0aWVzLHN0YXR1cyk7cmV0dXJuIHRoaXMuX3N5bmNoZXIuY3JlYXRlKHRoaXMuX29iamVjdERlc2NVUkwsaHlwZXJ0aWVzLHN0YXR1cyk7fX0se2tleTonam9pbicsdmFsdWU6ZnVuY3Rpb24gam9pbihyZXNvdXJjZSl7dmFyIF90aGlzND10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7Y29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gU3luY2hlciBzdWJzY3JpYmUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpO190aGlzNC5fc3luY2hlci5zdWJzY3JpYmUoX3RoaXM0Ll9vYmplY3REZXNjVVJMLHJlc291cmNlKS50aGVuKGZ1bmN0aW9uKGRhdGFPYmplY3RPYnNlcnZlcil7Y29uc29sZS5pbmZvKCdEYXRhIE9iamVjdCBPYnNlcnZlcjogJyxkYXRhT2JqZWN0T2JzZXJ2ZXIpO30pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7cmVqZWN0KHJlYXNvbik7fSk7fSk7fX0se2tleTonc2V0U3RhdHVzJyx2YWx1ZTpmdW5jdGlvbiBzZXRTdGF0dXMobmV3U3RhdHVzKXtjb25zb2xlLmxvZygnY2hhbmdlIHN0YXR1cyB0bycsbmV3U3RhdHVzKTt0aGlzLl9zdGF0dXNPYmplY3RSZXBvcnRlci5kYXRhLnN0YXR1cz1uZXdTdGF0dXM7fSAvKioKICAgKiBVcGRhdGUgc3RhdHVzIG9iamVjdCBkYXRlCiAgICovfSx7a2V5Oidfc2VuZEhlYXJ0YmVhdCcsdmFsdWU6ZnVuY3Rpb24gX3NlbmRIZWFydGJlYXQoKXtjb25zb2xlLmxvZygnc2VuZCBoZWFydGJlYXQnKTt0aGlzLl9zdGF0dXNPYmplY3RSZXBvcnRlci5kYXRhLmRhdGU9bmV3IERhdGUoKS5nZXRUaW1lKCk7fSAvKioKICAgKiBNb25pdG9yIHVzZXIgYWN0aXZpdHkgd2l0aGluIGhlYXJ0YmVhdCB0aW1lb3V0IHBlcmlvZAogICAqL30se2tleTonX21hbmFnZVByZXNlbmNlSGVhcnRiZWF0Jyx2YWx1ZTpmdW5jdGlvbiBfbWFuYWdlUHJlc2VuY2VIZWFydGJlYXQoaWRlbnRpdHkpe3ZhciBfdGhpczU9dGhpcztjb25zb2xlLmxvZygncmVuZXcgaGVhcnRiZWF0IHBlcmlvZCBmb3InLGlkZW50aXR5KTt2YXIgZW1haWw9aWRlbnRpdHkuZW1haWw7aWYoZW1haWwgaW4gdGhpcy5faGVhcnRiZWF0KXtjbGVhclRpbWVvdXQodGhpcy5faGVhcnRiZWF0W2VtYWlsXSk7fXRoaXMuX2hlYXJ0YmVhdFtlbWFpbF09c2V0VGltZW91dChmdW5jdGlvbigpe2NvbnNvbGUubG9nKGVtYWlsLCdoYXMgZGlzY29ubmVjdCcpO2NsZWFyVGltZW91dChfdGhpczUuX2hlYXJ0YmVhdFtlbWFpbF0pO190aGlzNS50cmlnZ2VyKCdzdGF0dXNDaGFuZ2UnLHtpZGVudGl0eTppZGVudGl0eSxzdGF0dXM6J2Rpc2Nvbm5lY3RlZCd9KTt9LDYwMDAwKTt9fSx7a2V5OidfbWFwcGluZ1VzZXInLHZhbHVlOmZ1bmN0aW9uIF9tYXBwaW5nVXNlcih1c2VyTGlzdCl7dmFyIF90aGlzNj10aGlzO2NvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIF9tYXBwaW5nVXNlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyx1c2VyTGlzdCk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgaHlwZXJ0aWVzPVtdO3ZhciBjb3VudD0wO2lmKHVzZXJMaXN0Lmxlbmd0aD09PTApcmVqZWN0KGh5cGVydGllcyk7dmFyIHJlc3VsdFVzZXJzPWZ1bmN0aW9uIHJlc3VsdFVzZXJzKCl7aWYoY291bnQ9PT11c2VyTGlzdC5sZW5ndGgpe2NvbnNvbGUuaW5mbygnSGF2ZSAnK2h5cGVydGllcy5sZW5ndGgrJ3VzZXJzIGZvdW5kOycpO3Jlc29sdmUoaHlwZXJ0aWVzKTt9fTt2YXIgYWN0aXZlVXNlcnM9ZnVuY3Rpb24gYWN0aXZlVXNlcnModXNlcil7Y291bnQrKztoeXBlcnRpZXMucHVzaCh1c2VyLmh5cGVydHlVUkwpO3Jlc3VsdFVzZXJzKCk7fTt2YXIgaW5hY3RpdmVVc2Vycz1mdW5jdGlvbiBpbmFjdGl2ZVVzZXJzKCl7Y291bnQrKztyZXN1bHRVc2VycygpO307dXNlckxpc3QuZm9yRWFjaChmdW5jdGlvbih1c2VyKXtjb25zb2xlLmxvZyh1c2VyKTtpZih1c2VyLmVtYWlsLmxlbmd0aCl7Y29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gX21hcHBpbmdVc2VyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nLHVzZXJMaXN0KTtyZXR1cm4gX3RoaXM2Ll9oeXBlcnR5RGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eVBlclVzZXIodXNlci5lbWFpbCx1c2VyLmRvbWFpbikudGhlbihhY3RpdmVVc2VycykuY2F0Y2goaW5hY3RpdmVVc2Vycyk7fX0pO30pO319XSk7cmV0dXJuIFVzZXJTdGF0dXM7fShfRXZlbnRFbWl0dGVyMy5kZWZhdWx0KTtmdW5jdGlvbiBhY3RpdmF0ZShoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKXtyZXR1cm4ge25hbWU6J1VzZXJTdGF0dXMnLGluc3RhbmNlOm5ldyBVc2VyU3RhdHVzKGh5cGVydHlVUkwsYnVzLGNvbmZpZ3VyYXRpb24pfTt9bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4uL3V0aWxzL0V2ZW50RW1pdHRlci5qcyI6NCwiLi4vdXRpbHMvdXRpbHMuanMiOjUsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSHlwZXJ0eURpc2NvdmVyeSI6MSwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyIjoyfV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ZmFsc2U7ZGVzY3JpcHRvci5jb25maWd1cmFibGU9dHJ1ZTtpZigidmFsdWUiIGluIGRlc2NyaXB0b3IpZGVzY3JpcHRvci53cml0YWJsZT10cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcik7fX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7aWYocHJvdG9Qcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKTtpZihzdGF0aWNQcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKTtyZXR1cm4gQ29uc3RydWN0b3I7fTt9KCk7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTt9fSAvKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8gLyoqCiAqIEV2ZW50RW1pdHRlcgogKiBBbGwgY2xhc3NlcyB3aGljaCBleHRlbmRzIHRoaXMsIGNhbiBoYXZlIGFkZEV2ZW50TGlzdGVuZXIgYW5kIHRyaWdnZXIgZXZlbnRzOwogKi92YXIgRXZlbnRFbWl0dGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsRXZlbnRFbWl0dGVyKTt9X2NyZWF0ZUNsYXNzKEV2ZW50RW1pdHRlcixbe2tleToiYWRkRXZlbnRMaXN0ZW5lciIsIC8qKgogICAqIGFkZEV2ZW50TGlzdGVuZXIgbGlzdGVuIGZvciBhbiBldmVudFR5cGUKICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgZXZlbnRUeXBlIC0gbGlzdGVuaW5nIGZvciB0aGlzIHR5cGUgb2YgZXZlbnQKICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gICAgICAgY2IgICAgICAgIC0gY2FsbGJhY2sgZnVuY3Rpb24gd2lsbCBiZSBleGVjdXRlZCB3aGVuIHRoZSBldmVudCBpdCBpcyBpbnZva2VkCiAgICovdmFsdWU6ZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsY2Ipe3ZhciBfdGhpcz10aGlzO190aGlzW2V2ZW50VHlwZV09Y2I7fSAvKioKICAgKiBJbnZva2UgdGhlIGV2ZW50VHlwZQogICAqIEBwYXJhbSAge3N0cmluZ30gZXZlbnRUeXBlIC0gZXZlbnQgd2lsbCBiZSBpbnZva2VkCiAgICogQHBhcmFtICB7b2JqZWN0fSBwYXJhbXMgLSBwYXJhbWV0ZXJzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBhZGRFdmVudExpc3RlbmVyCiAgICovfSx7a2V5OiJ0cmlnZ2VyIix2YWx1ZTpmdW5jdGlvbiB0cmlnZ2VyKGV2ZW50VHlwZSxwYXJhbXMpe3ZhciBfdGhpcz10aGlzO2lmKF90aGlzW2V2ZW50VHlwZV0pe190aGlzW2V2ZW50VHlwZV0ocGFyYW1zKTt9fX1dKTtyZXR1cm4gRXZlbnRFbWl0dGVyO30oKTtleHBvcnRzLmRlZmF1bHQ9RXZlbnRFbWl0dGVyO21vZHVsZS5leHBvcnRzPWV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTp0cnVlfSk7ZXhwb3J0cy5kaXZpZGVVUkw9ZGl2aWRlVVJMO2V4cG9ydHMuZGVlcENsb25lPWRlZXBDbG9uZTtleHBvcnRzLmdldENvbmZpZz1nZXRDb25maWc7ZXhwb3J0cy5nZXRVc2VyTWVkaWE9Z2V0VXNlck1lZGlhO2V4cG9ydHMuc2VyaWFsaXplPXNlcmlhbGl6ZTtleHBvcnRzLmdldFRlbXBsYXRlPWdldFRlbXBsYXRlOyAvKioKICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiAqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgogKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqKi8gLy8ganNoaW50IGJyb3dzZXI6dHJ1ZSwganF1ZXJ5OiB0cnVlCi8vIGpzaGludCB2YXJzdG10OiB0cnVlCi8qIGdsb2JhbCBIYW5kbGViYXJzICovIC8qKgogKiBTdXBwb3J0IG1vZHVsZSB3aXRoIHNvbWUgZnVuY3Rpb25zIHdpbGwgYmUgdXNlZnVsCiAqIEBtb2R1bGUgdXRpbHMKICovIC8qKgogKiBAdHlwZWRlZiBkaXZpZGVVUkwKICogQHR5cGUgT2JqZWN0CiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFRoZSB0eXBlIG9mIFVSTAogKiBAcHJvcGVydHkge3N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZGVudGl0eSBUaGUgaWRlbnRpdHkgb2YgVVJMCiAqLyAvKioKICogRGl2aWRlIGFuIHVybCBpbiB0eXBlLCBkb21haW4gYW5kIGlkZW50aXR5CiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzCiAqIEByZXR1cm4ge2RpdmlkZVVSTH0gdGhlIHJlc3VsdCBvZiBkaXZpZGVVUkwKICovZnVuY3Rpb24gZGl2aWRlVVJMKHVybCl7IC8vIGxldCByZSA9IC8oW2EtekEtWi1dKik/OlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9XC5bYS16XXsyLDZ9XGIpKihcL1tcL1xkXHdcLi1dKikqKD86W1w/XSkqKC4rKSovZ2k7CnZhciByZT0vKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naTt2YXIgc3Vic3Q9JyQxLCQyLCQzJzt2YXIgcGFydHM9dXJsLnJlcGxhY2UocmUsc3Vic3QpLnNwbGl0KCcsJyk7IC8vIElmIHRoZSB1cmwgaGFzIG5vIHByb3RvY29sLCB0aGUgZGVmYXVsdCBwcm90b2NvbCBzZXQgaXMgaHR0cHMKaWYocGFydHNbMF09PT11cmwpe3BhcnRzWzBdPSdodHRwcyc7cGFydHNbMV09dXJsO312YXIgcmVzdWx0PXt0eXBlOnBhcnRzWzBdLGRvbWFpbjpwYXJ0c1sxXSxpZGVudGl0eTpwYXJ0c1syXX07cmV0dXJuIHJlc3VsdDt9IC8qKgogKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YQogKiBAcGFyYW0gIHtPYmplY3R9ICBvYmogLSBvYmplY3QgdG8gYmUgY2xvbmVkCiAqIEByZXR1cm4ge09iamVjdH0KICovZnVuY3Rpb24gZGVlcENsb25lKG9iail7IC8vVE9ETzogc2ltcGxlIGJ1dCBpbmVmZmljaWVudCBKU09OIGRlZXAgY2xvbmUuLi4KaWYob2JqKXJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO30gLyoqCiAqIEdldCB0aGUgY29uZmlndXJhdGlvbiBmcm9tIGFuIGpzb24gZmlsZTsKICogQHBhcmFtICB7SlNPTk9iamVjdH0ganNvbkZpbGUKICogQHJldHVybiB7b2JqZWN0fQogKi9mdW5jdGlvbiBnZXRDb25maWcoSlNPTk9iamVjdCl7Y29uc29sZS5sb2coJ3Byb2R1Y3Rpb24nKTtyZXR1cm4gSlNPTk9iamVjdFsncHJvZHVjdGlvbiddO30gLyoqCiAqIEdldCBXZWJSVEMgQVBJIHJlc291cmNlcwogKiBAcGFyYW0gIHtPYmplY3R9ICAgICBvcHRpb25zIE9iamVjdCBjb250YWluaW5nIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlc291cmNlcyB3aWxsIGJlIHVzZWQgKGNhbWVyYSwgbWljLCByZXNvbHV0aW9uLCBldGMpOwogKiBAcmV0dXJuIHtQcm9taXNlfQogKi9mdW5jdGlvbiBnZXRVc2VyTWVkaWEoY29uc3RyYWludHMpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24obWVkaWFTdHJlYW0pe3Jlc29sdmUobWVkaWFTdHJlYW0pO30pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7cmVqZWN0KHJlYXNvbik7fSk7fSk7fWZ1bmN0aW9uIHNlcmlhbGl6ZSgpeyQuZm4uc2VyaWFsaXplT2JqZWN0PWZ1bmN0aW9uKCl7dmFyIG89e307dmFyIGE9dGhpcy5zZXJpYWxpemVBcnJheSgpOyQuZWFjaChhLGZ1bmN0aW9uKCl7aWYob1t0aGlzLm5hbWVdIT09dW5kZWZpbmVkKXtpZighb1t0aGlzLm5hbWVdLnB1c2gpe29bdGhpcy5uYW1lXT1bb1t0aGlzLm5hbWVdXTt9b1t0aGlzLm5hbWVdLnB1c2godGhpcy52YWx1ZXx8JycpO31lbHNlIHtvW3RoaXMubmFtZV09dGhpcy52YWx1ZXx8Jyc7fX0pO3JldHVybiBvO307JC5mbi5zZXJpYWxpemVPYmplY3RBcnJheT1mdW5jdGlvbigpe3ZhciBvPXt9O3ZhciBhPXRoaXMuc2VyaWFsaXplQXJyYXkoKTskLmVhY2goYSxmdW5jdGlvbigpe2lmKG9bdGhpcy5uYW1lXSE9PXVuZGVmaW5lZCl7aWYoIW9bdGhpcy5uYW1lXS5wdXNoKXtvW3RoaXMubmFtZV09W29bdGhpcy5uYW1lXV07fW9bdGhpcy5uYW1lXS5wdXNoKHRoaXMudmFsdWV8fCcnKTt9ZWxzZSB7aWYoIW9bdGhpcy5uYW1lXSlvW3RoaXMubmFtZV09W107b1t0aGlzLm5hbWVdLnB1c2godGhpcy52YWx1ZXx8JycpO319KTtyZXR1cm4gbzt9O31mdW5jdGlvbiBnZXRUZW1wbGF0ZShwYXRoLHNjcmlwdCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtpZihIYW5kbGViYXJzLnRlbXBsYXRlcz09PXVuZGVmaW5lZHx8SGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV09PT11bmRlZmluZWQpe0hhbmRsZWJhcnMudGVtcGxhdGVzPXt9O31lbHNlIHtyZXNvbHZlKEhhbmRsZWJhcnMudGVtcGxhdGVzW25hbWVdKTt9dmFyIHRlbXBsYXRlRmlsZT0kLmFqYXgoe3VybDpwYXRoKycuaGJzJyxzdWNjZXNzOmZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSl7SGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV09SGFuZGxlYmFycy5jb21waWxlKGRhdGEpO30sZmFpbDpmdW5jdGlvbiBmYWlsKHJlYXNvbil7cmV0dXJuIHJlYXNvbjt9fSk7dmFyIHNjcmlwdEZpbGU9JC5nZXRTY3JpcHQoc2NyaXB0KTt2YXIgcmVxdWVzdHM9W107aWYocGF0aClyZXF1ZXN0cy5wdXNoKHRlbXBsYXRlRmlsZSk7aWYoc2NyaXB0KXJlcXVlc3RzLnB1c2goc2NyaXB0RmlsZSk7UHJvbWlzZS5hbGwocmVxdWVzdHMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtyZXNvbHZlKEhhbmRsZWJhcnMudGVtcGxhdGVzW25hbWVdKTt9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe3JlamVjdChyZWFzb24pO30pO30pO30KCn0se31dfSx7fSxbM10pKDMpCn0pOw==",
      "sourceCodeClassname": "UserStatus",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10010,
    "type": "Hyperties",
    "version": "0.1",
    "description": "Description of UserStatus",
    "objectName": "UserStatus",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "ParticipantsHyperty": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCkuZGVmYXVsdH19KShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09ImZ1bmN0aW9uIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK28rIiciKTt0aHJvdyBmLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09ImZ1bmN0aW9uIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKGdsb2JhbCl7CiJ1c2Ugc3RyaWN0IjsKCnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsKCiFmdW5jdGlvbiAoZSkgewogIGlmICgib2JqZWN0IiA9PSAodHlwZW9mIGV4cG9ydHMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGV4cG9ydHMpKSAmJiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgbW9kdWxlKSBtb2R1bGUuZXhwb3J0cyA9IGUoKTtlbHNlIGlmICgiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCkgZGVmaW5lKFtdLCBlKTtlbHNlIHsKICAgIHZhciB0O3QgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2Ygd2luZG93ID8gd2luZG93IDogInVuZGVmaW5lZCIgIT0gdHlwZW9mIGdsb2JhbCA/IGdsb2JhbCA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBzZWxmID8gc2VsZiA6IHRoaXMsIHQuSWRlbnRpdHlNYW5hZ2VyID0gZSgpOwogIH0KfShmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIGUodCwgciwgbikgewogICAgZnVuY3Rpb24gbyhzLCBjKSB7CiAgICAgIGlmICghcltzXSkgewogICAgICAgIGlmICghdFtzXSkgewogICAgICAgICAgdmFyIHUgPSAiZnVuY3Rpb24iID09IHR5cGVvZiByZXF1aXJlICYmIHJlcXVpcmU7aWYgKCFjICYmIHUpIHJldHVybiB1KHMsICEwKTtpZiAoaSkgcmV0dXJuIGkocywgITApO3ZhciBhID0gbmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIgKyBzICsgIiciKTt0aHJvdyBhLmNvZGUgPSAiTU9EVUxFX05PVF9GT1VORCIsIGE7CiAgICAgICAgfXZhciBmID0gcltzXSA9IHsgZXhwb3J0czoge30gfTt0W3NdWzBdLmNhbGwoZi5leHBvcnRzLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHIgPSB0W3NdWzFdW2VdO3JldHVybiBvKHIgPyByIDogZSk7CiAgICAgICAgfSwgZiwgZi5leHBvcnRzLCBlLCB0LCByLCBuKTsKICAgICAgfXJldHVybiByW3NdLmV4cG9ydHM7CiAgICB9Zm9yICh2YXIgaSA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIHJlcXVpcmUgJiYgcmVxdWlyZSwgcyA9IDA7IHMgPCBuLmxlbmd0aDsgcysrKSB7CiAgICAgIG8obltzXSk7CiAgICB9cmV0dXJuIG87CiAgfSh7IDE6IFtmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICB0LmV4cG9ydHMgPSB7ICJkZWZhdWx0IjogZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksIF9fZXNNb2R1bGU6ICEwIH07CiAgICB9LCB7ICJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOiA3IH1dLCAyOiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdC5leHBvcnRzID0geyAiZGVmYXVsdCI6IGUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksIF9fZXNNb2R1bGU6ICEwIH07CiAgICB9LCB7ICJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6IDggfV0sIDM6IFtmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICB0LmV4cG9ydHMgPSB7ICJkZWZhdWx0IjogZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksIF9fZXNNb2R1bGU6ICEwIH07CiAgICB9LCB7ICJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOiA5IH1dLCA0OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdC5leHBvcnRzID0geyAiZGVmYXVsdCI6IGUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksIF9fZXNNb2R1bGU6ICEwIH07CiAgICB9LCB7ICJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6IDEwIH1dLCA1OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgInVzZSBzdHJpY3QiOwogICAgICByLl9fZXNNb2R1bGUgPSAhMCwgclsiZGVmYXVsdCJdID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgdCkpIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogICAgICB9OwogICAgfSwge31dLCA2OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgInVzZSBzdHJpY3QiOwogICAgICBmdW5jdGlvbiBuKGUpIHsKICAgICAgICByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgPyBlIDogeyAiZGVmYXVsdCI6IGUgfTsKICAgICAgfXIuX19lc01vZHVsZSA9ICEwO3ZhciBvID0gZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksCiAgICAgICAgICBpID0gbihvKTtyWyJkZWZhdWx0Il0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZnVuY3Rpb24gZShlLCB0KSB7CiAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IHQubGVuZ3RoOyByKyspIHsKICAgICAgICAgICAgdmFyIG4gPSB0W3JdO24uZW51bWVyYWJsZSA9IG4uZW51bWVyYWJsZSB8fCAhMSwgbi5jb25maWd1cmFibGUgPSAhMCwgInZhbHVlIiBpbiBuICYmIChuLndyaXRhYmxlID0gITApLCAoMCwgaVsiZGVmYXVsdCJdKShlLCBuLmtleSwgbik7CiAgICAgICAgICB9CiAgICAgICAgfXJldHVybiBmdW5jdGlvbiAodCwgciwgbikgewogICAgICAgICAgcmV0dXJuIHIgJiYgZSh0LnByb3RvdHlwZSwgciksIG4gJiYgZSh0LCBuKSwgdDsKICAgICAgICB9OwogICAgICB9KCk7CiAgICB9LCB7ICIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOiAyIH1dLCA3OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSBlKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpO3QuZXhwb3J0cyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIChuLkpTT04gJiYgbi5KU09OLnN0cmluZ2lmeSB8fCBKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTiwgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0sIHsgIi4uLy4uL21vZHVsZXMvJC5jb3JlIjogMTYgfV0sIDg6IFtmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICB2YXIgbiA9IGUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cyA9IGZ1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgICAgcmV0dXJuIG4uc2V0RGVzYyhlLCB0LCByKTsKICAgICAgfTsKICAgIH0sIHsgIi4uLy4uL21vZHVsZXMvJCI6IDM4IH1dLCA5OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSwgdC5leHBvcnRzID0gZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Qua2V5czsKICAgIH0sIHsgIi4uLy4uL21vZHVsZXMvJC5jb3JlIjogMTYsICIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6IDYyIH1dLCAxMDogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIGUoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSwgZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksIGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLCBlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksIHQuZXhwb3J0cyA9IGUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZTsKICAgIH0sIHsgIi4uL21vZHVsZXMvJC5jb3JlIjogMTYsICIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjogNjMsICIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjogNjQsICIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOiA2NSwgIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6IDY2IH1dLCAxMTogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKCJmdW5jdGlvbiIgIT0gdHlwZW9mIGUpIHRocm93IFR5cGVFcnJvcihlICsgIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZTsKICAgICAgfTsKICAgIH0sIHt9XSwgMTI6IFtmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICB0LmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7fTsKICAgIH0sIHt9XSwgMTM6IFtmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICB2YXIgbiA9IGUoIi4vJC5pcy1vYmplY3QiKTt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmICghbihlKSkgdGhyb3cgVHlwZUVycm9yKGUgKyAiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGU7CiAgICAgIH07CiAgICB9LCB7ICIuLyQuaXMtb2JqZWN0IjogMzEgfV0sIDE0OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSBlKCIuLyQuY29mIiksCiAgICAgICAgICBvID0gZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpLAogICAgICAgICAgaSA9ICJBcmd1bWVudHMiID09IG4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBhcmd1bWVudHM7CiAgICAgIH0oKSk7dC5leHBvcnRzID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCwgciwgcztyZXR1cm4gdm9pZCAwID09PSBlID8gIlVuZGVmaW5lZCIgOiBudWxsID09PSBlID8gIk51bGwiIDogInN0cmluZyIgPT0gdHlwZW9mIChyID0gKHQgPSBPYmplY3QoZSkpW29dKSA/IHIgOiBpID8gbih0KSA6ICJPYmplY3QiID09IChzID0gbih0KSkgJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgdC5jYWxsZWUgPyAiQXJndW1lbnRzIiA6IHM7CiAgICAgIH07CiAgICB9LCB7ICIuLyQuY29mIjogMTUsICIuLyQud2tzIjogNTkgfV0sIDE1OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSB7fS50b1N0cmluZzt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwgLTEpOwogICAgICB9OwogICAgfSwge31dLCAxNjogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHZhciBuID0gdC5leHBvcnRzID0geyB2ZXJzaW9uOiAiMS4yLjYiIH07Im51bWJlciIgPT0gdHlwZW9mIF9fZSAmJiAoX19lID0gbik7CiAgICB9LCB7fV0sIDE3OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSBlKCIuLyQuYS1mdW5jdGlvbiIpO3QuZXhwb3J0cyA9IGZ1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgICAgaWYgKG4oZSksIHZvaWQgMCA9PT0gdCkgcmV0dXJuIGU7c3dpdGNoIChyKSB7Y2FzZSAxOgogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHIpIHsKICAgICAgICAgICAgICByZXR1cm4gZS5jYWxsKHQsIHIpOwogICAgICAgICAgICB9O2Nhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChyLCBuKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGUuY2FsbCh0LCByLCBuKTsKICAgICAgICAgICAgfTtjYXNlIDM6CiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAociwgbiwgbykgewogICAgICAgICAgICAgIHJldHVybiBlLmNhbGwodCwgciwgbiwgbyk7CiAgICAgICAgICAgIH07fXJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gZS5hcHBseSh0LCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH07CiAgICB9LCB7ICIuLyQuYS1mdW5jdGlvbiI6IDExIH1dLCAxODogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKHZvaWQgMCA9PSBlKSB0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiICsgZSk7cmV0dXJuIGU7CiAgICAgIH07CiAgICB9LCB7fV0sIDE5OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdC5leHBvcnRzID0gIWUoIi4vJC5mYWlscyIpKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gNyAhPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICJhIiwgeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgcmV0dXJuIDc7CiAgICAgICAgICB9IH0pLmE7CiAgICAgIH0pOwogICAgfSwgeyAiLi8kLmZhaWxzIjogMjIgfV0sIDIwOiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSBlKCIuLyQuaXMtb2JqZWN0IiksCiAgICAgICAgICBvID0gZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LAogICAgICAgICAgaSA9IG4obykgJiYgbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGkgPyBvLmNyZWF0ZUVsZW1lbnQoZSkgOiB7fTsKICAgICAgfTsKICAgIH0sIHsgIi4vJC5nbG9iYWwiOiAyNCwgIi4vJC5pcy1vYmplY3QiOiAzMSB9XSwgMjE6IFtmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICB2YXIgbiA9IGUoIi4vJC5nbG9iYWwiKSwKICAgICAgICAgIG8gPSBlKCIuLyQuY29yZSIpLAogICAgICAgICAgaSA9IGUoIi4vJC5jdHgiKSwKICAgICAgICAgIHMgPSAicHJvdG90eXBlIiwKICAgICAgICAgIGMgPSBmdW5jdGlvbiBjKGUsIHQsIHIpIHsKICAgICAgICB2YXIgdSwKICAgICAgICAgICAgYSwKICAgICAgICAgICAgZiwKICAgICAgICAgICAgbCA9IGUgJiBjLkYsCiAgICAgICAgICAgIHAgPSBlICYgYy5HLAogICAgICAgICAgICBkID0gZSAmIGMuUywKICAgICAgICAgICAgJCA9IGUgJiBjLlAsCiAgICAgICAgICAgIHYgPSBlICYgYy5CLAogICAgICAgICAgICBoID0gZSAmIGMuVywKICAgICAgICAgICAgeSA9IHAgPyBvIDogb1t0XSB8fCAob1t0XSA9IHt9KSwKICAgICAgICAgICAgYiA9IHAgPyBuIDogZCA/IG5bdF0gOiAoblt0XSB8fCB7fSlbc107cCAmJiAociA9IHQpO2ZvciAodSBpbiByKSB7CiAgICAgICAgICBhID0gIWwgJiYgYiAmJiB1IGluIGIsIGEgJiYgdSBpbiB5IHx8IChmID0gYSA/IGJbdV0gOiByW3VdLCB5W3VdID0gcCAmJiAiZnVuY3Rpb24iICE9IHR5cGVvZiBiW3VdID8gclt1XSA6IHYgJiYgYSA/IGkoZiwgbikgOiBoICYmIGJbdV0gPT0gZiA/IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciB0ID0gZnVuY3Rpb24gdChfdCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgZSA/IG5ldyBlKF90KSA6IGUoX3QpOwogICAgICAgICAgICB9O3JldHVybiB0W3NdID0gZVtzXSwgdDsKICAgICAgICAgIH0oZikgOiAkICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIGYgPyBpKEZ1bmN0aW9uLmNhbGwsIGYpIDogZiwgJCAmJiAoKHlbc10gfHwgKHlbc10gPSB7fSkpW3VdID0gZikpOwogICAgICAgIH0KICAgICAgfTtjLkYgPSAxLCBjLkcgPSAyLCBjLlMgPSA0LCBjLlAgPSA4LCBjLkIgPSAxNiwgYy5XID0gMzIsIHQuZXhwb3J0cyA9IGM7CiAgICB9LCB7ICIuLyQuY29yZSI6IDE2LCAiLi8kLmN0eCI6IDE3LCAiLi8kLmdsb2JhbCI6IDI0IH1dLCAyMjogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiAhIWUoKTsKICAgICAgICB9IGNhdGNoICh0KSB7CiAgICAgICAgICByZXR1cm4gITA7CiAgICAgICAgfQogICAgICB9OwogICAgfSwge31dLCAyMzogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHZhciBuID0gZSgiLi8kLmN0eCIpLAogICAgICAgICAgbyA9IGUoIi4vJC5pdGVyLWNhbGwiKSwKICAgICAgICAgIGkgPSBlKCIuLyQuaXMtYXJyYXktaXRlciIpLAogICAgICAgICAgcyA9IGUoIi4vJC5hbi1vYmplY3QiKSwKICAgICAgICAgIGMgPSBlKCIuLyQudG8tbGVuZ3RoIiksCiAgICAgICAgICB1ID0gZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoZSwgdCwgciwgYSkgewogICAgICAgIHZhciBmLAogICAgICAgICAgICBsLAogICAgICAgICAgICBwLAogICAgICAgICAgICBkID0gdShlKSwKICAgICAgICAgICAgJCA9IG4ociwgYSwgdCA/IDIgOiAxKSwKICAgICAgICAgICAgdiA9IDA7aWYgKCJmdW5jdGlvbiIgIT0gdHlwZW9mIGQpIHRocm93IFR5cGVFcnJvcihlICsgIiBpcyBub3QgaXRlcmFibGUhIik7aWYgKGkoZCkpIGZvciAoZiA9IGMoZS5sZW5ndGgpOyBmID4gdjsgdisrKSB7CiAgICAgICAgICB0ID8gJChzKGwgPSBlW3ZdKVswXSwgbFsxXSkgOiAkKGVbdl0pOwogICAgICAgIH0gZWxzZSBmb3IgKHAgPSBkLmNhbGwoZSk7ICEobCA9IHAubmV4dCgpKS5kb25lOykgewogICAgICAgICAgbyhwLCAkLCBsLnZhbHVlLCB0KTsKICAgICAgICB9CiAgICAgIH07CiAgICB9LCB7ICIuLyQuYW4tb2JqZWN0IjogMTMsICIuLyQuY3R4IjogMTcsICIuLyQuaXMtYXJyYXktaXRlciI6IDMwLCAiLi8kLml0ZXItY2FsbCI6IDMyLCAiLi8kLnRvLWxlbmd0aCI6IDU2LCAiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOiA2MCB9XSwgMjQ6IFtmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICB2YXIgbiA9IHQuZXhwb3J0cyA9ICJ1bmRlZmluZWQiICE9IHR5cGVvZiB3aW5kb3cgJiYgd2luZG93Lk1hdGggPT0gTWF0aCA/IHdpbmRvdyA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBzZWxmICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZiA6IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciIgPT0gdHlwZW9mIF9fZyAmJiAoX19nID0gbik7CiAgICB9LCB7fV0sIDI1OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSB7fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHJldHVybiBuLmNhbGwoZSwgdCk7CiAgICAgIH07CiAgICB9LCB7fV0sIDI2OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSBlKCIuLyQiKSwKICAgICAgICAgIG8gPSBlKCIuLyQucHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cyA9IGUoIi4vJC5kZXNjcmlwdG9ycyIpID8gZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgICByZXR1cm4gbi5zZXREZXNjKGUsIHQsIG8oMSwgcikpOwogICAgICB9IDogZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgICByZXR1cm4gZVt0XSA9IHIsIGU7CiAgICAgIH07CiAgICB9LCB7ICIuLyQiOiAzOCwgIi4vJC5kZXNjcmlwdG9ycyI6IDE5LCAiLi8kLnByb3BlcnR5LWRlc2MiOiA0MiB9XSwgMjc6IFtmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICB0LmV4cG9ydHMgPSBlKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogICAgfSwgeyAiLi8kLmdsb2JhbCI6IDI0IH1dLCAyODogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgICAgdmFyIG4gPSB2b2lkIDAgPT09IHI7c3dpdGNoICh0Lmxlbmd0aCkge2Nhc2UgMDoKICAgICAgICAgICAgcmV0dXJuIG4gPyBlKCkgOiBlLmNhbGwocik7Y2FzZSAxOgogICAgICAgICAgICByZXR1cm4gbiA/IGUodFswXSkgOiBlLmNhbGwociwgdFswXSk7Y2FzZSAyOgogICAgICAgICAgICByZXR1cm4gbiA/IGUodFswXSwgdFsxXSkgOiBlLmNhbGwociwgdFswXSwgdFsxXSk7Y2FzZSAzOgogICAgICAgICAgICByZXR1cm4gbiA/IGUodFswXSwgdFsxXSwgdFsyXSkgOiBlLmNhbGwociwgdFswXSwgdFsxXSwgdFsyXSk7Y2FzZSA0OgogICAgICAgICAgICByZXR1cm4gbiA/IGUodFswXSwgdFsxXSwgdFsyXSwgdFszXSkgOiBlLmNhbGwociwgdFswXSwgdFsxXSwgdFsyXSwgdFszXSk7fXJldHVybiBlLmFwcGx5KHIsIHQpOwogICAgICB9OwogICAgfSwge31dLCAyOTogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHZhciBuID0gZSgiLi8kLmNvZiIpO3QuZXhwb3J0cyA9IE9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gIlN0cmluZyIgPT0gbihlKSA/IGUuc3BsaXQoIiIpIDogT2JqZWN0KGUpOwogICAgICB9OwogICAgfSwgeyAiLi8kLmNvZiI6IDE1IH1dLCAzMDogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHZhciBuID0gZSgiLi8kLml0ZXJhdG9ycyIpLAogICAgICAgICAgbyA9IGUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSwKICAgICAgICAgIGkgPSBBcnJheS5wcm90b3R5cGU7dC5leHBvcnRzID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gdm9pZCAwICE9PSBlICYmIChuLkFycmF5ID09PSBlIHx8IGlbb10gPT09IGUpOwogICAgICB9OwogICAgfSwgeyAiLi8kLml0ZXJhdG9ycyI6IDM3LCAiLi8kLndrcyI6IDU5IH1dLCAzMTogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuICJvYmplY3QiID09ICh0eXBlb2YgZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoZSkpID8gbnVsbCAhPT0gZSA6ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGU7CiAgICAgIH07CiAgICB9LCB7fV0sIDMyOiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSBlKCIuLyQuYW4tb2JqZWN0Iik7dC5leHBvcnRzID0gZnVuY3Rpb24gKGUsIHQsIHIsIG8pIHsKICAgICAgICB0cnkgewogICAgICAgICAgcmV0dXJuIG8gPyB0KG4ocilbMF0sIHJbMV0pIDogdChyKTsKICAgICAgICB9IGNhdGNoIChpKSB7CiAgICAgICAgICB2YXIgcyA9IGVbInJldHVybiJdO3Rocm93IHZvaWQgMCAhPT0gcyAmJiBuKHMuY2FsbChlKSksIGk7CiAgICAgICAgfQogICAgICB9OwogICAgfSwgeyAiLi8kLmFuLW9iamVjdCI6IDEzIH1dLCAzMzogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKICAgICAgdmFyIG4gPSBlKCIuLyQiKSwKICAgICAgICAgIG8gPSBlKCIuLyQucHJvcGVydHktZGVzYyIpLAogICAgICAgICAgaSA9IGUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLAogICAgICAgICAgcyA9IHt9O2UoIi4vJC5oaWRlIikocywgZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0pLCB0LmV4cG9ydHMgPSBmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICAgIGUucHJvdG90eXBlID0gbi5jcmVhdGUocywgeyBuZXh0OiBvKDEsIHIpIH0pLCBpKGUsIHQgKyAiIEl0ZXJhdG9yIik7CiAgICAgIH07CiAgICB9LCB7ICIuLyQiOiAzOCwgIi4vJC5oaWRlIjogMjYsICIuLyQucHJvcGVydHktZGVzYyI6IDQyLCAiLi8kLnNldC10by1zdHJpbmctdGFnIjogNDgsICIuLyQud2tzIjogNTkgfV0sIDM0OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgInVzZSBzdHJpY3QiOwogICAgICB2YXIgbiA9IGUoIi4vJC5saWJyYXJ5IiksCiAgICAgICAgICBvID0gZSgiLi8kLmV4cG9ydCIpLAogICAgICAgICAgaSA9IGUoIi4vJC5yZWRlZmluZSIpLAogICAgICAgICAgcyA9IGUoIi4vJC5oaWRlIiksCiAgICAgICAgICBjID0gZSgiLi8kLmhhcyIpLAogICAgICAgICAgdSA9IGUoIi4vJC5pdGVyYXRvcnMiKSwKICAgICAgICAgIGEgPSBlKCIuLyQuaXRlci1jcmVhdGUiKSwKICAgICAgICAgIGYgPSBlKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSwKICAgICAgICAgIGwgPSBlKCIuLyQiKS5nZXRQcm90bywKICAgICAgICAgIHAgPSBlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksCiAgICAgICAgICBkID0gIShbXS5rZXlzICYmICJuZXh0IiBpbiBbXS5rZXlzKCkpLAogICAgICAgICAgJCA9ICJAQGl0ZXJhdG9yIiwKICAgICAgICAgIHYgPSAia2V5cyIsCiAgICAgICAgICBoID0gInZhbHVlcyIsCiAgICAgICAgICB5ID0gZnVuY3Rpb24geSgpIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfTt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoZSwgdCwgciwgYiwgbSwgZywgeCkgewogICAgICAgIGEociwgdCwgYik7dmFyIGosCiAgICAgICAgICAgIHcsCiAgICAgICAgICAgIF8gPSBmdW5jdGlvbiBfKGUpIHsKICAgICAgICAgIGlmICghZCAmJiBlIGluIFMpIHJldHVybiBTW2VdO3N3aXRjaCAoZSkge2Nhc2UgdjoKICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyByKHRoaXMsIGUpOwogICAgICAgICAgICAgIH07Y2FzZSBoOgogICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHIodGhpcywgZSk7CiAgICAgICAgICAgICAgfTt9cmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyByKHRoaXMsIGUpOwogICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgICAgICBrID0gdCArICIgSXRlcmF0b3IiLAogICAgICAgICAgICBPID0gbSA9PSBoLAogICAgICAgICAgICBNID0gITEsCiAgICAgICAgICAgIFMgPSBlLnByb3RvdHlwZSwKICAgICAgICAgICAgRSA9IFNbcF0gfHwgU1skXSB8fCBtICYmIFNbbV0sCiAgICAgICAgICAgIFAgPSBFIHx8IF8obSk7aWYgKEUpIHsKICAgICAgICAgIHZhciBUID0gbChQLmNhbGwobmV3IGUoKSkpO2YoVCwgaywgITApLCAhbiAmJiBjKFMsICQpICYmIHMoVCwgcCwgeSksIE8gJiYgRS5uYW1lICE9PSBoICYmIChNID0gITAsIFAgPSBmdW5jdGlvbiBQKCkgewogICAgICAgICAgICByZXR1cm4gRS5jYWxsKHRoaXMpOwogICAgICAgICAgfSk7CiAgICAgICAgfWlmIChuICYmICF4IHx8ICFkICYmICFNICYmIFNbcF0gfHwgcyhTLCBwLCBQKSwgdVt0XSA9IFAsIHVba10gPSB5LCBtKSBpZiAoaiA9IHsgdmFsdWVzOiBPID8gUCA6IF8oaCksIGtleXM6IGcgPyBQIDogXyh2KSwgZW50cmllczogTyA/IF8oImVudHJpZXMiKSA6IFAgfSwgeCkgZm9yICh3IGluIGopIHsKICAgICAgICAgIHcgaW4gUyB8fCBpKFMsIHcsIGpbd10pOwogICAgICAgIH0gZWxzZSBvKG8uUCArIG8uRiAqIChkIHx8IE0pLCB0LCBqKTtyZXR1cm4gajsKICAgICAgfTsKICAgIH0sIHsgIi4vJCI6IDM4LCAiLi8kLmV4cG9ydCI6IDIxLCAiLi8kLmhhcyI6IDI1LCAiLi8kLmhpZGUiOiAyNiwgIi4vJC5pdGVyLWNyZWF0ZSI6IDMzLCAiLi8kLml0ZXJhdG9ycyI6IDM3LCAiLi8kLmxpYnJhcnkiOiAzOSwgIi4vJC5yZWRlZmluZSI6IDQ0LCAiLi8kLnNldC10by1zdHJpbmctdGFnIjogNDgsICIuLyQud2tzIjogNTkgfV0sIDM1OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSBlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksCiAgICAgICAgICBvID0gITE7dHJ5IHsKICAgICAgICB2YXIgaSA9IFs3XVtuXSgpO2lbInJldHVybiJdID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgbyA9ICEwOwogICAgICAgIH0sIEFycmF5LmZyb20oaSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhyb3cgMjsKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAocykge310LmV4cG9ydHMgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIGlmICghdCAmJiAhbykgcmV0dXJuICExO3ZhciByID0gITE7dHJ5IHsKICAgICAgICAgIHZhciBpID0gWzddLAogICAgICAgICAgICAgIHMgPSBpW25dKCk7cy5uZXh0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByID0gITA7CiAgICAgICAgICB9LCBpW25dID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gczsKICAgICAgICAgIH0sIGUoaSk7CiAgICAgICAgfSBjYXRjaCAoYykge31yZXR1cm4gcjsKICAgICAgfTsKICAgIH0sIHsgIi4vJC53a3MiOiA1OSB9XSwgMzY6IFtmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICB0LmV4cG9ydHMgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHJldHVybiB7IHZhbHVlOiB0LCBkb25lOiAhIWUgfTsKICAgICAgfTsKICAgIH0sIHt9XSwgMzc6IFtmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICB0LmV4cG9ydHMgPSB7fTsKICAgIH0sIHt9XSwgMzg6IFtmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICB2YXIgbiA9IE9iamVjdDt0LmV4cG9ydHMgPSB7IGNyZWF0ZTogbi5jcmVhdGUsIGdldFByb3RvOiBuLmdldFByb3RvdHlwZU9mLCBpc0VudW06IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLCBnZXREZXNjOiBuLmdldE93blByb3BlcnR5RGVzY3JpcHRvciwgc2V0RGVzYzogbi5kZWZpbmVQcm9wZXJ0eSwgc2V0RGVzY3M6IG4uZGVmaW5lUHJvcGVydGllcywgZ2V0S2V5czogbi5rZXlzLCBnZXROYW1lczogbi5nZXRPd25Qcm9wZXJ0eU5hbWVzLCBnZXRTeW1ib2xzOiBuLmdldE93blByb3BlcnR5U3ltYm9scywgZWFjaDogW10uZm9yRWFjaCB9OwogICAgfSwge31dLCAzOTogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHQuZXhwb3J0cyA9ICEwOwogICAgfSwge31dLCA0MDogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHZhciBuLAogICAgICAgICAgbywKICAgICAgICAgIGksCiAgICAgICAgICBzID0gZSgiLi8kLmdsb2JhbCIpLAogICAgICAgICAgYyA9IGUoIi4vJC50YXNrIikuc2V0LAogICAgICAgICAgdSA9IHMuTXV0YXRpb25PYnNlcnZlciB8fCBzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsCiAgICAgICAgICBhID0gcy5wcm9jZXNzLAogICAgICAgICAgZiA9IHMuUHJvbWlzZSwKICAgICAgICAgIGwgPSAicHJvY2VzcyIgPT0gZSgiLi8kLmNvZiIpKGEpLAogICAgICAgICAgcCA9IGZ1bmN0aW9uIHAoKSB7CiAgICAgICAgdmFyIGUsIHQsIHI7Zm9yIChsICYmIChlID0gYS5kb21haW4pICYmIChhLmRvbWFpbiA9IG51bGwsIGUuZXhpdCgpKTsgbjspIHsKICAgICAgICAgIHQgPSBuLmRvbWFpbiwgciA9IG4uZm4sIHQgJiYgdC5lbnRlcigpLCByKCksIHQgJiYgdC5leGl0KCksIG4gPSBuLm5leHQ7CiAgICAgICAgfW8gPSB2b2lkIDAsIGUgJiYgZS5lbnRlcigpOwogICAgICB9O2lmIChsKSBpID0gZnVuY3Rpb24gaSgpIHsKICAgICAgICBhLm5leHRUaWNrKHApOwogICAgICB9O2Vsc2UgaWYgKHUpIHsKICAgICAgICB2YXIgZCA9IDEsCiAgICAgICAgICAgICQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IHUocCkub2JzZXJ2ZSgkLCB7IGNoYXJhY3RlckRhdGE6ICEwIH0pLCBpID0gZnVuY3Rpb24gaSgpIHsKICAgICAgICAgICQuZGF0YSA9IGQgPSAtZDsKICAgICAgICB9OwogICAgICB9IGVsc2UgaSA9IGYgJiYgZi5yZXNvbHZlID8gZnVuY3Rpb24gKCkgewogICAgICAgIGYucmVzb2x2ZSgpLnRoZW4ocCk7CiAgICAgIH0gOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgYy5jYWxsKHMsIHApOwogICAgICB9O3QuZXhwb3J0cyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSB7IGZuOiBlLCBuZXh0OiB2b2lkIDAsIGRvbWFpbjogbCAmJiBhLmRvbWFpbiB9O28gJiYgKG8ubmV4dCA9IHQpLCBuIHx8IChuID0gdCwgaSgpKSwgbyA9IHQ7CiAgICAgIH07CiAgICB9LCB7ICIuLyQuY29mIjogMTUsICIuLyQuZ2xvYmFsIjogMjQsICIuLyQudGFzayI6IDUzIH1dLCA0MTogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHZhciBuID0gZSgiLi8kLmV4cG9ydCIpLAogICAgICAgICAgbyA9IGUoIi4vJC5jb3JlIiksCiAgICAgICAgICBpID0gZSgiLi8kLmZhaWxzIik7dC5leHBvcnRzID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICB2YXIgciA9IChvLk9iamVjdCB8fCB7fSlbZV0gfHwgT2JqZWN0W2VdLAogICAgICAgICAgICBzID0ge307c1tlXSA9IHQociksIG4obi5TICsgbi5GICogaShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByKDEpOwogICAgICAgIH0pLCAiT2JqZWN0Iiwgcyk7CiAgICAgIH07CiAgICB9LCB7ICIuLyQuY29yZSI6IDE2LCAiLi8kLmV4cG9ydCI6IDIxLCAiLi8kLmZhaWxzIjogMjIgfV0sIDQyOiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdC5leHBvcnRzID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICByZXR1cm4geyBlbnVtZXJhYmxlOiAhKDEgJiBlKSwgY29uZmlndXJhYmxlOiAhKDIgJiBlKSwgd3JpdGFibGU6ICEoNCAmIGUpLCB2YWx1ZTogdCB9OwogICAgICB9OwogICAgfSwge31dLCA0MzogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHZhciBuID0gZSgiLi8kLnJlZGVmaW5lIik7dC5leHBvcnRzID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBmb3IgKHZhciByIGluIHQpIHsKICAgICAgICAgIG4oZSwgciwgdFtyXSk7CiAgICAgICAgfXJldHVybiBlOwogICAgICB9OwogICAgfSwgeyAiLi8kLnJlZGVmaW5lIjogNDQgfV0sIDQ0OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdC5leHBvcnRzID0gZSgiLi8kLmhpZGUiKTsKICAgIH0sIHsgIi4vJC5oaWRlIjogMjYgfV0sIDQ1OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdC5leHBvcnRzID0gT2JqZWN0LmlzIHx8IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgcmV0dXJuIGUgPT09IHQgPyAwICE9PSBlIHx8IDEgLyBlID09PSAxIC8gdCA6IGUgIT0gZSAmJiB0ICE9IHQ7CiAgICAgIH07CiAgICB9LCB7fV0sIDQ2OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSBlKCIuLyQiKS5nZXREZXNjLAogICAgICAgICAgbyA9IGUoIi4vJC5pcy1vYmplY3QiKSwKICAgICAgICAgIGkgPSBlKCIuLyQuYW4tb2JqZWN0IiksCiAgICAgICAgICBzID0gZnVuY3Rpb24gcyhlLCB0KSB7CiAgICAgICAgaWYgKGkoZSksICFvKHQpICYmIG51bGwgIT09IHQpIHRocm93IFR5cGVFcnJvcih0ICsgIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKTsKICAgICAgfTt0LmV4cG9ydHMgPSB7IHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgiX19wcm90b19fIiBpbiB7fSA/IGZ1bmN0aW9uICh0LCByLCBvKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBvID0gZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsIG4oT2JqZWN0LnByb3RvdHlwZSwgIl9fcHJvdG9fXyIpLnNldCwgMiksIG8odCwgW10pLCByID0gISh0IGluc3RhbmNlb2YgQXJyYXkpOwogICAgICAgICAgfSBjYXRjaCAoaSkgewogICAgICAgICAgICByID0gITA7CiAgICAgICAgICB9cmV0dXJuIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICAgIHJldHVybiBzKGUsIHQpLCByID8gZS5fX3Byb3RvX18gPSB0IDogbyhlLCB0KSwgZTsKICAgICAgICAgIH07CiAgICAgICAgfSh7fSwgITEpIDogdm9pZCAwKSwgY2hlY2s6IHMgfTsKICAgIH0sIHsgIi4vJCI6IDM4LCAiLi8kLmFuLW9iamVjdCI6IDEzLCAiLi8kLmN0eCI6IDE3LCAiLi8kLmlzLW9iamVjdCI6IDMxIH1dLCA0NzogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKICAgICAgdmFyIG4gPSBlKCIuLyQuY29yZSIpLAogICAgICAgICAgbyA9IGUoIi4vJCIpLAogICAgICAgICAgaSA9IGUoIi4vJC5kZXNjcmlwdG9ycyIpLAogICAgICAgICAgcyA9IGUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSBuW2VdO2kgJiYgdCAmJiAhdFtzXSAmJiBvLnNldERlc2ModCwgcywgeyBjb25maWd1cmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICB9IH0pOwogICAgICB9OwogICAgfSwgeyAiLi8kIjogMzgsICIuLyQuY29yZSI6IDE2LCAiLi8kLmRlc2NyaXB0b3JzIjogMTksICIuLyQud2tzIjogNTkgfV0sIDQ4OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSBlKCIuLyQiKS5zZXREZXNjLAogICAgICAgICAgbyA9IGUoIi4vJC5oYXMiKSwKICAgICAgICAgIGkgPSBlKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzID0gZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgICBlICYmICFvKGUgPSByID8gZSA6IGUucHJvdG90eXBlLCBpKSAmJiBuKGUsIGksIHsgY29uZmlndXJhYmxlOiAhMCwgdmFsdWU6IHQgfSk7CiAgICAgIH07CiAgICB9LCB7ICIuLyQiOiAzOCwgIi4vJC5oYXMiOiAyNSwgIi4vJC53a3MiOiA1OSB9XSwgNDk6IFtmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICB2YXIgbiA9IGUoIi4vJC5nbG9iYWwiKSwKICAgICAgICAgIG8gPSAiX19jb3JlLWpzX3NoYXJlZF9fIiwKICAgICAgICAgIGkgPSBuW29dIHx8IChuW29dID0ge30pO3QuZXhwb3J0cyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGlbZV0gfHwgKGlbZV0gPSB7fSk7CiAgICAgIH07CiAgICB9LCB7ICIuLyQuZ2xvYmFsIjogMjQgfV0sIDUwOiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSBlKCIuLyQuYW4tb2JqZWN0IiksCiAgICAgICAgICBvID0gZSgiLi8kLmEtZnVuY3Rpb24iKSwKICAgICAgICAgIGkgPSBlKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHZhciByLAogICAgICAgICAgICBzID0gbihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwID09PSBzIHx8IHZvaWQgMCA9PSAociA9IG4ocylbaV0pID8gdCA6IG8ocik7CiAgICAgIH07CiAgICB9LCB7ICIuLyQuYS1mdW5jdGlvbiI6IDExLCAiLi8kLmFuLW9iamVjdCI6IDEzLCAiLi8kLndrcyI6IDU5IH1dLCA1MTogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIHQpKSB0aHJvdyBUeXBlRXJyb3IociArICI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhIik7cmV0dXJuIGU7CiAgICAgIH07CiAgICB9LCB7fV0sIDUyOiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSBlKCIuLyQudG8taW50ZWdlciIpLAogICAgICAgICAgbyA9IGUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHQsIHIpIHsKICAgICAgICAgIHZhciBpLAogICAgICAgICAgICAgIHMsCiAgICAgICAgICAgICAgYyA9IFN0cmluZyhvKHQpKSwKICAgICAgICAgICAgICB1ID0gbihyKSwKICAgICAgICAgICAgICBhID0gYy5sZW5ndGg7cmV0dXJuIDAgPiB1IHx8IHUgPj0gYSA/IGUgPyAiIiA6IHZvaWQgMCA6IChpID0gYy5jaGFyQ29kZUF0KHUpLCA1NTI5NiA+IGkgfHwgaSA+IDU2MzE5IHx8IHUgKyAxID09PSBhIHx8IChzID0gYy5jaGFyQ29kZUF0KHUgKyAxKSkgPCA1NjMyMCB8fCBzID4gNTczNDMgPyBlID8gYy5jaGFyQXQodSkgOiBpIDogZSA/IGMuc2xpY2UodSwgdSArIDIpIDogKGkgLSA1NTI5NiA8PCAxMCkgKyAocyAtIDU2MzIwKSArIDY1NTM2KTsKICAgICAgICB9OwogICAgICB9OwogICAgfSwgeyAiLi8kLmRlZmluZWQiOiAxOCwgIi4vJC50by1pbnRlZ2VyIjogNTQgfV0sIDUzOiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4sCiAgICAgICAgICBvLAogICAgICAgICAgaSwKICAgICAgICAgIHMgPSBlKCIuLyQuY3R4IiksCiAgICAgICAgICBjID0gZSgiLi8kLmludm9rZSIpLAogICAgICAgICAgdSA9IGUoIi4vJC5odG1sIiksCiAgICAgICAgICBhID0gZSgiLi8kLmRvbS1jcmVhdGUiKSwKICAgICAgICAgIGYgPSBlKCIuLyQuZ2xvYmFsIiksCiAgICAgICAgICBsID0gZi5wcm9jZXNzLAogICAgICAgICAgcCA9IGYuc2V0SW1tZWRpYXRlLAogICAgICAgICAgZCA9IGYuY2xlYXJJbW1lZGlhdGUsCiAgICAgICAgICAkID0gZi5NZXNzYWdlQ2hhbm5lbCwKICAgICAgICAgIHYgPSAwLAogICAgICAgICAgaCA9IHt9LAogICAgICAgICAgeSA9ICJvbnJlYWR5c3RhdGVjaGFuZ2UiLAogICAgICAgICAgYiA9IGZ1bmN0aW9uIGIoKSB7CiAgICAgICAgdmFyIGUgPSArdGhpcztpZiAoaC5oYXNPd25Qcm9wZXJ0eShlKSkgewogICAgICAgICAgdmFyIHQgPSBoW2VdO2RlbGV0ZSBoW2VdLCB0KCk7CiAgICAgICAgfQogICAgICB9LAogICAgICAgICAgbSA9IGZ1bmN0aW9uIG0oZSkgewogICAgICAgIGIuY2FsbChlLmRhdGEpOwogICAgICB9O3AgJiYgZCB8fCAocCA9IGZ1bmN0aW9uIHAoZSkgewogICAgICAgIGZvciAodmFyIHQgPSBbXSwgciA9IDE7IGFyZ3VtZW50cy5sZW5ndGggPiByOykgewogICAgICAgICAgdC5wdXNoKGFyZ3VtZW50c1tyKytdKTsKICAgICAgICB9cmV0dXJuIGhbKyt2XSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGMoImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSA/IGUgOiBGdW5jdGlvbihlKSwgdCk7CiAgICAgICAgfSwgbih2KSwgdjsKICAgICAgfSwgZCA9IGZ1bmN0aW9uIGQoZSkgewogICAgICAgIGRlbGV0ZSBoW2VdOwogICAgICB9LCAicHJvY2VzcyIgPT0gZSgiLi8kLmNvZiIpKGwpID8gbiA9IGZ1bmN0aW9uIG4oZSkgewogICAgICAgIGwubmV4dFRpY2socyhiLCBlLCAxKSk7CiAgICAgIH0gOiAkID8gKG8gPSBuZXcgJCgpLCBpID0gby5wb3J0Miwgby5wb3J0MS5vbm1lc3NhZ2UgPSBtLCBuID0gcyhpLnBvc3RNZXNzYWdlLCBpLCAxKSkgOiBmLmFkZEV2ZW50TGlzdGVuZXIgJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgcG9zdE1lc3NhZ2UgJiYgIWYuaW1wb3J0U2NyaXB0cyA/IChuID0gZnVuY3Rpb24gbihlKSB7CiAgICAgICAgZi5wb3N0TWVzc2FnZShlICsgIiIsICIqIik7CiAgICAgIH0sIGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsIG0sICExKSkgOiBuID0geSBpbiBhKCJzY3JpcHQiKSA/IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdS5hcHBlbmRDaGlsZChhKCJzY3JpcHQiKSlbeV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB1LnJlbW92ZUNoaWxkKHRoaXMpLCBiLmNhbGwoZSk7CiAgICAgICAgfTsKICAgICAgfSA6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgc2V0VGltZW91dChzKGIsIGUsIDEpLCAwKTsKICAgICAgfSksIHQuZXhwb3J0cyA9IHsgc2V0OiBwLCBjbGVhcjogZCB9OwogICAgfSwgeyAiLi8kLmNvZiI6IDE1LCAiLi8kLmN0eCI6IDE3LCAiLi8kLmRvbS1jcmVhdGUiOiAyMCwgIi4vJC5nbG9iYWwiOiAyNCwgIi4vJC5odG1sIjogMjcsICIuLyQuaW52b2tlIjogMjggfV0sIDU0OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSBNYXRoLmNlaWwsCiAgICAgICAgICBvID0gTWF0aC5mbG9vcjt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBpc05hTihlID0gK2UpID8gMCA6IChlID4gMCA/IG8gOiBuKShlKTsKICAgICAgfTsKICAgIH0sIHt9XSwgNTU6IFtmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICB2YXIgbiA9IGUoIi4vJC5pb2JqZWN0IiksCiAgICAgICAgICBvID0gZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBuKG8oZSkpOwogICAgICB9OwogICAgfSwgeyAiLi8kLmRlZmluZWQiOiAxOCwgIi4vJC5pb2JqZWN0IjogMjkgfV0sIDU2OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSBlKCIuLyQudG8taW50ZWdlciIpLAogICAgICAgICAgbyA9IE1hdGgubWluO3QuZXhwb3J0cyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUgPiAwID8gbyhuKGUpLCA5MDA3MTk5MjU0NzQwOTkxKSA6IDA7CiAgICAgIH07CiAgICB9LCB7ICIuLyQudG8taW50ZWdlciI6IDU0IH1dLCA1NzogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHZhciBuID0gZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBPYmplY3QobihlKSk7CiAgICAgIH07CiAgICB9LCB7ICIuLyQuZGVmaW5lZCI6IDE4IH1dLCA1ODogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgIHZhciBuID0gMCwKICAgICAgICAgIG8gPSBNYXRoLnJhbmRvbSgpO3QuZXhwb3J0cyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuICJTeW1ib2woIi5jb25jYXQodm9pZCAwID09PSBlID8gIiIgOiBlLCAiKV8iLCAoKytuICsgbykudG9TdHJpbmcoMzYpKTsKICAgICAgfTsKICAgIH0sIHt9XSwgNTk6IFtmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICB2YXIgbiA9IGUoIi4vJC5zaGFyZWQiKSgid2tzIiksCiAgICAgICAgICBvID0gZSgiLi8kLnVpZCIpLAogICAgICAgICAgaSA9IGUoIi4vJC5nbG9iYWwiKS5TeW1ib2w7dC5leHBvcnRzID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gbltlXSB8fCAobltlXSA9IGkgJiYgaVtlXSB8fCAoaSB8fCBvKSgiU3ltYm9sLiIgKyBlKSk7CiAgICAgIH07CiAgICB9LCB7ICIuLyQuZ2xvYmFsIjogMjQsICIuLyQuc2hhcmVkIjogNDksICIuLyQudWlkIjogNTggfV0sIDYwOiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSBlKCIuLyQuY2xhc3NvZiIpLAogICAgICAgICAgbyA9IGUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSwKICAgICAgICAgIGkgPSBlKCIuLyQuaXRlcmF0b3JzIik7dC5leHBvcnRzID0gZSgiLi8kLmNvcmUiKS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPSBlID8gZVtvXSB8fCBlWyJAQGl0ZXJhdG9yIl0gfHwgaVtuKGUpXSA6IHZvaWQgMDsKICAgICAgfTsKICAgIH0sIHsgIi4vJC5jbGFzc29mIjogMTQsICIuLyQuY29yZSI6IDE2LCAiLi8kLml0ZXJhdG9ycyI6IDM3LCAiLi8kLndrcyI6IDU5IH1dLCA2MTogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKICAgICAgdmFyIG4gPSBlKCIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIiksCiAgICAgICAgICBvID0gZSgiLi8kLml0ZXItc3RlcCIpLAogICAgICAgICAgaSA9IGUoIi4vJC5pdGVyYXRvcnMiKSwKICAgICAgICAgIHMgPSBlKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cyA9IGUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCAiQXJyYXkiLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHRoaXMuX3QgPSBzKGUpLCB0aGlzLl9pID0gMCwgdGhpcy5fayA9IHQ7CiAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZSA9IHRoaXMuX3QsCiAgICAgICAgICAgIHQgPSB0aGlzLl9rLAogICAgICAgICAgICByID0gdGhpcy5faSsrO3JldHVybiAhZSB8fCByID49IGUubGVuZ3RoID8gKHRoaXMuX3QgPSB2b2lkIDAsIG8oMSkpIDogImtleXMiID09IHQgPyBvKDAsIHIpIDogInZhbHVlcyIgPT0gdCA/IG8oMCwgZVtyXSkgOiBvKDAsIFtyLCBlW3JdXSk7CiAgICAgIH0sICJ2YWx1ZXMiKSwgaS5Bcmd1bWVudHMgPSBpLkFycmF5LCBuKCJrZXlzIiksIG4oInZhbHVlcyIpLCBuKCJlbnRyaWVzIik7CiAgICB9LCB7ICIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIjogMTIsICIuLyQuaXRlci1kZWZpbmUiOiAzNCwgIi4vJC5pdGVyLXN0ZXAiOiAzNiwgIi4vJC5pdGVyYXRvcnMiOiAzNywgIi4vJC50by1pb2JqZWN0IjogNTUgfV0sIDYyOiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgdmFyIG4gPSBlKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICByZXR1cm4gZShuKHQpKTsKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sIHsgIi4vJC5vYmplY3Qtc2FwIjogNDEsICIuLyQudG8tb2JqZWN0IjogNTcgfV0sIDYzOiBbZnVuY3Rpb24gKGUsIHQsIHIpIHt9LCB7fV0sIDY0OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgInVzZSBzdHJpY3QiOwogICAgICB2YXIgbiwKICAgICAgICAgIG8gPSBlKCIuLyQiKSwKICAgICAgICAgIGkgPSBlKCIuLyQubGlicmFyeSIpLAogICAgICAgICAgcyA9IGUoIi4vJC5nbG9iYWwiKSwKICAgICAgICAgIGMgPSBlKCIuLyQuY3R4IiksCiAgICAgICAgICB1ID0gZSgiLi8kLmNsYXNzb2YiKSwKICAgICAgICAgIGEgPSBlKCIuLyQuZXhwb3J0IiksCiAgICAgICAgICBmID0gZSgiLi8kLmlzLW9iamVjdCIpLAogICAgICAgICAgbCA9IGUoIi4vJC5hbi1vYmplY3QiKSwKICAgICAgICAgIHAgPSBlKCIuLyQuYS1mdW5jdGlvbiIpLAogICAgICAgICAgZCA9IGUoIi4vJC5zdHJpY3QtbmV3IiksCiAgICAgICAgICAkID0gZSgiLi8kLmZvci1vZiIpLAogICAgICAgICAgdiA9IGUoIi4vJC5zZXQtcHJvdG8iKS5zZXQsCiAgICAgICAgICBoID0gZSgiLi8kLnNhbWUtdmFsdWUiKSwKICAgICAgICAgIHkgPSBlKCIuLyQud2tzIikoInNwZWNpZXMiKSwKICAgICAgICAgIGIgPSBlKCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciIpLAogICAgICAgICAgbSA9IGUoIi4vJC5taWNyb3Rhc2siKSwKICAgICAgICAgIGcgPSAiUHJvbWlzZSIsCiAgICAgICAgICB4ID0gcy5wcm9jZXNzLAogICAgICAgICAgaiA9ICJwcm9jZXNzIiA9PSB1KHgpLAogICAgICAgICAgX3cgPSBzW2ddLAogICAgICAgICAgXyA9IGZ1bmN0aW9uIF8oZSkgewogICAgICAgIHZhciB0ID0gbmV3IF93KGZ1bmN0aW9uICgpIHt9KTtyZXR1cm4gZSAmJiAodC5jb25zdHJ1Y3RvciA9IE9iamVjdCksIF93LnJlc29sdmUodCkgPT09IHQ7CiAgICAgIH0sCiAgICAgICAgICBrID0gZnVuY3Rpb24gKCkgewogICAgICAgIGZ1bmN0aW9uIHQoZSkgewogICAgICAgICAgdmFyIHIgPSBuZXcgX3coZSk7cmV0dXJuIHYociwgdC5wcm90b3R5cGUpLCByOwogICAgICAgIH12YXIgciA9ICExO3RyeSB7CiAgICAgICAgICBpZiAociA9IF93ICYmIF93LnJlc29sdmUgJiYgXygpLCB2KHQsIF93KSwgdC5wcm90b3R5cGUgPSBvLmNyZWF0ZShfdy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHQgfSB9KSwgdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24gKCkge30pIGluc3RhbmNlb2YgdCB8fCAociA9ICExKSwgciAmJiBlKCIuLyQuZGVzY3JpcHRvcnMiKSkgewogICAgICAgICAgICB2YXIgbiA9ICExO193LnJlc29sdmUoby5zZXREZXNjKHt9LCAidGhlbiIsIHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICAgICAgICBuID0gITA7CiAgICAgICAgICAgICAgfSB9KSksIHIgPSBuOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGkpIHsKICAgICAgICAgIHIgPSAhMTsKICAgICAgICB9cmV0dXJuIHI7CiAgICAgIH0oKSwKICAgICAgICAgIE8gPSBmdW5jdGlvbiBPKGUsIHQpIHsKICAgICAgICByZXR1cm4gaSAmJiBlID09PSBfdyAmJiB0ID09PSBuID8gITAgOiBoKGUsIHQpOwogICAgICB9LAogICAgICAgICAgTSA9IGZ1bmN0aW9uIE0oZSkgewogICAgICAgIHZhciB0ID0gbChlKVt5XTtyZXR1cm4gdm9pZCAwICE9IHQgPyB0IDogZTsKICAgICAgfSwKICAgICAgICAgIFMgPSBmdW5jdGlvbiBTKGUpIHsKICAgICAgICB2YXIgdDtyZXR1cm4gZihlKSAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiAodCA9IGUudGhlbikgPyB0IDogITE7CiAgICAgIH0sCiAgICAgICAgICBFID0gZnVuY3Rpb24gRShlKSB7CiAgICAgICAgdmFyIHQsIHI7dGhpcy5wcm9taXNlID0gbmV3IGUoZnVuY3Rpb24gKGUsIG4pIHsKICAgICAgICAgIGlmICh2b2lkIDAgIT09IHQgfHwgdm9pZCAwICE9PSByKSB0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dCA9IGUsIHIgPSBuOwogICAgICAgIH0pLCB0aGlzLnJlc29sdmUgPSBwKHQpLCB0aGlzLnJlamVjdCA9IHAocik7CiAgICAgIH0sCiAgICAgICAgICBQID0gZnVuY3Rpb24gUChlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGUoKTsKICAgICAgICB9IGNhdGNoICh0KSB7CiAgICAgICAgICByZXR1cm4geyBlcnJvcjogdCB9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgICAgIFQgPSBmdW5jdGlvbiBUKGUsIHQpIHsKICAgICAgICBpZiAoIWUubikgewogICAgICAgICAgZS5uID0gITA7dmFyIHIgPSBlLmM7bShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGZvciAodmFyIG4gPSBlLnYsIG8gPSAxID09IGUucywgaSA9IDAsIGMgPSBmdW5jdGlvbiBjKHQpIHsKICAgICAgICAgICAgICB2YXIgciwKICAgICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgICAgcyA9IG8gPyB0Lm9rIDogdC5mYWlsLAogICAgICAgICAgICAgICAgICBjID0gdC5yZXNvbHZlLAogICAgICAgICAgICAgICAgICB1ID0gdC5yZWplY3Q7dHJ5IHsKICAgICAgICAgICAgICAgIHMgPyAobyB8fCAoZS5oID0gITApLCByID0gcyA9PT0gITAgPyBuIDogcyhuKSwgciA9PT0gdC5wcm9taXNlID8gdShUeXBlRXJyb3IoIlByb21pc2UtY2hhaW4gY3ljbGUiKSkgOiAoaSA9IFMocikpID8gaS5jYWxsKHIsIGMsIHUpIDogYyhyKSkgOiB1KG4pOwogICAgICAgICAgICAgIH0gY2F0Y2ggKGEpIHsKICAgICAgICAgICAgICAgIHUoYSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OyByLmxlbmd0aCA+IGk7KSB7CiAgICAgICAgICAgICAgYyhyW2krK10pOwogICAgICAgICAgICB9ci5sZW5ndGggPSAwLCBlLm4gPSAhMSwgdCAmJiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgdCwKICAgICAgICAgICAgICAgICAgciwKICAgICAgICAgICAgICAgICAgbyA9IGUucDtVKG8pICYmIChqID8geC5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLCBuLCBvKSA6ICh0ID0gcy5vbnVuaGFuZGxlZHJlamVjdGlvbikgPyB0KHsgcHJvbWlzZTogbywgcmVhc29uOiBuIH0pIDogKHIgPSBzLmNvbnNvbGUpICYmIHIuZXJyb3IgJiYgci5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIiwgbikpLCBlLmEgPSB2b2lkIDA7CiAgICAgICAgICAgIH0sIDEpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICAgICAgVSA9IGZ1bmN0aW9uIFUoZSkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICByID0gZS5fZCwKICAgICAgICAgICAgbiA9IHIuYSB8fCByLmMsCiAgICAgICAgICAgIG8gPSAwO2lmIChyLmgpIHJldHVybiAhMTtmb3IgKDsgbi5sZW5ndGggPiBvOykgewogICAgICAgICAgaWYgKHQgPSBuW28rK10sIHQuZmFpbCB8fCAhVSh0LnByb21pc2UpKSByZXR1cm4gITE7CiAgICAgICAgfXJldHVybiAhMDsKICAgICAgfSwKICAgICAgICAgIEEgPSBmdW5jdGlvbiBBKGUpIHsKICAgICAgICB2YXIgdCA9IHRoaXM7dC5kIHx8ICh0LmQgPSAhMCwgdCA9IHQuciB8fCB0LCB0LnYgPSBlLCB0LnMgPSAyLCB0LmEgPSB0LmMuc2xpY2UoKSwgVCh0LCAhMCkpOwogICAgICB9LAogICAgICAgICAgQyA9IGZ1bmN0aW9uIEMoZSkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICByID0gdGhpcztpZiAoIXIuZCkgewogICAgICAgICAgci5kID0gITAsIHIgPSByLnIgfHwgcjt0cnkgewogICAgICAgICAgICBpZiAoci5wID09PSBlKSB0aHJvdyBUeXBlRXJyb3IoIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQgPSBTKGUpKSA/IG0oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBuID0geyByOiByLCBkOiAhMSB9O3RyeSB7CiAgICAgICAgICAgICAgICB0LmNhbGwoZSwgYyhDLCBuLCAxKSwgYyhBLCBuLCAxKSk7CiAgICAgICAgICAgICAgfSBjYXRjaCAobykgewogICAgICAgICAgICAgICAgQS5jYWxsKG4sIG8pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkgOiAoci52ID0gZSwgci5zID0gMSwgVChyLCAhMSkpOwogICAgICAgICAgfSBjYXRjaCAobikgewogICAgICAgICAgICBBLmNhbGwoeyByOiByLCBkOiAhMSB9LCBuKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07ayB8fCAoX3cgPSBmdW5jdGlvbiB3KGUpIHsKICAgICAgICBwKGUpO3ZhciB0ID0gdGhpcy5fZCA9IHsgcDogZCh0aGlzLCBfdywgZyksIGM6IFtdLCBhOiB2b2lkIDAsIHM6IDAsIGQ6ICExLCB2OiB2b2lkIDAsIGg6ICExLCBuOiAhMSB9O3RyeSB7CiAgICAgICAgICBlKGMoQywgdCwgMSksIGMoQSwgdCwgMSkpOwogICAgICAgIH0gY2F0Y2ggKHIpIHsKICAgICAgICAgIEEuY2FsbCh0LCByKTsKICAgICAgICB9CiAgICAgIH0sIGUoIi4vJC5yZWRlZmluZS1hbGwiKShfdy5wcm90b3R5cGUsIHsgdGhlbjogZnVuY3Rpb24gdGhlbihlLCB0KSB7CiAgICAgICAgICB2YXIgciA9IG5ldyBFKGIodGhpcywgX3cpKSwKICAgICAgICAgICAgICBuID0gci5wcm9taXNlLAogICAgICAgICAgICAgIG8gPSB0aGlzLl9kO3JldHVybiByLm9rID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSA/IGUgOiAhMCwgci5mYWlsID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgdCAmJiB0LCBvLmMucHVzaChyKSwgby5hICYmIG8uYS5wdXNoKHIpLCBvLnMgJiYgVChvLCAhMSksIG47CiAgICAgICAgfSwgImNhdGNoIjogZnVuY3Rpb24gX2NhdGNoKGUpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnRoZW4odm9pZCAwLCBlKTsKICAgICAgICB9IH0pKSwgYShhLkcgKyBhLlcgKyBhLkYgKiAhaywgeyBQcm9taXNlOiBfdyB9KSwgZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikoX3csIGcpLCBlKCIuLyQuc2V0LXNwZWNpZXMiKShnKSwgbiA9IGUoIi4vJC5jb3JlIilbZ10sIGEoYS5TICsgYS5GICogIWssIGcsIHsgcmVqZWN0OiBmdW5jdGlvbiByZWplY3QoZSkgewogICAgICAgICAgdmFyIHQgPSBuZXcgRSh0aGlzKSwKICAgICAgICAgICAgICByID0gdC5yZWplY3Q7cmV0dXJuIHIoZSksIHQucHJvbWlzZTsKICAgICAgICB9IH0pLCBhKGEuUyArIGEuRiAqICghayB8fCBfKCEwKSksIGcsIHsgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZShlKSB7CiAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIF93ICYmIE8oZS5jb25zdHJ1Y3RvciwgdGhpcykpIHJldHVybiBlO3ZhciB0ID0gbmV3IEUodGhpcyksCiAgICAgICAgICAgICAgciA9IHQucmVzb2x2ZTtyZXR1cm4gcihlKSwgdC5wcm9taXNlOwogICAgICAgIH0gfSksIGEoYS5TICsgYS5GICogIShrICYmIGUoIi4vJC5pdGVyLWRldGVjdCIpKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3cuYWxsKGUpWyJjYXRjaCJdKGZ1bmN0aW9uICgpIHt9KTsKICAgICAgfSkpLCBnLCB7IGFsbDogZnVuY3Rpb24gYWxsKGUpIHsKICAgICAgICAgIHZhciB0ID0gTSh0aGlzKSwKICAgICAgICAgICAgICByID0gbmV3IEUodCksCiAgICAgICAgICAgICAgbiA9IHIucmVzb2x2ZSwKICAgICAgICAgICAgICBpID0gci5yZWplY3QsCiAgICAgICAgICAgICAgcyA9IFtdLAogICAgICAgICAgICAgIGMgPSBQKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJChlLCAhMSwgcy5wdXNoLCBzKTt2YXIgciA9IHMubGVuZ3RoLAogICAgICAgICAgICAgICAgYyA9IEFycmF5KHIpO3IgPyBvLmVhY2guY2FsbChzLCBmdW5jdGlvbiAoZSwgbykgewogICAgICAgICAgICAgIHZhciBzID0gITE7dC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHMgfHwgKHMgPSAhMCwgY1tvXSA9IGUsIC0tciB8fCBuKGMpKTsKICAgICAgICAgICAgICB9LCBpKTsKICAgICAgICAgICAgfSkgOiBuKGMpOwogICAgICAgICAgfSk7cmV0dXJuIGMgJiYgaShjLmVycm9yKSwgci5wcm9taXNlOwogICAgICAgIH0sIHJhY2U6IGZ1bmN0aW9uIHJhY2UoZSkgewogICAgICAgICAgdmFyIHQgPSBNKHRoaXMpLAogICAgICAgICAgICAgIHIgPSBuZXcgRSh0KSwKICAgICAgICAgICAgICBuID0gci5yZWplY3QsCiAgICAgICAgICAgICAgbyA9IFAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKGUsICExLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHQucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSwgbik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7cmV0dXJuIG8gJiYgbihvLmVycm9yKSwgci5wcm9taXNlOwogICAgICAgIH0gfSk7CiAgICB9LCB7ICIuLyQiOiAzOCwgIi4vJC5hLWZ1bmN0aW9uIjogMTEsICIuLyQuYW4tb2JqZWN0IjogMTMsICIuLyQuY2xhc3NvZiI6IDE0LCAiLi8kLmNvcmUiOiAxNiwgIi4vJC5jdHgiOiAxNywgIi4vJC5kZXNjcmlwdG9ycyI6IDE5LCAiLi8kLmV4cG9ydCI6IDIxLCAiLi8kLmZvci1vZiI6IDIzLCAiLi8kLmdsb2JhbCI6IDI0LCAiLi8kLmlzLW9iamVjdCI6IDMxLCAiLi8kLml0ZXItZGV0ZWN0IjogMzUsICIuLyQubGlicmFyeSI6IDM5LCAiLi8kLm1pY3JvdGFzayI6IDQwLCAiLi8kLnJlZGVmaW5lLWFsbCI6IDQzLCAiLi8kLnNhbWUtdmFsdWUiOiA0NSwgIi4vJC5zZXQtcHJvdG8iOiA0NiwgIi4vJC5zZXQtc3BlY2llcyI6IDQ3LCAiLi8kLnNldC10by1zdHJpbmctdGFnIjogNDgsICIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciI6IDUwLCAiLi8kLnN0cmljdC1uZXciOiA1MSwgIi4vJC53a3MiOiA1OSB9XSwgNjU6IFtmdW5jdGlvbiAoZSwgdCwgcikgewogICAgICAidXNlIHN0cmljdCI7CiAgICAgIHZhciBuID0gZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsICJTdHJpbmciLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHRoaXMuX3QgPSBTdHJpbmcoZSksIHRoaXMuX2kgPSAwOwogICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGUsCiAgICAgICAgICAgIHQgPSB0aGlzLl90LAogICAgICAgICAgICByID0gdGhpcy5faTtyZXR1cm4gciA+PSB0Lmxlbmd0aCA/IHsgdmFsdWU6IHZvaWQgMCwgZG9uZTogITAgfSA6IChlID0gbih0LCByKSwgdGhpcy5faSArPSBlLmxlbmd0aCwgeyB2YWx1ZTogZSwgZG9uZTogITEgfSk7CiAgICAgIH0pOwogICAgfSwgeyAiLi8kLml0ZXItZGVmaW5lIjogMzQsICIuLyQuc3RyaW5nLWF0IjogNTIgfV0sIDY2OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTt2YXIgbiA9IGUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0ID0gbi5IVE1MQ29sbGVjdGlvbiA9IG4uQXJyYXk7CiAgICB9LCB7ICIuLyQuaXRlcmF0b3JzIjogMzcsICIuL2VzNi5hcnJheS5pdGVyYXRvciI6IDYxIH1dLCA2NzogW2Z1bmN0aW9uIChlLCB0LCByKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKICAgICAgZnVuY3Rpb24gbihlKSB7CiAgICAgICAgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHsgImRlZmF1bHQiOiBlIH07CiAgICAgIH1PYmplY3QuZGVmaW5lUHJvcGVydHkociwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiAhMCB9KTt2YXIgbyA9IGUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksCiAgICAgICAgICBpID0gbihvKSwKICAgICAgICAgIHMgPSBlKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSwKICAgICAgICAgIGMgPSBuKHMpLAogICAgICAgICAgdSA9IGUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLAogICAgICAgICAgYSA9IG4odSksCiAgICAgICAgICBmID0gZSgiLi4vdXRpbHMvdXRpbHMiKSwKICAgICAgICAgIGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZnVuY3Rpb24gZSh0LCByLCBuKSB7CiAgICAgICAgICAoMCwgY1siZGVmYXVsdCJdKSh0aGlzLCBlKTt2YXIgbyA9IHRoaXM7by5tZXNzYWdlQnVzID0gbiwgby5kb21haW4gPSAoMCwgZi5kaXZpZGVVUkwpKHQpLmRvbWFpbiwgby5oeXBlcnR5VVJMID0gdCwgby5ydW50aW1lVVJMID0gcjsKICAgICAgICB9cmV0dXJuICgwLCBhWyJkZWZhdWx0Il0pKGUsIFt7IGtleTogImRpc2NvdmVyVXNlclJlZ2lzdGVyZWQiLCB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoZSwgdCkgewogICAgICAgICAgICB2YXIgciA9IHRoaXMsCiAgICAgICAgICAgICAgICBuID0gdm9pZCAwLAogICAgICAgICAgICAgICAgbyA9IGUgPyBlIDogIi4iO24gPSB0ID8gdCA6IHIuaHlwZXJ0eVVSTDt2YXIgcyA9IHsgdHlwZTogInJlYWQiLCBmcm9tOiBuLCB0bzogci5ydW50aW1lVVJMICsgIi9yZWdpc3RyeS8iLCBib2R5OiB7IHJlc291cmNlOiBvLCBjcml0ZXJpYTogbiB9IH07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgICAgICByLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocywgZnVuY3Rpb24gKHIpIHsKICAgICAgICAgICAgICAgIHZhciBuID0gci5ib2R5LnJlc291cmNlO24gPyBlKG4pIDogdCgiTm8gdXNlciB3YXMgbm90IGZvdW5kIik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSB9XSksIGU7CiAgICAgIH0oKTtyWyJkZWZhdWx0Il0gPSBsLCB0LmV4cG9ydHMgPSByWyJkZWZhdWx0Il07CiAgICB9LCB7ICIuLi91dGlscy91dGlscyI6IDY4LCAiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOiA0LCAiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjogNSwgImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6IDYgfV0sIDY4OiBbZnVuY3Rpb24gKGUsIHQsIHIpIHsKICAgICAgInVzZSBzdHJpY3QiOwogICAgICBmdW5jdGlvbiBuKGUpIHsKICAgICAgICByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgPyBlIDogeyAiZGVmYXVsdCI6IGUgfTsKICAgICAgfWZ1bmN0aW9uIG8oZSkgewogICAgICAgIGlmICghZSkgdGhyb3cgRXJyb3IoIlVSTCBpcyBuZWVkZWQgdG8gc3BsaXQiKTt2YXIgdCA9IC8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLAogICAgICAgICAgICByID0gIiQxLCQyLCQzIiwKICAgICAgICAgICAgbiA9IGUucmVwbGFjZSh0LCByKS5zcGxpdCgiLCIpO25bMF0gPT09IGUgJiYgKG5bMF0gPSAiaHR0cHMiLCBuWzFdID0gZSk7dmFyIG8gPSB7IHR5cGU6IG5bMF0sIGRvbWFpbjogblsxXSwgaWRlbnRpdHk6IG5bMl0gfTtyZXR1cm4gbzsKICAgICAgfWZ1bmN0aW9uIGkoZSkgewogICAgICAgIHZhciB0ID0gZS5pbmRleE9mKCJAIiksCiAgICAgICAgICAgIHIgPSB7IHVzZXJuYW1lOiBlLnN1YnN0cmluZygwLCB0KSwgZG9tYWluOiBlLnN1YnN0cmluZyh0ICsgMSwgZS5sZW5ndGgpIH07cmV0dXJuIHI7CiAgICAgIH1mdW5jdGlvbiBzKGUpIHsKICAgICAgICByZXR1cm4gISgoMCwgJFsiZGVmYXVsdCJdKShlKS5sZW5ndGggPiAwKTsKICAgICAgfWZ1bmN0aW9uIGMoZSkgewogICAgICAgIHJldHVybiBlID8gSlNPTi5wYXJzZSgoMCwgcFsiZGVmYXVsdCJdKShlKSkgOiB2b2lkIDA7CiAgICAgIH1mdW5jdGlvbiB1KGUpIHsKICAgICAgICB2YXIgdCA9IGUuaW5kZXhPZigiQCIpO3JldHVybiAidXNlcjovLyIgKyBlLnN1YnN0cmluZyh0ICsgMSwgZS5sZW5ndGgpICsgIi8iICsgZS5zdWJzdHJpbmcoMCwgdCk7CiAgICAgIH1mdW5jdGlvbiBhKGUpIHsKICAgICAgICB2YXIgdCA9IG8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsICIiKSArICJAIiArIHQuZG9tYWluOwogICAgICB9ZnVuY3Rpb24gZihlKSB7CiAgICAgICAgaWYgKCJ1c2VyOi8vIiA9PT0gZS5zdWJzdHJpbmcoMCwgNykpIHsKICAgICAgICAgIHZhciB0ID0gbyhlKTtpZiAodC5kb21haW4gJiYgdC5pZGVudGl0eSkgcmV0dXJuIGU7dGhyb3cgInVzZXJVUkwgd2l0aCB3cm9uZyBmb3JtYXQiOwogICAgICAgIH1yZXR1cm4gdShlKTsKICAgICAgfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6ICEwIH0pO3ZhciBsID0gZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksCiAgICAgICAgICBwID0gbihsKSwKICAgICAgICAgIGQgPSBlKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSwKICAgICAgICAgICQgPSBuKGQpO3IuZGl2aWRlVVJMID0gbywgci5kaXZpZGVFbWFpbCA9IGksIHIuZW1wdHlPYmplY3QgPSBzLCByLmRlZXBDbG9uZSA9IGMsIHIuZ2V0VXNlclVSTEZyb21FbWFpbCA9IHUsIHIuZ2V0VXNlckVtYWlsRnJvbVVSTCA9IGEsIHIuY29udmVydFRvVXNlclVSTCA9IGY7CiAgICB9LCB7ICJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOiAxLCAiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjogMyB9XSB9LCB7fSwgWzY3XSkoNjcpOwp9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOyAvKioKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqKi8KCnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy91dGlscycpOwoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgovKioKKiBDb3JlIEh5cGVydHlEaXNjb3ZlcnkgaW50ZXJmYWNlCiogQ2xhc3MgdG8gYWxsb3cgYXBwbGljYXRpb25zIHRvIHNlYXJjaCBmb3IgaHlwZXJ0aWVzIHVzaW5nIHRoZSBtZXNzYWdlIGJ1cwoqLwoKdmFyIEh5cGVydHlEaXNjb3ZlcnkgPSBmdW5jdGlvbiAoKSB7CgogIC8qKgogICogVG8gaW5pdGlhbGlzZSB0aGUgSHlwZXJ0eURpc2NvdmVyLCB3aGljaCB3aWxsIHByb3ZpZGUgdGhlIHN1cHBvcnQgZm9yIGh5cGVydGllcyB0bwogICogcXVlcnkgdXNlcnMgcmVnaXN0ZXJlZCBpbiBvdXRzaWRlIHRoZSBpbnRlcm5hbCBjb3JlLgogICogQHBhcmFtICB7TWVzc2FnZUJ1c30gICAgICAgICAgbXNnYnVzICAgICAgICAgICAgICAgIG1zZ2J1cwogICogQHBhcmFtICB7UnVudGltZVVSTH0gICAgICAgICAgcnVudGltZVVSTCAgICAgICAgICAgIHJ1bnRpbWVVUkwKICAqLwoKICBmdW5jdGlvbiBIeXBlcnR5RGlzY292ZXJ5KGh5cGVydHlVUkwsIG1zZ0J1cykgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEh5cGVydHlEaXNjb3ZlcnkpOwoKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICBfdGhpcy5tZXNzYWdlQnVzID0gbXNnQnVzOwoKICAgIF90aGlzLmRvbWFpbiA9ICgwLCBfdXRpbHMuZGl2aWRlVVJMKShoeXBlcnR5VVJMKS5kb21haW47CiAgICBfdGhpcy5kaXNjb3ZlcnlVUkwgPSBoeXBlcnR5VVJMOwogIH0KCiAgLyoqCiAgKiBmdW5jdGlvbiB0byByZXF1ZXN0IGFib3V0IGRhdGFPYmplY3QgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnksIGFuZAogICogcmV0dXJuIHRoZSBkYXRhT2JqZWN0IGluc3RhbmNlICB1cmwsIGlmIGZvdW5kLgogICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgICAgbmFtZSAgZGF0YU9iamVjdCBOYW1lCiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICAgZG9tYWluIChPcHRpb25hbCkKICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgIFByb21pc2UKICAqLwoKCiAgX2NyZWF0ZUNsYXNzKEh5cGVydHlEaXNjb3ZlcnksIFt7CiAgICBrZXk6ICdkaXNjb3ZlckRhdGFPYmplY3RQZXJOYW1lJywKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb3ZlckRhdGFPYmplY3RQZXJOYW1lKG5hbWUsIGRvbWFpbikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgYWN0aXZlRG9tYWluID0gdm9pZCAwOwoKICAgICAgaWYgKCFkb21haW4pIHsKICAgICAgICBhY3RpdmVEb21haW4gPSBfdGhpcy5kb21haW47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWN0aXZlRG9tYWluID0gZG9tYWluOwogICAgICB9CgogICAgICB2YXIgbXNnID0gewogICAgICAgIHR5cGU6ICdyZWFkJywgZnJvbTogX3RoaXMuZGlzY292ZXJ5VVJMLCB0bzogJ2RvbWFpbjovL3JlZ2lzdHJ5LicgKyBhY3RpdmVEb21haW4gKyAnLycsIGJvZHk6IHsgcmVzb3VyY2U6ICdkYXRhT2JqZWN0Oi8vJyArIG5hbWUgfQogICAgICB9OwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2csIGZ1bmN0aW9uIChyZXBseSkgewoKICAgICAgICAgIHZhciBkYXRhT2JqZWN0VXJsID0gcmVwbHkuYm9keS52YWx1ZS51cmw7CgogICAgICAgICAgaWYgKGRhdGFPYmplY3RVcmwpIHsKICAgICAgICAgICAgcmVzb2x2ZShkYXRhT2JqZWN0VXJsKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlamVjdCgnRGF0YU9iamVjdCBuYW1lIGRvZXMgbm90IGV4aXN0Jyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgKiBmdW5jdGlvbiB0byByZXF1ZXN0IGFib3V0IHVzZXJzIHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5LCBhbmQKICAgICogcmV0dXJuIHRoZSBsYXN0IGh5cGVydHkgaW5zdGFuY2UgcmVnaXN0ZXJlZCBieSB0aGUgdXNlci4KICAgICogQHBhcmFtICB7ZW1haWx9ICAgICAgICAgICAgICBlbWFpbAogICAgKiBAcGFyYW0gIHtkb21haW59ICAgICAgICAgICAgZG9tYWluIChPcHRpb25hbCkKICAgICogQHJldHVybiB7UHJvbWlzZX0gICAgICAgICAgUHJvbWlzZQogICAgKi8KCiAgfSwgewogICAga2V5OiAnZGlzY292ZXJIeXBlcnR5UGVyVXNlcicsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzY292ZXJIeXBlcnR5UGVyVXNlcihlbWFpbCwgZG9tYWluKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBhY3RpdmVEb21haW4gPSB2b2lkIDA7CgogICAgICBpZiAoIWRvbWFpbikgewogICAgICAgIGFjdGl2ZURvbWFpbiA9IF90aGlzLmRvbWFpbjsKICAgICAgfSBlbHNlIHsKICAgICAgICBhY3RpdmVEb21haW4gPSBkb21haW47CiAgICAgIH0KCiAgICAgIHZhciBpZGVudGl0eVVSTCA9ICd1c2VyOi8vJyArIGVtYWlsLnN1YnN0cmluZyhlbWFpbC5pbmRleE9mKCdAJykgKyAxLCBlbWFpbC5sZW5ndGgpICsgJy8nICsgZW1haWwuc3Vic3RyaW5nKDAsIGVtYWlsLmluZGV4T2YoJ0AnKSk7CgogICAgICAvLyBtZXNzYWdlIHRvIHF1ZXJ5IGRvbWFpbiByZWdpc3RyeSwgYXNraW5nIGZvciBhIHVzZXIgaHlwZXJ0eS4KICAgICAgdmFyIG1lc3NhZ2UgPSB7CiAgICAgICAgdHlwZTogJ3JlYWQnLCBmcm9tOiBfdGhpcy5kaXNjb3ZlcnlVUkwsIHRvOiAnZG9tYWluOi8vcmVnaXN0cnkuJyArIGFjdGl2ZURvbWFpbiArICcvJywgYm9keTogeyByZXNvdXJjZTogaWRlbnRpdHlVUkwgfQogICAgICB9OwoKICAgICAgY29uc29sZS5sb2coJ01lc3NhZ2U6ICcsIG1lc3NhZ2UsIGFjdGl2ZURvbWFpbiwgaWRlbnRpdHlVUkwpOwoKICAgICAgLy9jb25zb2xlLmxvZygnbWVzc2FnZSBSRUFEJywgbWVzc2FnZSk7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobWVzc2FnZSwgZnVuY3Rpb24gKHJlcGx5KSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnbWVzc2FnZSByZXBseScsIHJlcGx5KTsKCiAgICAgICAgICB2YXIgaHlwZXJ0eSA9IHZvaWQgMDsKICAgICAgICAgIHZhciBtb3N0UmVjZW50ID0gdm9pZCAwOwogICAgICAgICAgdmFyIGxhc3RIeXBlcnR5ID0gdm9pZCAwOwogICAgICAgICAgdmFyIHZhbHVlID0gcmVwbHkuYm9keS52YWx1ZTsKCiAgICAgICAgICBmb3IgKGh5cGVydHkgaW4gdmFsdWUpIHsKICAgICAgICAgICAgaWYgKHZhbHVlW2h5cGVydHldLmxhc3RNb2RpZmllZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgaWYgKG1vc3RSZWNlbnQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgbW9zdFJlY2VudCA9IG5ldyBEYXRlKHZhbHVlW2h5cGVydHldLmxhc3RNb2RpZmllZCk7CiAgICAgICAgICAgICAgICBsYXN0SHlwZXJ0eSA9IGh5cGVydHk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBoeXBlcnR5RGF0ZSA9IG5ldyBEYXRlKHZhbHVlW2h5cGVydHldLmxhc3RNb2RpZmllZCk7CiAgICAgICAgICAgICAgICBpZiAobW9zdFJlY2VudC5nZXRUaW1lKCkgPCBoeXBlcnR5RGF0ZS5nZXRUaW1lKCkpIHsKICAgICAgICAgICAgICAgICAgbW9zdFJlY2VudCA9IGh5cGVydHlEYXRlOwogICAgICAgICAgICAgICAgICBsYXN0SHlwZXJ0eSA9IGh5cGVydHk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2coJ0xhc3QgSHlwZXJ0eTogJywgbGFzdEh5cGVydHksIG1vc3RSZWNlbnQpOwoKICAgICAgICAgIHZhciBoeXBlcnR5VVJMID0gbGFzdEh5cGVydHk7CgogICAgICAgICAgaWYgKGh5cGVydHlVUkwgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByZXR1cm4gcmVqZWN0KCdVc2VyIEh5cGVydHkgbm90IGZvdW5kJyk7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGlkUGFja2FnZSA9IHsKICAgICAgICAgICAgaWQ6IGVtYWlsLAogICAgICAgICAgICBkZXNjcmlwdG9yOiB2YWx1ZVtoeXBlcnR5VVJMXS5kZXNjcmlwdG9yLAogICAgICAgICAgICBoeXBlcnR5VVJMOiBoeXBlcnR5VVJMCiAgICAgICAgICB9OwoKICAgICAgICAgIGNvbnNvbGUubG9nKCc9PT0+IGh5cGVydHlEaXNjb3ZlcnkgbWVzc2FnZUJ1bmRsZTogJywgaWRQYWNrYWdlKTsKICAgICAgICAgIHJlc29sdmUoaWRQYWNrYWdlKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAqIGZ1bmN0aW9uIHRvIHJlcXVlc3QgYWJvdXQgdXNlcnMgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnksIGFuZAogICAgKiByZXR1cm4gdGhlIGFsbCB0aGUgaHlwZXJ0aWVzIHJlZ2lzdGVyZWQgYnkgdGhlIHVzZXIKICAgICogQHBhcmFtICB7ZW1haWx9ICAgICAgICAgICAgICBlbWFpbAogICAgKiBAcGFyYW0gIHtkb21haW59ICAgICAgICAgICAgZG9tYWluIChPcHRpb25hbCkKICAgICogQHJldHVybiB7UHJvbWlzZX0gICAgICAgICAgUHJvbWlzZQogICAgKi8KCiAgfSwgewogICAga2V5OiAnZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyJywKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb3Zlckh5cGVydGllc1BlclVzZXIoZW1haWwsIGRvbWFpbikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgYWN0aXZlRG9tYWluID0gdm9pZCAwOwoKICAgICAgaWYgKCFkb21haW4pIHsKICAgICAgICBhY3RpdmVEb21haW4gPSBfdGhpcy5kb21haW47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWN0aXZlRG9tYWluID0gZG9tYWluOwogICAgICB9CgogICAgICB2YXIgaWRlbnRpdHlVUkwgPSAndXNlcjovLycgKyBlbWFpbC5zdWJzdHJpbmcoZW1haWwuaW5kZXhPZignQCcpICsgMSwgZW1haWwubGVuZ3RoKSArICcvJyArIGVtYWlsLnN1YnN0cmluZygwLCBlbWFpbC5pbmRleE9mKCdAJykpOwoKICAgICAgLy8gbWVzc2FnZSB0byBxdWVyeSBkb21haW4gcmVnaXN0cnksIGFza2luZyBmb3IgYSB1c2VyIGh5cGVydHkuCiAgICAgIHZhciBtZXNzYWdlID0gewogICAgICAgIHR5cGU6ICdyZWFkJywgZnJvbTogX3RoaXMuZGlzY292ZXJ5VVJMLCB0bzogJ2RvbWFpbjovL3JlZ2lzdHJ5LicgKyBhY3RpdmVEb21haW4gKyAnLycsIGJvZHk6IHsgcmVzb3VyY2U6IGlkZW50aXR5VVJMIH0KICAgICAgfTsKCiAgICAgIGNvbnNvbGUubG9nKCdNZXNzYWdlIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcjogJywgbWVzc2FnZSwgYWN0aXZlRG9tYWluLCBpZGVudGl0eVVSTCk7CgogICAgICAvL2NvbnNvbGUubG9nKCdtZXNzYWdlIFJFQUQnLCBtZXNzYWdlKTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtZXNzYWdlLCBmdW5jdGlvbiAocmVwbHkpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdkaXNjb3Zlckh5cGVydGllc1BlclVzZXIgcmVwbHknLCByZXBseSk7CgogICAgICAgICAgdmFyIHZhbHVlID0gcmVwbHkuYm9keS52YWx1ZTsKCiAgICAgICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiByZWplY3QoJ1VzZXIgSHlwZXJ0eSBub3QgZm91bmQnKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXNvbHZlKHZhbHVlKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gSHlwZXJ0eURpc2NvdmVyeTsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gSHlwZXJ0eURpc2NvdmVyeTsKCn0seyIuLi91dGlscy91dGlscyI6M31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGl2aWRlVVJMID0gZGl2aWRlVVJMOwpleHBvcnRzLmRpdmlkZUVtYWlsID0gZGl2aWRlRW1haWw7CmV4cG9ydHMuZW1wdHlPYmplY3QgPSBlbXB0eU9iamVjdDsKZXhwb3J0cy5kZWVwQ2xvbmUgPSBkZWVwQ2xvbmU7CmV4cG9ydHMuZ2V0VXNlclVSTEZyb21FbWFpbCA9IGdldFVzZXJVUkxGcm9tRW1haWw7CmV4cG9ydHMuZ2V0VXNlckVtYWlsRnJvbVVSTCA9IGdldFVzZXJFbWFpbEZyb21VUkw7CmV4cG9ydHMuY29udmVydFRvVXNlclVSTCA9IGNvbnZlcnRUb1VzZXJVUkw7Ci8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwovKioKICogU3VwcG9ydCBtb2R1bGUgd2l0aCBzb21lIGZ1bmN0aW9ucyB3aWxsIGJlIHVzZWZ1bAogKiBAbW9kdWxlIHV0aWxzCiAqLwoKLyoqCiAqIEB0eXBlZGVmIGRpdmlkZVVSTAogKiBAdHlwZSBPYmplY3QKICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGlkZW50aXR5IFRoZSBpZGVudGl0eSBvZiBVUkwKICovCgovKioKICogRGl2aWRlIGFuIHVybCBpbiB0eXBlLCBkb21haW4gYW5kIGlkZW50aXR5CiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzCiAqIEByZXR1cm4ge2RpdmlkZVVSTH0gdGhlIHJlc3VsdCBvZiBkaXZpZGVVUkwKICovCmZ1bmN0aW9uIGRpdmlkZVVSTCh1cmwpIHsKCiAgaWYgKCF1cmwpIHRocm93IEVycm9yKCdVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Jyk7CgogIC8vIGxldCByZSA9IC8oW2EtekEtWi1dKik/OlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9XC5bYS16XXsyLDZ9XGIpKihcL1tcL1xkXHdcLi1dKikqKD86W1w/XSkqKC4rKSovZ2k7CiAgdmFyIHJlID0gLyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2k7CiAgdmFyIHN1YnN0ID0gJyQxLCQyLCQzJzsKICB2YXIgcGFydHMgPSB1cmwucmVwbGFjZShyZSwgc3Vic3QpLnNwbGl0KCcsJyk7CgogIC8vIElmIHRoZSB1cmwgaGFzIG5vIHByb3RvY29sLCB0aGUgZGVmYXVsdCBwcm90b2NvbCBzZXQgaXMgaHR0cHMKICBpZiAocGFydHNbMF0gPT09IHVybCkgewogICAgcGFydHNbMF0gPSAnaHR0cHMnOwogICAgcGFydHNbMV0gPSB1cmw7CiAgfQoKICB2YXIgcmVzdWx0ID0gewogICAgdHlwZTogcGFydHNbMF0sCiAgICBkb21haW46IHBhcnRzWzFdLAogICAgaWRlbnRpdHk6IHBhcnRzWzJdCiAgfTsKCiAgcmV0dXJuIHJlc3VsdDsKfQoKZnVuY3Rpb24gZGl2aWRlRW1haWwoZW1haWwpIHsKICB2YXIgaW5kZXhPZkF0ID0gZW1haWwuaW5kZXhPZignQCcpOwoKICB2YXIgcmVzdWx0ID0gewogICAgdXNlcm5hbWU6IGVtYWlsLnN1YnN0cmluZygwLCBpbmRleE9mQXQpLAogICAgZG9tYWluOiBlbWFpbC5zdWJzdHJpbmcoaW5kZXhPZkF0ICsgMSwgZW1haWwubGVuZ3RoKQogIH07CgogIHJldHVybiByZXN1bHQ7Cn0KCi8qKgogKiBDaGVjayBpZiBhbiBPYmplY3QgaXMgZW1wdHkKICogQHBhcmFtICB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGJlIGNoZWNrZWQKICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgc3RhdHVzIG9mIE9iamVjdCwgZW1wdHkgb3Igbm90ICh0cnVlfGZhbHNlKTsKICovCmZ1bmN0aW9uIGVtcHR5T2JqZWN0KG9iamVjdCkgewogIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLmxlbmd0aCA+IDAgPyBmYWxzZSA6IHRydWU7Cn0KCi8qKgogKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YQogKiBAcGFyYW0gIHtPYmplY3R9ICBvYmogLSBvYmplY3QgdG8gYmUgY2xvbmVkCiAqIEByZXR1cm4ge09iamVjdH0KICovCmZ1bmN0aW9uIGRlZXBDbG9uZShvYmopIHsKICAvL1RPRE86IHNpbXBsZSBidXQgaW5lZmZpY2llbnQgSlNPTiBkZWVwIGNsb25lLi4uCiAgaWYgKG9iaikgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7Cn0KCi8qKgogKiBPYnRhaW5zIHRoZSB1c2VyIFVSTCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEgZ2l2ZW4gZW1haWwKICogQHBhcmFtICB7c3RyaW5nfSB1c2VyRW1haWwgVGhlIHVzZXIgZW1haWwKICogQHJldHVybiB7VVJMLlVSTH0gdXNlclVSTCBUaGUgdXNlciBVUkwKICovCmZ1bmN0aW9uIGdldFVzZXJVUkxGcm9tRW1haWwodXNlckVtYWlsKSB7CiAgdmFyIGluZGV4T2ZBdCA9IHVzZXJFbWFpbC5pbmRleE9mKCdAJyk7CiAgcmV0dXJuICd1c2VyOi8vJyArIHVzZXJFbWFpbC5zdWJzdHJpbmcoaW5kZXhPZkF0ICsgMSwgdXNlckVtYWlsLmxlbmd0aCkgKyAnLycgKyB1c2VyRW1haWwuc3Vic3RyaW5nKDAsIGluZGV4T2ZBdCk7Cn0KCi8qKgogKiBPYnRhaW5zIHRoZSB1c2VyIGVtYWlsIHRoYXQgY29ycmVzcG9uZHMgdG8gYSBnaXZlbiBVUkwKICogQHBhcmFtICB7VVJMLlVSTH0gdXNlclVSTCBUaGUgdXNlciBVUkwKICogQHJldHVybiB7c3RyaW5nfSB1c2VyRW1haWwgVGhlIHVzZXIgZW1haWwKICovCmZ1bmN0aW9uIGdldFVzZXJFbWFpbEZyb21VUkwodXNlclVSTCkgewogIHZhciB1cmwgPSBkaXZpZGVVUkwodXNlclVSTCk7CiAgcmV0dXJuIHVybC5pZGVudGl0eS5yZXBsYWNlKCcvJywgJycpICsgJ0AnICsgdXJsLmRvbWFpbjsgLy8gaWRlbnRpdHkgZmllbGQgaGFzICcvZXhhbXBsZUlEJyBpbnN0ZWFkIG9mICdleGFtcGxlSUQnCn0KCi8qKgogKiBDaGVjayBpZiB0aGUgdXNlciBpZGVudGlmaWVyIGlzIGFscmVhZHkgaW4gdGhlIFVSTCBmb3JtYXQsIGlmIG5vdCwgY29udmVydCB0byBVUkwgZm9ybWF0CiAqIEBwYXJhbSAge3N0cmluZ30gICBpZGVudGlmaWVyICB1c2VyIGlkZW50aWZpZXIKICogQHJldHVybiB7c3RyaW5nfSAgIHVzZXJVUkwgICAgdGhlIHVzZXIgVVJMCiAqLwpmdW5jdGlvbiBjb252ZXJ0VG9Vc2VyVVJMKGlkZW50aWZpZXIpIHsKCiAgLy8gY2hlY2sgaWYgdGhlIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBpbiB0aGUgdXJsIGZvcm1hdAogIGlmIChpZGVudGlmaWVyLnN1YnN0cmluZygwLCA3KSA9PT0gJ3VzZXI6Ly8nKSB7CiAgICB2YXIgZGl2aWRlZFVSTCA9IGRpdmlkZVVSTChpZGVudGlmaWVyKTsKCiAgICAvL2NoZWNrIGlmIHRoZSB1cmwgaXMgd2VsbCBmb3JtYXRlZAogICAgaWYgKGRpdmlkZWRVUkwuZG9tYWluICYmIGRpdmlkZWRVUkwuaWRlbnRpdHkpIHsKICAgICAgcmV0dXJuIGlkZW50aWZpZXI7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyAndXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCc7CiAgICB9CgogICAgLy9pZiBub3QsIGNvbnZlcnQgdGhlIHVzZXIgZW1haWwgdG8gVVJMIGZvcm1hdAogIH0gZWxzZSB7CiAgICAgIHJldHVybiBnZXRVc2VyVVJMRnJvbUVtYWlsKGlkZW50aWZpZXIpOwogICAgfQp9Cgp9LHt9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKdmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OwoKLyohCiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHMKICogSVB2NiBTdXBwb3J0CiAqCiAqIFZlcnNpb246IDEuMTguMQogKgogKiBBdXRob3I6IFJvZG5leSBSZWhtCiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzLwogKgogKiBMaWNlbnNlZCB1bmRlcgogKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UKICoKICovCgooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCgogIGlmICgodHlwZW9mIGV4cG9ydHMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gJ29iamVjdCcpIHsKICAgIC8vIE5vZGUKICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuCiAgICBkZWZpbmUoZmFjdG9yeSk7CiAgfSBlbHNlIHsKICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICByb290LklQdjYgPSBmYWN0b3J5KHJvb3QpOwogIH0KfSkodW5kZWZpbmVkLCBmdW5jdGlvbiAocm9vdCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoKICB2YXIgX2luID0gImZlODA6MDAwMDowMDAwOjAwMDA6MDIwNDo2MWZmOmZlOWQ6ZjE1NiI7CiAgdmFyIF9vdXQgPSBJUHY2LmJlc3QoX2luKTsKICB2YXIgX2V4cGVjdGVkID0gImZlODA6OjIwNDo2MWZmOmZlOWQ6ZjE1NiI7CiAgIGNvbnNvbGUubG9nKF9pbiwgX291dCwgX2V4cGVjdGVkLCBfb3V0ID09PSBfZXhwZWN0ZWQpOwogICovCgogIC8vIHNhdmUgY3VycmVudCBJUHY2IHZhcmlhYmxlLCBpZiBhbnkKCiAgdmFyIF9JUHY2ID0gcm9vdCAmJiByb290LklQdjY7CgogIGZ1bmN0aW9uIGJlc3RQcmVzZW50YXRpb24oYWRkcmVzcykgewogICAgLy8gYmFzZWQgb246CiAgICAvLyBKYXZhc2NyaXB0IHRvIHRlc3QgYW4gSVB2NiBhZGRyZXNzIGZvciBwcm9wZXIgZm9ybWF0LCBhbmQgdG8KICAgIC8vIHByZXNlbnQgdGhlICJiZXN0IHRleHQgcmVwcmVzZW50YXRpb24iIGFjY29yZGluZyB0byBJRVRGIERyYWZ0IFJGQyBhdAogICAgLy8gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtaWV0Zi02bWFuLXRleHQtYWRkci1yZXByZXNlbnRhdGlvbi0wNAogICAgLy8gOCBGZWIgMjAxMCBSaWNoIEJyb3duLCBEYXJ0d2FyZSwgTExDCiAgICAvLyBQbGVhc2UgZmVlbCBmcmVlIHRvIHVzZSB0aGlzIGNvZGUgYXMgbG9uZyBhcyB5b3UgcHJvdmlkZSBhIGxpbmsgdG8KICAgIC8vIGh0dHA6Ly93d3cuaW50ZXJtYXBwZXIuY29tCiAgICAvLyBodHRwOi8vaW50ZXJtYXBwZXIuY29tL3N1cHBvcnQvdG9vbHMvSVBWNi1WYWxpZGF0b3IuYXNweAogICAgLy8gaHR0cDovL2Rvd25sb2FkLmRhcnR3YXJlLmNvbS90aGlyZHBhcnR5L2lwdjZ2YWxpZGF0b3IuanMKCiAgICB2YXIgX2FkZHJlc3MgPSBhZGRyZXNzLnRvTG93ZXJDYXNlKCk7CiAgICB2YXIgc2VnbWVudHMgPSBfYWRkcmVzcy5zcGxpdCgnOicpOwogICAgdmFyIGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDsKICAgIHZhciB0b3RhbCA9IDg7CgogICAgLy8gdHJpbSBjb2xvbnMgKDo6IG9yIDo6YTpiOmPigKYgb3Ig4oCmYTpiOmM6OikKICAgIGlmIChzZWdtZW50c1swXSA9PT0gJycgJiYgc2VnbWVudHNbMV0gPT09ICcnICYmIHNlZ21lbnRzWzJdID09PSAnJykgewogICAgICAvLyBtdXN0IGhhdmUgYmVlbiA6OgogICAgICAvLyByZW1vdmUgZmlyc3QgdHdvIGl0ZW1zCiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICB9IGVsc2UgaWYgKHNlZ21lbnRzWzBdID09PSAnJyAmJiBzZWdtZW50c1sxXSA9PT0gJycpIHsKICAgICAgLy8gbXVzdCBoYXZlIGJlZW4gOjp4eHh4CiAgICAgIC8vIHJlbW92ZSB0aGUgZmlyc3QgaXRlbQogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgfSBlbHNlIGlmIChzZWdtZW50c1tsZW5ndGggLSAxXSA9PT0gJycgJiYgc2VnbWVudHNbbGVuZ3RoIC0gMl0gPT09ICcnKSB7CiAgICAgIC8vIG11c3QgaGF2ZSBiZWVuIHh4eHg6OgogICAgICBzZWdtZW50cy5wb3AoKTsKICAgIH0KCiAgICBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CgogICAgLy8gYWRqdXN0IHRvdGFsIHNlZ21lbnRzIGZvciBJUHY0IHRyYWlsZXIKICAgIGlmIChzZWdtZW50c1tsZW5ndGggLSAxXS5pbmRleE9mKCcuJykgIT09IC0xKSB7CiAgICAgIC8vIGZvdW5kIGEgIi4iIHdoaWNoIG1lYW5zIElQdjQKICAgICAgdG90YWwgPSA3OwogICAgfQoKICAgIC8vIGZpbGwgZW1wdHkgc2VnbWVudHMgdGhlbSB3aXRoICIwMDAwIgogICAgdmFyIHBvczsKICAgIGZvciAocG9zID0gMDsgcG9zIDwgbGVuZ3RoOyBwb3MrKykgewogICAgICBpZiAoc2VnbWVudHNbcG9zXSA9PT0gJycpIHsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIGlmIChwb3MgPCB0b3RhbCkgewogICAgICBzZWdtZW50cy5zcGxpY2UocG9zLCAxLCAnMDAwMCcpOwogICAgICB3aGlsZSAoc2VnbWVudHMubGVuZ3RoIDwgdG90YWwpIHsKICAgICAgICBzZWdtZW50cy5zcGxpY2UocG9zLCAwLCAnMDAwMCcpOwogICAgICB9CiAgICB9CgogICAgLy8gc3RyaXAgbGVhZGluZyB6ZXJvcwogICAgdmFyIF9zZWdtZW50czsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykgewogICAgICBfc2VnbWVudHMgPSBzZWdtZW50c1tpXS5zcGxpdCgnJyk7CiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMzsgaisrKSB7CiAgICAgICAgaWYgKF9zZWdtZW50c1swXSA9PT0gJzAnICYmIF9zZWdtZW50cy5sZW5ndGggPiAxKSB7CiAgICAgICAgICBfc2VnbWVudHMuc3BsaWNlKDAsIDEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHNlZ21lbnRzW2ldID0gX3NlZ21lbnRzLmpvaW4oJycpOwogICAgfQoKICAgIC8vIGZpbmQgbG9uZ2VzdCBzZXF1ZW5jZSBvZiB6ZXJvZXMgYW5kIGNvYWxlc2NlIHRoZW0gaW50byBvbmUgc2VnbWVudAogICAgdmFyIGJlc3QgPSAtMTsKICAgIHZhciBfYmVzdCA9IDA7CiAgICB2YXIgX2N1cnJlbnQgPSAwOwogICAgdmFyIGN1cnJlbnQgPSAtMTsKICAgIHZhciBpbnplcm9lcyA9IGZhbHNlOwogICAgLy8gaTsgYWxyZWFkeSBkZWNsYXJlZAoKICAgIGZvciAoaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7CiAgICAgIGlmIChpbnplcm9lcykgewogICAgICAgIGlmIChzZWdtZW50c1tpXSA9PT0gJzAnKSB7CiAgICAgICAgICBfY3VycmVudCArPSAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpbnplcm9lcyA9IGZhbHNlOwogICAgICAgICAgaWYgKF9jdXJyZW50ID4gX2Jlc3QpIHsKICAgICAgICAgICAgYmVzdCA9IGN1cnJlbnQ7CiAgICAgICAgICAgIF9iZXN0ID0gX2N1cnJlbnQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChzZWdtZW50c1tpXSA9PT0gJzAnKSB7CiAgICAgICAgICBpbnplcm9lcyA9IHRydWU7CiAgICAgICAgICBjdXJyZW50ID0gaTsKICAgICAgICAgIF9jdXJyZW50ID0gMTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAoX2N1cnJlbnQgPiBfYmVzdCkgewogICAgICBiZXN0ID0gY3VycmVudDsKICAgICAgX2Jlc3QgPSBfY3VycmVudDsKICAgIH0KCiAgICBpZiAoX2Jlc3QgPiAxKSB7CiAgICAgIHNlZ21lbnRzLnNwbGljZShiZXN0LCBfYmVzdCwgJycpOwogICAgfQoKICAgIGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDsKCiAgICAvLyBhc3NlbWJsZSByZW1haW5pbmcgc2VnbWVudHMKICAgIHZhciByZXN1bHQgPSAnJzsKICAgIGlmIChzZWdtZW50c1swXSA9PT0gJycpIHsKICAgICAgcmVzdWx0ID0gJzonOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICByZXN1bHQgKz0gc2VnbWVudHNbaV07CiAgICAgIGlmIChpID09PSBsZW5ndGggLSAxKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHJlc3VsdCArPSAnOic7CiAgICB9CgogICAgaWYgKHNlZ21lbnRzW2xlbmd0aCAtIDFdID09PSAnJykgewogICAgICByZXN1bHQgKz0gJzonOwogICAgfQoKICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBmdW5jdGlvbiBub0NvbmZsaWN0KCkgewogICAgLypqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovCiAgICBpZiAocm9vdC5JUHY2ID09PSB0aGlzKSB7CiAgICAgIHJvb3QuSVB2NiA9IF9JUHY2OwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KCiAgcmV0dXJuIHsKICAgIGJlc3Q6IGJlc3RQcmVzZW50YXRpb24sCiAgICBub0NvbmZsaWN0OiBub0NvbmZsaWN0CiAgfTsKfSk7Cgp9LHt9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKdmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OwoKLyohCiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHMKICogU2Vjb25kIExldmVsIERvbWFpbiAoU0xEKSBTdXBwb3J0CiAqCiAqIFZlcnNpb246IDEuMTguMQogKgogKiBBdXRob3I6IFJvZG5leSBSZWhtCiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzLwogKgogKiBMaWNlbnNlZCB1bmRlcgogKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UKICoKICovCgooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCgogIGlmICgodHlwZW9mIGV4cG9ydHMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gJ29iamVjdCcpIHsKICAgIC8vIE5vZGUKICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuCiAgICBkZWZpbmUoZmFjdG9yeSk7CiAgfSBlbHNlIHsKICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICByb290LlNlY29uZExldmVsRG9tYWlucyA9IGZhY3Rvcnkocm9vdCk7CiAgfQp9KSh1bmRlZmluZWQsIGZ1bmN0aW9uIChyb290KSB7CiAgJ3VzZSBzdHJpY3QnOwoKICAvLyBzYXZlIGN1cnJlbnQgU2Vjb25kTGV2ZWxEb21haW5zIHZhcmlhYmxlLCBpZiBhbnkKCiAgdmFyIF9TZWNvbmRMZXZlbERvbWFpbnMgPSByb290ICYmIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zOwoKICB2YXIgU0xEID0gewogICAgLy8gbGlzdCBvZiBrbm93biBTZWNvbmQgTGV2ZWwgRG9tYWlucwogICAgLy8gY29udmVydGVkIGxpc3Qgb2YgU0xEcyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9nYXZpbmdtaWxsZXIvc2Vjb25kLWxldmVsLWRvbWFpbnMKICAgIC8vIC0tLS0KICAgIC8vIHB1YmxpY3N1ZmZpeC5vcmcgaXMgbW9yZSBjdXJyZW50IGFuZCBhY3R1YWxseSB1c2VkIGJ5IGEgY291cGxlIG9mIGJyb3dzZXJzIGludGVybmFsbHkuCiAgICAvLyBkb3duc2lkZSBpcyBpdCBhbHNvIGNvbnRhaW5zIGRvbWFpbnMgbGlrZSAiZHluZG5zLm9yZyIgLSB3aGljaCBpcyBmaW5lIGZvciB0aGUgc2VjdXJpdHkKICAgIC8vIGlzc3VlcyBicm93c2VyIGhhdmUgdG8gZGVhbCB3aXRoIChTT1AgZm9yIGNvb2tpZXMsIGV0YykgLSBidXQgaXMgd2F5IG92ZXJib2FyZCBmb3IgVVJJLmpzCiAgICAvLyAtLS0tCiAgICBsaXN0OiB7CiAgICAgICdhYyc6ICcgY29tIGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnYWUnOiAnIGFjIGNvIGdvdiBtaWwgbmFtZSBuZXQgb3JnIHBybyBzY2ggJywKICAgICAgJ2FmJzogJyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdhbCc6ICcgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ2FvJzogJyBjbyBlZCBndiBpdCBvZyBwYiAnLAogICAgICAnYXInOiAnIGNvbSBlZHUgZ29iIGdvdiBpbnQgbWlsIG5ldCBvcmcgdHVyICcsCiAgICAgICdhdCc6ICcgYWMgY28gZ3Ygb3IgJywKICAgICAgJ2F1JzogJyBhc24gY29tIGNzaXJvIGVkdSBnb3YgaWQgbmV0IG9yZyAnLAogICAgICAnYmEnOiAnIGNvIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnIHJzIHVuYmkgdW5tbyB1bnNhIHVudHogdW56ZSAnLAogICAgICAnYmInOiAnIGJpeiBjbyBjb20gZWR1IGdvdiBpbmZvIG5ldCBvcmcgc3RvcmUgdHYgJywKICAgICAgJ2JoJzogJyBiaXogY2MgY29tIGVkdSBnb3YgaW5mbyBuZXQgb3JnICcsCiAgICAgICdibic6ICcgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnYm8nOiAnIGNvbSBlZHUgZ29iIGdvdiBpbnQgbWlsIG5ldCBvcmcgdHYgJywKICAgICAgJ2JyJzogJyBhZG0gYWR2IGFnciBhbSBhcnEgYXJ0IGF0byBiIGJpbyBibG9nIGJtZCBjaW0gY25nIGNudCBjb20gY29vcCBlY24gZWR1IGVuZyBlc3AgZXRjIGV0aSBmYXIgZmxvZyBmbSBmbmQgZm90IGZzdCBnMTIgZ2dmIGdvdiBpbWIgaW5kIGluZiBqb3IganVzIGxlbCBtYXQgbWVkIG1pbCBtdXMgbmV0IG5vbSBub3QgbnRyIG9kbyBvcmcgcHBnIHBybyBwc2MgcHNpIHFzbCByZWMgc2xnIHNydiB0bXAgdHJkIHR1ciB0diB2ZXQgdmxvZyB3aWtpIHpsZyAnLAogICAgICAnYnMnOiAnIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2J6JzogJyBkdSBldCBvbSBvdiByZyAnLAogICAgICAnY2EnOiAnIGFiIGJjIG1iIG5iIG5mIG5sIG5zIG50IG51IG9uIHBlIHFjIHNrIHlrICcsCiAgICAgICdjayc6ICcgYml6IGNvIGVkdSBnZW4gZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnY24nOiAnIGFjIGFoIGJqIGNvbSBjcSBlZHUgZmogZ2QgZ292IGdzIGd4IGd6IGhhIGhiIGhlIGhpIGhsIGhuIGpsIGpzIGp4IGxuIG1pbCBuZXQgbm0gbnggb3JnIHFoIHNjIHNkIHNoIHNuIHN4IHRqIHR3IHhqIHh6IHluIHpqICcsCiAgICAgICdjbyc6ICcgY29tIGVkdSBnb3YgbWlsIG5ldCBub20gb3JnICcsCiAgICAgICdjcic6ICcgYWMgYyBjbyBlZCBmaSBnbyBvciBzYSAnLAogICAgICAnY3knOiAnIGFjIGJpeiBjb20gZWtsb2dlcyBnb3YgbHRkIG5hbWUgbmV0IG9yZyBwYXJsaWFtZW50IHByZXNzIHBybyB0bSAnLAogICAgICAnZG8nOiAnIGFydCBjb20gZWR1IGdvYiBnb3YgbWlsIG5ldCBvcmcgc2xkIHdlYiAnLAogICAgICAnZHonOiAnIGFydCBhc3NvIGNvbSBlZHUgZ292IG5ldCBvcmcgcG9sICcsCiAgICAgICdlYyc6ICcgY29tIGVkdSBmaW4gZ292IGluZm8gbWVkIG1pbCBuZXQgb3JnIHBybyAnLAogICAgICAnZWcnOiAnIGNvbSBlZHUgZXVuIGdvdiBtaWwgbmFtZSBuZXQgb3JnIHNjaSAnLAogICAgICAnZXInOiAnIGNvbSBlZHUgZ292IGluZCBtaWwgbmV0IG9yZyByb2NoZXN0IHcgJywKICAgICAgJ2VzJzogJyBjb20gZWR1IGdvYiBub20gb3JnICcsCiAgICAgICdldCc6ICcgYml6IGNvbSBlZHUgZ292IGluZm8gbmFtZSBuZXQgb3JnICcsCiAgICAgICdmaic6ICcgYWMgYml6IGNvbSBpbmZvIG1pbCBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICdmayc6ICcgYWMgY28gZ292IG5ldCBub20gb3JnICcsCiAgICAgICdmcic6ICcgYXNzbyBjb20gZiBnb3V2IG5vbSBwcmQgcHJlc3NlIHRtICcsCiAgICAgICdnZyc6ICcgY28gbmV0IG9yZyAnLAogICAgICAnZ2gnOiAnIGNvbSBlZHUgZ292IG1pbCBvcmcgJywKICAgICAgJ2duJzogJyBhYyBjb20gZ292IG5ldCBvcmcgJywKICAgICAgJ2dyJzogJyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnZ3QnOiAnIGNvbSBlZHUgZ29iIGluZCBtaWwgbmV0IG9yZyAnLAogICAgICAnZ3UnOiAnIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2hrJzogJyBjb20gZWR1IGdvdiBpZHYgbmV0IG9yZyAnLAogICAgICAnaHUnOiAnIDIwMDAgYWdyYXIgYm9sdCBjYXNpbm8gY2l0eSBjbyBlcm90aWNhIGVyb3Rpa2EgZmlsbSBmb3J1bSBnYW1lcyBob3RlbCBpbmZvIGluZ2F0bGFuIGpvZ2FzeiBrb255dmVsbyBsYWthcyBtZWRpYSBuZXdzIG9yZyBwcml2IHJla2xhbSBzZXggc2hvcCBzcG9ydCBzdWxpIHN6ZXggdG0gdG96c2RlIHV0YXphcyB2aWRlbyAnLAogICAgICAnaWQnOiAnIGFjIGNvIGdvIG1pbCBuZXQgb3Igc2NoIHdlYiAnLAogICAgICAnaWwnOiAnIGFjIGNvIGdvdiBpZGYgazEyIG11bmkgbmV0IG9yZyAnLAogICAgICAnaW4nOiAnIGFjIGNvIGVkdSBlcm5ldCBmaXJtIGdlbiBnb3YgaSBpbmQgbWlsIG5ldCBuaWMgb3JnIHJlcyAnLAogICAgICAnaXEnOiAnIGNvbSBlZHUgZ292IGkgbWlsIG5ldCBvcmcgJywKICAgICAgJ2lyJzogJyBhYyBjbyBkbnNzZWMgZ292IGkgaWQgbmV0IG9yZyBzY2ggJywKICAgICAgJ2l0JzogJyBlZHUgZ292ICcsCiAgICAgICdqZSc6ICcgY28gbmV0IG9yZyAnLAogICAgICAnam8nOiAnIGNvbSBlZHUgZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICdqcCc6ICcgYWMgYWQgY28gZWQgZ28gZ3IgbGcgbmUgb3IgJywKICAgICAgJ2tlJzogJyBhYyBjbyBnbyBpbmZvIG1lIG1vYmkgbmUgb3Igc2MgJywKICAgICAgJ2toJzogJyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyBwZXIgJywKICAgICAgJ2tpJzogJyBiaXogY29tIGRlIGVkdSBnb3YgaW5mbyBtb2IgbmV0IG9yZyB0ZWwgJywKICAgICAgJ2ttJzogJyBhc3NvIGNvbSBjb29wIGVkdSBnb3V2IGsgbWVkZWNpbiBtaWwgbm9tIG5vdGFpcmVzIHBoYXJtYWNpZW5zIHByZXNzZSB0bSB2ZXRlcmluYWlyZSAnLAogICAgICAna24nOiAnIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAna3InOiAnIGFjIGJ1c2FuIGNodW5nYnVrIGNodW5nbmFtIGNvIGRhZWd1IGRhZWplb24gZXMgZ2FuZ3dvbiBnbyBnd2FuZ2p1IGd5ZW9uZ2J1ayBneWVvbmdnaSBneWVvbmduYW0gaHMgaW5jaGVvbiBqZWp1IGplb25idWsgamVvbm5hbSBrIGtnIG1pbCBtcyBuZSBvciBwZSByZSBzYyBzZW91bCB1bHNhbiAnLAogICAgICAna3cnOiAnIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2t5JzogJyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdreic6ICcgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ2xiJzogJyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdsayc6ICcgYXNzbiBjb20gZWR1IGdvdiBncnAgaG90ZWwgaW50IGx0ZCBuZXQgbmdvIG9yZyBzY2ggc29jIHdlYiAnLAogICAgICAnbHInOiAnIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2x2JzogJyBhc24gY29tIGNvbmYgZWR1IGdvdiBpZCBtaWwgbmV0IG9yZyAnLAogICAgICAnbHknOiAnIGNvbSBlZHUgZ292IGlkIG1lZCBuZXQgb3JnIHBsYyBzY2ggJywKICAgICAgJ21hJzogJyBhYyBjbyBnb3YgbSBuZXQgb3JnIHByZXNzICcsCiAgICAgICdtYyc6ICcgYXNzbyB0bSAnLAogICAgICAnbWUnOiAnIGFjIGNvIGVkdSBnb3YgaXRzIG5ldCBvcmcgcHJpdiAnLAogICAgICAnbWcnOiAnIGNvbSBlZHUgZ292IG1pbCBub20gb3JnIHByZCB0bSAnLAogICAgICAnbWsnOiAnIGNvbSBlZHUgZ292IGluZiBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICdtbCc6ICcgY29tIGVkdSBnb3YgbmV0IG9yZyBwcmVzc2UgJywKICAgICAgJ21uJzogJyBlZHUgZ292IG9yZyAnLAogICAgICAnbW8nOiAnIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ210JzogJyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdtdic6ICcgYWVybyBiaXogY29tIGNvb3AgZWR1IGdvdiBpbmZvIGludCBtaWwgbXVzZXVtIG5hbWUgbmV0IG9yZyBwcm8gJywKICAgICAgJ213JzogJyBhYyBjbyBjb20gY29vcCBlZHUgZ292IGludCBtdXNldW0gbmV0IG9yZyAnLAogICAgICAnbXgnOiAnIGNvbSBlZHUgZ29iIG5ldCBvcmcgJywKICAgICAgJ215JzogJyBjb20gZWR1IGdvdiBtaWwgbmFtZSBuZXQgb3JnIHNjaCAnLAogICAgICAnbmYnOiAnIGFydHMgY29tIGZpcm0gaW5mbyBuZXQgb3RoZXIgcGVyIHJlYyBzdG9yZSB3ZWIgJywKICAgICAgJ25nJzogJyBiaXogY29tIGVkdSBnb3YgbWlsIG1vYmkgbmFtZSBuZXQgb3JnIHNjaCAnLAogICAgICAnbmknOiAnIGFjIGNvIGNvbSBlZHUgZ29iIG1pbCBuZXQgbm9tIG9yZyAnLAogICAgICAnbnAnOiAnIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICducic6ICcgYml6IGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnb20nOiAnIGFjIGJpeiBjbyBjb20gZWR1IGdvdiBtZWQgbWlsIG11c2V1bSBuZXQgb3JnIHBybyBzY2ggJywKICAgICAgJ3BlJzogJyBjb20gZWR1IGdvYiBtaWwgbmV0IG5vbSBvcmcgc2xkICcsCiAgICAgICdwaCc6ICcgY29tIGVkdSBnb3YgaSBtaWwgbmV0IG5nbyBvcmcgJywKICAgICAgJ3BrJzogJyBiaXogY29tIGVkdSBmYW0gZ29iIGdvayBnb24gZ29wIGdvcyBnb3YgbmV0IG9yZyB3ZWIgJywKICAgICAgJ3BsJzogJyBhcnQgYmlhbHlzdG9rIGJpeiBjb20gZWR1IGdkYSBnZGFuc2sgZ29yem93IGdvdiBpbmZvIGthdG93aWNlIGtyYWtvdyBsb2R6IGx1YmxpbiBtaWwgbmV0IG5nbyBvbHN6dHluIG9yZyBwb3puYW4gcHdyIHJhZG9tIHNsdXBzayBzemN6ZWNpbiB0b3J1biB3YXJzemF3YSB3YXcgd3JvYyB3cm9jbGF3IHpnb3JhICcsCiAgICAgICdwcic6ICcgYWMgYml6IGNvbSBlZHUgZXN0IGdvdiBpbmZvIGlzbGEgbmFtZSBuZXQgb3JnIHBybyBwcm9mICcsCiAgICAgICdwcyc6ICcgY29tIGVkdSBnb3YgbmV0IG9yZyBwbG8gc2VjICcsCiAgICAgICdwdyc6ICcgYmVsYXUgY28gZWQgZ28gbmUgb3IgJywKICAgICAgJ3JvJzogJyBhcnRzIGNvbSBmaXJtIGluZm8gbm9tIG50IG9yZyByZWMgc3RvcmUgdG0gd3d3ICcsCiAgICAgICdycyc6ICcgYWMgY28gZWR1IGdvdiBpbiBvcmcgJywKICAgICAgJ3NiJzogJyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdzYyc6ICcgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc2gnOiAnIGNvIGNvbSBlZHUgZ292IG5ldCBub20gb3JnICcsCiAgICAgICdzbCc6ICcgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc3QnOiAnIGNvIGNvbSBjb25zdWxhZG8gZWR1IGVtYmFpeGFkYSBnb3YgbWlsIG5ldCBvcmcgcHJpbmNpcGUgc2FvdG9tZSBzdG9yZSAnLAogICAgICAnc3YnOiAnIGNvbSBlZHUgZ29iIG9yZyByZWQgJywKICAgICAgJ3N6JzogJyBhYyBjbyBvcmcgJywKICAgICAgJ3RyJzogJyBhdiBiYnMgYmVsIGJpeiBjb20gZHIgZWR1IGdlbiBnb3YgaW5mbyBrMTIgbmFtZSBuZXQgb3JnIHBvbCB0ZWwgdHNrIHR2IHdlYiAnLAogICAgICAndHQnOiAnIGFlcm8gYml6IGNhdCBjbyBjb20gY29vcCBlZHUgZ292IGluZm8gaW50IGpvYnMgbWlsIG1vYmkgbXVzZXVtIG5hbWUgbmV0IG9yZyBwcm8gdGVsIHRyYXZlbCAnLAogICAgICAndHcnOiAnIGNsdWIgY29tIGViaXogZWR1IGdhbWUgZ292IGlkdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbXUnOiAnIGFjIGNvIGNvbSBnb3YgbmV0IG9yIG9yZyAnLAogICAgICAnbXonOiAnIGFjIGNvIGVkdSBnb3Ygb3JnICcsCiAgICAgICduYSc6ICcgY28gY29tICcsCiAgICAgICdueic6ICcgYWMgY28gY3JpIGdlZWsgZ2VuIGdvdnQgaGVhbHRoIGl3aSBtYW9yaSBtaWwgbmV0IG9yZyBwYXJsaWFtZW50IHNjaG9vbCAnLAogICAgICAncGEnOiAnIGFibyBhYyBjb20gZWR1IGdvYiBpbmcgbWVkIG5ldCBub20gb3JnIHNsZCAnLAogICAgICAncHQnOiAnIGNvbSBlZHUgZ292IGludCBuZXQgbm9tZSBvcmcgcHVibCAnLAogICAgICAncHknOiAnIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdxYSc6ICcgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ3JlJzogJyBhc3NvIGNvbSBub20gJywKICAgICAgJ3J1JzogJyBhYyBhZHlnZXlhIGFsdGFpIGFtdXIgYXJraGFuZ2Vsc2sgYXN0cmFraGFuIGJhc2hraXJpYSBiZWxnb3JvZCBiaXIgYnJ5YW5zayBidXJ5YXRpYSBjYmcgY2hlbCBjaGVseWFiaW5zayBjaGl0YSBjaHVrb3RrYSBjaHV2YXNoaWEgY29tIGRhZ2VzdGFuIGUtYnVyZyBlZHUgZ292IGdyb3pueSBpbnQgaXJrdXRzayBpdmFub3ZvIGl6aGV2c2sgamFyIGpvc2hrYXItb2xhIGthbG15a2lhIGthbHVnYSBrYW1jaGF0a2Ega2FyZWxpYSBrYXphbiBrY2hyIGtlbWVyb3ZvIGtoYWJhcm92c2sga2hha2Fzc2lhIGtodiBraXJvdiBrb2VuaWcga29taSBrb3N0cm9tYSBrcmFub3lhcnNrIGt1YmFuIGt1cmdhbiBrdXJzayBsaXBldHNrIG1hZ2FkYW4gbWFyaSBtYXJpLWVsIG1hcmluZSBtaWwgbW9yZG92aWEgbW9zcmVnIG1zayBtdXJtYW5zayBuYWxjaGlrIG5ldCBubm92IG5vdiBub3Zvc2liaXJzayBuc2sgb21zayBvcmVuYnVyZyBvcmcgb3J5b2wgcGVuemEgcGVybSBwcCBwc2tvdiBwdHogcm5kIHJ5YXphbiBzYWtoYWxpbiBzYW1hcmEgc2FyYXRvdiBzaW1iaXJzayBzbW9sZW5zayBzcGIgc3RhdnJvcG9sIHN0diBzdXJndXQgdGFtYm92IHRhdGFyc3RhbiB0b20gdG9tc2sgdHNhcml0c3luIHRzayB0dWxhIHR1dmEgdHZlciB0eXVtZW4gdWRtIHVkbXVydGlhIHVsYW4tdWRlIHZsYWRpa2F2a2F6IHZsYWRpbWlyIHZsYWRpdm9zdG9rIHZvbGdvZ3JhZCB2b2xvZ2RhIHZvcm9uZXpoIHZybiB2eWF0a2EgeWFrdXRpYSB5YW1hbCB5ZWthdGVyaW5idXJnIHl1emhuby1zYWtoYWxpbnNrICcsCiAgICAgICdydyc6ICcgYWMgY28gY29tIGVkdSBnb3V2IGdvdiBpbnQgbWlsIG5ldCAnLAogICAgICAnc2EnOiAnIGNvbSBlZHUgZ292IG1lZCBuZXQgb3JnIHB1YiBzY2ggJywKICAgICAgJ3NkJzogJyBjb20gZWR1IGdvdiBpbmZvIG1lZCBuZXQgb3JnIHR2ICcsCiAgICAgICdzZSc6ICcgYSBhYyBiIGJkIGMgZCBlIGYgZyBoIGkgayBsIG0gbiBvIG9yZyBwIHBhcnRpIHBwIHByZXNzIHIgcyB0IHRtIHUgdyB4IHkgeiAnLAogICAgICAnc2cnOiAnIGNvbSBlZHUgZ292IGlkbiBuZXQgb3JnIHBlciAnLAogICAgICAnc24nOiAnIGFydCBjb20gZWR1IGdvdXYgb3JnIHBlcnNvIHVuaXYgJywKICAgICAgJ3N5JzogJyBjb20gZWR1IGdvdiBtaWwgbmV0IG5ld3Mgb3JnICcsCiAgICAgICd0aCc6ICcgYWMgY28gZ28gaW4gbWkgbmV0IG9yICcsCiAgICAgICd0aic6ICcgYWMgYml6IGNvIGNvbSBlZHUgZ28gZ292IGluZm8gaW50IG1pbCBuYW1lIG5ldCBuaWMgb3JnIHRlc3Qgd2ViICcsCiAgICAgICd0bic6ICcgYWdyaW5ldCBjb20gZGVmZW5zZSBlZHVuZXQgZW5zIGZpbiBnb3YgaW5kIGluZm8gaW50bCBtaW5jb20gbmF0IG5ldCBvcmcgcGVyc28gcm5ydCBybnMgcm51IHRvdXJpc20gJywKICAgICAgJ3R6JzogJyBhYyBjbyBnbyBuZSBvciAnLAogICAgICAndWEnOiAnIGJpeiBjaGVya2Fzc3kgY2hlcm5pZ292IGNoZXJub3Z0c3kgY2sgY24gY28gY29tIGNyaW1lYSBjdiBkbiBkbmVwcm9wZXRyb3ZzayBkb25ldHNrIGRwIGVkdSBnb3YgaWYgaW4gaXZhbm8tZnJhbmtpdnNrIGtoIGtoYXJrb3Yga2hlcnNvbiBraG1lbG5pdHNraXkga2lldiBraXJvdm9ncmFkIGttIGtyIGtzIGt2IGxnIGx1Z2Fuc2sgbHV0c2sgbHZpdiBtZSBtayBuZXQgbmlrb2xhZXYgb2Qgb2Rlc3NhIG9yZyBwbCBwb2x0YXZhIHBwIHJvdm5vIHJ2IHNlYmFzdG9wb2wgc3VteSB0ZSB0ZXJub3BpbCB1emhnb3JvZCB2aW5uaWNhIHZuIHphcG9yaXpoemhlIHpoaXRvbWlyIHpwIHp0ICcsCiAgICAgICd1Zyc6ICcgYWMgY28gZ28gbmUgb3Igb3JnIHNjICcsCiAgICAgICd1ayc6ICcgYWMgYmwgYnJpdGlzaC1saWJyYXJ5IGNvIGN5bSBnb3YgZ292dCBpY25ldCBqZXQgbGVhIGx0ZCBtZSBtaWwgbW9kIG5hdGlvbmFsLWxpYnJhcnktc2NvdGxhbmQgbmVsIG5ldCBuaHMgbmljIG5scyBvcmcgb3JnbiBwYXJsaWFtZW50IHBsYyBwb2xpY2Ugc2NoIHNjb3Qgc29jICcsCiAgICAgICd1cyc6ICcgZG5pIGZlZCBpc2Ega2lkcyBuc24gJywKICAgICAgJ3V5JzogJyBjb20gZWR1IGd1YiBtaWwgbmV0IG9yZyAnLAogICAgICAndmUnOiAnIGNvIGNvbSBlZHUgZ29iIGluZm8gbWlsIG5ldCBvcmcgd2ViICcsCiAgICAgICd2aSc6ICcgY28gY29tIGsxMiBuZXQgb3JnICcsCiAgICAgICd2bic6ICcgYWMgYml6IGNvbSBlZHUgZ292IGhlYWx0aCBpbmZvIGludCBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICd5ZSc6ICcgY28gY29tIGdvdiBsdGQgbWUgbmV0IG9yZyBwbGMgJywKICAgICAgJ3l1JzogJyBhYyBjbyBlZHUgZ292IG9yZyAnLAogICAgICAnemEnOiAnIGFjIGFncmljIGFsdCBib3Vyc2UgY2l0eSBjbyBjeWJlcm5ldCBkYiBlZHUgZ292IGdyb25kYXIgaWFjY2VzcyBpbXQgaW5jYSBsYW5kZXNpZ24gbGF3IG1pbCBuZXQgbmdvIG5pcyBub20gb2xpdmV0dGkgb3JnIHBpeCBzY2hvb2wgdG0gd2ViICcsCiAgICAgICd6bSc6ICcgYWMgY28gY29tIGVkdSBnb3YgbmV0IG9yZyBzY2ggJwogICAgfSwKICAgIC8vIGdvcmhpbGwgMjAxMy0xMC0yNTogVXNpbmcgaW5kZXhPZigpIGluc3RlYWQgUmVnZXhwKCkuIFNpZ25pZmljYW50IGJvb3N0CiAgICAvLyBpbiBib3RoIHBlcmZvcm1hbmNlIGFuZCBtZW1vcnkgZm9vdHByaW50LiBObyBpbml0aWFsaXphdGlvbiByZXF1aXJlZC4KICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL3VyaS1qcy1zbGQtcmVnZXgtdnMtYmluYXJ5LXNlYXJjaC80CiAgICAvLyBGb2xsb3dpbmcgbWV0aG9kcyB1c2UgbGFzdEluZGV4T2YoKSByYXRoZXIgdGhhbiBhcnJheS5zcGxpdCgpIGluIG9yZGVyCiAgICAvLyB0byBhdm9pZCBhbnkgbWVtb3J5IGFsbG9jYXRpb25zLgogICAgaGFzOiBmdW5jdGlvbiBoYXMoZG9tYWluKSB7CiAgICAgIHZhciB0bGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKHRsZE9mZnNldCA8PSAwIHx8IHRsZE9mZnNldCA+PSBkb21haW4ubGVuZ3RoIC0gMSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0IC0gMSk7CiAgICAgIGlmIChzbGRPZmZzZXQgPD0gMCB8fCBzbGRPZmZzZXQgPj0gdGxkT2Zmc2V0IC0gMSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQgKyAxKV07CiAgICAgIGlmICghc2xkTGlzdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gc2xkTGlzdC5pbmRleE9mKCcgJyArIGRvbWFpbi5zbGljZShzbGRPZmZzZXQgKyAxLCB0bGRPZmZzZXQpICsgJyAnKSA+PSAwOwogICAgfSwKICAgIGlzOiBmdW5jdGlvbiBpcyhkb21haW4pIHsKICAgICAgdmFyIHRsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicpOwogICAgICBpZiAodGxkT2Zmc2V0IDw9IDAgfHwgdGxkT2Zmc2V0ID49IGRvbWFpbi5sZW5ndGggLSAxKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nLCB0bGRPZmZzZXQgLSAxKTsKICAgICAgaWYgKHNsZE9mZnNldCA+PSAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRMaXN0ID0gU0xELmxpc3RbZG9tYWluLnNsaWNlKHRsZE9mZnNldCArIDEpXTsKICAgICAgaWYgKCFzbGRMaXN0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiBzbGRMaXN0LmluZGV4T2YoJyAnICsgZG9tYWluLnNsaWNlKDAsIHRsZE9mZnNldCkgKyAnICcpID49IDA7CiAgICB9LAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoZG9tYWluKSB7CiAgICAgIHZhciB0bGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKHRsZE9mZnNldCA8PSAwIHx8IHRsZE9mZnNldCA+PSBkb21haW4ubGVuZ3RoIC0gMSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHZhciBzbGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nLCB0bGRPZmZzZXQgLSAxKTsKICAgICAgaWYgKHNsZE9mZnNldCA8PSAwIHx8IHNsZE9mZnNldCA+PSB0bGRPZmZzZXQgLSAxKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgdmFyIHNsZExpc3QgPSBTTEQubGlzdFtkb21haW4uc2xpY2UodGxkT2Zmc2V0ICsgMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICBpZiAoc2xkTGlzdC5pbmRleE9mKCcgJyArIGRvbWFpbi5zbGljZShzbGRPZmZzZXQgKyAxLCB0bGRPZmZzZXQpICsgJyAnKSA8IDApIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICByZXR1cm4gZG9tYWluLnNsaWNlKHNsZE9mZnNldCArIDEpOwogICAgfSwKICAgIG5vQ29uZmxpY3Q6IGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7CiAgICAgIGlmIChyb290LlNlY29uZExldmVsRG9tYWlucyA9PT0gdGhpcykgewogICAgICAgIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zID0gX1NlY29uZExldmVsRG9tYWluczsKICAgICAgfQogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwoKICByZXR1cm4gU0xEOwp9KTsKCn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7Cgp2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07CgovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKgogKiBWZXJzaW9uOiAxLjE4LjEKICoKICogQXV0aG9yOiBSb2RuZXkgUmVobQogKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy8KICoKICogTGljZW5zZWQgdW5kZXIKICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlCiAqCiAqLwooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCgogIGlmICgodHlwZW9mIGV4cG9ydHMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gJ29iamVjdCcpIHsKICAgIC8vIE5vZGUKICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCcuL3B1bnljb2RlJyksIHJlcXVpcmUoJy4vSVB2NicpLCByZXF1aXJlKCcuL1NlY29uZExldmVsRG9tYWlucycpKTsKICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewogICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLgogICAgZGVmaW5lKFsnLi9wdW55Y29kZScsICcuL0lQdjYnLCAnLi9TZWNvbmRMZXZlbERvbWFpbnMnXSwgZmFjdG9yeSk7CiAgfSBlbHNlIHsKICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICByb290LlVSSSA9IGZhY3Rvcnkocm9vdC5wdW55Y29kZSwgcm9vdC5JUHY2LCByb290LlNlY29uZExldmVsRG9tYWlucywgcm9vdCk7CiAgfQp9KSh1bmRlZmluZWQsIGZ1bmN0aW9uIChwdW55Y29kZSwgSVB2NiwgU0xELCByb290KSB7CiAgJ3VzZSBzdHJpY3QnOwogIC8qZ2xvYmFsIGxvY2F0aW9uLCBlc2NhcGUsIHVuZXNjYXBlICovCiAgLy8gRklYTUU6IHYyLjAuMCByZW5hbWNlIG5vbi1jYW1lbENhc2UgcHJvcGVydGllcyB0byB1cHBlcmNhc2UKICAvKmpzaGludCBjYW1lbGNhc2U6IGZhbHNlICovCgogIC8vIHNhdmUgY3VycmVudCBVUkkgdmFyaWFibGUsIGlmIGFueQoKICB2YXIgX1VSSSA9IHJvb3QgJiYgcm9vdC5VUkk7CgogIGZ1bmN0aW9uIFVSSSh1cmwsIGJhc2UpIHsKICAgIHZhciBfdXJsU3VwcGxpZWQgPSBhcmd1bWVudHMubGVuZ3RoID49IDE7CiAgICB2YXIgX2Jhc2VTdXBwbGllZCA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMjsKCiAgICAvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmQKICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBVUkkpKSB7CiAgICAgIGlmIChfdXJsU3VwcGxpZWQpIHsKICAgICAgICBpZiAoX2Jhc2VTdXBwbGllZCkgewogICAgICAgICAgcmV0dXJuIG5ldyBVUkkodXJsLCBiYXNlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBuZXcgVVJJKHVybCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXcgVVJJKCk7CiAgICB9CgogICAgaWYgKHVybCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmIChfdXJsU3VwcGxpZWQpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQgYXJndW1lbnQgZm9yIFVSSScpOwogICAgICB9CgogICAgICBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIHVybCA9IGxvY2F0aW9uLmhyZWYgKyAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB1cmwgPSAnJzsKICAgICAgfQogICAgfQoKICAgIHRoaXMuaHJlZih1cmwpOwoKICAgIC8vIHJlc29sdmUgdG8gYmFzZSBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCNjb25zdHJ1Y3RvcgogICAgaWYgKGJhc2UgIT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5hYnNvbHV0ZVRvKGJhc2UpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KCiAgVVJJLnZlcnNpb24gPSAnMS4xOC4xJzsKCiAgdmFyIHAgPSBVUkkucHJvdG90eXBlOwogIHZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5OwoKICBmdW5jdGlvbiBlc2NhcGVSZWdFeChzdHJpbmcpIHsKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2NvbW1pdC84NWFjMjE3ODNjMTFmOGNjYWIwNjEwNmRiYTk3MzVhMzFhODY5MjRkI2NvbW1pdGNvbW1lbnQtODIxOTYzCiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbLiorP149IToke30oKXxbXF1cL1xcXSkvZywgJ1xcJDEnKTsKICB9CgogIGZ1bmN0aW9uIGdldFR5cGUodmFsdWUpIHsKICAgIC8vIElFOCBkb2Vzbid0IHJldHVybiBbT2JqZWN0IFVuZGVmaW5lZF0gYnV0IFtPYmplY3QgT2JqZWN0XSBmb3IgdW5kZWZpbmVkIHZhbHVlCiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gJ1VuZGVmaW5lZCc7CiAgICB9CgogICAgcmV0dXJuIFN0cmluZyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpKS5zbGljZSg4LCAtMSk7CiAgfQoKICBmdW5jdGlvbiBpc0FycmF5KG9iaikgewogICAgcmV0dXJuIGdldFR5cGUob2JqKSA9PT0gJ0FycmF5JzsKICB9CgogIGZ1bmN0aW9uIGZpbHRlckFycmF5VmFsdWVzKGRhdGEsIHZhbHVlKSB7CiAgICB2YXIgbG9va3VwID0ge307CiAgICB2YXIgaSwgbGVuZ3RoOwoKICAgIGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgbG9va3VwID0gbnVsbDsKICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBsb29rdXBbdmFsdWVbaV1dID0gdHJ1ZTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgbG9va3VwW3ZhbHVlXSA9IHRydWU7CiAgICB9CgogICAgZm9yIChpID0gMCwgbGVuZ3RoID0gZGF0YS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAvKmpzaGludCBsYXhicmVhazogdHJ1ZSAqLwogICAgICB2YXIgX21hdGNoID0gbG9va3VwICYmIGxvb2t1cFtkYXRhW2ldXSAhPT0gdW5kZWZpbmVkIHx8ICFsb29rdXAgJiYgdmFsdWUudGVzdChkYXRhW2ldKTsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IGZhbHNlICovCiAgICAgIGlmIChfbWF0Y2gpIHsKICAgICAgICBkYXRhLnNwbGljZShpLCAxKTsKICAgICAgICBsZW5ndGgtLTsKICAgICAgICBpLS07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZGF0YTsKICB9CgogIGZ1bmN0aW9uIGFycmF5Q29udGFpbnMobGlzdCwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGg7CgogICAgLy8gdmFsdWUgbWF5IGJlIHN0cmluZywgbnVtYmVyLCBhcnJheSwgcmVnZXhwCiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgLy8gTm90ZTogdGhpcyBjYW4gYmUgb3B0aW1pemVkIHRvIE8obikgKGluc3RlYWQgb2YgY3VycmVudCBPKG0gKiBuKSkKICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoIWFycmF5Q29udGFpbnMobGlzdCwgdmFsdWVbaV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICB2YXIgX3R5cGUgPSBnZXRUeXBlKHZhbHVlKTsKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKF90eXBlID09PSAnUmVnRXhwJykgewogICAgICAgIGlmICh0eXBlb2YgbGlzdFtpXSA9PT0gJ3N0cmluZycgJiYgbGlzdFtpXS5tYXRjaCh2YWx1ZSkpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChsaXN0W2ldID09PSB2YWx1ZSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gYXJyYXlzRXF1YWwob25lLCB0d28pIHsKICAgIGlmICghaXNBcnJheShvbmUpIHx8ICFpc0FycmF5KHR3bykpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGFycmF5cyBjYW4ndCBiZSBlcXVhbCBpZiB0aGV5IGhhdmUgZGlmZmVyZW50IGFtb3VudCBvZiBjb250ZW50CiAgICBpZiAob25lLmxlbmd0aCAhPT0gdHdvLmxlbmd0aCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgb25lLnNvcnQoKTsKICAgIHR3by5zb3J0KCk7CgogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvbmUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIGlmIChvbmVbaV0gIT09IHR3b1tpXSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gdHJpbVNsYXNoZXModGV4dCkgewogICAgdmFyIHRyaW1fZXhwcmVzc2lvbiA9IC9eXC8rfFwvKyQvZzsKICAgIHJldHVybiB0ZXh0LnJlcGxhY2UodHJpbV9leHByZXNzaW9uLCAnJyk7CiAgfQoKICBVUkkuX3BhcnRzID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvdG9jb2w6IG51bGwsCiAgICAgIHVzZXJuYW1lOiBudWxsLAogICAgICBwYXNzd29yZDogbnVsbCwKICAgICAgaG9zdG5hbWU6IG51bGwsCiAgICAgIHVybjogbnVsbCwKICAgICAgcG9ydDogbnVsbCwKICAgICAgcGF0aDogbnVsbCwKICAgICAgcXVlcnk6IG51bGwsCiAgICAgIGZyYWdtZW50OiBudWxsLAogICAgICAvLyBzdGF0ZQogICAgICBkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnM6IFVSSS5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsCiAgICAgIGVzY2FwZVF1ZXJ5U3BhY2U6IFVSSS5lc2NhcGVRdWVyeVNwYWNlCiAgICB9OwogIH07CiAgLy8gc3RhdGU6IGFsbG93IGR1cGxpY2F0ZSBxdWVyeSBwYXJhbWV0ZXJzIChhPTEmYT0xKQogIFVSSS5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSBmYWxzZTsKICAvLyBzdGF0ZTogcmVwbGFjZXMgKyB3aXRoICUyMCAoc3BhY2UgaW4gcXVlcnkgc3RyaW5ncykKICBVUkkuZXNjYXBlUXVlcnlTcGFjZSA9IHRydWU7CiAgLy8gc3RhdGljIHByb3BlcnRpZXMKICBVUkkucHJvdG9jb2xfZXhwcmVzc2lvbiA9IC9eW2Etel1bYS16MC05ListXSokL2k7CiAgVVJJLmlkbl9leHByZXNzaW9uID0gL1teYS16MC05XC4tXS9pOwogIFVSSS5wdW55Y29kZV9leHByZXNzaW9uID0gLyh4bi0tKS9pOwogIC8vIHdlbGwsIDMzMy40NDQuNTU1LjY2NiBtYXRjaGVzLCBidXQgaXQgc3VyZSBhaW4ndCBubyBJUHY0IC0gZG8gd2UgY2FyZT8KICBVUkkuaXA0X2V4cHJlc3Npb24gPSAvXlxkezEsM31cLlxkezEsM31cLlxkezEsM31cLlxkezEsM30kLzsKICAvLyBjcmVkaXRzIHRvIFJpY2ggQnJvd24KICAvLyBzb3VyY2U6IGh0dHA6Ly9mb3J1bXMuaW50ZXJtYXBwZXIuY29tL3ZpZXd0b3BpYy5waHA/cD0xMDk2IzEwOTYKICAvLyBzcGVjaWZpY2F0aW9uOiBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmM0MjkxLnR4dAogIFVSSS5pcDZfZXhwcmVzc2lvbiA9IC9eXHMqKCgoWzAtOUEtRmEtZl17MSw0fTopezd9KFswLTlBLUZhLWZdezEsNH18OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezZ9KDpbMC05QS1GYS1mXXsxLDR9fCgoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwyfSl8OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NH0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwzfSl8KCg6WzAtOUEtRmEtZl17MSw0fSk/OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezN9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNH0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsMn06KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Mn0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw1fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwzfTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsxfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDZ9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDR9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCg6KCgoOlswLTlBLUZhLWZdezEsNH0pezEsN30pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNX06KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSkpKCUuKyk/XHMqJC87CiAgLy8gZXhwcmVzc2lvbiB1c2VkIGlzICJncnViZXIgcmV2aXNlZCIgKEBncnViZXIgdjIpIGRldGVybWluZWQgdG8gYmUgdGhlCiAgLy8gYmVzdCBzb2x1dGlvbiBpbiBhIHJlZ2V4LWdvbGYgd2UgZGlkIGEgY291cGxlIG9mIGFnZXMgYWdvIGF0CiAgLy8gKiBodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleAogIC8vICogaHR0cDovL3JvZG5leXJlaG0uZGUvdC91cmwtcmVnZXguaHRtbAogIFVSSS5maW5kX3VyaV9leHByZXNzaW9uID0gL1xiKCg/OlthLXpdW1x3LV0rOig/OlwvezEsM318W2EtejAtOSVdKXx3d3dcZHswLDN9Wy5dfFthLXowLTkuXC1dK1suXVthLXpdezIsNH1cLykoPzpbXlxzKCk8Pl0rfFwoKFteXHMoKTw+XSt8KFwoW15ccygpPD5dK1wpKSkqXCkpKyg/OlwoKFteXHMoKTw+XSt8KFwoW15ccygpPD5dK1wpKSkqXCl8W15cc2AhKClcW1xde307OiciLiw8Pj/Cq8K74oCc4oCd4oCY4oCZXSkpL2lnOwogIFVSSS5maW5kVXJpID0gewogICAgLy8gdmFsaWQgInNjaGVtZTovLyIgb3IgInd3dy4iCiAgICBzdGFydDogL1xiKD86KFthLXpdW2EtejAtOS4rLV0qOlwvXC8pfHd3d1wuKS9naSwKICAgIC8vIGV2ZXJ5dGhpbmcgdXAgdG8gdGhlIG5leHQgd2hpdGVzcGFjZQogICAgZW5kOiAvW1xzXHJcbl18JC8sCiAgICAvLyB0cmltIHRyYWlsaW5nIHB1bmN0dWF0aW9uIGNhcHR1cmVkIGJ5IGVuZCBSZWdFeHAKICAgIHRyaW06IC9bYCEoKVxbXF17fTs6JyIuLDw+P8KrwrvigJzigJ3igJ7igJjigJldKyQvCiAgfTsKICAvLyBodHRwOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL3VyaS1zY2hlbWVzLmh0bWwKICAvLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfVENQX2FuZF9VRFBfcG9ydF9udW1iZXJzI1dlbGwta25vd25fcG9ydHMKICBVUkkuZGVmYXVsdFBvcnRzID0gewogICAgaHR0cDogJzgwJywKICAgIGh0dHBzOiAnNDQzJywKICAgIGZ0cDogJzIxJywKICAgIGdvcGhlcjogJzcwJywKICAgIHdzOiAnODAnLAogICAgd3NzOiAnNDQzJwogIH07CiAgLy8gYWxsb3dlZCBob3N0bmFtZSBjaGFyYWN0ZXJzIGFjY29yZGluZyB0byBSRkMgMzk4NgogIC8vIEFMUEhBIERJR0lUICItIiAiLiIgIl8iICJ+IiAiISIgIiQiICImIiAiJyIgIigiICIpIiAiKiIgIisiICIsIiAiOyIgIj0iICVlbmNvZGVkCiAgLy8gSSd2ZSBuZXZlciBzZWVuIGEgKG5vbi1JRE4pIGhvc3RuYW1lIG90aGVyIHRoYW46IEFMUEhBIERJR0lUIC4gLQogIFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMgPSAvW15hLXpBLVowLTlcLi1dLzsKICAvLyBtYXAgRE9NIEVsZW1lbnRzIHRvIHRoZWlyIFVSSSBhdHRyaWJ1dGUKICBVUkkuZG9tQXR0cmlidXRlcyA9IHsKICAgICdhJzogJ2hyZWYnLAogICAgJ2Jsb2NrcXVvdGUnOiAnY2l0ZScsCiAgICAnbGluayc6ICdocmVmJywKICAgICdiYXNlJzogJ2hyZWYnLAogICAgJ3NjcmlwdCc6ICdzcmMnLAogICAgJ2Zvcm0nOiAnYWN0aW9uJywKICAgICdpbWcnOiAnc3JjJywKICAgICdhcmVhJzogJ2hyZWYnLAogICAgJ2lmcmFtZSc6ICdzcmMnLAogICAgJ2VtYmVkJzogJ3NyYycsCiAgICAnc291cmNlJzogJ3NyYycsCiAgICAndHJhY2snOiAnc3JjJywKICAgICdpbnB1dCc6ICdzcmMnLCAvLyBidXQgb25seSBpZiB0eXBlPSJpbWFnZSIKICAgICdhdWRpbyc6ICdzcmMnLAogICAgJ3ZpZGVvJzogJ3NyYycKICB9OwogIFVSSS5nZXREb21BdHRyaWJ1dGUgPSBmdW5jdGlvbiAobm9kZSkgewogICAgaWYgKCFub2RlIHx8ICFub2RlLm5vZGVOYW1lKSB7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CgogICAgdmFyIG5vZGVOYW1lID0gbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgLy8gPGlucHV0PiBzaG91bGQgb25seSBleHBvc2Ugc3JjIGZvciB0eXBlPSJpbWFnZSIKICAgIGlmIChub2RlTmFtZSA9PT0gJ2lucHV0JyAmJiBub2RlLnR5cGUgIT09ICdpbWFnZScpIHsKICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KCiAgICByZXR1cm4gVVJJLmRvbUF0dHJpYnV0ZXNbbm9kZU5hbWVdOwogIH07CgogIGZ1bmN0aW9uIGVzY2FwZUZvckR1bWJGaXJlZm94MzYodmFsdWUpIHsKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy85MQogICAgcmV0dXJuIGVzY2FwZSh2YWx1ZSk7CiAgfQoKICAvLyBlbmNvZGluZyAvIGRlY29kaW5nIGFjY29yZGluZyB0byBSRkMzOTg2CiAgZnVuY3Rpb24gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZykgewogICAgLy8gc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvZW5jb2RlVVJJQ29tcG9uZW50CiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZykucmVwbGFjZSgvWyEnKCkqXS9nLCBlc2NhcGVGb3JEdW1iRmlyZWZveDM2KS5yZXBsYWNlKC9cKi9nLCAnJTJBJyk7CiAgfQogIFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7CiAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICBVUkkuaXNvODg1OSA9IGZ1bmN0aW9uICgpIHsKICAgIFVSSS5lbmNvZGUgPSBlc2NhcGU7CiAgICBVUkkuZGVjb2RlID0gdW5lc2NhcGU7CiAgfTsKICBVUkkudW5pY29kZSA9IGZ1bmN0aW9uICgpIHsKICAgIFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7CiAgICBVUkkuZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50OwogIH07CiAgVVJJLmNoYXJhY3RlcnMgPSB7CiAgICBwYXRobmFtZTogewogICAgICBlbmNvZGU6IHsKICAgICAgICAvLyBSRkMzOTg2IDIuMTogRm9yIGNvbnNpc3RlbmN5LCBVUkkgcHJvZHVjZXJzIGFuZCBub3JtYWxpemVycyBzaG91bGQKICAgICAgICAvLyB1c2UgdXBwZXJjYXNlIGhleGFkZWNpbWFsIGRpZ2l0cyBmb3IgYWxsIHBlcmNlbnQtZW5jb2RpbmdzLgogICAgICAgIGV4cHJlc3Npb246IC8lKDI0fDI2fDJCfDJDfDNCfDNEfDNBfDQwKS9pZywKICAgICAgICBtYXA6IHsKICAgICAgICAgIC8vIC0uX34hJygpKgogICAgICAgICAgJyUyNCc6ICckJywKICAgICAgICAgICclMjYnOiAnJicsCiAgICAgICAgICAnJTJCJzogJysnLAogICAgICAgICAgJyUyQyc6ICcsJywKICAgICAgICAgICclM0InOiAnOycsCiAgICAgICAgICAnJTNEJzogJz0nLAogICAgICAgICAgJyUzQSc6ICc6JywKICAgICAgICAgICclNDAnOiAnQCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlY29kZTogewogICAgICAgIGV4cHJlc3Npb246IC9bXC9cPyNdL2csCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAnLyc6ICclMkYnLAogICAgICAgICAgJz8nOiAnJTNGJywKICAgICAgICAgICcjJzogJyUyMycKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICByZXNlcnZlZDogewogICAgICBlbmNvZGU6IHsKICAgICAgICAvLyBSRkMzOTg2IDIuMTogRm9yIGNvbnNpc3RlbmN5LCBVUkkgcHJvZHVjZXJzIGFuZCBub3JtYWxpemVycyBzaG91bGQKICAgICAgICAvLyB1c2UgdXBwZXJjYXNlIGhleGFkZWNpbWFsIGRpZ2l0cyBmb3IgYWxsIHBlcmNlbnQtZW5jb2RpbmdzLgogICAgICAgIGV4cHJlc3Npb246IC8lKDIxfDIzfDI0fDI2fDI3fDI4fDI5fDJBfDJCfDJDfDJGfDNBfDNCfDNEfDNGfDQwfDVCfDVEKS9pZywKICAgICAgICBtYXA6IHsKICAgICAgICAgIC8vIGdlbi1kZWxpbXMKICAgICAgICAgICclM0EnOiAnOicsCiAgICAgICAgICAnJTJGJzogJy8nLAogICAgICAgICAgJyUzRic6ICc/JywKICAgICAgICAgICclMjMnOiAnIycsCiAgICAgICAgICAnJTVCJzogJ1snLAogICAgICAgICAgJyU1RCc6ICddJywKICAgICAgICAgICclNDAnOiAnQCcsCiAgICAgICAgICAvLyBzdWItZGVsaW1zCiAgICAgICAgICAnJTIxJzogJyEnLAogICAgICAgICAgJyUyNCc6ICckJywKICAgICAgICAgICclMjYnOiAnJicsCiAgICAgICAgICAnJTI3JzogJ1wnJywKICAgICAgICAgICclMjgnOiAnKCcsCiAgICAgICAgICAnJTI5JzogJyknLAogICAgICAgICAgJyUyQSc6ICcqJywKICAgICAgICAgICclMkInOiAnKycsCiAgICAgICAgICAnJTJDJzogJywnLAogICAgICAgICAgJyUzQic6ICc7JywKICAgICAgICAgICclM0QnOiAnPScKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB1cm5wYXRoOiB7CiAgICAgIC8vIFRoZSBjaGFyYWN0ZXJzIHVuZGVyIGBlbmNvZGVgIGFyZSB0aGUgY2hhcmFjdGVycyBjYWxsZWQgb3V0IGJ5IFJGQyAyMTQxIGFzIGJlaW5nIGFjY2VwdGFibGUKICAgICAgLy8gZm9yIHVzYWdlIGluIGEgVVJOLiBSRkMyMTQxIGFsc28gY2FsbHMgb3V0ICItIiwgIi4iLCBhbmQgIl8iIGFzIGFjY2VwdGFibGUgY2hhcmFjdGVycywgYnV0CiAgICAgIC8vIHRoZXNlIGFyZW4ndCBlbmNvZGVkIGJ5IGVuY29kZVVSSUNvbXBvbmVudCwgc28gd2UgZG9uJ3QgaGF2ZSB0byBjYWxsIHRoZW0gb3V0IGhlcmUuIEFsc28KICAgICAgLy8gbm90ZSB0aGF0IHRoZSBjb2xvbiBjaGFyYWN0ZXIgaXMgbm90IGZlYXR1cmVkIGluIHRoZSBlbmNvZGluZyBtYXA7IHRoaXMgaXMgYmVjYXVzZSBVUkkuanMKICAgICAgLy8gZ2l2ZXMgdGhlIGNvbG9ucyBpbiBVUk5zIHNlbWFudGljIG1lYW5pbmcgYXMgdGhlIGRlbGltaXRlcnMgb2YgcGF0aCBzZWdlbWVudHMsIGFuZCBzbyBpdAogICAgICAvLyBzaG91bGQgbm90IGFwcGVhciB1bmVuY29kZWQgaW4gYSBzZWdtZW50IGl0c2VsZi4KICAgICAgLy8gU2VlIGFsc28gdGhlIG5vdGUgYWJvdmUgYWJvdXQgUkZDMzk4NiBhbmQgY2FwaXRhbGFsaXplZCBoZXggZGlnaXRzLgogICAgICBlbmNvZGU6IHsKICAgICAgICBleHByZXNzaW9uOiAvJSgyMXwyNHwyN3wyOHwyOXwyQXwyQnwyQ3wzQnwzRHw0MCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAnJTIxJzogJyEnLAogICAgICAgICAgJyUyNCc6ICckJywKICAgICAgICAgICclMjcnOiAnXCcnLAogICAgICAgICAgJyUyOCc6ICcoJywKICAgICAgICAgICclMjknOiAnKScsCiAgICAgICAgICAnJTJBJzogJyonLAogICAgICAgICAgJyUyQic6ICcrJywKICAgICAgICAgICclMkMnOiAnLCcsCiAgICAgICAgICAnJTNCJzogJzsnLAogICAgICAgICAgJyUzRCc6ICc9JywKICAgICAgICAgICclNDAnOiAnQCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIFRoZXNlIGNoYXJhY3RlcnMgYXJlIHRoZSBjaGFyYWN0ZXJzIGNhbGxlZCBvdXQgYnkgUkZDMjE0MSBhcyAicmVzZXJ2ZWQiIGNoYXJhY3RlcnMgdGhhdAogICAgICAvLyBzaG91bGQgbmV2ZXIgYXBwZWFyIGluIGEgVVJOLCBwbHVzIHRoZSBjb2xvbiBjaGFyYWN0ZXIgKHNlZSBub3RlIGFib3ZlKS4KICAgICAgZGVjb2RlOiB7CiAgICAgICAgZXhwcmVzc2lvbjogL1tcL1w/IzpdL2csCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAnLyc6ICclMkYnLAogICAgICAgICAgJz8nOiAnJTNGJywKICAgICAgICAgICcjJzogJyUyMycsCiAgICAgICAgICAnOic6ICclM0EnCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKICBVUkkuZW5jb2RlUXVlcnkgPSBmdW5jdGlvbiAoc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICB2YXIgZXNjYXBlZCA9IFVSSS5lbmNvZGUoc3RyaW5nICsgJycpOwogICAgaWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkgewogICAgICBlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7CiAgICB9CgogICAgcmV0dXJuIGVzY2FwZVF1ZXJ5U3BhY2UgPyBlc2NhcGVkLnJlcGxhY2UoLyUyMC9nLCAnKycpIDogZXNjYXBlZDsKICB9OwogIFVSSS5kZWNvZGVRdWVyeSA9IGZ1bmN0aW9uIChzdHJpbmcsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIHN0cmluZyArPSAnJzsKICAgIGlmIChlc2NhcGVRdWVyeVNwYWNlID09PSB1bmRlZmluZWQpIHsKICAgICAgZXNjYXBlUXVlcnlTcGFjZSA9IFVSSS5lc2NhcGVRdWVyeVNwYWNlOwogICAgfQoKICAgIHRyeSB7CiAgICAgIHJldHVybiBVUkkuZGVjb2RlKGVzY2FwZVF1ZXJ5U3BhY2UgPyBzdHJpbmcucmVwbGFjZSgvXCsvZywgJyUyMCcpIDogc3RyaW5nKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgLy8gd2UncmUgbm90IGdvaW5nIHRvIG1lc3Mgd2l0aCB3ZWlyZCBlbmNvZGluZ3MsCiAgICAgIC8vIGdpdmUgdXAgYW5kIHJldHVybiB0aGUgdW5kZWNvZGVkIG9yaWdpbmFsIHN0cmluZwogICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzg3CiAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTIKICAgICAgcmV0dXJuIHN0cmluZzsKICAgIH0KICB9OwogIC8vIGdlbmVyYXRlIGVuY29kZS9kZWNvZGUgcGF0aCBmdW5jdGlvbnMKICB2YXIgX3BhcnRzID0geyAnZW5jb2RlJzogJ2VuY29kZScsICdkZWNvZGUnOiAnZGVjb2RlJyB9OwogIHZhciBfcGFydDsKICB2YXIgZ2VuZXJhdGVBY2Nlc3NvciA9IGZ1bmN0aW9uIGdlbmVyYXRlQWNjZXNzb3IoX2dyb3VwLCBfcGFydCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gVVJJW19wYXJ0XShzdHJpbmcgKyAnJykucmVwbGFjZShVUkkuY2hhcmFjdGVyc1tfZ3JvdXBdW19wYXJ0XS5leHByZXNzaW9uLCBmdW5jdGlvbiAoYykgewogICAgICAgICAgcmV0dXJuIFVSSS5jaGFyYWN0ZXJzW19ncm91cF1bX3BhcnRdLm1hcFtjXTsKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIC8vIHdlJ3JlIG5vdCBnb2luZyB0byBtZXNzIHdpdGggd2VpcmQgZW5jb2RpbmdzLAogICAgICAgIC8vIGdpdmUgdXAgYW5kIHJldHVybiB0aGUgdW5kZWNvZGVkIG9yaWdpbmFsIHN0cmluZwogICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvODcKICAgICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkyCiAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgfQogICAgfTsKICB9OwoKICBmb3IgKF9wYXJ0IGluIF9wYXJ0cykgewogICAgVVJJW19wYXJ0ICsgJ1BhdGhTZWdtZW50J10gPSBnZW5lcmF0ZUFjY2Vzc29yKCdwYXRobmFtZScsIF9wYXJ0c1tfcGFydF0pOwogICAgVVJJW19wYXJ0ICsgJ1VyblBhdGhTZWdtZW50J10gPSBnZW5lcmF0ZUFjY2Vzc29yKCd1cm5wYXRoJywgX3BhcnRzW19wYXJ0XSk7CiAgfQoKICB2YXIgZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24gPSBmdW5jdGlvbiBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbihfc2VwLCBfY29kaW5nRnVuY05hbWUsIF9pbm5lckNvZGluZ0Z1bmNOYW1lKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHN0cmluZykgewogICAgICAvLyBXaHkgcGFzcyBpbiBuYW1lcyBvZiBmdW5jdGlvbnMsIHJhdGhlciB0aGFuIHRoZSBmdW5jdGlvbiBvYmplY3RzIHRoZW1zZWx2ZXM/IFRoZQogICAgICAvLyBkZWZpbml0aW9ucyBvZiBzb21lIGZ1bmN0aW9ucyAoYnV0IGluIHBhcnRpY3VsYXIsIFVSSS5kZWNvZGUpIHdpbGwgb2NjYXNpb25hbGx5IGNoYW5nZSBkdWUKICAgICAgLy8gdG8gVVJJLmpzIGhhdmluZyBJU084ODU5IGFuZCBVbmljb2RlIG1vZGVzLiBQYXNzaW5nIGluIHRoZSBuYW1lIGFuZCBnZXR0aW5nIGl0IHdpbGwgZW5zdXJlCiAgICAgIC8vIHRoYXQgdGhlIGZ1bmN0aW9ucyB3ZSB1c2UgaGVyZSBhcmUgImZyZXNoIi4KICAgICAgdmFyIGFjdHVhbENvZGluZ0Z1bmM7CiAgICAgIGlmICghX2lubmVyQ29kaW5nRnVuY05hbWUpIHsKICAgICAgICBhY3R1YWxDb2RpbmdGdW5jID0gVVJJW19jb2RpbmdGdW5jTmFtZV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWN0dWFsQ29kaW5nRnVuYyA9IGZ1bmN0aW9uIGFjdHVhbENvZGluZ0Z1bmMoc3RyaW5nKSB7CiAgICAgICAgICByZXR1cm4gVVJJW19jb2RpbmdGdW5jTmFtZV0oVVJJW19pbm5lckNvZGluZ0Z1bmNOYW1lXShzdHJpbmcpKTsKICAgICAgICB9OwogICAgICB9CgogICAgICB2YXIgc2VnbWVudHMgPSAoc3RyaW5nICsgJycpLnNwbGl0KF9zZXApOwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgc2VnbWVudHNbaV0gPSBhY3R1YWxDb2RpbmdGdW5jKHNlZ21lbnRzW2ldKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNlZ21lbnRzLmpvaW4oX3NlcCk7CiAgICB9OwogIH07CgogIC8vIFRoaXMgdGFrZXMgcGxhY2Ugb3V0c2lkZSB0aGUgYWJvdmUgbG9vcCBiZWNhdXNlIHdlIGRvbid0IHdhbnQsIGUuZy4sIGVuY29kZVVyblBhdGggZnVuY3Rpb25zLgogIFVSSS5kZWNvZGVQYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJy8nLCAnZGVjb2RlUGF0aFNlZ21lbnQnKTsKICBVUkkuZGVjb2RlVXJuUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCc6JywgJ2RlY29kZVVyblBhdGhTZWdtZW50Jyk7CiAgVVJJLnJlY29kZVBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignLycsICdlbmNvZGVQYXRoU2VnbWVudCcsICdkZWNvZGUnKTsKICBVUkkucmVjb2RlVXJuUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCc6JywgJ2VuY29kZVVyblBhdGhTZWdtZW50JywgJ2RlY29kZScpOwoKICBVUkkuZW5jb2RlUmVzZXJ2ZWQgPSBnZW5lcmF0ZUFjY2Vzc29yKCdyZXNlcnZlZCcsICdlbmNvZGUnKTsKCiAgVVJJLnBhcnNlID0gZnVuY3Rpb24gKHN0cmluZywgcGFydHMpIHsKICAgIHZhciBwb3M7CiAgICBpZiAoIXBhcnRzKSB7CiAgICAgIHBhcnRzID0ge307CiAgICB9CiAgICAvLyBbcHJvdG9jb2wiOi8vIlt1c2VybmFtZVsiOiJwYXNzd29yZF0iQCJdaG9zdG5hbWVbIjoicG9ydF0iLyI/XVtwYXRoXVsiPyJxdWVyeXN0cmluZ11bIiMiZnJhZ21lbnRdCgogICAgLy8gZXh0cmFjdCBmcmFnbWVudAogICAgcG9zID0gc3RyaW5nLmluZGV4T2YoJyMnKTsKICAgIGlmIChwb3MgPiAtMSkgewogICAgICAvLyBlc2NhcGluZz8KICAgICAgcGFydHMuZnJhZ21lbnQgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpIHx8IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKTsKICAgIH0KCiAgICAvLyBleHRyYWN0IHF1ZXJ5CiAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZignPycpOwogICAgaWYgKHBvcyA+IC0xKSB7CiAgICAgIC8vIGVzY2FwaW5nPwogICAgICBwYXJ0cy5xdWVyeSA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSkgfHwgbnVsbDsKICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpOwogICAgfQoKICAgIC8vIGV4dHJhY3QgcHJvdG9jb2wKICAgIGlmIChzdHJpbmcuc3Vic3RyaW5nKDAsIDIpID09PSAnLy8nKSB7CiAgICAgIC8vIHJlbGF0aXZlLXNjaGVtZQogICAgICBwYXJ0cy5wcm90b2NvbCA9IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMik7CiAgICAgIC8vIGV4dHJhY3QgInVzZXI6cGFzc0Bob3N0OnBvcnQiCiAgICAgIHN0cmluZyA9IFVSSS5wYXJzZUF1dGhvcml0eShzdHJpbmcsIHBhcnRzKTsKICAgIH0gZWxzZSB7CiAgICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKCc6Jyk7CiAgICAgIGlmIChwb3MgPiAtMSkgewogICAgICAgIHBhcnRzLnByb3RvY29sID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpIHx8IG51bGw7CiAgICAgICAgaWYgKHBhcnRzLnByb3RvY29sICYmICFwYXJ0cy5wcm90b2NvbC5tYXRjaChVUkkucHJvdG9jb2xfZXhwcmVzc2lvbikpIHsKICAgICAgICAgIC8vIDogbWF5IGJlIHdpdGhpbiB0aGUgcGF0aAogICAgICAgICAgcGFydHMucHJvdG9jb2wgPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmIChzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEsIHBvcyArIDMpID09PSAnLy8nKSB7CiAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDMpOwoKICAgICAgICAgIC8vIGV4dHJhY3QgInVzZXI6cGFzc0Bob3N0OnBvcnQiCiAgICAgICAgICBzdHJpbmcgPSBVUkkucGFyc2VBdXRob3JpdHkoc3RyaW5nLCBwYXJ0cyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSk7CiAgICAgICAgICBwYXJ0cy51cm4gPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIHdoYXQncyBsZWZ0IG11c3QgYmUgdGhlIHBhdGgKICAgIHBhcnRzLnBhdGggPSBzdHJpbmc7CgogICAgLy8gYW5kIHdlJ3JlIGRvbmUKICAgIHJldHVybiBwYXJ0czsKICB9OwogIFVSSS5wYXJzZUhvc3QgPSBmdW5jdGlvbiAoc3RyaW5nLCBwYXJ0cykgewogICAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuCiAgICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXMKICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2Jsb2IvMzg2ZmQyNGY0OWIwZTlkMWE4YTA3NjU5MmE0MDQxNjhmYWVlY2MzNC9saWIvdXJsLmpzI0wxMTUtTDEyNAogICAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTYKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL3B1bGwvMjMzCiAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXFwvZywgJy8nKTsKCiAgICAvLyBleHRyYWN0IGhvc3Q6cG9ydAogICAgdmFyIHBvcyA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICB2YXIgYnJhY2tldFBvczsKICAgIHZhciB0OwoKICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgIHBvcyA9IHN0cmluZy5sZW5ndGg7CiAgICB9CgogICAgaWYgKHN0cmluZy5jaGFyQXQoMCkgPT09ICdbJykgewogICAgICAvLyBJUHY2IGhvc3QgLSBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLTZtYW4tdGV4dC1hZGRyLXJlcHJlc2VudGF0aW9uLTA0I3NlY3Rpb24tNgogICAgICAvLyBJIGNsYWltIG1vc3QgY2xpZW50IHNvZnR3YXJlIGJyZWFrcyBvbiBJUHY2IGFueXdheXMuIFRvIHNpbXBsaWZ5IHRoaW5ncywgVVJJIG9ubHkgYWNjZXB0cwogICAgICAvLyBJUHY2K3BvcnQgaW4gdGhlIGZvcm1hdCBbMjAwMTpkYjg6OjFdOjgwIChmb3IgdGhlIHRpbWUgYmVpbmcpCiAgICAgIGJyYWNrZXRQb3MgPSBzdHJpbmcuaW5kZXhPZignXScpOwogICAgICBwYXJ0cy5ob3N0bmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMSwgYnJhY2tldFBvcykgfHwgbnVsbDsKICAgICAgcGFydHMucG9ydCA9IHN0cmluZy5zdWJzdHJpbmcoYnJhY2tldFBvcyArIDIsIHBvcykgfHwgbnVsbDsKICAgICAgaWYgKHBhcnRzLnBvcnQgPT09ICcvJykgewogICAgICAgIHBhcnRzLnBvcnQgPSBudWxsOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIgZmlyc3RDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6Jyk7CiAgICAgIHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTsKICAgICAgdmFyIG5leHRDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6JywgZmlyc3RDb2xvbiArIDEpOwogICAgICBpZiAobmV4dENvbG9uICE9PSAtMSAmJiAoZmlyc3RTbGFzaCA9PT0gLTEgfHwgbmV4dENvbG9uIDwgZmlyc3RTbGFzaCkpIHsKICAgICAgICAvLyBJUHY2IGhvc3QgY29udGFpbnMgbXVsdGlwbGUgY29sb25zIC0gYnV0IG5vIHBvcnQKICAgICAgICAvLyB0aGlzIG5vdGF0aW9uIGlzIGFjdHVhbGx5IG5vdCBhbGxvd2VkIGJ5IFJGQyAzOTg2LCBidXQgd2UncmUgYSBsaWJlcmFsIHBhcnNlcgogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpIHx8IG51bGw7CiAgICAgICAgcGFydHMucG9ydCA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnOicpOwogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gdFswXSB8fCBudWxsOwogICAgICAgIHBhcnRzLnBvcnQgPSB0WzFdIHx8IG51bGw7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocGFydHMuaG9zdG5hbWUgJiYgc3RyaW5nLnN1YnN0cmluZyhwb3MpLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHBvcysrOwogICAgICBzdHJpbmcgPSAnLycgKyBzdHJpbmc7CiAgICB9CgogICAgcmV0dXJuIHN0cmluZy5zdWJzdHJpbmcocG9zKSB8fCAnLyc7CiAgfTsKICBVUkkucGFyc2VBdXRob3JpdHkgPSBmdW5jdGlvbiAoc3RyaW5nLCBwYXJ0cykgewogICAgc3RyaW5nID0gVVJJLnBhcnNlVXNlcmluZm8oc3RyaW5nLCBwYXJ0cyk7CiAgICByZXR1cm4gVVJJLnBhcnNlSG9zdChzdHJpbmcsIHBhcnRzKTsKICB9OwogIFVSSS5wYXJzZVVzZXJpbmZvID0gZnVuY3Rpb24gKHN0cmluZywgcGFydHMpIHsKICAgIC8vIGV4dHJhY3QgdXNlcm5hbWU6cGFzc3dvcmQKICAgIHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTsKICAgIHZhciBwb3MgPSBzdHJpbmcubGFzdEluZGV4T2YoJ0AnLCBmaXJzdFNsYXNoID4gLTEgPyBmaXJzdFNsYXNoIDogc3RyaW5nLmxlbmd0aCAtIDEpOwogICAgdmFyIHQ7CgogICAgLy8gYXV0aG9yaXR5QCBtdXN0IGNvbWUgYmVmb3JlIC9wYXRoCiAgICBpZiAocG9zID4gLTEgJiYgKGZpcnN0U2xhc2ggPT09IC0xIHx8IHBvcyA8IGZpcnN0U2xhc2gpKSB7CiAgICAgIHQgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJzonKTsKICAgICAgcGFydHMudXNlcm5hbWUgPSB0WzBdID8gVVJJLmRlY29kZSh0WzBdKSA6IG51bGw7CiAgICAgIHQuc2hpZnQoKTsKICAgICAgcGFydHMucGFzc3dvcmQgPSB0WzBdID8gVVJJLmRlY29kZSh0LmpvaW4oJzonKSkgOiBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpOwogICAgfSBlbHNlIHsKICAgICAgcGFydHMudXNlcm5hbWUgPSBudWxsOwogICAgICBwYXJ0cy5wYXNzd29yZCA9IG51bGw7CiAgICB9CgogICAgcmV0dXJuIHN0cmluZzsKICB9OwogIFVSSS5wYXJzZVF1ZXJ5ID0gZnVuY3Rpb24gKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgaWYgKCFzdHJpbmcpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfQoKICAgIC8vIHRocm93IG91dCB0aGUgZnVua3kgYnVzaW5lc3MgLSAiPyJbbmFtZSI9InZhbHVlIiYiXSsKICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC8mKy9nLCAnJicpLnJlcGxhY2UoL15cPyomKnwmKyQvZywgJycpOwoKICAgIGlmICghc3RyaW5nKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KCiAgICB2YXIgaXRlbXMgPSB7fTsKICAgIHZhciBzcGxpdHMgPSBzdHJpbmcuc3BsaXQoJyYnKTsKICAgIHZhciBsZW5ndGggPSBzcGxpdHMubGVuZ3RoOwogICAgdmFyIHYsIG5hbWUsIHZhbHVlOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgdiA9IHNwbGl0c1tpXS5zcGxpdCgnPScpOwogICAgICBuYW1lID0gVVJJLmRlY29kZVF1ZXJ5KHYuc2hpZnQoKSwgZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIC8vIG5vICI9IiBpcyBudWxsIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnMKICAgICAgdmFsdWUgPSB2Lmxlbmd0aCA/IFVSSS5kZWNvZGVRdWVyeSh2LmpvaW4oJz0nKSwgZXNjYXBlUXVlcnlTcGFjZSkgOiBudWxsOwoKICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZW1zLCBuYW1lKSkgewogICAgICAgIGlmICh0eXBlb2YgaXRlbXNbbmFtZV0gPT09ICdzdHJpbmcnIHx8IGl0ZW1zW25hbWVdID09PSBudWxsKSB7CiAgICAgICAgICBpdGVtc1tuYW1lXSA9IFtpdGVtc1tuYW1lXV07CiAgICAgICAgfQoKICAgICAgICBpdGVtc1tuYW1lXS5wdXNoKHZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpdGVtc1tuYW1lXSA9IHZhbHVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGl0ZW1zOwogIH07CgogIFVSSS5idWlsZCA9IGZ1bmN0aW9uIChwYXJ0cykgewogICAgdmFyIHQgPSAnJzsKCiAgICBpZiAocGFydHMucHJvdG9jb2wpIHsKICAgICAgdCArPSBwYXJ0cy5wcm90b2NvbCArICc6JzsKICAgIH0KCiAgICBpZiAoIXBhcnRzLnVybiAmJiAodCB8fCBwYXJ0cy5ob3N0bmFtZSkpIHsKICAgICAgdCArPSAnLy8nOwogICAgfQoKICAgIHQgKz0gVVJJLmJ1aWxkQXV0aG9yaXR5KHBhcnRzKSB8fCAnJzsKCiAgICBpZiAodHlwZW9mIHBhcnRzLnBhdGggPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmIChwYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nICYmIHR5cGVvZiBwYXJ0cy5ob3N0bmFtZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICB0ICs9ICcvJzsKICAgICAgfQoKICAgICAgdCArPSBwYXJ0cy5wYXRoOwogICAgfQoKICAgIGlmICh0eXBlb2YgcGFydHMucXVlcnkgPT09ICdzdHJpbmcnICYmIHBhcnRzLnF1ZXJ5KSB7CiAgICAgIHQgKz0gJz8nICsgcGFydHMucXVlcnk7CiAgICB9CgogICAgaWYgKHR5cGVvZiBwYXJ0cy5mcmFnbWVudCA9PT0gJ3N0cmluZycgJiYgcGFydHMuZnJhZ21lbnQpIHsKICAgICAgdCArPSAnIycgKyBwYXJ0cy5mcmFnbWVudDsKICAgIH0KICAgIHJldHVybiB0OwogIH07CiAgVVJJLmJ1aWxkSG9zdCA9IGZ1bmN0aW9uIChwYXJ0cykgewogICAgdmFyIHQgPSAnJzsKCiAgICBpZiAoIXBhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJldHVybiAnJzsKICAgIH0gZWxzZSBpZiAoVVJJLmlwNl9leHByZXNzaW9uLnRlc3QocGFydHMuaG9zdG5hbWUpKSB7CiAgICAgIHQgKz0gJ1snICsgcGFydHMuaG9zdG5hbWUgKyAnXSc7CiAgICB9IGVsc2UgewogICAgICB0ICs9IHBhcnRzLmhvc3RuYW1lOwogICAgfQoKICAgIGlmIChwYXJ0cy5wb3J0KSB7CiAgICAgIHQgKz0gJzonICsgcGFydHMucG9ydDsKICAgIH0KCiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZEF1dGhvcml0eSA9IGZ1bmN0aW9uIChwYXJ0cykgewogICAgcmV0dXJuIFVSSS5idWlsZFVzZXJpbmZvKHBhcnRzKSArIFVSSS5idWlsZEhvc3QocGFydHMpOwogIH07CiAgVVJJLmJ1aWxkVXNlcmluZm8gPSBmdW5jdGlvbiAocGFydHMpIHsKICAgIHZhciB0ID0gJyc7CgogICAgaWYgKHBhcnRzLnVzZXJuYW1lKSB7CiAgICAgIHQgKz0gVVJJLmVuY29kZShwYXJ0cy51c2VybmFtZSk7CiAgICB9CgogICAgaWYgKHBhcnRzLnBhc3N3b3JkKSB7CiAgICAgIHQgKz0gJzonICsgVVJJLmVuY29kZShwYXJ0cy5wYXNzd29yZCk7CiAgICB9CgogICAgaWYgKHQpIHsKICAgICAgdCArPSAnQCc7CiAgICB9CgogICAgcmV0dXJuIHQ7CiAgfTsKICBVUkkuYnVpbGRRdWVyeSA9IGZ1bmN0aW9uIChkYXRhLCBkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIC8vIGFjY29yZGluZyB0byBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2IG9yIGh0dHA6Ly9sYWJzLmFwYWNoZS5vcmcvd2ViYXJjaC91cmkvcmZjL3JmYzM5ODYuaHRtbAogICAgLy8gYmVpbmcgwrstLl9+ISQmJygpKissOz06QC8/wqsgJUhFWCBhbmQgYWxudW0gYXJlIGFsbG93ZWQKICAgIC8vIHRoZSBSRkMgZXhwbGljaXRseSBzdGF0ZXMgPy9mb28gYmVpbmcgYSB2YWxpZCB1c2UgY2FzZSwgbm8gbWVudGlvbiBvZiBwYXJhbWV0ZXIgc3ludGF4IQogICAgLy8gVVJJLmpzIHRyZWF0cyB0aGUgcXVlcnkgc3RyaW5nIGFzIGJlaW5nIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZAogICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZQoKICAgIHZhciB0ID0gJyc7CiAgICB2YXIgdW5pcXVlLCBrZXksIGksIGxlbmd0aDsKICAgIGZvciAoa2V5IGluIGRhdGEpIHsKICAgICAgaWYgKGhhc093bi5jYWxsKGRhdGEsIGtleSkgJiYga2V5KSB7CiAgICAgICAgaWYgKGlzQXJyYXkoZGF0YVtrZXldKSkgewogICAgICAgICAgdW5pcXVlID0ge307CiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBkYXRhW2tleV0ubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGRhdGFba2V5XVtpXSAhPT0gdW5kZWZpbmVkICYmIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV1baV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgICAgICAgIGlmIChkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgIT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0LnN1YnN0cmluZygxKTsKICB9OwogIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMtaHRtbDQwL2ludGVyYWN0L2Zvcm1zLmh0bWwjZm9ybS1jb250ZW50LXR5cGUgLS0gYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkCiAgICAvLyBkb24ndCBhcHBlbmQgIj0iIGZvciBudWxsIHZhbHVlcywgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjdXJsLXBhcmFtZXRlci1zZXJpYWxpemF0aW9uCiAgICByZXR1cm4gVVJJLmVuY29kZVF1ZXJ5KG5hbWUsIGVzY2FwZVF1ZXJ5U3BhY2UpICsgKHZhbHVlICE9PSBudWxsID8gJz0nICsgVVJJLmVuY29kZVF1ZXJ5KHZhbHVlLCBlc2NhcGVRdWVyeVNwYWNlKSA6ICcnKTsKICB9OwoKICBVUkkuYWRkUXVlcnkgPSBmdW5jdGlvbiAoZGF0YSwgbmFtZSwgdmFsdWUpIHsKICAgIGlmICgodHlwZW9mIG5hbWUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG5hbWUpKSA9PT0gJ29iamVjdCcpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkgewogICAgICAgICAgVVJJLmFkZFF1ZXJ5KGRhdGEsIGtleSwgbmFtZVtrZXldKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmIChkYXRhW25hbWVdID09PSB1bmRlZmluZWQpIHsKICAgICAgICBkYXRhW25hbWVdID0gdmFsdWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhW25hbWVdID09PSAnc3RyaW5nJykgewogICAgICAgIGRhdGFbbmFtZV0gPSBbZGF0YVtuYW1lXV07CiAgICAgIH0KCiAgICAgIGlmICghaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgICB2YWx1ZSA9IFt2YWx1ZV07CiAgICAgIH0KCiAgICAgIGRhdGFbbmFtZV0gPSAoZGF0YVtuYW1lXSB8fCBbXSkuY29uY2F0KHZhbHVlKTsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5hZGRRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7CiAgICB9CiAgfTsKICBVUkkucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbiAoZGF0YSwgbmFtZSwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGgsIGtleTsKCiAgICBpZiAoaXNBcnJheShuYW1lKSkgewogICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBuYW1lLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgZGF0YVtuYW1lW2ldXSA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfSBlbHNlIGlmIChnZXRUeXBlKG5hbWUpID09PSAnUmVnRXhwJykgewogICAgICBmb3IgKGtleSBpbiBkYXRhKSB7CiAgICAgICAgaWYgKG5hbWUudGVzdChrZXkpKSB7CiAgICAgICAgICBkYXRhW2tleV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKCh0eXBlb2YgbmFtZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YobmFtZSkpID09PSAnb2JqZWN0JykgewogICAgICBmb3IgKGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIFVSSS5yZW1vdmVRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSAmJiB2YWx1ZS50ZXN0KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtuYW1lXSA9PT0gU3RyaW5nKHZhbHVlKSAmJiAoIWlzQXJyYXkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkpIHsKICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhW25hbWVdID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkucmVtb3ZlUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nLCBSZWdFeHAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlcicpOwogICAgfQogIH07CiAgVVJJLmhhc1F1ZXJ5ID0gZnVuY3Rpb24gKGRhdGEsIG5hbWUsIHZhbHVlLCB3aXRoaW5BcnJheSkgewogICAgc3dpdGNoIChnZXRUeXBlKG5hbWUpKSB7CiAgICAgIGNhc2UgJ1N0cmluZyc6CiAgICAgICAgLy8gTm90aGluZyB0byBkbyBoZXJlCiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdSZWdFeHAnOgogICAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7CiAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoZGF0YSwga2V5KSkgewogICAgICAgICAgICBpZiAobmFtZS50ZXN0KGtleSkgJiYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgVVJJLmhhc1F1ZXJ5KGRhdGEsIGtleSwgdmFsdWUpKSkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CgogICAgICBjYXNlICdPYmplY3QnOgogICAgICAgIGZvciAodmFyIF9rZXkgaW4gbmFtZSkgewogICAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIF9rZXkpKSB7CiAgICAgICAgICAgIGlmICghVVJJLmhhc1F1ZXJ5KGRhdGEsIF9rZXksIG5hbWVbX2tleV0pKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmhhc1F1ZXJ5KCkgYWNjZXB0cyBhIHN0cmluZywgcmVndWxhciBleHByZXNzaW9uIG9yIG9iamVjdCBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTsKICAgIH0KCiAgICBzd2l0Y2ggKGdldFR5cGUodmFsdWUpKSB7CiAgICAgIGNhc2UgJ1VuZGVmaW5lZCc6CiAgICAgICAgLy8gdHJ1ZSBpZiBleGlzdHMgKGJ1dCBtYXkgYmUgZW1wdHkpCiAgICAgICAgcmV0dXJuIG5hbWUgaW4gZGF0YTsgLy8gZGF0YVtuYW1lXSAhPT0gdW5kZWZpbmVkOwoKICAgICAgY2FzZSAnQm9vbGVhbic6CiAgICAgICAgLy8gdHJ1ZSBpZiBleGlzdHMgYW5kIG5vbi1lbXB0eQogICAgICAgIHZhciBfYm9vbHkgPSBCb29sZWFuKGlzQXJyYXkoZGF0YVtuYW1lXSkgPyBkYXRhW25hbWVdLmxlbmd0aCA6IGRhdGFbbmFtZV0pOwogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gX2Jvb2x5OwoKICAgICAgY2FzZSAnRnVuY3Rpb24nOgogICAgICAgIC8vIGFsbG93IGNvbXBsZXggY29tcGFyaXNvbgogICAgICAgIHJldHVybiAhIXZhbHVlKGRhdGFbbmFtZV0sIG5hbWUsIGRhdGEpOwoKICAgICAgY2FzZSAnQXJyYXknOgogICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgdmFyIG9wID0gd2l0aGluQXJyYXkgPyBhcnJheUNvbnRhaW5zIDogYXJyYXlzRXF1YWw7CiAgICAgICAgcmV0dXJuIG9wKGRhdGFbbmFtZV0sIHZhbHVlKTsKCiAgICAgIGNhc2UgJ1JlZ0V4cCc6CiAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICByZXR1cm4gQm9vbGVhbihkYXRhW25hbWVdICYmIGRhdGFbbmFtZV0ubWF0Y2godmFsdWUpKTsKICAgICAgICB9CgogICAgICAgIGlmICghd2l0aGluQXJyYXkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhcnJheUNvbnRhaW5zKGRhdGFbbmFtZV0sIHZhbHVlKTsKCiAgICAgIGNhc2UgJ051bWJlcic6CiAgICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpOwogICAgICAvKiBmYWxscyB0aHJvdWdoICovCiAgICAgIGNhc2UgJ1N0cmluZyc6CiAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICByZXR1cm4gZGF0YVtuYW1lXSA9PT0gdmFsdWU7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXdpdGhpbkFycmF5KSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYXJyYXlDb250YWlucyhkYXRhW25hbWVdLCB2YWx1ZSk7CgogICAgICBkZWZhdWx0OgogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5oYXNRdWVyeSgpIGFjY2VwdHMgdW5kZWZpbmVkLCBib29sZWFuLCBzdHJpbmcsIG51bWJlciwgUmVnRXhwLCBGdW5jdGlvbiBhcyB0aGUgdmFsdWUgcGFyYW1ldGVyJyk7CiAgICB9CiAgfTsKCiAgVVJJLmpvaW5QYXRocyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBpbnB1dCA9IFtdOwogICAgdmFyIHNlZ21lbnRzID0gW107CiAgICB2YXIgbm9uRW1wdHlTZWdtZW50cyA9IDA7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHVybCA9IG5ldyBVUkkoYXJndW1lbnRzW2ldKTsKICAgICAgaW5wdXQucHVzaCh1cmwpOwogICAgICB2YXIgX3NlZ21lbnRzID0gdXJsLnNlZ21lbnQoKTsKICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBfc2VnbWVudHMubGVuZ3RoOyBzKyspIHsKICAgICAgICBpZiAodHlwZW9mIF9zZWdtZW50c1tzXSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIHNlZ21lbnRzLnB1c2goX3NlZ21lbnRzW3NdKTsKICAgICAgICB9CgogICAgICAgIGlmIChfc2VnbWVudHNbc10pIHsKICAgICAgICAgIG5vbkVtcHR5U2VnbWVudHMrKzsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAoIXNlZ21lbnRzLmxlbmd0aCB8fCAhbm9uRW1wdHlTZWdtZW50cykgewogICAgICByZXR1cm4gbmV3IFVSSSgnJyk7CiAgICB9CgogICAgdmFyIHVyaSA9IG5ldyBVUkkoJycpLnNlZ21lbnQoc2VnbWVudHMpOwoKICAgIGlmIChpbnB1dFswXS5wYXRoKCkgPT09ICcnIHx8IGlucHV0WzBdLnBhdGgoKS5zbGljZSgwLCAxKSA9PT0gJy8nKSB7CiAgICAgIHVyaS5wYXRoKCcvJyArIHVyaS5wYXRoKCkpOwogICAgfQoKICAgIHJldHVybiB1cmkubm9ybWFsaXplKCk7CiAgfTsKCiAgVVJJLmNvbW1vblBhdGggPSBmdW5jdGlvbiAob25lLCB0d28pIHsKICAgIHZhciBsZW5ndGggPSBNYXRoLm1pbihvbmUubGVuZ3RoLCB0d28ubGVuZ3RoKTsKICAgIHZhciBwb3M7CgogICAgLy8gZmluZCBmaXJzdCBub24tbWF0Y2hpbmcgY2hhcmFjdGVyCiAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKG9uZS5jaGFyQXQocG9zKSAhPT0gdHdvLmNoYXJBdChwb3MpKSB7CiAgICAgICAgcG9zLS07CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocG9zIDwgMSkgewogICAgICByZXR1cm4gb25lLmNoYXJBdCgwKSA9PT0gdHdvLmNoYXJBdCgwKSAmJiBvbmUuY2hhckF0KDApID09PSAnLycgPyAnLycgOiAnJzsKICAgIH0KCiAgICAvLyByZXZlcnQgdG8gbGFzdCAvCiAgICBpZiAob25lLmNoYXJBdChwb3MpICE9PSAnLycgfHwgdHdvLmNoYXJBdChwb3MpICE9PSAnLycpIHsKICAgICAgcG9zID0gb25lLnN1YnN0cmluZygwLCBwb3MpLmxhc3RJbmRleE9mKCcvJyk7CiAgICB9CgogICAgcmV0dXJuIG9uZS5zdWJzdHJpbmcoMCwgcG9zICsgMSk7CiAgfTsKCiAgVVJJLndpdGhpblN0cmluZyA9IGZ1bmN0aW9uIChzdHJpbmcsIGNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pOwogICAgdmFyIF9zdGFydCA9IG9wdGlvbnMuc3RhcnQgfHwgVVJJLmZpbmRVcmkuc3RhcnQ7CiAgICB2YXIgX2VuZCA9IG9wdGlvbnMuZW5kIHx8IFVSSS5maW5kVXJpLmVuZDsKICAgIHZhciBfdHJpbSA9IG9wdGlvbnMudHJpbSB8fCBVUkkuZmluZFVyaS50cmltOwogICAgdmFyIF9hdHRyaWJ1dGVPcGVuID0gL1thLXowLTktXT1bIiddPyQvaTsKCiAgICBfc3RhcnQubGFzdEluZGV4ID0gMDsKICAgIHdoaWxlICh0cnVlKSB7CiAgICAgIHZhciBtYXRjaCA9IF9zdGFydC5leGVjKHN0cmluZyk7CiAgICAgIGlmICghbWF0Y2gpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgdmFyIHN0YXJ0ID0gbWF0Y2guaW5kZXg7CiAgICAgIGlmIChvcHRpb25zLmlnbm9yZUh0bWwpIHsKICAgICAgICAvLyBhdHRyaWJ1dChlPVsiJ10/JCkKICAgICAgICB2YXIgYXR0cmlidXRlT3BlbiA9IHN0cmluZy5zbGljZShNYXRoLm1heChzdGFydCAtIDMsIDApLCBzdGFydCk7CiAgICAgICAgaWYgKGF0dHJpYnV0ZU9wZW4gJiYgX2F0dHJpYnV0ZU9wZW4udGVzdChhdHRyaWJ1dGVPcGVuKSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgZW5kID0gc3RhcnQgKyBzdHJpbmcuc2xpY2Uoc3RhcnQpLnNlYXJjaChfZW5kKTsKICAgICAgdmFyIHNsaWNlID0gc3RyaW5nLnNsaWNlKHN0YXJ0LCBlbmQpLnJlcGxhY2UoX3RyaW0sICcnKTsKICAgICAgaWYgKG9wdGlvbnMuaWdub3JlICYmIG9wdGlvbnMuaWdub3JlLnRlc3Qoc2xpY2UpKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KCiAgICAgIGVuZCA9IHN0YXJ0ICsgc2xpY2UubGVuZ3RoOwogICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soc2xpY2UsIHN0YXJ0LCBlbmQsIHN0cmluZyk7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZSgwLCBzdGFydCkgKyByZXN1bHQgKyBzdHJpbmcuc2xpY2UoZW5kKTsKICAgICAgX3N0YXJ0Lmxhc3RJbmRleCA9IHN0YXJ0ICsgcmVzdWx0Lmxlbmd0aDsKICAgIH0KCiAgICBfc3RhcnQubGFzdEluZGV4ID0gMDsKICAgIHJldHVybiBzdHJpbmc7CiAgfTsKCiAgVVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUgPSBmdW5jdGlvbiAodikgewogICAgLy8gVGhlb3JldGljYWxseSBVUklzIGFsbG93IHBlcmNlbnQtZW5jb2RpbmcgaW4gSG9zdG5hbWVzIChhY2NvcmRpbmcgdG8gUkZDIDM5ODYpCiAgICAvLyB0aGV5IGFyZSBub3QgcGFydCBvZiBETlMgYW5kIHRoZXJlZm9yZSBpZ25vcmVkIGJ5IFVSSS5qcwoKICAgIGlmICh2Lm1hdGNoKFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMpKSB7CiAgICAgIC8vIHRlc3QgcHVueWNvZGUKICAgICAgaWYgKCFwdW55Y29kZSkgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dIGFuZCBQdW55Y29kZS5qcyBpcyBub3QgYXZhaWxhYmxlJyk7CiAgICAgIH0KCiAgICAgIGlmIChwdW55Y29kZS50b0FTQ0lJKHYpLm1hdGNoKFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMpKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQogICAgfQogIH07CgogIC8vIG5vQ29uZmxpY3QKICBVUkkubm9Db25mbGljdCA9IGZ1bmN0aW9uIChyZW1vdmVBbGwpIHsKICAgIGlmIChyZW1vdmVBbGwpIHsKICAgICAgdmFyIHVuY29uZmxpY3RlZCA9IHsKICAgICAgICBVUkk6IHRoaXMubm9Db25mbGljdCgpCiAgICAgIH07CgogICAgICBpZiAocm9vdC5VUklUZW1wbGF0ZSAmJiB0eXBlb2Ygcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLlVSSVRlbXBsYXRlID0gcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0KCk7CiAgICAgIH0KCiAgICAgIGlmIChyb290LklQdjYgJiYgdHlwZW9mIHJvb3QuSVB2Ni5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLklQdjYgPSByb290LklQdjYubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICBpZiAocm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgJiYgdHlwZW9mIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB1bmNvbmZsaWN0ZWQuU2Vjb25kTGV2ZWxEb21haW5zID0gcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICByZXR1cm4gdW5jb25mbGljdGVkOwogICAgfSBlbHNlIGlmIChyb290LlVSSSA9PT0gdGhpcykgewogICAgICByb290LlVSSSA9IF9VUkk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5idWlsZCA9IGZ1bmN0aW9uIChkZWZlckJ1aWxkKSB7CiAgICBpZiAoZGVmZXJCdWlsZCA9PT0gdHJ1ZSkgewogICAgICB0aGlzLl9kZWZlcnJlZF9idWlsZCA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRlZmVyQnVpbGQgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl9kZWZlcnJlZF9idWlsZCkgewogICAgICB0aGlzLl9zdHJpbmcgPSBVUkkuYnVpbGQodGhpcy5fcGFydHMpOwogICAgICB0aGlzLl9kZWZlcnJlZF9idWlsZCA9IGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CgogIHAuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbmV3IFVSSSh0aGlzKTsKICB9OwoKICBwLnZhbHVlT2YgPSBwLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuYnVpbGQoZmFsc2UpLl9zdHJpbmc7CiAgfTsKCiAgZnVuY3Rpb24gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcihfcGFydCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh2LCBidWlsZCkgewogICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9wYXJ0c1tfcGFydF0gPSB2IHx8IG51bGw7CiAgICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcihfcGFydCwgX2tleSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh2LCBidWlsZCkgewogICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodiAhPT0gbnVsbCkgewogICAgICAgICAgdiA9IHYgKyAnJzsKICAgICAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gX2tleSkgewogICAgICAgICAgICB2ID0gdi5zdWJzdHJpbmcoMSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9wYXJ0c1tfcGFydF0gPSB2OwogICAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQogICAgfTsKICB9CgogIHAucHJvdG9jb2wgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwcm90b2NvbCcpOwogIHAudXNlcm5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCd1c2VybmFtZScpOwogIHAucGFzc3dvcmQgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwYXNzd29yZCcpOwogIHAuaG9zdG5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdob3N0bmFtZScpOwogIHAucG9ydCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3BvcnQnKTsKICBwLnF1ZXJ5ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcigncXVlcnknLCAnPycpOwogIHAuZnJhZ21lbnQgPSBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKCdmcmFnbWVudCcsICcjJyk7CgogIHAuc2VhcmNoID0gZnVuY3Rpb24gKHYsIGJ1aWxkKSB7CiAgICB2YXIgdCA9IHRoaXMucXVlcnkodiwgYnVpbGQpOwogICAgcmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICc/JyArIHQgOiB0OwogIH07CiAgcC5oYXNoID0gZnVuY3Rpb24gKHYsIGJ1aWxkKSB7CiAgICB2YXIgdCA9IHRoaXMuZnJhZ21lbnQodiwgYnVpbGQpOwogICAgcmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICcjJyArIHQgOiB0OwogIH07CgogIHAucGF0aG5hbWUgPSBmdW5jdGlvbiAodiwgYnVpbGQpIHsKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICB2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aCB8fCAodGhpcy5fcGFydHMuaG9zdG5hbWUgPyAnLycgOiAnJyk7CiAgICAgIHJldHVybiB2ID8gKHRoaXMuX3BhcnRzLnVybiA/IFVSSS5kZWNvZGVVcm5QYXRoIDogVVJJLmRlY29kZVBhdGgpKHJlcykgOiByZXM7CiAgICB9IGVsc2UgewogICAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHYgPyBVUkkucmVjb2RlVXJuUGF0aCh2KSA6ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVBhdGgodikgOiAnLyc7CiAgICAgIH0KICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAucGF0aCA9IHAucGF0aG5hbWU7CiAgcC5ocmVmID0gZnVuY3Rpb24gKGhyZWYsIGJ1aWxkKSB7CiAgICB2YXIga2V5OwoKICAgIGlmIChocmVmID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsKICAgIH0KCiAgICB0aGlzLl9zdHJpbmcgPSAnJzsKICAgIHRoaXMuX3BhcnRzID0gVVJJLl9wYXJ0cygpOwoKICAgIHZhciBfVVJJID0gaHJlZiBpbnN0YW5jZW9mIFVSSTsKICAgIHZhciBfb2JqZWN0ID0gKHR5cGVvZiBocmVmID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihocmVmKSkgPT09ICdvYmplY3QnICYmIChocmVmLmhvc3RuYW1lIHx8IGhyZWYucGF0aCB8fCBocmVmLnBhdGhuYW1lKTsKICAgIGlmIChocmVmLm5vZGVOYW1lKSB7CiAgICAgIHZhciBhdHRyaWJ1dGUgPSBVUkkuZ2V0RG9tQXR0cmlidXRlKGhyZWYpOwogICAgICBocmVmID0gaHJlZlthdHRyaWJ1dGVdIHx8ICcnOwogICAgICBfb2JqZWN0ID0gZmFsc2U7CiAgICB9CgogICAgLy8gd2luZG93LmxvY2F0aW9uIGlzIHJlcG9ydGVkIHRvIGJlIGFuIG9iamVjdCwgYnV0IGl0J3Mgbm90IHRoZSBzb3J0CiAgICAvLyBvZiBvYmplY3Qgd2UncmUgbG9va2luZyBmb3I6CiAgICAvLyAqIGxvY2F0aW9uLnByb3RvY29sIGVuZHMgd2l0aCBhIGNvbG9uCiAgICAvLyAqIGxvY2F0aW9uLnF1ZXJ5ICE9IG9iamVjdC5zZWFyY2gKICAgIC8vICogbG9jYXRpb24uaGFzaCAhPSBvYmplY3QuZnJhZ21lbnQKICAgIC8vIHNpbXBseSBzZXJpYWxpemluZyB0aGUgdW5rbm93biBvYmplY3Qgc2hvdWxkIGRvIHRoZSB0cmljawogICAgLy8gKGZvciBsb2NhdGlvbiwgbm90IGZvciBldmVyeXRoaW5nLi4uKQogICAgaWYgKCFfVVJJICYmIF9vYmplY3QgJiYgaHJlZi5wYXRobmFtZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGhyZWYgPSBocmVmLnRvU3RyaW5nKCk7CiAgICB9CgogICAgaWYgKHR5cGVvZiBocmVmID09PSAnc3RyaW5nJyB8fCBocmVmIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIHRoaXMuX3BhcnRzID0gVVJJLnBhcnNlKFN0cmluZyhocmVmKSwgdGhpcy5fcGFydHMpOwogICAgfSBlbHNlIGlmIChfVVJJIHx8IF9vYmplY3QpIHsKICAgICAgdmFyIHNyYyA9IF9VUkkgPyBocmVmLl9wYXJ0cyA6IGhyZWY7CiAgICAgIGZvciAoa2V5IGluIHNyYykgewogICAgICAgIGlmIChoYXNPd24uY2FsbCh0aGlzLl9wYXJ0cywga2V5KSkgewogICAgICAgICAgdGhpcy5fcGFydHNba2V5XSA9IHNyY1trZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBpbnB1dCcpOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIGlkZW50aWZpY2F0aW9uIGFjY2Vzc29ycwogIHAuaXMgPSBmdW5jdGlvbiAod2hhdCkgewogICAgdmFyIGlwID0gZmFsc2U7CiAgICB2YXIgaXA0ID0gZmFsc2U7CiAgICB2YXIgaXA2ID0gZmFsc2U7CiAgICB2YXIgbmFtZSA9IGZhbHNlOwogICAgdmFyIHNsZCA9IGZhbHNlOwogICAgdmFyIGlkbiA9IGZhbHNlOwogICAgdmFyIHB1bnljb2RlID0gZmFsc2U7CiAgICB2YXIgcmVsYXRpdmUgPSAhdGhpcy5fcGFydHMudXJuOwoKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICByZWxhdGl2ZSA9IGZhbHNlOwogICAgICBpcDQgPSBVUkkuaXA0X2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIGlwNiA9IFVSSS5pcDZfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgaXAgPSBpcDQgfHwgaXA2OwogICAgICBuYW1lID0gIWlwOwogICAgICBzbGQgPSBuYW1lICYmIFNMRCAmJiBTTEQuaGFzKHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgaWRuID0gbmFtZSAmJiBVUkkuaWRuX2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIHB1bnljb2RlID0gbmFtZSAmJiBVUkkucHVueWNvZGVfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgIH0KCiAgICBzd2l0Y2ggKHdoYXQudG9Mb3dlckNhc2UoKSkgewogICAgICBjYXNlICdyZWxhdGl2ZSc6CiAgICAgICAgcmV0dXJuIHJlbGF0aXZlOwoKICAgICAgY2FzZSAnYWJzb2x1dGUnOgogICAgICAgIHJldHVybiAhcmVsYXRpdmU7CgogICAgICAvLyBob3N0bmFtZSBpZGVudGlmaWNhdGlvbgogICAgICBjYXNlICdkb21haW4nOgogICAgICBjYXNlICduYW1lJzoKICAgICAgICByZXR1cm4gbmFtZTsKCiAgICAgIGNhc2UgJ3NsZCc6CiAgICAgICAgcmV0dXJuIHNsZDsKCiAgICAgIGNhc2UgJ2lwJzoKICAgICAgICByZXR1cm4gaXA7CgogICAgICBjYXNlICdpcDQnOgogICAgICBjYXNlICdpcHY0JzoKICAgICAgY2FzZSAnaW5ldDQnOgogICAgICAgIHJldHVybiBpcDQ7CgogICAgICBjYXNlICdpcDYnOgogICAgICBjYXNlICdpcHY2JzoKICAgICAgY2FzZSAnaW5ldDYnOgogICAgICAgIHJldHVybiBpcDY7CgogICAgICBjYXNlICdpZG4nOgogICAgICAgIHJldHVybiBpZG47CgogICAgICBjYXNlICd1cmwnOgogICAgICAgIHJldHVybiAhdGhpcy5fcGFydHMudXJuOwoKICAgICAgY2FzZSAndXJuJzoKICAgICAgICByZXR1cm4gISF0aGlzLl9wYXJ0cy51cm47CgogICAgICBjYXNlICdwdW55Y29kZSc6CiAgICAgICAgcmV0dXJuIHB1bnljb2RlOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH07CgogIC8vIGNvbXBvbmVudCBzcGVjaWZpYyBpbnB1dCB2YWxpZGF0aW9uCiAgdmFyIF9wcm90b2NvbCA9IHAucHJvdG9jb2w7CiAgdmFyIF9wb3J0ID0gcC5wb3J0OwogIHZhciBfaG9zdG5hbWUgPSBwLmhvc3RuYW1lOwoKICBwLnByb3RvY29sID0gZnVuY3Rpb24gKHYsIGJ1aWxkKSB7CiAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICh2KSB7CiAgICAgICAgLy8gYWNjZXB0IHRyYWlsaW5nIDovLwogICAgICAgIHYgPSB2LnJlcGxhY2UoLzooXC9cLyk/JC8sICcnKTsKCiAgICAgICAgaWYgKCF2Lm1hdGNoKFVSSS5wcm90b2NvbF9leHByZXNzaW9uKSkgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdG9jb2wgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuKy1dIG9yIGRvZXNuXCd0IHN0YXJ0IHdpdGggW0EtWl0nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBfcHJvdG9jb2wuY2FsbCh0aGlzLCB2LCBidWlsZCk7CiAgfTsKICBwLnNjaGVtZSA9IHAucHJvdG9jb2w7CiAgcC5wb3J0ID0gZnVuY3Rpb24gKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodiA9PT0gMCkgewogICAgICAgIHYgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodikgewogICAgICAgIHYgKz0gJyc7CiAgICAgICAgaWYgKHYuY2hhckF0KDApID09PSAnOicpIHsKICAgICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgICB9CgogICAgICAgIGlmICh2Lm1hdGNoKC9bXjAtOV0vKSkgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUG9ydCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gWzAtOV0nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBfcG9ydC5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwogIHAuaG9zdG5hbWUgPSBmdW5jdGlvbiAodiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciB4ID0ge307CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHgpOwogICAgICBpZiAocmVzICE9PSAnLycpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpOwogICAgICB9CgogICAgICB2ID0geC5ob3N0bmFtZTsKICAgIH0KICAgIHJldHVybiBfaG9zdG5hbWUuY2FsbCh0aGlzLCB2LCBidWlsZCk7CiAgfTsKCiAgLy8gY29tcG91bmQgYWNjZXNzb3JzCiAgcC5vcmlnaW4gPSBmdW5jdGlvbiAodiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2woKTsKICAgICAgdmFyIGF1dGhvcml0eSA9IHRoaXMuYXV0aG9yaXR5KCk7CiAgICAgIGlmICghYXV0aG9yaXR5KSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICByZXR1cm4gKHByb3RvY29sID8gcHJvdG9jb2wgKyAnOi8vJyA6ICcnKSArIHRoaXMuYXV0aG9yaXR5KCk7CiAgICB9IGVsc2UgewogICAgICB2YXIgb3JpZ2luID0gVVJJKHYpOwogICAgICB0aGlzLnByb3RvY29sKG9yaWdpbi5wcm90b2NvbCgpKS5hdXRob3JpdHkob3JpZ2luLmF1dGhvcml0eSgpKS5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuaG9zdCA9IGZ1bmN0aW9uICh2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkSG9zdCh0aGlzLl9wYXJ0cykgOiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHRoaXMuX3BhcnRzKTsKICAgICAgaWYgKHJlcyAhPT0gJy8nKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuYXV0aG9yaXR5ID0gZnVuY3Rpb24gKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUgPyBVUkkuYnVpbGRBdXRob3JpdHkodGhpcy5fcGFydHMpIDogJyc7CiAgICB9IGVsc2UgewogICAgICB2YXIgcmVzID0gVVJJLnBhcnNlQXV0aG9yaXR5KHYsIHRoaXMuX3BhcnRzKTsKICAgICAgaWYgKHJlcyAhPT0gJy8nKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAudXNlcmluZm8gPSBmdW5jdGlvbiAodiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciB0ID0gVVJJLmJ1aWxkVXNlcmluZm8odGhpcy5fcGFydHMpOwogICAgICByZXR1cm4gdCA/IHQuc3Vic3RyaW5nKDAsIHQubGVuZ3RoIC0gMSkgOiB0OwogICAgfSBlbHNlIHsKICAgICAgaWYgKHZbdi5sZW5ndGggLSAxXSAhPT0gJ0AnKSB7CiAgICAgICAgdiArPSAnQCc7CiAgICAgIH0KCiAgICAgIFVSSS5wYXJzZVVzZXJpbmZvKHYsIHRoaXMuX3BhcnRzKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAucmVzb3VyY2UgPSBmdW5jdGlvbiAodiwgYnVpbGQpIHsKICAgIHZhciBwYXJ0czsKCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLnBhdGgoKSArIHRoaXMuc2VhcmNoKCkgKyB0aGlzLmhhc2goKTsKICAgIH0KCiAgICBwYXJ0cyA9IFVSSS5wYXJzZSh2KTsKICAgIHRoaXMuX3BhcnRzLnBhdGggPSBwYXJ0cy5wYXRoOwogICAgdGhpcy5fcGFydHMucXVlcnkgPSBwYXJ0cy5xdWVyeTsKICAgIHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gcGFydHMuZnJhZ21lbnQ7CiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvLyBmcmFjdGlvbiBhY2Nlc3NvcnMKICBwLnN1YmRvbWFpbiA9IGZ1bmN0aW9uICh2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIC8vIGNvbnZlbmllbmNlLCByZXR1cm4gInd3dyIgZnJvbSAid3d3LmV4YW1wbGUub3JnIgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIC8vIGdyYWIgZG9tYWluIGFuZCBhZGQgYW5vdGhlciBzZWdtZW50CiAgICAgIHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLmRvbWFpbigpLmxlbmd0aCAtIDE7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoMCwgZW5kKSB8fCAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBlID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy5kb21haW4oKS5sZW5ndGg7CiAgICAgIHZhciBzdWIgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoMCwgZSk7CiAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWdFeChzdWIpKTsKCiAgICAgIGlmICh2ICYmIHYuY2hhckF0KHYubGVuZ3RoIC0gMSkgIT09ICcuJykgewogICAgICAgIHYgKz0gJy4nOwogICAgICB9CgogICAgICBpZiAodikgewogICAgICAgIFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpOwogICAgICB9CgogICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmRvbWFpbiA9IGZ1bmN0aW9uICh2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICAvLyBjb252ZW5pZW5jZSwgcmV0dXJuICJleGFtcGxlLm9yZyIgZnJvbSAid3d3LmV4YW1wbGUub3JnIgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIC8vIGlmIGhvc3RuYW1lIGNvbnNpc3RzIG9mIDEgb3IgMiBzZWdtZW50cywgaXQgbXVzdCBiZSB0aGUgZG9tYWluCiAgICAgIHZhciB0ID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubWF0Y2goL1wuL2cpOwogICAgICBpZiAodCAmJiB0Lmxlbmd0aCA8IDIpIHsKICAgICAgICByZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWU7CiAgICAgIH0KCiAgICAgIC8vIGdyYWIgdGxkIGFuZCBhZGQgYW5vdGhlciBzZWdtZW50CiAgICAgIHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLnRsZChidWlsZCkubGVuZ3RoIC0gMTsKICAgICAgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGFzdEluZGV4T2YoJy4nLCBlbmQgLSAxKSArIDE7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoZW5kKSB8fCAnJzsKICAgIH0gZWxzZSB7CiAgICAgIGlmICghdikgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXQgZG9tYWluIGVtcHR5Jyk7CiAgICAgIH0KCiAgICAgIFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpOwoKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB2OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmRvbWFpbigpKSArICckJyk7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC50bGQgPSBmdW5jdGlvbiAodiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgLy8gcmV0dXJuICJvcmciIGZyb20gInd3dy5leGFtcGxlLm9yZyIKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICB2YXIgcG9zID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGFzdEluZGV4T2YoJy4nKTsKICAgICAgdmFyIHRsZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZyhwb3MgKyAxKTsKCiAgICAgIGlmIChidWlsZCAhPT0gdHJ1ZSAmJiBTTEQgJiYgU0xELmxpc3RbdGxkLnRvTG93ZXJDYXNlKCldKSB7CiAgICAgICAgcmV0dXJuIFNMRC5nZXQodGhpcy5fcGFydHMuaG9zdG5hbWUpIHx8IHRsZDsKICAgICAgfQoKICAgICAgcmV0dXJuIHRsZDsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXBsYWNlOwoKICAgICAgaWYgKCF2KSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2Fubm90IHNldCBUTEQgZW1wdHknKTsKICAgICAgfSBlbHNlIGlmICh2Lm1hdGNoKC9bXmEtekEtWjAtOS1dLykpIHsKICAgICAgICBpZiAoU0xEICYmIFNMRC5pcyh2KSkgewogICAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy50bGQoKSkgKyAnJCcpOwogICAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUTEQgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTldJyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCdjYW5ub3Qgc2V0IFRMRCBvbiBub24tZG9tYWluIGhvc3QnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLnRsZCgpKSArICckJyk7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5kaXJlY3RvcnkgPSBmdW5jdGlvbiAodiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5wYXRoICYmICF0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICAgIHJldHVybiAnLyc7CiAgICAgIH0KCiAgICAgIHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5wYXRoLmxlbmd0aCAtIHRoaXMuZmlsZW5hbWUoKS5sZW5ndGggLSAxOwogICAgICB2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZW5kKSB8fCAodGhpcy5fcGFydHMuaG9zdG5hbWUgPyAnLycgOiAnJyk7CgogICAgICByZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoKHJlcykgOiByZXM7CiAgICB9IGVsc2UgewogICAgICB2YXIgZSA9IHRoaXMuX3BhcnRzLnBhdGgubGVuZ3RoIC0gdGhpcy5maWxlbmFtZSgpLmxlbmd0aDsKICAgICAgdmFyIGRpcmVjdG9yeSA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKDAsIGUpOwogICAgICB2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoJ14nICsgZXNjYXBlUmVnRXgoZGlyZWN0b3J5KSk7CgogICAgICAvLyBmdWxseSBxdWFsaWZpZXIgZGlyZWN0b3JpZXMgYmVnaW4gd2l0aCBhIHNsYXNoCiAgICAgIGlmICghdGhpcy5pcygncmVsYXRpdmUnKSkgewogICAgICAgIGlmICghdikgewogICAgICAgICAgdiA9ICcvJzsKICAgICAgICB9CgogICAgICAgIGlmICh2LmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgICAgICB2ID0gJy8nICsgdjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIGRpcmVjdG9yaWVzIGFsd2F5cyBlbmQgd2l0aCBhIHNsYXNoCiAgICAgIGlmICh2ICYmIHYuY2hhckF0KHYubGVuZ3RoIC0gMSkgIT09ICcvJykgewogICAgICAgIHYgKz0gJy8nOwogICAgICB9CgogICAgICB2ID0gVVJJLnJlY29kZVBhdGgodik7CiAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmZpbGVuYW1lID0gZnVuY3Rpb24gKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucGF0aCB8fCB0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5wYXRoLmxhc3RJbmRleE9mKCcvJyk7CiAgICAgIHZhciByZXMgPSB0aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZyhwb3MgKyAxKTsKCiAgICAgIHJldHVybiB2ID8gVVJJLmRlY29kZVBhdGhTZWdtZW50KHJlcykgOiByZXM7CiAgICB9IGVsc2UgewogICAgICB2YXIgbXV0YXRlZERpcmVjdG9yeSA9IGZhbHNlOwoKICAgICAgaWYgKHYuY2hhckF0KDApID09PSAnLycpIHsKICAgICAgICB2ID0gdi5zdWJzdHJpbmcoMSk7CiAgICAgIH0KCiAgICAgIGlmICh2Lm1hdGNoKC9cLj9cLy8pKSB7CiAgICAgICAgbXV0YXRlZERpcmVjdG9yeSA9IHRydWU7CiAgICAgIH0KCiAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmZpbGVuYW1lKCkpICsgJyQnKTsKICAgICAgdiA9IFVSSS5yZWNvZGVQYXRoKHYpOwogICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpOwoKICAgICAgaWYgKG11dGF0ZWREaXJlY3RvcnkpIHsKICAgICAgICB0aGlzLm5vcm1hbGl6ZVBhdGgoYnVpbGQpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnN1ZmZpeCA9IGZ1bmN0aW9uICh2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICB2YXIgZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lKCk7CiAgICAgIHZhciBwb3MgPSBmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpOwogICAgICB2YXIgcywgcmVzOwoKICAgICAgaWYgKHBvcyA9PT0gLTEpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIC8vIHN1ZmZpeCBtYXkgb25seSBjb250YWluIGFsbnVtIGNoYXJhY3RlcnMgKHl1cCwgSSBtYWRlIHRoaXMgdXAuKQogICAgICBzID0gZmlsZW5hbWUuc3Vic3RyaW5nKHBvcyArIDEpOwogICAgICByZXMgPSAvXlthLXowLTklXSskL2kudGVzdChzKSA/IHMgOiAnJzsKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlczsKICAgIH0gZWxzZSB7CiAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gJy4nKSB7CiAgICAgICAgdiA9IHYuc3Vic3RyaW5nKDEpOwogICAgICB9CgogICAgICB2YXIgc3VmZml4ID0gdGhpcy5zdWZmaXgoKTsKICAgICAgdmFyIHJlcGxhY2U7CgogICAgICBpZiAoIXN1ZmZpeCkgewogICAgICAgIGlmICghdikgewogICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoICs9ICcuJyArIFVSSS5yZWNvZGVQYXRoKHYpOwogICAgICB9IGVsc2UgaWYgKCF2KSB7CiAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgoJy4nICsgc3VmZml4KSArICckJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgoc3VmZml4KSArICckJyk7CiAgICAgIH0KCiAgICAgIGlmIChyZXBsYWNlKSB7CiAgICAgICAgdiA9IFVSSS5yZWNvZGVQYXRoKHYpOwogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnNlZ21lbnQgPSBmdW5jdGlvbiAoc2VnbWVudCwgdiwgYnVpbGQpIHsKICAgIHZhciBzZXBhcmF0b3IgPSB0aGlzLl9wYXJ0cy51cm4gPyAnOicgOiAnLyc7CiAgICB2YXIgcGF0aCA9IHRoaXMucGF0aCgpOwogICAgdmFyIGFic29sdXRlID0gcGF0aC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJzsKICAgIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoc2VwYXJhdG9yKTsKCiAgICBpZiAoc2VnbWVudCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSBzZWdtZW50OwogICAgICBzZWdtZW50ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQmFkIHNlZ21lbnQgIicgKyBzZWdtZW50ICsgJyIsIG11c3QgYmUgMC1iYXNlZCBpbnRlZ2VyJyk7CiAgICB9CgogICAgaWYgKGFic29sdXRlKSB7CiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICB9CgogICAgaWYgKHNlZ21lbnQgPCAwKSB7CiAgICAgIC8vIGFsbG93IG5lZ2F0aXZlIGluZGV4ZXMgdG8gYWRkcmVzcyBmcm9tIHRoZSBlbmQKICAgICAgc2VnbWVudCA9IE1hdGgubWF4KHNlZ21lbnRzLmxlbmd0aCArIHNlZ21lbnQsIDApOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi8KICAgICAgcmV0dXJuIHNlZ21lbnQgPT09IHVuZGVmaW5lZCA/IHNlZ21lbnRzIDogc2VnbWVudHNbc2VnbWVudF07CiAgICAgIC8qanNoaW50IGxheGJyZWFrOiBmYWxzZSAqLwogICAgfSBlbHNlIGlmIChzZWdtZW50ID09PSBudWxsIHx8IHNlZ21lbnRzW3NlZ21lbnRdID09PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAoaXNBcnJheSh2KSkgewogICAgICAgICAgc2VnbWVudHMgPSBbXTsKICAgICAgICAgIC8vIGNvbGxhcHNlIGVtcHR5IGVsZW1lbnRzIHdpdGhpbiBhcnJheQogICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB2Lmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICBpZiAoIXZbaV0ubGVuZ3RoICYmICghc2VnbWVudHMubGVuZ3RoIHx8ICFzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLSAxXS5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzZWdtZW50cy5sZW5ndGggJiYgIXNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtIDFdLmxlbmd0aCkgewogICAgICAgICAgICAgIHNlZ21lbnRzLnBvcCgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzZWdtZW50cy5wdXNoKHRyaW1TbGFzaGVzKHZbaV0pKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHYgfHwgdHlwZW9mIHYgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICB2ID0gdHJpbVNsYXNoZXModik7CiAgICAgICAgICBpZiAoc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0gMV0gPT09ICcnKSB7CiAgICAgICAgICAgIC8vIGVtcHR5IHRyYWlsaW5nIGVsZW1lbnRzIGhhdmUgdG8gYmUgb3ZlcndyaXR0ZW4KICAgICAgICAgICAgLy8gdG8gcHJldmVudCByZXN1bHRzIHN1Y2ggYXMgL2Zvby8vYmFyCiAgICAgICAgICAgIHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtIDFdID0gdjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2godik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh2KSB7CiAgICAgICAgICBzZWdtZW50c1tzZWdtZW50XSA9IHRyaW1TbGFzaGVzKHYpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZWdtZW50cy5zcGxpY2Uoc2VnbWVudCwgMSk7CiAgICAgICAgfQogICAgICB9CgogICAgaWYgKGFic29sdXRlKSB7CiAgICAgIHNlZ21lbnRzLnVuc2hpZnQoJycpOwogICAgfQoKICAgIHJldHVybiB0aGlzLnBhdGgoc2VnbWVudHMuam9pbihzZXBhcmF0b3IpLCBidWlsZCk7CiAgfTsKICBwLnNlZ21lbnRDb2RlZCA9IGZ1bmN0aW9uIChzZWdtZW50LCB2LCBidWlsZCkgewogICAgdmFyIHNlZ21lbnRzLCBpLCBsOwoKICAgIGlmICh0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHsKICAgICAgYnVpbGQgPSB2OwogICAgICB2ID0gc2VnbWVudDsKICAgICAgc2VnbWVudCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHNlZ21lbnRzID0gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTsKICAgICAgaWYgKCFpc0FycmF5KHNlZ21lbnRzKSkgewogICAgICAgIHNlZ21lbnRzID0gc2VnbWVudHMgIT09IHVuZGVmaW5lZCA/IFVSSS5kZWNvZGUoc2VnbWVudHMpIDogdW5kZWZpbmVkOwogICAgICB9IGVsc2UgewogICAgICAgIGZvciAoaSA9IDAsIGwgPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIHNlZ21lbnRzW2ldID0gVVJJLmRlY29kZShzZWdtZW50c1tpXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gc2VnbWVudHM7CiAgICB9CgogICAgaWYgKCFpc0FycmF5KHYpKSB7CiAgICAgIHYgPSB0eXBlb2YgdiA9PT0gJ3N0cmluZycgfHwgdiBpbnN0YW5jZW9mIFN0cmluZyA/IFVSSS5lbmNvZGUodikgOiB2OwogICAgfSBlbHNlIHsKICAgICAgZm9yIChpID0gMCwgbCA9IHYubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgdltpXSA9IFVSSS5lbmNvZGUodltpXSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTsKICB9OwoKICAvLyBtdXRhdGluZyBxdWVyeSBzdHJpbmcKICB2YXIgcSA9IHAucXVlcnk7CiAgcC5xdWVyeSA9IGZ1bmN0aW9uICh2LCBidWlsZCkgewogICAgaWYgKHYgPT09IHRydWUpIHsKICAgICAgcmV0dXJuIFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09ICdmdW5jdGlvbicpIHsKICAgICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIHZhciByZXN1bHQgPSB2LmNhbGwodGhpcywgZGF0YSk7CiAgICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkocmVzdWx0IHx8IGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9IGVsc2UgaWYgKHYgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdiAhPT0gJ3N0cmluZycpIHsKICAgICAgdGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeSh2LCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHEuY2FsbCh0aGlzLCB2LCBidWlsZCk7CiAgICB9CiAgfTsKICBwLnNldFF1ZXJ5ID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlLCBidWlsZCkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CgogICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyB8fCBuYW1lIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIGRhdGFbbmFtZV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBudWxsOwogICAgfSBlbHNlIGlmICgodHlwZW9mIG5hbWUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG5hbWUpKSA9PT0gJ29iamVjdCcpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkgewogICAgICAgICAgZGF0YVtrZXldID0gbmFtZVtrZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTsKICAgIH0KCiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7CiAgICAgIGJ1aWxkID0gdmFsdWU7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLmFkZFF1ZXJ5ID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlLCBidWlsZCkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBVUkkuYWRkUXVlcnkoZGF0YSwgbmFtZSwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiB2YWx1ZSk7CiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7CiAgICAgIGJ1aWxkID0gdmFsdWU7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlLCBidWlsZCkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBVUkkucmVtb3ZlUXVlcnkoZGF0YSwgbmFtZSwgdmFsdWUpOwogICAgdGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgewogICAgICBidWlsZCA9IHZhbHVlOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5oYXNRdWVyeSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgcmV0dXJuIFVSSS5oYXNRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpOwogIH07CiAgcC5zZXRTZWFyY2ggPSBwLnNldFF1ZXJ5OwogIHAuYWRkU2VhcmNoID0gcC5hZGRRdWVyeTsKICBwLnJlbW92ZVNlYXJjaCA9IHAucmVtb3ZlUXVlcnk7CiAgcC5oYXNTZWFyY2ggPSBwLmhhc1F1ZXJ5OwoKICAvLyBzYW5pdGl6aW5nIFVSTHMKICBwLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXplUHJvdG9jb2woZmFsc2UpLm5vcm1hbGl6ZVBhdGgoZmFsc2UpLm5vcm1hbGl6ZVF1ZXJ5KGZhbHNlKS5ub3JtYWxpemVGcmFnbWVudChmYWxzZSkuYnVpbGQoKTsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5ub3JtYWxpemVQcm90b2NvbChmYWxzZSkubm9ybWFsaXplSG9zdG5hbWUoZmFsc2UpLm5vcm1hbGl6ZVBvcnQoZmFsc2UpLm5vcm1hbGl6ZVBhdGgoZmFsc2UpLm5vcm1hbGl6ZVF1ZXJ5KGZhbHNlKS5ub3JtYWxpemVGcmFnbWVudChmYWxzZSkuYnVpbGQoKTsKICB9OwogIHAubm9ybWFsaXplUHJvdG9jb2wgPSBmdW5jdGlvbiAoYnVpbGQpIHsKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wgPT09ICdzdHJpbmcnKSB7CiAgICAgIHRoaXMuX3BhcnRzLnByb3RvY29sID0gdGhpcy5fcGFydHMucHJvdG9jb2wudG9Mb3dlckNhc2UoKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVIb3N0bmFtZSA9IGZ1bmN0aW9uIChidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIGlmICh0aGlzLmlzKCdJRE4nKSAmJiBwdW55Y29kZSkgewogICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pcygnSVB2NicpICYmIElQdjYpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IElQdjYuYmVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVQb3J0ID0gZnVuY3Rpb24gKGJ1aWxkKSB7CiAgICAvLyByZW1vdmUgcG9ydCBvZiBpdCdzIHRoZSBwcm90b2NvbCdzIGRlZmF1bHQKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wgPT09ICdzdHJpbmcnICYmIHRoaXMuX3BhcnRzLnBvcnQgPT09IFVSSS5kZWZhdWx0UG9ydHNbdGhpcy5fcGFydHMucHJvdG9jb2xdKSB7CiAgICAgIHRoaXMuX3BhcnRzLnBvcnQgPSBudWxsOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVBhdGggPSBmdW5jdGlvbiAoYnVpbGQpIHsKICAgIHZhciBfcGF0aCA9IHRoaXMuX3BhcnRzLnBhdGg7CiAgICBpZiAoIV9wYXRoKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgdGhpcy5fcGFydHMucGF0aCA9IFVSSS5yZWNvZGVVcm5QYXRoKHRoaXMuX3BhcnRzLnBhdGgpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIGlmICh0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgX3BhdGggPSBVUkkucmVjb2RlUGF0aChfcGF0aCk7CgogICAgdmFyIF93YXNfcmVsYXRpdmU7CiAgICB2YXIgX2xlYWRpbmdQYXJlbnRzID0gJyc7CiAgICB2YXIgX3BhcmVudCwgX3BvczsKCiAgICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMKICAgIGlmIChfcGF0aC5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICBfd2FzX3JlbGF0aXZlID0gdHJ1ZTsKICAgICAgX3BhdGggPSAnLycgKyBfcGF0aDsKICAgIH0KCiAgICAvLyBoYW5kbGUgcmVsYXRpdmUgZmlsZXMgKGFzIG9wcG9zZWQgdG8gZGlyZWN0b3JpZXMpCiAgICBpZiAoX3BhdGguc2xpY2UoLTMpID09PSAnLy4uJyB8fCBfcGF0aC5zbGljZSgtMikgPT09ICcvLicpIHsKICAgICAgX3BhdGggKz0gJy8nOwogICAgfQoKICAgIC8vIHJlc29sdmUgc2ltcGxlcwogICAgX3BhdGggPSBfcGF0aC5yZXBsYWNlKC8oXC8oXC5cLykrKXwoXC9cLiQpL2csICcvJykucmVwbGFjZSgvXC97Mix9L2csICcvJyk7CgogICAgLy8gcmVtZW1iZXIgbGVhZGluZyBwYXJlbnRzCiAgICBpZiAoX3dhc19yZWxhdGl2ZSkgewogICAgICBfbGVhZGluZ1BhcmVudHMgPSBfcGF0aC5zdWJzdHJpbmcoMSkubWF0Y2goL14oXC5cLlwvKSsvKSB8fCAnJzsKICAgICAgaWYgKF9sZWFkaW5nUGFyZW50cykgewogICAgICAgIF9sZWFkaW5nUGFyZW50cyA9IF9sZWFkaW5nUGFyZW50c1swXTsKICAgICAgfQogICAgfQoKICAgIC8vIHJlc29sdmUgcGFyZW50cwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgX3BhcmVudCA9IF9wYXRoLnNlYXJjaCgvXC9cLlwuKFwvfCQpLyk7CiAgICAgIGlmIChfcGFyZW50ID09PSAtMSkgewogICAgICAgIC8vIG5vIG1vcmUgLi4vIHRvIHJlc29sdmUKICAgICAgICBicmVhazsKICAgICAgfSBlbHNlIGlmIChfcGFyZW50ID09PSAwKSB7CiAgICAgICAgLy8gdG9wIGxldmVsIGNhbm5vdCBiZSByZWxhdGl2ZSwgc2tpcCBpdAogICAgICAgIF9wYXRoID0gX3BhdGguc3Vic3RyaW5nKDMpOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CgogICAgICBfcG9zID0gX3BhdGguc3Vic3RyaW5nKDAsIF9wYXJlbnQpLmxhc3RJbmRleE9mKCcvJyk7CiAgICAgIGlmIChfcG9zID09PSAtMSkgewogICAgICAgIF9wb3MgPSBfcGFyZW50OwogICAgICB9CiAgICAgIF9wYXRoID0gX3BhdGguc3Vic3RyaW5nKDAsIF9wb3MpICsgX3BhdGguc3Vic3RyaW5nKF9wYXJlbnQgKyAzKTsKICAgIH0KCiAgICAvLyByZXZlcnQgdG8gcmVsYXRpdmUKICAgIGlmIChfd2FzX3JlbGF0aXZlICYmIHRoaXMuaXMoJ3JlbGF0aXZlJykpIHsKICAgICAgX3BhdGggPSBfbGVhZGluZ1BhcmVudHMgKyBfcGF0aC5zdWJzdHJpbmcoMSk7CiAgICB9CgogICAgdGhpcy5fcGFydHMucGF0aCA9IF9wYXRoOwogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVBhdGhuYW1lID0gcC5ub3JtYWxpemVQYXRoOwogIHAubm9ybWFsaXplUXVlcnkgPSBmdW5jdGlvbiAoYnVpbGQpIHsKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucXVlcnkgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucXVlcnkubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5fcGFydHMucXVlcnkgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucXVlcnkoVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVGcmFnbWVudCA9IGZ1bmN0aW9uIChidWlsZCkgewogICAgaWYgKCF0aGlzLl9wYXJ0cy5mcmFnbWVudCkgewogICAgICB0aGlzLl9wYXJ0cy5mcmFnbWVudCA9IG51bGw7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplU2VhcmNoID0gcC5ub3JtYWxpemVRdWVyeTsKICBwLm5vcm1hbGl6ZUhhc2ggPSBwLm5vcm1hbGl6ZUZyYWdtZW50OwoKICBwLmlzbzg4NTkgPSBmdW5jdGlvbiAoKSB7CiAgICAvLyBleHBlY3QgdW5pY29kZSBpbnB1dCwgaXNvODg1OSBvdXRwdXQKICAgIHZhciBlID0gVVJJLmVuY29kZTsKICAgIHZhciBkID0gVVJJLmRlY29kZTsKCiAgICBVUkkuZW5jb2RlID0gZXNjYXBlOwogICAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICAgIHRyeSB7CiAgICAgIHRoaXMubm9ybWFsaXplKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBVUkkuZW5jb2RlID0gZTsKICAgICAgVVJJLmRlY29kZSA9IGQ7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLnVuaWNvZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAvLyBleHBlY3QgaXNvODg1OSBpbnB1dCwgdW5pY29kZSBvdXRwdXQKICAgIHZhciBlID0gVVJJLmVuY29kZTsKICAgIHZhciBkID0gVVJJLmRlY29kZTsKCiAgICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogICAgVVJJLmRlY29kZSA9IHVuZXNjYXBlOwogICAgdHJ5IHsKICAgICAgdGhpcy5ub3JtYWxpemUoKTsKICAgIH0gZmluYWxseSB7CiAgICAgIFVSSS5lbmNvZGUgPSBlOwogICAgICBVUkkuZGVjb2RlID0gZDsKICAgIH0KICAgIHJldHVybiB0aGlzOwogIH07CgogIHAucmVhZGFibGUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdXJpID0gdGhpcy5jbG9uZSgpOwogICAgLy8gcmVtb3ZpbmcgdXNlcm5hbWUsIHBhc3N3b3JkLCBiZWNhdXNlIHRoZXkgc2hvdWxkbid0IGJlIGRpc3BsYXllZCBhY2NvcmRpbmcgdG8gUkZDIDM5ODYKICAgIHVyaS51c2VybmFtZSgnJykucGFzc3dvcmQoJycpLm5vcm1hbGl6ZSgpOwogICAgdmFyIHQgPSAnJzsKICAgIGlmICh1cmkuX3BhcnRzLnByb3RvY29sKSB7CiAgICAgIHQgKz0gdXJpLl9wYXJ0cy5wcm90b2NvbCArICc6Ly8nOwogICAgfQoKICAgIGlmICh1cmkuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIGlmICh1cmkuaXMoJ3B1bnljb2RlJykgJiYgcHVueWNvZGUpIHsKICAgICAgICB0ICs9IHB1bnljb2RlLnRvVW5pY29kZSh1cmkuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgICBpZiAodXJpLl9wYXJ0cy5wb3J0KSB7CiAgICAgICAgICB0ICs9ICc6JyArIHVyaS5fcGFydHMucG9ydDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdCArPSB1cmkuaG9zdCgpOwogICAgICB9CiAgICB9CgogICAgaWYgKHVyaS5fcGFydHMuaG9zdG5hbWUgJiYgdXJpLl9wYXJ0cy5wYXRoICYmIHVyaS5fcGFydHMucGF0aC5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICB0ICs9ICcvJzsKICAgIH0KCiAgICB0ICs9IHVyaS5wYXRoKHRydWUpOwogICAgaWYgKHVyaS5fcGFydHMucXVlcnkpIHsKICAgICAgdmFyIHEgPSAnJzsKICAgICAgZm9yICh2YXIgaSA9IDAsIHFwID0gdXJpLl9wYXJ0cy5xdWVyeS5zcGxpdCgnJicpLCBsID0gcXAubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgdmFyIGt2ID0gKHFwW2ldIHx8ICcnKS5zcGxpdCgnPScpOwogICAgICAgIHEgKz0gJyYnICsgVVJJLmRlY29kZVF1ZXJ5KGt2WzBdLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKS5yZXBsYWNlKC8mL2csICclMjYnKTsKCiAgICAgICAgaWYgKGt2WzFdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHEgKz0gJz0nICsgVVJJLmRlY29kZVF1ZXJ5KGt2WzFdLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKS5yZXBsYWNlKC8mL2csICclMjYnKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdCArPSAnPycgKyBxLnN1YnN0cmluZygxKTsKICAgIH0KCiAgICB0ICs9IFVSSS5kZWNvZGVRdWVyeSh1cmkuaGFzaCgpLCB0cnVlKTsKICAgIHJldHVybiB0OwogIH07CgogIC8vIHJlc29sdmluZyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgVVJMcwogIHAuYWJzb2x1dGVUbyA9IGZ1bmN0aW9uIChiYXNlKSB7CiAgICB2YXIgcmVzb2x2ZWQgPSB0aGlzLmNsb25lKCk7CiAgICB2YXIgcHJvcGVydGllcyA9IFsncHJvdG9jb2wnLCAndXNlcm5hbWUnLCAncGFzc3dvcmQnLCAnaG9zdG5hbWUnLCAncG9ydCddOwogICAgdmFyIGJhc2VkaXIsIGksIHA7CgogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSTnMgZG8gbm90IGhhdmUgYW55IGdlbmVyYWxseSBkZWZpbmVkIGhpZXJhcmNoaWNhbCBjb21wb25lbnRzJyk7CiAgICB9CgogICAgaWYgKCEoYmFzZSBpbnN0YW5jZW9mIFVSSSkpIHsKICAgICAgYmFzZSA9IG5ldyBVUkkoYmFzZSk7CiAgICB9CgogICAgaWYgKCFyZXNvbHZlZC5fcGFydHMucHJvdG9jb2wpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnByb3RvY29sID0gYmFzZS5fcGFydHMucHJvdG9jb2w7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJldHVybiByZXNvbHZlZDsKICAgIH0KCiAgICBmb3IgKGkgPSAwOyBwID0gcHJvcGVydGllc1tpXTsgaSsrKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0c1twXSA9IGJhc2UuX3BhcnRzW3BdOwogICAgfQoKICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnBhdGgpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggPSBiYXNlLl9wYXJ0cy5wYXRoOwogICAgICBpZiAoIXJlc29sdmVkLl9wYXJ0cy5xdWVyeSkgewogICAgICAgIHJlc29sdmVkLl9wYXJ0cy5xdWVyeSA9IGJhc2UuX3BhcnRzLnF1ZXJ5OwogICAgICB9CiAgICB9IGVsc2UgaWYgKHJlc29sdmVkLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygtMikgPT09ICcuLicpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggKz0gJy8nOwogICAgfQoKICAgIGlmIChyZXNvbHZlZC5wYXRoKCkuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgYmFzZWRpciA9IGJhc2UuZGlyZWN0b3J5KCk7CiAgICAgIGJhc2VkaXIgPSBiYXNlZGlyID8gYmFzZWRpciA6IGJhc2UucGF0aCgpLmluZGV4T2YoJy8nKSA9PT0gMCA/ICcvJyA6ICcnOwogICAgICByZXNvbHZlZC5fcGFydHMucGF0aCA9IChiYXNlZGlyID8gYmFzZWRpciArICcvJyA6ICcnKSArIHJlc29sdmVkLl9wYXJ0cy5wYXRoOwogICAgICByZXNvbHZlZC5ub3JtYWxpemVQYXRoKCk7CiAgICB9CgogICAgcmVzb2x2ZWQuYnVpbGQoKTsKICAgIHJldHVybiByZXNvbHZlZDsKICB9OwogIHAucmVsYXRpdmVUbyA9IGZ1bmN0aW9uIChiYXNlKSB7CiAgICB2YXIgcmVsYXRpdmUgPSB0aGlzLmNsb25lKCkubm9ybWFsaXplKCk7CiAgICB2YXIgcmVsYXRpdmVQYXJ0cywgYmFzZVBhcnRzLCBjb21tb24sIHJlbGF0aXZlUGF0aCwgYmFzZVBhdGg7CgogICAgaWYgKHJlbGF0aXZlLl9wYXJ0cy51cm4pIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50cycpOwogICAgfQoKICAgIGJhc2UgPSBuZXcgVVJJKGJhc2UpLm5vcm1hbGl6ZSgpOwogICAgcmVsYXRpdmVQYXJ0cyA9IHJlbGF0aXZlLl9wYXJ0czsKICAgIGJhc2VQYXJ0cyA9IGJhc2UuX3BhcnRzOwogICAgcmVsYXRpdmVQYXRoID0gcmVsYXRpdmUucGF0aCgpOwogICAgYmFzZVBhdGggPSBiYXNlLnBhdGgoKTsKCiAgICBpZiAocmVsYXRpdmVQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVVJJIGlzIGFscmVhZHkgcmVsYXRpdmUnKTsKICAgIH0KCiAgICBpZiAoYmFzZVBhdGguY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIGEgVVJJIHJlbGF0aXZlIHRvIGFub3RoZXIgcmVsYXRpdmUgVVJJJyk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMucHJvdG9jb2wgPT09IGJhc2VQYXJ0cy5wcm90b2NvbCkgewogICAgICByZWxhdGl2ZVBhcnRzLnByb3RvY29sID0gbnVsbDsKICAgIH0KCiAgICBpZiAocmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gYmFzZVBhcnRzLnVzZXJuYW1lIHx8IHJlbGF0aXZlUGFydHMucGFzc3dvcmQgIT09IGJhc2VQYXJ0cy5wYXNzd29yZCkgewogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICBpZiAocmVsYXRpdmVQYXJ0cy5wcm90b2NvbCAhPT0gbnVsbCB8fCByZWxhdGl2ZVBhcnRzLnVzZXJuYW1lICE9PSBudWxsIHx8IHJlbGF0aXZlUGFydHMucGFzc3dvcmQgIT09IG51bGwpIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMuaG9zdG5hbWUgPT09IGJhc2VQYXJ0cy5ob3N0bmFtZSAmJiByZWxhdGl2ZVBhcnRzLnBvcnQgPT09IGJhc2VQYXJ0cy5wb3J0KSB7CiAgICAgIHJlbGF0aXZlUGFydHMuaG9zdG5hbWUgPSBudWxsOwogICAgICByZWxhdGl2ZVBhcnRzLnBvcnQgPSBudWxsOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGF0aCA9PT0gYmFzZVBhdGgpIHsKICAgICAgcmVsYXRpdmVQYXJ0cy5wYXRoID0gJyc7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIC8vIGRldGVybWluZSBjb21tb24gc3ViIHBhdGgKICAgIGNvbW1vbiA9IFVSSS5jb21tb25QYXRoKHJlbGF0aXZlUGF0aCwgYmFzZVBhdGgpOwoKICAgIC8vIElmIHRoZSBwYXRocyBoYXZlIG5vdGhpbmcgaW4gY29tbW9uLCByZXR1cm4gYSByZWxhdGl2ZSBVUkwgd2l0aCB0aGUgYWJzb2x1dGUgcGF0aC4KICAgIGlmICghY29tbW9uKSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIHZhciBwYXJlbnRzID0gYmFzZVBhcnRzLnBhdGguc3Vic3RyaW5nKGNvbW1vbi5sZW5ndGgpLnJlcGxhY2UoL1teXC9dKiQvLCAnJykucmVwbGFjZSgvLio/XC8vZywgJy4uLycpOwoKICAgIHJlbGF0aXZlUGFydHMucGF0aCA9IHBhcmVudHMgKyByZWxhdGl2ZVBhcnRzLnBhdGguc3Vic3RyaW5nKGNvbW1vbi5sZW5ndGgpIHx8ICcuLyc7CgogICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgfTsKCiAgLy8gY29tcGFyaW5nIFVSSXMKICBwLmVxdWFscyA9IGZ1bmN0aW9uICh1cmkpIHsKICAgIHZhciBvbmUgPSB0aGlzLmNsb25lKCk7CiAgICB2YXIgdHdvID0gbmV3IFVSSSh1cmkpOwogICAgdmFyIG9uZV9tYXAgPSB7fTsKICAgIHZhciB0d29fbWFwID0ge307CiAgICB2YXIgY2hlY2tlZCA9IHt9OwogICAgdmFyIG9uZV9xdWVyeSwgdHdvX3F1ZXJ5LCBrZXk7CgogICAgb25lLm5vcm1hbGl6ZSgpOwogICAgdHdvLm5vcm1hbGl6ZSgpOwoKICAgIC8vIGV4YWN0IG1hdGNoCiAgICBpZiAob25lLnRvU3RyaW5nKCkgPT09IHR3by50b1N0cmluZygpKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIGV4dHJhY3QgcXVlcnkgc3RyaW5nCiAgICBvbmVfcXVlcnkgPSBvbmUucXVlcnkoKTsKICAgIHR3b19xdWVyeSA9IHR3by5xdWVyeSgpOwogICAgb25lLnF1ZXJ5KCcnKTsKICAgIHR3by5xdWVyeSgnJyk7CgogICAgLy8gZGVmaW5pdGVseSBub3QgZXF1YWwgaWYgbm90IGV2ZW4gbm9uLXF1ZXJ5IHBhcnRzIG1hdGNoCiAgICBpZiAob25lLnRvU3RyaW5nKCkgIT09IHR3by50b1N0cmluZygpKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvLyBxdWVyeSBwYXJhbWV0ZXJzIGhhdmUgdGhlIHNhbWUgbGVuZ3RoLCBldmVuIGlmIHRoZXkncmUgcGVybXV0ZWQKICAgIGlmIChvbmVfcXVlcnkubGVuZ3RoICE9PSB0d29fcXVlcnkubGVuZ3RoKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBvbmVfbWFwID0gVVJJLnBhcnNlUXVlcnkob25lX3F1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIHR3b19tYXAgPSBVUkkucGFyc2VRdWVyeSh0d29fcXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwoKICAgIGZvciAoa2V5IGluIG9uZV9tYXApIHsKICAgICAgaWYgKGhhc093bi5jYWxsKG9uZV9tYXAsIGtleSkpIHsKICAgICAgICBpZiAoIWlzQXJyYXkob25lX21hcFtrZXldKSkgewogICAgICAgICAgaWYgKG9uZV9tYXBba2V5XSAhPT0gdHdvX21hcFtrZXldKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKCFhcnJheXNFcXVhbChvbmVfbWFwW2tleV0sIHR3b19tYXBba2V5XSkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGNoZWNrZWRba2V5XSA9IHRydWU7CiAgICAgIH0KICAgIH0KCiAgICBmb3IgKGtleSBpbiB0d29fbWFwKSB7CiAgICAgIGlmIChoYXNPd24uY2FsbCh0d29fbWFwLCBrZXkpKSB7CiAgICAgICAgaWYgKCFjaGVja2VkW2tleV0pIHsKICAgICAgICAgIC8vIHR3byBjb250YWlucyBhIHBhcmFtZXRlciBub3QgcHJlc2VudCBpbiBvbmUKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9OwoKICAvLyBzdGF0ZQogIHAuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKHYpIHsKICAgIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9ICEhdjsKICAgIHJldHVybiB0aGlzOwogIH07CgogIHAuZXNjYXBlUXVlcnlTcGFjZSA9IGZ1bmN0aW9uICh2KSB7CiAgICB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlID0gISF2OwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcmV0dXJuIFVSSTsKfSk7Cgp9LHsiLi9JUHY2Ijo0LCIuL1NlY29uZExldmVsRG9tYWlucyI6NSwiLi9wdW55Y29kZSI6N31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKGdsb2JhbCl7Cid1c2Ugc3RyaWN0JzsKCnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsKCi8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuNC4wIGJ5IEBtYXRoaWFzICovCjsoZnVuY3Rpb24gKHJvb3QpIHsKCgkvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovCgl2YXIgZnJlZUV4cG9ydHMgPSAodHlwZW9mIGV4cG9ydHMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7Cgl2YXIgZnJlZU1vZHVsZSA9ICh0eXBlb2YgbW9kdWxlID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihtb2R1bGUpKSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7Cgl2YXIgZnJlZUdsb2JhbCA9ICh0eXBlb2YgZ2xvYmFsID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihnbG9iYWwpKSA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7CglpZiAoZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHwgZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHwgZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsKSB7CgkJcm9vdCA9IGZyZWVHbG9iYWw7Cgl9CgoJLyoqCiAgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuCiAgKiBAbmFtZSBwdW55Y29kZQogICogQHR5cGUgT2JqZWN0CiAgKi8KCXZhciBwdW55Y29kZSwKCgoJLyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqLwoJbWF4SW50ID0gMjE0NzQ4MzY0NywKCSAgICAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xCgoJLyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqLwoJYmFzZSA9IDM2LAoJICAgIHRNaW4gPSAxLAoJICAgIHRNYXggPSAyNiwKCSAgICBza2V3ID0gMzgsCgkgICAgZGFtcCA9IDcwMCwKCSAgICBpbml0aWFsQmlhcyA9IDcyLAoJICAgIGluaXRpYWxOID0gMTI4LAoJICAgIC8vIDB4ODAKCWRlbGltaXRlciA9ICctJywKCSAgICAvLyAnXHgyRCcKCgkvKiogUmVndWxhciBleHByZXNzaW9ucyAqLwoJcmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sCgkgICAgcmVnZXhOb25BU0NJSSA9IC9bXlx4MjAtXHg3RV0vLAoJICAgIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzCglyZWdleFNlcGFyYXRvcnMgPSAvW1x4MkVcdTMwMDJcdUZGMEVcdUZGNjFdL2csCgkgICAgLy8gUkZDIDM0OTAgc2VwYXJhdG9ycwoKCS8qKiBFcnJvciBtZXNzYWdlcyAqLwoJZXJyb3JzID0gewoJCSdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsCgkJJ25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJywKCQknaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0JwoJfSwKCgoJLyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqLwoJYmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLAoJICAgIGZsb29yID0gTWF0aC5mbG9vciwKCSAgICBzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLAoKCgkvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovCglrZXk7CgoJLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoJLyoqCiAgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi4KICAqIEBwcml2YXRlCiAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS4KICAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS4KICAqLwoJZnVuY3Rpb24gZXJyb3IodHlwZSkgewoJCXRocm93IG5ldyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7Cgl9CgoJLyoqCiAgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi4KICAqIEBwcml2YXRlCiAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLgogICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5CiAgKiBpdGVtLgogICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLgogICovCglmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7CgkJdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsKCQl2YXIgcmVzdWx0ID0gW107CgkJd2hpbGUgKGxlbmd0aC0tKSB7CgkJCXJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7CgkJfQoJCXJldHVybiByZXN1bHQ7Cgl9CgoJLyoqCiAgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWwKICAqIGFkZHJlc3Nlcy4KICAqIEBwcml2YXRlCiAgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLgogICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5CiAgKiBjaGFyYWN0ZXIuCiAgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjawogICogZnVuY3Rpb24uCiAgKi8KCWZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7CgkJdmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7CgkJdmFyIHJlc3VsdCA9ICcnOwoJCWlmIChwYXJ0cy5sZW5ndGggPiAxKSB7CgkJCS8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmUKCQkJLy8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC4KCQkJcmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7CgkJCXN0cmluZyA9IHBhcnRzWzFdOwoJCX0KCQkvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuCgkJc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXHgyRScpOwoJCXZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTsKCQl2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7CgkJcmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7Cgl9CgoJLyoqCiAgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlCiAgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksCiAgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaAogICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsCiAgKiBtYXRjaGluZyBVVEYtMTYuCiAgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWAKICAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPgogICogQG1lbWJlck9mIHB1bnljb2RlLnVjczIKICAqIEBuYW1lIGRlY29kZQogICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS4KICAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy4KICAqLwoJZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHsKCQl2YXIgb3V0cHV0ID0gW10sCgkJICAgIGNvdW50ZXIgPSAwLAoJCSAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLAoJCSAgICB2YWx1ZSwKCQkgICAgZXh0cmE7CgkJd2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHsKCQkJdmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspOwoJCQlpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7CgkJCQkvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXIKCQkJCWV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTsKCQkJCWlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgewoJCQkJCS8vIGxvdyBzdXJyb2dhdGUKCQkJCQlvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApOwoJCQkJfSBlbHNlIHsKCQkJCQkvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dAoJCQkJCS8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpcgoJCQkJCW91dHB1dC5wdXNoKHZhbHVlKTsKCQkJCQljb3VudGVyLS07CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlvdXRwdXQucHVzaCh2YWx1ZSk7CgkJCX0KCQl9CgkJcmV0dXJuIG91dHB1dDsKCX0KCgkvKioKICAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KICAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYAogICogQG1lbWJlck9mIHB1bnljb2RlLnVjczIKICAqIEBuYW1lIGVuY29kZQogICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS4KICAqLwoJZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkgewoJCXJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uICh2YWx1ZSkgewoJCQl2YXIgb3V0cHV0ID0gJyc7CgkJCWlmICh2YWx1ZSA+IDB4RkZGRikgewoJCQkJdmFsdWUgLT0gMHgxMDAwMDsKCQkJCW91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApOwoJCQkJdmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGOwoJCQl9CgkJCW91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpOwoJCQlyZXR1cm4gb3V0cHV0OwoJCX0pLmpvaW4oJycpOwoJfQoKCS8qKgogICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLgogICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgCiAgKiBAcHJpdmF0ZQogICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLgogICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluCiAgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmCiAgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS4KICAqLwoJZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkgewoJCWlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7CgkJCXJldHVybiBjb2RlUG9pbnQgLSAyMjsKCQl9CgkJaWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHsKCQkJcmV0dXJuIGNvZGVQb2ludCAtIDY1OwoJCX0KCQlpZiAoY29kZVBvaW50IC0gOTcgPCAyNikgewoJCQlyZXR1cm4gY29kZVBvaW50IC0gOTc7CgkJfQoJCXJldHVybiBiYXNlOwoJfQoKCS8qKgogICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LgogICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgCiAgKiBAcHJpdmF0ZQogICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC4KICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yCiAgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZQogICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzCiAgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZAogICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS4KICAqLwoJZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7CgkJLy8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLloKCQkvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjkKCQlyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpOwoJfQoKCS8qKgogICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi4KICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40CiAgKiBAcHJpdmF0ZQogICovCglmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHsKCQl2YXIgayA9IDA7CgkJZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTsKCQlkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7CgkJZm9yICg7IC8qIG5vIGluaXRpYWxpemF0aW9uICovZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHsKCQkJZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pOwoJCX0KCQlyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTsKCX0KCgkvKioKICAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlCiAgKiBzeW1ib2xzLgogICogQG1lbWJlck9mIHB1bnljb2RlCiAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCiAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuCiAgKi8KCWZ1bmN0aW9uIGRlY29kZShpbnB1dCkgewoJCS8vIERvbid0IHVzZSBVQ1MtMgoJCXZhciBvdXRwdXQgPSBbXSwKCQkgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsCgkJICAgIG91dCwKCQkgICAgaSA9IDAsCgkJICAgIG4gPSBpbml0aWFsTiwKCQkgICAgYmlhcyA9IGluaXRpYWxCaWFzLAoJCSAgICBiYXNpYywKCQkgICAgaiwKCQkgICAgaW5kZXgsCgkJICAgIG9sZGksCgkJICAgIHcsCgkJICAgIGssCgkJICAgIGRpZ2l0LAoJCSAgICB0LAoKCQkvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi8KCQliYXNlTWludXNUOwoKCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGUKCQkvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weQoJCS8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LgoKCQliYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7CgkJaWYgKGJhc2ljIDwgMCkgewoJCQliYXNpYyA9IDA7CgkJfQoKCQlmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikgewoJCQkvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQKCQkJaWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkgewoJCQkJZXJyb3IoJ25vdC1iYXNpYycpOwoJCQl9CgkJCW91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpOwoJCX0KCgkJLy8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZQoJCS8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuCgoJCWZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOykgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqL3sKCgkJCS8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC4KCQkJLy8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLAoJCQkvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llcgoJCQkvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZwoJCQkvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLgoJCQlmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7OyAvKiBubyBjb25kaXRpb24gKi9rICs9IGJhc2UpIHsKCgkJCQlpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHsKCQkJCQllcnJvcignaW52YWxpZC1pbnB1dCcpOwoJCQkJfQoKCQkJCWRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpOwoKCQkJCWlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHsKCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCX0KCgkJCQlpICs9IGRpZ2l0ICogdzsKCQkJCXQgPSBrIDw9IGJpYXMgPyB0TWluIDogayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhczsKCgkJCQlpZiAoZGlnaXQgPCB0KSB7CgkJCQkJYnJlYWs7CgkJCQl9CgoJCQkJYmFzZU1pbnVzVCA9IGJhc2UgLSB0OwoJCQkJaWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCXcgKj0gYmFzZU1pbnVzVDsKCQkJfQoKCQkJb3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7CgkJCWJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApOwoKCQkJLy8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCwKCQkJLy8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzoKCQkJaWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikgewoJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCX0KCgkJCW4gKz0gZmxvb3IoaSAvIG91dCk7CgkJCWkgJT0gb3V0OwoKCQkJLy8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dAoJCQlvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7CgkJfQoKCQlyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpOwoJfQoKCS8qKgogICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGEKICAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCiAgKiBAbWVtYmVyT2YgcHVueWNvZGUKICAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KICAqLwoJZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7CgkJdmFyIG4sCgkJICAgIGRlbHRhLAoJCSAgICBoYW5kbGVkQ1BDb3VudCwKCQkgICAgYmFzaWNMZW5ndGgsCgkJICAgIGJpYXMsCgkJICAgIGosCgkJICAgIG0sCgkJICAgIHEsCgkJICAgIGssCgkJICAgIHQsCgkJICAgIGN1cnJlbnRWYWx1ZSwKCQkgICAgb3V0cHV0ID0gW10sCgoJCS8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovCgkJaW5wdXRMZW5ndGgsCgoJCS8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqLwoJCWhhbmRsZWRDUENvdW50UGx1c09uZSwKCQkgICAgYmFzZU1pbnVzVCwKCQkgICAgcU1pbnVzVDsKCgkJLy8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZQoJCWlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7CgoJCS8vIENhY2hlIHRoZSBsZW5ndGgKCQlpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDsKCgkJLy8gSW5pdGlhbGl6ZSB0aGUgc3RhdGUKCQluID0gaW5pdGlhbE47CgkJZGVsdGEgPSAwOwoJCWJpYXMgPSBpbml0aWFsQmlhczsKCgkJLy8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50cwoJCWZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCWN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdOwoJCQlpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkgewoJCQkJb3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpOwoJCQl9CgkJfQoKCQloYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDsKCgkJLy8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7CgkJLy8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLgoKCQkvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXIKCQlpZiAoYmFzaWNMZW5ndGgpIHsKCQkJb3V0cHV0LnB1c2goZGVsaW1pdGVyKTsKCQl9CgoJCS8vIE1haW4gZW5jb2RpbmcgbG9vcDoKCQl3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkgewoKCQkJLy8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dAoJCQkvLyBsYXJnZXIgb25lOgoJCQlmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewoJCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgkJCQlpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkgewoJCQkJCW0gPSBjdXJyZW50VmFsdWU7CgkJCQl9CgkJCX0KCgkJCS8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPiwKCQkJLy8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3cKCQkJaGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxOwoJCQlpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkgewoJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCX0KCgkJCWRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7CgkJCW4gPSBtOwoKCQkJZm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJCWN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdOwoKCQkJCWlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHsKCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCX0KCgkJCQlpZiAoY3VycmVudFZhbHVlID09IG4pIHsKCQkJCQkvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlcgoJCQkJCWZvciAocSA9IGRlbHRhLCBrID0gYmFzZTs7IC8qIG5vIGNvbmRpdGlvbiAqL2sgKz0gYmFzZSkgewoJCQkJCQl0ID0gayA8PSBiaWFzID8gdE1pbiA6IGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXM7CgkJCQkJCWlmIChxIDwgdCkgewoJCQkJCQkJYnJlYWs7CgkJCQkJCX0KCQkJCQkJcU1pbnVzVCA9IHEgLSB0OwoJCQkJCQliYXNlTWludXNUID0gYmFzZSAtIHQ7CgkJCQkJCW91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSkpOwoJCQkJCQlxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpOwoJCQkJCX0KCgkJCQkJb3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpOwoJCQkJCWJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7CgkJCQkJZGVsdGEgPSAwOwoJCQkJCSsraGFuZGxlZENQQ291bnQ7CgkJCQl9CgkJCX0KCgkJCSsrZGVsdGE7CgkJCSsrbjsKCQl9CgkJcmV0dXJuIG91dHB1dC5qb2luKCcnKTsKCX0KCgkvKioKICAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MKICAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS4KICAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlbgogICogY29udmVydGVkIHRvIFVuaWNvZGUuCiAgKiBAbWVtYmVyT2YgcHVueWNvZGUKICAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8KICAqIGNvbnZlcnQgdG8gVW5pY29kZS4KICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZQogICogc3RyaW5nLgogICovCglmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHsKCQlyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbiAoc3RyaW5nKSB7CgkJCXJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKSA/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSkgOiBzdHJpbmc7CgkJfSk7Cgl9CgoJLyoqCiAgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG8KICAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLAogICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluCiAgKiBBU0NJSS4KICAqIEBtZW1iZXJPZiBwdW55Y29kZQogICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGEKICAqIFVuaWNvZGUgc3RyaW5nLgogICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvcgogICogZW1haWwgYWRkcmVzcy4KICAqLwoJZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkgewoJCXJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uIChzdHJpbmcpIHsKCQkJcmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpID8gJ3huLS0nICsgZW5jb2RlKHN0cmluZykgOiBzdHJpbmc7CgkJfSk7Cgl9CgoJLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoJLyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqLwoJcHVueWNvZGUgPSB7CgkJLyoqCiAgICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IFB1bnljb2RlLmpzIHZlcnNpb24gbnVtYmVyLgogICAqIEBtZW1iZXJPZiBwdW55Y29kZQogICAqIEB0eXBlIFN0cmluZwogICAqLwoJCSd2ZXJzaW9uJzogJzEuMy4yJywKCQkvKioKICAgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlcgogICAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suCiAgICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+CiAgICogQG1lbWJlck9mIHB1bnljb2RlCiAgICogQHR5cGUgT2JqZWN0CiAgICovCgkJJ3VjczInOiB7CgkJCSdkZWNvZGUnOiB1Y3MyZGVjb2RlLAoJCQknZW5jb2RlJzogdWNzMmVuY29kZQoJCX0sCgkJJ2RlY29kZSc6IGRlY29kZSwKCQknZW5jb2RlJzogZW5jb2RlLAoJCSd0b0FTQ0lJJzogdG9BU0NJSSwKCQkndG9Vbmljb2RlJzogdG9Vbmljb2RlCgl9OwoKCS8qKiBFeHBvc2UgYHB1bnljb2RlYCAqLwoJLy8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zCgkvLyBsaWtlIHRoZSBmb2xsb3dpbmc6CglpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIF90eXBlb2YoZGVmaW5lLmFtZCkgPT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkgewoJCWRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbiAoKSB7CgkJCXJldHVybiBwdW55Y29kZTsKCQl9KTsKCX0gZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkgewoJCWlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykgewoJCQkvLyBpbiBOb2RlLmpzLCBpby5qcywgb3IgUmluZ29KUyB2MC44LjArCgkJCWZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlOwoJCX0gZWxzZSB7CgkJCS8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtCgkJCWZvciAoa2V5IGluIHB1bnljb2RlKSB7CgkJCQlwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7CgkJCX0KCQl9Cgl9IGVsc2UgewoJCS8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXIKCQlyb290LnB1bnljb2RlID0gcHVueWNvZGU7Cgl9Cn0pKHVuZGVmaW5lZCk7Cgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICAgIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSBhY3RpdmF0ZTsKCnZhciBfSHlwZXJ0eURpc2NvdmVyeSA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL3NyYy9oeXBlcnR5LWRpc2NvdmVyeS9IeXBlcnR5RGlzY292ZXJ5Jyk7Cgp2YXIgX0h5cGVydHlEaXNjb3ZlcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSHlwZXJ0eURpc2NvdmVyeSk7Cgp2YXIgX0lkZW50aXR5TWFuYWdlciA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSWRlbnRpdHlNYW5hZ2VyJyk7Cgp2YXIgX0lkZW50aXR5TWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JZGVudGl0eU1hbmFnZXIpOwoKdmFyIF91cmlqcyA9IHJlcXVpcmUoJ3VyaWpzJyk7Cgp2YXIgX3VyaWpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VyaWpzKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9Cgp2YXIgUGFydGljaXBhbnRzSHlwZXJ0eSA9IHsKICAgIF9yZXNvbHZlSWRlbnRpdHk6IGZ1bmN0aW9uIF9yZXNvbHZlSWRlbnRpdHkoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgaWYgKF90aGlzLmlkZW50aXR5KSB7CiAgICAgICAgICAgICAgICByZXNvbHZlKF90aGlzLmlkZW50aXR5KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzLmlkZW50aXR5TWFuYWdlclNlcnZpY2UuZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCgnLicsIF90aGlzLmh5cGVydHlVUkwpLnRoZW4oZnVuY3Rpb24gKGlkZW50aXR5KSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaWRlbnRpdHkgPSBpZGVudGl0eTsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGlkZW50aXR5KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgZ2V0UGFydGljaXBhbnRzOiBmdW5jdGlvbiBnZXRQYXJ0aWNpcGFudHMoKSB7CiAgICAgICAgdmFyIHVzZXJzID0gWydvcGVuaWR0ZXN0MTBAZ21haWwuY29tJywgJ29wZW5pZHRlc3QyMEBnbWFpbC5jb20nLCAnb3BlbmlkdGVzdDMwQGdtYWlsLmNvbSddOwoKICAgICAgICB2YXIgaWRlbnRpdHkgPSB1bmRlZmluZWQ7CiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc29sdmVJZGVudGl0eSgpLnRoZW4oZnVuY3Rpb24gKGlkZW50aXR5KSB7CiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh1c2Vycy5maWx0ZXIoZnVuY3Rpb24gKHUpIHsKICAgICAgICAgICAgICAgIHJldHVybiB1ICE9PSBpZGVudGl0eS51c2VybmFtZTsKICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gUGFydGljaXBhbnRzSHlwZXJ0eS5oeXBlcnR5RGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eVBlclVzZXIocCwgUGFydGljaXBhbnRzSHlwZXJ0eS5kb21haW4pLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBlbWFpbDogcCwgb25saW5lOiB0cnVlIH07CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBlbWFpbDogcCwgb25saW5lOiBmYWxzZSB9OwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pKTsKICAgICAgICB9KTsKICAgIH0KfTsKCnZhciBQYXJ0aWNpcGFudHNIeXBlcnR5RmFjdG9yeSA9IGZ1bmN0aW9uIFBhcnRpY2lwYW50c0h5cGVydHlGYWN0b3J5KGh5cGVydHlVUkwsIGJ1cywgY29uZmlnKSB7CiAgICB2YXIgaWRlbnRpdHlNYW5hZ2VyID0gbmV3IF9JZGVudGl0eU1hbmFnZXIyLmRlZmF1bHQoaHlwZXJ0eVVSTCwgY29uZmlnLnJ1bnRpbWVVUkwsIGJ1cyk7CgogICAgUGFydGljaXBhbnRzSHlwZXJ0eS5kb21haW4gPSBuZXcgX3VyaWpzMi5kZWZhdWx0KGh5cGVydHlVUkwpLmhvc3RuYW1lKCk7CiAgICBQYXJ0aWNpcGFudHNIeXBlcnR5Lmh5cGVydHlEaXNjb3ZlcnkgPSBuZXcgX0h5cGVydHlEaXNjb3ZlcnkyLmRlZmF1bHQoaHlwZXJ0eVVSTCwgYnVzKTsKICAgIFBhcnRpY2lwYW50c0h5cGVydHkuaWRlbnRpdHlNYW5hZ2VyU2VydmljZSA9IGlkZW50aXR5TWFuYWdlcjsKCiAgICByZXR1cm4gUGFydGljaXBhbnRzSHlwZXJ0eTsKfTsKCmZ1bmN0aW9uIGFjdGl2YXRlKGh5cGVydHlVUkwsIGJ1cywgY29uZmlnKSB7CiAgICByZXR1cm4gewogICAgICAgIG5hbWU6ICdQYXJ0aWNpcGFudHNIeXBlcnR5JywKICAgICAgICBpbnN0YW5jZTogUGFydGljaXBhbnRzSHlwZXJ0eUZhY3RvcnkoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWcpCiAgICB9Owp9Cgp9LHsic2VydmljZS1mcmFtZXdvcmsvZGlzdC9JZGVudGl0eU1hbmFnZXIiOjEsInNlcnZpY2UtZnJhbWV3b3JrL3NyYy9oeXBlcnR5LWRpc2NvdmVyeS9IeXBlcnR5RGlzY292ZXJ5IjoyLCJ1cmlqcyI6Nn1dfSx7fSxbOF0pKDgpCn0pOw==",
      "sourceCodeClassname": "ParticipantsHyperty",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 1,
    "type": "Hyperties",
    "version": "0.1",
    "description": "Description of ParticipantsHyperty",
    "objectName": "ParticipantsHyperty",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  }
}